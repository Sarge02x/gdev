{"version":3,"sources":["MainFrame/Toolbar.js","MainFrame/ProjectTitlebar.js","MainFrame/Preferences/PreferencesDialog.js","MainFrame/AboutDialog.js","VariablesList/VariableRow.js","VariablesList/EditVariableRow.js","Utils/SelectionHandler.js","VariablesList/ClipboardKind.js","PlatformSpecificAssetsEditor/PlatformSpecificAssetsDialog.js","PlatformSpecificAssetsEditor/ImageResizer.js","UI/LoaderModal.js","UI/CloseConfirmDialog.js","UI/Tabs.js","MainFrame/EditorTabsHandler.js","EventsSheet/EventsTree/index.js","EventsSheet/EventsTree/Renderers/StandardEvent.js","EventsSheet/EventsTree/Instruction.js","EventsSheet/ParameterFields/RelationalOperatorField.js","EventsSheet/ParameterFields/OperatorField.js","EventsSheet/ParameterFields/MouseField.js","EventsSheet/ParameterFields/KeyField.js","EventsSheet/ParameterFields/YesNoField.js","EventsSheet/ParameterFields/TrueFalseField.js","EventsSheet/ParameterFields/ExpressionField.js","EventsSheet/InstructionEditor/InstructionOrExpressionSelector/ExpressionSelector.js","EventsSheet/InstructionEditor/InstructionOrExpressionSelector/EnumerateExpressions.js","EventsSheet/ParameterFields/GenericExpressionField/FormatExpressionCall.js","EventsSheet/ParameterFields/GenericExpressionField/BackgroundHighlighting.js","EventsSheet/ParameterFields/StringField.js","EventsSheet/ParameterFields/StringWithSelectorField.js","EventsSheet/ParameterFields/BehaviorField.js","EventsSheet/ParameterFields/SceneVariableField.js","EventsSheet/ParameterFields/GlobalVariableField.js","EventsSheet/ParameterFields/ObjectVariableField.js","EventsSheet/ParameterFields/LayerField.js","EventsSheet/ParameterFields/AudioResourceField.js","EventsSheet/ParameterFields/VideoResourceField.js","EventsSheet/ParameterFields/ColorExpressionField.js","EventsSheet/ParameterFields/ForceMultiplierField.js","EventsSheet/ParameterFields/SceneNameField.js","EventsSheet/EventsTree/InvalidParameterValue.js","EventsSheet/EventsTree/Renderers/GroupEvent.js","EventsSheet/EventsTree/Renderers/CommentEvent.js","EventsSheet/EventsTree/Renderers/ForEachEvent.js","EventsSheet/EventsTree/Renderers/RepeatEvent.js","EventsSheet/EventsTree/Renderers/WhileEvent.js","EventsSheet/EventsTree/Renderers/LinkEvent.js","EventsSheet/ParameterFields/ExternalEventsField.js","EventsSheet/EventsTree/Renderers/JsCodeEvent.js","EventsSheet/EventsTree/EventHeightsCache.js","ObjectsRendering/Renderers/RenderedUnknownInstance.js","ObjectsRendering/Renderers/RenderedSpriteInstance.js","ObjectsRendering/Renderers/RenderedTiledSpriteInstance.js","ObjectsRendering/Renderers/RenderedPanelSpriteInstance.js","ObjectsRendering/Renderers/RenderedTextInstance.js","ObjectsRendering/Renderers/RenderedShapePainterInstance.js","ObjectsRendering/Renderers/RenderedTextEntryInstance.js","ObjectsRendering/Renderers/RenderedParticleEmitterInstance.js","Utils/FontFaceLoader.js","EventsSheet/InstructionEditor/InstructionOrExpressionSelector/EnumerateInstructions.js","EventsSheet/InstructionEditor/InstructionParametersEditor.js","Utils/CaseSensitiveSlug.js","EventsSheet/Toolbar.js","EventsSheet/InlineParameterEditor.js","EventsSheet/EmptyEventsPlaceholder.js","EventsSheet/OnceInstructionSanitizer.js","EventsSheet/EventsContextAnalyzerDialog.js","EventsSheet/SearchPanel.js","EventsSheet/EventsSearcher.js","EventsSheet/ContainsSubInstruction.js","EventsSheet/EnumerateEventsMetadata.js","EventsSheet/EventsFunctionExtractor/EventsFunctionExtractorDialog.js","Utils/GetObjectGroupByName.js","BehaviorTypeSelector/index.js","UI/Grid.js","UI/Dialog/index.js","Utils/MapFor.js","UI/EmptyMessage.js","EventsFunctionsExtensionEditor/index.js","ObjectGroupEditor/index.js","EventsFunctionsExtensionEditor/OptionsEditorDialog.js","EventsBasedBehaviorEditor/EventsBasedBehaviorEditorDialog.js","EventsBasedBehaviorEditor/index.js","EventsBasedBehaviorEditor/EventsBasedBehaviorPropertiesEditor.js","InstancesEditor/InstancesRenderer/LayerRenderer.js","InstancesEditor/SelectionRectangle.js","InstancesEditor/InstancePropertiesEditor/index.js","InstancesEditor/InstancesList/index.js","LayersList/LayerRemoveDialog.js","ObjectEditor/ObjectEditorDialog.js","ObjectEditor/Editors/TextEditor.js","ObjectEditor/Editors/TiledSpriteEditor.js","ObjectEditor/Editors/PanelSpriteEditor.js","ObjectEditor/Editors/SpriteEditor/index.js","ObjectEditor/Editors/SpriteEditor/SpritesList.js","ObjectEditor/Editors/SpriteEditor/PointsEditor/index.js","ObjectEditor/Editors/SpriteEditor/PointsEditor/PointsList.js","ObjectEditor/Editors/SpriteEditor/PointsEditor/PointRow.js","ObjectEditor/Editors/SpriteEditor/PointsEditor/AddPointRow.js","ObjectEditor/Editors/SpriteEditor/PointsEditor/PointsPreview.js","ObjectEditor/Editors/SpriteEditor/CollisionMasksEditor/index.js","ObjectEditor/Editors/SpriteEditor/CollisionMasksEditor/PolygonsList.js","ObjectEditor/Editors/SpriteEditor/CollisionMasksEditor/VerticeRow.js","ObjectEditor/Editors/SpriteEditor/CollisionMasksEditor/PolygonRow.js","ObjectEditor/Editors/SpriteEditor/CollisionMasksEditor/AddVerticeRow.js","ObjectEditor/Editors/SpriteEditor/CollisionMasksEditor/AddPolygonRow.js","ObjectEditor/Editors/SpriteEditor/CollisionMasksEditor/CollisionMasksPreview.js","ObjectEditor/Editors/EmptyEditor.js","ObjectEditor/Editors/ShapePainterEditor.js","ObjectEditor/Editors/ParticleEmitterEditor.js","ObjectEditor/Editors/ObjectPropertiesEditor.js","BehaviorsEditor/index.js","UI/HelpIcon/index.js","BehaviorsEditor/NewBehaviorDialog.js","BehaviorsEditor/BehaviorsHelpPagePaths.js","SceneEditor/InstancesSelection.js","SceneEditor/SetupGridDialog.js","SceneEditor/ScenePropertiesDialog.js","SceneEditor/Toolbar.js","UI/FullSizeMeasurer.js","InstancesEditor/ScrollbarContainer.js","UI/EditorMosaic/TagsButton.js","ResourcesList/index.js","ResourcesList/EnumerateResources.js","UI/ErrorBoundary.js","Profile/SubscriptionDialog.js","MainFrame/Preferences/LanguageDialog.js","locales/LocalesMetadata.js","ProjectCreation/ExamplesSearchbar.js","ProjectCreation/ExamplesInformation.js","ResourcesLoader/index.js","Utils/i18n/GDI18nProvider.js","locales lazy /^/.//.*//messages$/ groupOptions: {} namespace object","UI/HelpButton/index.js","Utils/Serializer.js","UI/SemiControlledTextField.js","EventsSheet/EventsTree/ClassNames.js","Utils/NewNameGenerator.js","UI/Theme/ThemeConsumer.js","UI/PlaceholderLoader.js","Utils/DragDropHelpers/SimpleDropTarget.js","InstancesEditor/InstancesRenderer/index.js","Utils/TransformRect.js","InstancesEditor/SelectedInstances.js","InstancesEditor/HighlightedInstance.js","InstancesEditor/InstancesResizer.js","InstancesEditor/InstancesRotator.js","InstancesEditor/InstancesMover.js","InstancesEditor/Grid.js","InstancesEditor/WindowBorder.js","InstancesEditor/WindowMask.js","InstancesEditor/DropHandler.js","InstancesEditor/BackgroundColor.js","InstancesEditor/FpsLimiter.js","Utils/PIXITicker.js","InstancesEditor/StatusBar.js","InstancesEditor/CanvasCursor.js","InstancesEditor/index.js","UI/CustomSvgIcons/Behaviors/Create.js","UI/CustomSvgIcons/Behaviors/Step.js","UI/CustomSvgIcons/Behaviors/Destroy.js","UI/CustomSvgIcons/Behaviors/Function.js","UI/CustomSvgIcons/Behaviors/Activate.js","UI/CustomSvgIcons/Behaviors/Deactivate.js","EventsFunctionsExtensionEditor/BehaviorMethodSelectorDialog.js","ObjectsList/ClipboardKind.js","ObjectsList/ObjectRow.js","ObjectsList/NewObjectDialog.js","UI/TagChips.js","UI/EditTagsDialog.js","ObjectsList/index.js","BehaviorsEditor/Editors/BehaviorPropertiesEditor.js","BehaviorsEditor/Editors/Physics2Editor/ShapePreview.js","BehaviorsEditor/Editors/Physics2Editor/PolygonEditor.js","BehaviorsEditor/Editors/Physics2Editor/index.js","BehaviorsEditor/BehaviorsEditorService.js","UI/GravatarUrl.js","Profile/ProfileDetails.js","Profile/UsagesDetails.js","Profile/SubscriptionDetails.js","Profile/ProfileDialog.js","LayersList/styles.js","LayersList/LayerRow.js","LayersList/AddLayerRow.js","LayersList/index.js","MainFrame/Editors/StartPage/GDevelopLogo.js","MainFrame/Editors/StartPage/ScrollBackground.js","MainFrame/Editors/StartPage/index.js","EventsSheet/InstructionEditor/InstructionOrExpressionSelector/InstructionSelector.js","EventsSheet/InstructionEditor/index.js","EventsSheet/InstructionEditor/InstructionEditorDialog.js","ProjectManager/ProjectPropertiesDialog.js","ExtensionsSearch/ExtensionsSearchDialog.js","ProjectManager/index.js","ObjectGroupsList/ObjectGroupsListWithObjectGroupEditor.js","UI/ScrollView.js","EventsFunctionsExtensionEditor/EventsFunctionConfigurationEditor/index.js","MainFrame/Changelog/ChangelogDialog.js","MainFrame/Changelog/ChangelogDialogContainer.js","EventsBasedBehaviorsList/index.js","EventsBasedBehaviorsList/EnumerateEventsBasedBehaviors.js","EventsSheet/EventsTree/Renderers/UnknownEvent.js","EventsSheet/EventsTree/EventsRenderingService.js","HelpFinder/DocSearchArea.js","HelpFinder/index.js","EventsFunctionsList/index.js","EventsFunctionsList/EnumerateEventsFunctions.js","CodeEditor/LocalCodeEditorAutocompletions.js","CodeEditor/index.js","EventsSheet/ParameterFields/GenericExpressionField/ExpressionParametersEditor.js","EventsSheet/ParameterFields/GenericExpressionField/ExpressionParametersEditorDialog.js","ObjectEditor/Editors/SpriteEditor/AnimationPreview/index.js","ObjectEditor/Editors/SpriteEditor/DirectionTools.js","UI/Menu/IconMenu.js","UI/Background.js","MainFrame/Preferences/PreferencesContext.js","Export/LocalExporters/LocalGDJSFinder.js","UI/AlertMessage.js","Utils/Clipboard.js","UI/SemiControlledAutoComplete.js","ObjectsRendering/Renderers/RenderedInstance.js","MainFrame/Editors/BaseEditor.js","UI/ListIcon.js","Profile/UserProfileContext.js","Utils/HelpLink.js","VariablesList/VariablesEditorDialog.js","ResourcesList/ResourceSelector.js","ResourcesList/ResourceUtils.js","ObjectsList/EnumerateObjects.js","Utils/TagsHelper.js","ObjectsRendering/ObjectsRenderingService.js","EventsFunctionsExtensionsLoader/index.js","UI/PlaceholderMessage.js","UI/MiniToolbar.js","UI/ToolbarIcon.js","UI/ToolbarSeparator.js","ProjectManager/ProjectErrorsChecker.js","EventsFunctionsExtensionsLoader/EventsFunctionsExtensionsContext.js","EventsSheet/EventsTree/InstructionsList.js","Utils/ColorTransformer.js","EventsSheet/InlinePopover.js","PropertiesEditor/index.js","PropertiesEditor/PropertiesMapToSchema.js","ResourcesList/ResourcePreview/ImagePreview.js","ObjectEditor/Editors/SpriteEditor/Utils/SpriteObjectHelper.js","ObjectEditor/Editors/SpriteEditor/CollisionMasksEditor/styles.js","UI/ListCommonItem.js","ProjectManager/EnumerateProjectItems.js","EventsSheet/ParameterFields/GenericExpressionField/index.js","Utils/GetObjectByName.js","Hints/index.js","EventsFunctionsExtensionsLoader/MetadataDeclarationHelpers.js","UI/EditorMosaic/index.js","ObjectEditor/ObjectsEditorService.js","Utils/GDevelopServices/Build.js","ResourcesList/ResourceThumbnail/index.js","ResourcesList/ResourceSelectorWithThumbnail.js","MainFrame/index.js","Version/index.js","Utils/SerializableObjectEditorContainer.js","UI/DragHandle.js","VariablesList/styles.js","Profile/SubscriptionChecker.js","UI/DismissableAlertMessage.js","UI/LeftLoader.js","UI/AutocompleteProps.js","Profile/CreateProfile.js","EventsSheet/index.js","EventsSheet/SelectionHandler.js","EventsSheet/ParameterRenderingService.js","EventsSheet/ParameterFields/ObjectField.js","UI/ColorField/ColorPicker.js","UI/Menu/ContextMenu.js","UI/InlineCheckbox.js","ObjectEditor/Editors/SpriteEditor/PointsEditor/styles.js","UI/ColorField/index.js","Utils/TimeFunction.js","Utils/TimestampedId.js","Utils/Delay.js","Export/Builds/BuildsWatcher.js","UI/SortableVirtualizedItemList/ItemRow.js","UI/SortableVirtualizedItemList/index.js","EventsSheet/ParameterFields/EnumerateVariables.js","EventsSheet/ParameterFields/VariableField.js","UI/Menu/ElectronMenuImplementation.js","UI/Menu/MaterialUIMenuImplementation.js","UI/AcceleratorString.js","UI/BackgroundText.js","MainFrame/UpdaterTools.js","VariablesList/index.js","UI/TreeTable/index.js","UI/SearchbarWithChips.js","Utils/FuzzyOrEmptyFilter.js","ResourcesList/ResourceThumbnail/ImageThumbnail.js","UI/EditorBar.js","MainFrame/Editors/EventsEditor.js","EventsSheet/EventsTree/DropIndicator.js","EventsSheet/ParameterFields/DefaultField.js","ObjectsList/ObjectSelector.js","EventsSheet/ParameterFields/ParameterFieldCommons.js","EventsSheet/InstructionEditor/InstructionOrExpressionSelector/index.js","EventsSheet/InstructionEditor/InstructionOrExpressionSelector/CreateTree.js","EventsSheet/InstructionEditor/InstructionOrExpressionSelector/EnumeratedInstructionOrExpressionMetadata.js","EventsSheet/ParameterFields/ParameterMetadataTools.js","Utils/StringHelpers.js","ObjectsRendering/Renderers/RenderedIconInstance.js","ObjectsRendering/PixiResourcesLoader.js","UI/KeyboardShortcuts/index.js","Utils/History.js","EventsSheet/EventsFunctionExtractor/index.js","EventsFunctionsExtensionEditor/EventsFunctionConfigurationEditor/EventsFunctionParametersEditor.js","ObjectTypeSelector/index.js","BehaviorsEditor/EnumerateBehaviorsMetadata.js","EventsFunctionsExtensionEditor/EventsFunctionConfigurationEditor/EventsFunctionPropertiesEditor.js","UI/EditorMosaic/CloseButton.js","MainFrame/Editors/EventsFunctionsExtensionEditor.js","ObjectGroupEditor/ObjectGroupEditorDialog.js","MainFrame/Editors/ExternalEventsEditor.js","MainFrame/Editors/LayoutChooserDialog.js","MainFrame/Editors/ExternalLayoutEditor.js","SceneEditor/index.js","InstancesEditor/ViewPosition.js","Utils/GridHelpers.js","LayersList/EnumerateLayers.js","ObjectEditor/Editors/SpriteEditor/Utils/SpriteSelector.js","Utils/IsNullPtr.js","UI/Messages/InfoBar.js","MainFrame/Editors/SceneEditor.js","Utils/WatchPromiseInState.js","Utils/GDevelopServices/Usage.js","Utils/i18n/getTranslationFunction.js","Export/Builds/BuildProgress.js","ProjectCreation/ExamplesList.js","UI/CustomSvgIcons/Facebook.js","UI/CustomSvgIcons/Cordova.js","UI/CustomSvgIcons/Chrome.js","JsExtensionsLoader/index.js","Debugger/Toolbar.js","Debugger/InspectorsList.js","Debugger/Inspectors/VariablesContainerInspector.js","Debugger/Inspectors/RuntimeObjectInspector.js","Debugger/Inspectors/RuntimeSceneInspector.js","Debugger/GDJSInspectorDescriptions.js","Debugger/Inspectors/RawContentInspector.js","Debugger/Profiler/MeasuresTable.js","Debugger/Profiler/index.js","Debugger/DebuggerContent.js","Debugger/DebuggerSelector.js","Debugger/index.js","MainFrame/Editors/DebuggerEditor.js","CodeEditor/Theme/TomorrowNight.js","CodeEditor/Theme/Monokai.js","CodeEditor/Theme/Tomorrow.js","CodeEditor/Theme/SolarizedDark.js","CodeEditor/Theme/SolarizedLight.js","CodeEditor/Theme/VibrantInk.js","CodeEditor/Theme/GitHub.js","CodeEditor/Theme/index.js","Utils/DragDropHelpers/DragDropContextProvider.js","UI/RightLoader.js","Profile/LoginDialog.js","Profile/UserProfileProvider.js","MainFrame/Preferences/PreferencesProvider.js","EventsFunctionsExtensionsLoader/EventsFunctionsExtensionsProvider.js","MainFrame/Providers.js","ResourcesList/ResourcePreview/AudioPreview.js","ResourcesList/ResourcePreview/index.js","ResourcesEditor/ResourcePropertiesEditor/index.js","ResourcesEditor/Toolbar.js","ResourcesEditor/index.js","MainFrame/Editors/ResourcesEditor.js","Export/Builds/BuildsList.js","Export/Builds/index.js","Export/Builds/BuildsDialog.js","Export/ExportDialog.js","Utils/GDevelopServices/Extension.js","UI/PlaceholderError.js","ExtensionsSearch/ExtensionInstallDialog.js","ExtensionsSearch/index.js","UI/Theme/DarkTheme/index.js","UI/Theme/DefaultTheme/index.js","UI/Theme/index.js","MainFrame/Changelog/ChangelogRenderer.js","Utils/GDevelopServices/Release.js","MainFrame/Changelog/index.js","ObjectGroupsList/GroupRow.js","ObjectGroupsList/index.js","ProjectCreation/Tutorials.js","ProjectCreation/CreateProjectDialog.js"],"names":["styles","toolbar","flexShrink","overflowX","overflowY","MainFrameToolbar","_PureComponent","_getPrototypeOf2","_this","Object","_Users_florian_Projects_F_GD_newIDE_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","_len","arguments","length","args","Array","_key","_Users_florian_Projects_F_GD_newIDE_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_Users_florian_Projects_F_GD_newIDE_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","apply","concat","state","editorToolbar","isDev","Window","_Users_florian_Projects_F_GD_newIDE_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__","_Users_florian_Projects_F_GD_newIDE_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__","key","value","setState","_this2","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","_lingui_react__WEBPACK_IMPORTED_MODULE_11__","_ref","i18n","material_ui_Toolbar__WEBPACK_IMPORTED_MODULE_6__","style","firstChild","props","showProjectIcons","_UI_ToolbarIcon__WEBPACK_IMPORTED_MODULE_7__","onClick","toggleProjectManager","src","disabled","hasProject","tooltip","_","id","exportProject","_UI_Menu_IconMenu__WEBPACK_IMPORTED_MODULE_9__","iconButtonElement","buildMenuTemplate","label","requestUpdate","click","simulateUpdateDownloaded","simulateUpdateAvailable","_UI_ToolbarSeparator__WEBPACK_IMPORTED_MODULE_8__","PureComponent","ProjectTitlebar","project","titleElements","push","getProjectFile","getName","setTitle","join","Component","PreferencesDialog","openExternalURL","_this$props","open","onClose","actions","react__WEBPACK_IMPORTED_MODULE_6___default","material_ui_FlatButton__WEBPACK_IMPORTED_MODULE_8___default","_lingui_react__WEBPACK_IMPORTED_MODULE_5__","primary","_UI_Dialog__WEBPACK_IMPORTED_MODULE_11__","onRequestClose","title","_PreferencesContext__WEBPACK_IMPORTED_MODULE_17__","Consumer","identifiers","values","setThemeName","setCodeEditorThemeName","setAutoDownloadUpdates","showAlertMessage","setAutoDisplayChangelog","setEventsSheetShowObjectThumbnails","setAutosaveOnPreview","dismissedAlertMessages","hiddenAlertMessages","keys","map","identifier","filter","Boolean","_UI_Grid__WEBPACK_IMPORTED_MODULE_13__","noMargin","material_ui_SelectField__WEBPACK_IMPORTED_MODULE_7___default","floatingLabelText","themeName","onChange","e","i","themes","material_ui_MenuItem__WEBPACK_IMPORTED_MODULE_9___default","primaryText","codeEditorThemeName","getAllThemes","codeEditorTheme","name","createTheme","material_ui_Toggle__WEBPACK_IMPORTED_MODULE_10___default","onToggle","check","toggled","autoDownloadUpdates","labelPosition","autoDisplayChangelog","eventsSheetShowObjectThumbnails","autosaveOnPreview","_UI_EmptyMessage__WEBPACK_IMPORTED_MODULE_12__","contributors","description","link","AboutDialog","_openContributePage","_openLink","updateStatus","updateStatusString","getUpdateStatusLabel","status","updateButtonLabel","getUpdateButtonLabel","_UI_Dialog__WEBPACK_IMPORTED_MODULE_8__","material_ui_FlatButton__WEBPACK_IMPORTED_MODULE_9___default","contentStyle","maxWidth","autoScrollBodyContent","_Preferences_PreferencesContext__WEBPACK_IMPORTED_MODULE_15__","checkUpdates","_UI_Grid__WEBPACK_IMPORTED_MODULE_11__","alt","width","height","material_ui_Tabs__WEBPACK_IMPORTED_MODULE_10__","forceUpdate","0","getIDEVersion","1","getGDCoreVersion","justifyContent","canDownloadUpdate","_Changelog__WEBPACK_IMPORTED_MODULE_17__","material_ui_List__WEBPACK_IMPORTED_MODULE_7__","contributor","secondaryText","secondaryTextLines","rightIconButton","material_ui_IconButton__WEBPACK_IMPORTED_MODULE_13___default","material_ui_svg_icons_action_open_in_new__WEBPACK_IMPORTED_MODULE_14___default","expand","alignItems","Indent","react__WEBPACK_IMPORTED_MODULE_2__","_Users_florian_Projects_F_GD_newIDE_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","indent","material_ui_svg_icons_navigation_subdirectory_arrow_right__WEBPACK_IMPORTED_MODULE_8___default","color","indentIconColor","InlineCheckbox","material_ui_Checkbox__WEBPACK_IMPORTED_MODULE_6___default","assign","VariableRow","muiThemeable","_ref2","variable","depth","errorText","onBlur","onAddChild","onRemove","onChangeValue","onResetToDefaultValue","children","muiTheme","showHandle","showSelectionCheckbox","isSelected","onSelect","origin","isStructure","limitEditing","columns","_UI_TreeTable__WEBPACK_IMPORTED_MODULE_3__","tableChildIndentation","_UI_DragHandle__WEBPACK_IMPORTED_MODULE_4__","checked","onCheck","material_ui_TextField__WEBPACK_IMPORTED_MODULE_9___default","fontStyle","fullWidth","defaultValue","fadedButton","undefined","_UI_SemiControlledTextField__WEBPACK_IMPORTED_MODULE_5__","commitOnBlur","getString","text","multiLine","toolColumn","material_ui_IconButton__WEBPACK_IMPORTED_MODULE_10___default","_lingui_react__WEBPACK_IMPORTED_MODULE_1__","material_ui_svg_icons_av_replay__WEBPACK_IMPORTED_MODULE_11___default","tooltipPosition","material_ui_svg_icons_content_add_circle__WEBPACK_IMPORTED_MODULE_7___default","backgroundColor","list","itemsBackgroundColor","react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","_UI_TreeTable__WEBPACK_IMPORTED_MODULE_1__","material_ui_svg_icons_content_add__WEBPACK_IMPORTED_MODULE_2__","material_ui_svg_icons_content_add__WEBPACK_IMPORTED_MODULE_2___default","material_ui_IconButton__WEBPACK_IMPORTED_MODULE_3__","material_ui_IconButton__WEBPACK_IMPORTED_MODULE_3___default","_UI_EmptyMessage__WEBPACK_IMPORTED_MODULE_4__","material_ui_svg_icons_content_content_copy__WEBPACK_IMPORTED_MODULE_5__","material_ui_svg_icons_content_content_copy__WEBPACK_IMPORTED_MODULE_5___default","material_ui_svg_icons_content_content_paste__WEBPACK_IMPORTED_MODULE_6__","material_ui_svg_icons_content_content_paste__WEBPACK_IMPORTED_MODULE_6___default","material_ui_svg_icons_action_delete__WEBPACK_IMPORTED_MODULE_7__","material_ui_svg_icons_action_delete__WEBPACK_IMPORTED_MODULE_7___default","_styles__WEBPACK_IMPORTED_MODULE_8__","EditVariableRow","onAdd","onCopy","hasSelection","onPaste","hasClipboard","onDeleteSelection","toolColumnHeader","addVariableMessage","getInitialSelection","getSelection","selection","addToSelection","object","select","console","log","_Users_florian_Projects_F_GD_newIDE_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__","_Users_florian_Projects_F_GD_newIDE_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","ptr","d","__webpack_exports__","CLIPBOARD_KIND","path","optionalRequire","gd","global","desktopSizes","androidSizes","iosSizes","PlatformSpecificAssetsDialog","_Users_florian_Projects_F_GD_newIDE_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","_Users_florian_Projects_F_GD_newIDE_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__","_Users_florian_Projects_F_GD_newIDE_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__","_generateFromFile","resourceSources","onChooseResource","sources","source","kind","then","resources","resourcesManager","getResourcesManager","projectPath","dirname","fullPath","resolve","getFile","forEach","resource","delete","Promise","all","_Users_florian_Projects_F_GD_newIDE_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","size","resizeImage","results","indexOf","allResourcesNames","resourceName","hasResource","getResource","setFile","imageResource","ImageResource","setName","addResource","ResourcesLoader","burstUrlsCacheForResources","setTimeout","desktopIconResourceNames","androidIconResourceNames","iosIconResourceNames","showErrorBox","_onApply","_this$state","index","getPlatformSpecificAssets","set","onApply","_loadFrom","get","newProps","react__WEBPACK_IMPORTED_MODULE_7__","_lingui_react__WEBPACK_IMPORTED_MODULE_6__","keyboardFocused","_this$props2","resourceExternalEditors","_this$state2","_UI_Dialog__WEBPACK_IMPORTED_MODULE_10__","isResizeSupported","material_ui_RaisedButton__WEBPACK_IMPORTED_MODULE_9___default","_ResourcesList_ResourceSelectorWithThumbnail__WEBPACK_IMPORTED_MODULE_13__","resourceKind","newIcons","React","_Utils_OptionalRequire__WEBPACK_IMPORTED_MODULE_0__","Jimp","inputFile","outputFile","read","jimpImage","contain","write","catch","err","error","material_ui_RefreshIndicator__WEBPACK_IMPORTED_MODULE_1__","material_ui_RefreshIndicator__WEBPACK_IMPORTED_MODULE_1___default","position","top","left","right","bottom","zIndex","pointerEvents","show","display","marginTop","marginLeft","electron","CloseConfirmDialog","_delayElectronClose","_setup","shouldPrompt","message","window","onbeforeunload","confirm","remote","getCurrentWindow","close","returnValue","tabsContainerStyle","flex","flexDirection","tabTemplateStyle","textAlign","TabTemplate","nextProps","selected","templateStyle","react__WEBPACK_IMPORTED_MODULE_7___default","ThemableTabs","_Component2","_Users_florian_Projects_F_GD_newIDE_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","_Users_florian_Projects_F_GD_newIDE_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__","_Users_florian_Projects_F_GD_newIDE_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__","_Users_florian_Projects_F_GD_newIDE_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_6__","_Users_florian_Projects_F_GD_newIDE_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__","hideLabels","tabsProps","_Users_florian_Projects_F_GD_newIDE_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__","tabItemContainerStyle","closableTabs","contentContainerStyle","material_ui_Tabs__WEBPACK_IMPORTED_MODULE_8__","tabTemplate","inkBarStyle","Tabs","muiName","ThemableTab","_this$props3","closable","tabProps","truncatedLabel","closeButtonWidth","marginRight","overflow","textOverflow","buttonStyle","selectedBackgroundColor","selectedTextColor","textColor","material_ui_FlatButton__WEBPACK_IMPORTED_MODULE_10___default","hoverColor","borderRadius","minWidth","icon","material_ui_svg_icons_navigation_close__WEBPACK_IMPORTED_MODULE_9___default","Tab","getEditorTabsInitialState","editors","currentTab","openEditorTab","renderEditor","dontFocusTab","existingEditorId","findIndex","editor","editorTab","render","isCurrentTab","isActive","editorRef","changeCurrentTab","newTabId","Math","max","min","closeEditorTab","getEditors","getCurrentTabIndex","getCurrentTab","closeProjectTabs","editorProject","getProject","saveUiSettings","closeLayoutTabs","layout","editorLayout","getLayout","closeExternalLayoutTabs","externalLayout","ExternalLayoutEditor","getExternalLayout","closeExternalEventsTabs","externalEvents","ExternalEventsEditor","getExternalEvents","closeEventsFunctionsExtensionTabs","eventsFunctionsExtension","EventsFunctionsExtensionEditorWrapper","getEventsFunctionsExtension","getEventsFunctionsExtensionEditor","tabIndex","getThumbnail","ObjectsRenderingService","bind","indentWidth","container","EventContainer","_onEventUpdated","_onEventContextMenu","domEvent","preventDefault","onEventContextMenu","clientX","clientY","_container","offsetHeight","eventsHeightsCache","setEventHeight","event","scope","EventComponent","EventsRenderingService","getEventComponent","react__WEBPACK_IMPORTED_MODULE_10___default","ref","onEventClick","onContextMenu","globalObjectsContainer","objectsContainer","isEventSelected","leftIndentWidth","onUpdate","onAddNewInstruction","onMoveToInstruction","onMoveToInstructionsList","onInstructionClick","onInstructionDoubleClick","onInstructionContextMenu","onInstructionsListContextMenu","onParameterClick","onOpenExternalEvents","onOpenLayout","renderObjectThumbnail","getNodeKey","treeIndex","SortableTree","className","otherProps","_Users_florian_Projects_F_GD_newIDE_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_4__","react_sortable_tree__WEBPACK_IMPORTED_MODULE_13__","eventsTree","eventsSheetRootClassName","noop","ThemableEventsTree","_this3","_Users_florian_Projects_F_GD_newIDE_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_5__","_Users_florian_Projects_F_GD_newIDE_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_7__","_Users_florian_Projects_F_GD_newIDE_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_8__","_eventsToTreeData","eventsList","flatData","parentDisabled","treeData","mapFor","getEventsCount","getEventAt","isDisabled","_renderEvent","indexInList","expanded","isFolded","getSubEvents","_onMoveNode","_ref3","node","targetPath","slice","targetNode","getNodeAtPath","targetEventsList","events","targetPosition","newEvent","clone","removeEvent","insertEvent","forceEventsUpdate","onEventMoved","_canDrop","_ref4","nextParent","canHaveSubEvents","_onVisibilityToggle","_ref5","setFolded","_renderObjectThumbnail","objectName","_this3$props","showObjectThumbnails","getObjectByName","classNames","_Users_florian_Projects_F_GD_newIDE_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__","_ref6","isCondition","x","y","_treeSearchMethod","_ref7","searchResults","searchQuery","find","highlightedEvent","compare","EventHeightsCache","_Users_florian_Projects_F_GD_newIDE_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__","onHeightsChanged","cb","_this4","_list","wrappedInstance","current","recomputeRowHeights","_this5","row","_getEventRow","scrollToRow","EventsListUnfolder","unfoldWhenContaining","searchedEvent","_this6","scaffoldBlockPxWidth","onVisibilityToggle","onMoveNode","canDrop","rowHeight","_ref8","getEventHeight","searchMethod","searchFocusOffset","eventsTreeWithSearchResults","reactVirtualizedListProps","defaultProps","actionsList","StandardEvent","_classNames","standardEvent","asStandardEvent","conditionsListSyle","_Users_florian_Projects_F_GD_newIDE_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__","largeSelectableArea","largeSelectedArea","executableEventContainer","_InstructionsList__WEBPACK_IMPORTED_MODULE_8__","instrsList","getConditions","areConditions","getActions","instrFormatter","InstructionSentenceFormatter","loadTypesFormattingFromConfig","whiteSpace","wordWrap","cursor","marginBottom","Instruction","_renderInstructionText","metadata","instruction","formattedTexts","getAsFormattedText","parametersCount","getParametersCount","disabledText","_classNames2","parameterIndex","getTextFormatting","getUserData","parameterMetadata","getParameter","parameterType","getType","selectableArea","instructionParameter","ParameterRenderingService","renderInlineParameter","InvalidParameterValue","_classNames3","connectDragSource","connectDropTarget","isOver","MetadataProvider","getConditionMetadata","JsPlatform","getActionMetadata","instructionDiv","selectedArea","stopPropagation","onDoubleClick","isInverted","getSmallIconFilename","canHaveSubInstructions","_InstructionsList__WEBPACK_IMPORTED_MODULE_11__","extraClassName","subInstructionsContainer","getSubInstructions","onAddNewSubInstruction","onMoveToSubInstruction","onMoveToSubInstructionsList","onSubInstructionClick","onSubInstructionDoubleClick","onSubInstructionContextMenu","onSubInstructionsListContextMenu","onSubParameterClick","addButtonLabel","_DropIndicator__WEBPACK_IMPORTED_MODULE_13__","reactDndInstructionType","DragSource","beginDrag","connect","monitor","dragSource","DropTarget","getItem","drop","didDrop","dropTarget","shallow","RelationalOperatorField","_field","focus","getDescription","field","material_ui_MenuItem__WEBPACK_IMPORTED_MODULE_8___default","renderInlineRelationalOperator","OperatorField","renderInlineMouse","isEmpty","keyNames","isKeyValid","KeyField","isInline","_UI_SemiControlledAutoComplete__WEBPACK_IMPORTED_MODULE_7__","dataSource","keyName","openOnFocus","renderInlineKey","button","margin","YesNoField","effectiveValue","getParameterValueOrDefault","_UI_Grid__WEBPACK_IMPORTED_MODULE_8__","material_ui_RaisedButton__WEBPACK_IMPORTED_MODULE_7___default","renderInlineYesNo","TrueFalseField","renderInlineTrueFalse","ExpressionField","_GenericExpressionField__WEBPACK_IMPORTED_MODULE_6__","expressionType","ExpressionSelector","instructionsInfo","filterEnumeratedInstructionOrExpressionMetadataByScope","enumerateExpressions","allExpressions","instructionsInfoTree","createTree","_index__WEBPACK_IMPORTED_MODULE_8__","iconSize","enumerateExtensionExpressions","prefix","expressions","expressionsTypes","j","exprMetadata","isShown","parameters","objectMetadata","behaviorMetadata","isCodeOnly","displayedName","getFullName","groupName","getGroup","iconFilename","fullGroupName","type","isPrivate","freeExpressions","objectsExpressions","behaviorsExpressions","allExtensions","asPlatform","getAllPlatformExtensions","extension","allObjectsTypes","getExtensionObjectsTypes","allBehaviorsTypes","getBehaviorsTypes","allFreeExpressionsGetter","getAllExpressions","allObjectExpressionsGetter","getAllExpressionsForObject","allBehaviorExpressionsGetter","getAllExpressionsForBehavior","getAllStrExpressions","getAllStrExpressionsForObject","getAllStrExpressionsForBehavior","objectType","getObjectMetadata","k","behaviorType","getBehaviorMetadata","formatExpressionCall","filterOutCodeOnlyParameters","array","expressionMetadata","firstParameterIndex","parameter","expressionInfo","parameterValues","functionName","functionArgs","behaviorName","defaultStyle","highlightedText","borderSizing","borderBottom","sortedHighlights","highlights","sort","highlight1","highlight2","begin","elements","lastPos","highlight","startPos","react__WEBPACK_IMPORTED_MODULE_1__","substring","end","StringField","getChoices","JSON","parse","getExtraInfo","exception","StringWithSelectorField","_UI_SemiControlledAutoComplete__WEBPACK_IMPORTED_MODULE_6__","choice","BehaviorField","_behaviorNames","_getError","_doValidation","_forceChooseBehavior","_description","_behaviorTypeAllowed","instructionMetadata","expression","getLastObjectParameterValue","getBehaviorsOfObject","toJSArray","getTypeOfBehavior","_updateBehaviorsList","noBehaviorErrorText","react__WEBPACK_IMPORTED_MODULE_6__","_UI_SemiControlledAutoComplete__WEBPACK_IMPORTED_MODULE_9__","currentTarget","SceneVariableField","editorOpen","react__WEBPACK_IMPORTED_MODULE_5__","_VariableField__WEBPACK_IMPORTED_MODULE_6__","variablesContainer","getVariables","onOpenDialog","_VariablesList_VariablesEditorDialog__WEBPACK_IMPORTED_MODULE_7__","onCancel","emptyExplanationMessage","emptyExplanationSecondMessage","renderInlineSceneVariable","renderVariableWithIcon","GlobalVariableField","renderInlineGlobalVariable","ObjectVariableField","hasObjectNamed","getObject","renderInlineObjectVariable","LayerField","layerNames","getLayersCount","getLayerAt","layerName","hintText","AudioResourceField","_ResourcesList_ResourceSelector__WEBPACK_IMPORTED_MODULE_7__","resourcesLoader","initialResourceName","VideoResourceField","parseColor","rgbColor","colors","replace","split","r","parseInt","g","b","ParameterColorField","renderExtraButton","_UI_ColorField_ColorPicker__WEBPACK_IMPORTED_MODULE_7__","disableAlpha","onChangeComplete","rgb","ForceMultiplierField","showDeprecatedNumericValue","makeNonBreakable","Fragment","_UI_BackgroundText__WEBPACK_IMPORTED_MODULE_11__","_GenericExpressionField__WEBPACK_IMPORTED_MODULE_10__","renderInlineForceMultiplier","SceneNameField","layoutNames","enumerateLayouts","layoutName","_ClassNames__WEBPACK_IMPORTED_MODULE_1__","instructionInvalidParameter","padding","fontSize","GroupEvent","editing","_textField","edit","endEditing","groupEvent","asGroupEvent","getBackgroundColorR","getBackgroundColorG","getBackgroundColorB","react__WEBPACK_IMPORTED_MODULE_8__","material_ui_TextField__WEBPACK_IMPORTED_MODULE_10___default","textField","_lingui_react__WEBPACK_IMPORTED_MODULE_7__","inputStyle","WebkitTextFillColor","underlineFocusStyle","borderColor","minHeight","boxSizing","CommentEvent","input","ReactDOM","findDOMNode","_input","asCommentEvent","getComment","commentEvent","setComment","_getCommentHTML","rgbToHex","getBackgroundColorRed","getBackgroundColorGreen","getBackgroundColorBlue","getTextColorRed","getTextColorGreen","getTextColorBlue","dangerouslySetInnerHTML","__html","instructionsContainer","ForEachEvent","anchorEl","forEachEvent","asForEachEvent","getObjectToPick","_InstructionsList_js__WEBPACK_IMPORTED_MODULE_8__","_InlinePopover__WEBPACK_IMPORTED_MODULE_11__","_ParameterFields_ObjectField__WEBPACK_IMPORTED_MODULE_12__","setObjectToPick","RepeatEvent","repeatEvent","asRepeatEvent","getRepeatExpression","_ParameterFields_DefaultField__WEBPACK_IMPORTED_MODULE_12__","setRepeatExpression","whileEvent","asWhileEvent","getWhileConditions","LinkEvent","_externalEventsField","openTarget","target","asLinkEvent","getTarget","hasExternalEventsNamed","hasLayoutNamed","showWarningBox","linkEvent","linkContainer","material_ui_IconButton__WEBPACK_IMPORTED_MODULE_9___default","material_ui_svg_icons_action_open_in_new__WEBPACK_IMPORTED_MODULE_8___default","_InlinePopover__WEBPACK_IMPORTED_MODULE_12__","_ParameterFields_ExternalEventsField__WEBPACK_IMPORTED_MODULE_13__","setTarget","externalEventsField","getList","enumerateExternalEvents","layouts","_Users_florian_Projects_F_GD_newIDE_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_5__","material_ui_Divider__WEBPACK_IMPORTED_MODULE_7___default","ExternalEventsField","wrappingText","fontFamily","paddingLeft","paddingRight","comment","commentLink","textDecoration","JsCodeEvent","editingObject","asJsCodeEvent","getInlineCode","jsCodeEvent","setInlineCode","newValue","editObject","endObjectEditing","parameterObjects","getParameterObjects","objects","eventsFunctionContext","eventsFunction","functionStart","functionEnd","href","getHelpLink","rel","react_measure__WEBPACK_IMPORTED_MODULE_13___default","onMeasure","_CodeEditor__WEBPACK_IMPORTED_MODULE_14__","onEditorMounted","_InlinePopover__WEBPACK_IMPORTED_MODULE_9__","_ParameterFields_ObjectField__WEBPACK_IMPORTED_MODULE_10__","setParameterObjects","component","eventHeights","updateTimeoutId","cachedHeight","_notifyComponent","_RenderedInstance__WEBPACK_IMPORTED_MODULE_0__","pixi_js__WEBPACK_IMPORTED_MODULE_1__","RenderedUnknownInstance","instance","associatedObject","pixiContainer","pixiResourcesLoader","RenderedInstance","_pixiObject","PIXI","_pixiContainer","addChild","hasCustomSize","getCustomWidth","getCustomHeight","beginFill","lineStyle","moveTo","lineTo","endFill","prototype","create","update","_instance","getX","getY","rotation","getAngle","PI","RenderedSpriteInstance","_renderedAnimation","_renderedDirection","_centerX","_centerY","_originX","_originY","_pixiResourcesLoader","getInvalidPIXITexture","updatePIXITexture","updatePIXISprite","spriteObject","asSpriteObject","getAnimationsCount","getAnimation","getDirectionsCount","getDirection","getSpritesCount","imageName","getSprite","getImageName","getResourceFullUrl","anchor","texture","frame","_shouldNotRotate","toRad","scale","abs","updateSprite","_sprite","_associatedObject","hasNoAnimations","getRawFloatProperty","animation","hasNoDirections","useMultipleDirections","normalizedAngle","floor","round","direction","getPIXITexture","_project","getOrigin","isDefaultCenterPoint","noFrame","that","on","off","center","getCenter","getOriginX","getOriginY","getDefaultWidth","getDefaultHeight","RenderedTiledSpriteInstance","tiledSprite","asTiledSpriteObject","_texture","getTexture","TilingSprite","getWidth","getHeight","RenderedPanelSpriteInstance","makeObjects","updateTexture","panelSprite","asPanelSpriteObject","isTiled","_tiled","_textureName","updateAngle","updatePosition","oldWidth","_width","oldHeight","_height","updateWidthHeight","StretchedSprite","_centerSprite","_borderSprites","removeChildren","_updateLocalPositions","extraPixels","getLeftMargin","getTopMargin","getRightMargin","getBottomMargin","_updateSpritesAndTexturesSize","_wasRendered","cacheAsBitmap","renderer","makeInsideTexture","rect","pivot","RenderedTextInstance","textObject","asTextObject","align","_styleFontDirty","_fontFamily","getFontFamily","getFontName","isItalic","_isItalic","isBold","_isBold","getCharacterSize","_characterSize","_wrapping","_wrappingWidth","_fontName","loadFontFamily","warn","fontWeight","wordWrapWidth","breakWords","dirty","getColorR","_colorR","getColorG","_colorG","getColorB","_colorB","fill","_RenderedIconInstance__WEBPACK_IMPORTED_MODULE_0__","makeRenderer","_Utils_ColorTransformer__WEBPACK_IMPORTED_MODULE_2__","RenderedParticleEmitterInstance","updateGraphics","particleEmitterObject","asParticleEmitterObject","clear","emitterAngle","sprayConeAngle","getConeSprayAngle","line1Angle","line2Angle","rgbToHexNumber","getParticleRed2","getParticleGreen2","getParticleBlue2","cos","sin","getParticleRed1","getParticleGreen1","getParticleBlue1","drawCircle","loadFontFace","fontfaceobserver__WEBPACK_IMPORTED_MODULE_0__","fontfaceobserver__WEBPACK_IMPORTED_MODULE_0___default","descriptors","FontFace","fontFace","document","fonts","add","load","newStyle","appendChild","createTextNode","head","FontFaceObserver","enumerateExtensionInstructions","instructions","instructionsTypes","allInstructions","instrMetadata","isHidden","getIconFilename","enumerateInstructions","getAllConditions","getAllActions","getAllConditionsForObject","getAllActionsForObject","getAllConditionsForBehavior","getAllActionsForBehavior","emptyContainer","parametersContainer","invertToggle","isParameterVisible","InstructionParametersEditor","_firstVisibleField","isDirty","_getInstructionMetadata","getCurrentPlatform","_openExtension","getExtensionAndConditionMetadata","getExtension","getExtensionAndActionMetadata","openInstructionOrExpression","focusOnMount","_getVisibleParametersCount","isVisible","_UI_EmptyMessage__WEBPACK_IMPORTED_MODULE_11__","noHelpButton","_renderEmpty","helpPage","getHelpPath","instructionExtraInformation","getExtraInstructionInformation","setParametersCount","setParameter","setupInstruction","parameterFieldIndex","_UI_Grid__WEBPACK_IMPORTED_MODULE_14__","isAnEventFunctionMetadata","material_ui_IconButton__WEBPACK_IMPORTED_MODULE_19___default","material_ui_svg_icons_action_open_in_new__WEBPACK_IMPORTED_MODULE_18___default","_UI_AlertMessage__WEBPACK_IMPORTED_MODULE_15__","material_ui_Divider__WEBPACK_IMPORTED_MODULE_8___default","parameterMetadataType","ParameterComponent","getParameterComponent","isFirstVisibleParameterField","parameterRenderingService","material_ui_Toggle__WEBPACK_IMPORTED_MODULE_9___default","enabled","setInverted","_UI_HelpButton__WEBPACK_IMPORTED_MODULE_13__","helpPagePath","caseSensitiveSlug","incString","separator","preserved","p","s","RegExp","Toolbar","t","str","lastChild","showPreviewButton","_UI_ToolbarIcon__WEBPACK_IMPORTED_MODULE_8__","onPreview","showNetworkPreviewButton","onNetworkPreview","onOpenDebugger","_UI_ToolbarSeparator__WEBPACK_IMPORTED_MODULE_7__","onAddStandardEvent","onAddSubEvent","canAddSubEvent","onAddCommentEvent","allEventsMetadata","fullName","onAddEvent","canRemove","undo","canUndo","redo","canRedo","onToggleSearchPanel","adaptAcceleratorString","onOpenSettings","InlineParameterEditor","_loadComponentFromInstruction","_unload","_InlinePopover__WEBPACK_IMPORTED_MODULE_6__","EmptyEventsPlaceholder","_UI_PlaceholderMessage__WEBPACK_IMPORTED_MODULE_2__","_lingui_react__WEBPACK_IMPORTED_MODULE_0__","_UI_HelpButton__WEBPACK_IMPORTED_MODULE_3__","ensureSingleOnceInstructions","instructionsList","hasEndingOnceInstruction","hasInvalidOnce","removeAt","onceInstruction","setType","insert","toEventsContextResult","eventsContext","objectsNames","getObjectNames","toNewVectorString","objectOrGroupNames","getReferencedObjectOrGroupNames","objectOrGroupBehaviorNames","objectOrGroupName","behaviorNames","getBehaviorNamesOfObjectOrGroup","EventsContextAnalyzerDialog","eventsContextResult","_UI_Dialog__WEBPACK_IMPORTED_MODULE_7__","SearchPanel","searchText","replaceText","matchCase","searchInActions","searchInConditions","searchInSelection","searchTextField","launchSearch","onSearchInEvents","launchReplace","onReplaceInEvents","resultsCount","hasEventSelected","onGoToPreviousSearchResult","onGoToNextSearchResult","_this$state3","material_ui_Paper__WEBPACK_IMPORTED_MODULE_7___default","_UI_Grid__WEBPACK_IMPORTED_MODULE_9__","material_ui_TextField__WEBPACK_IMPORTED_MODULE_8___default","_searchTextField","_UI_InlineCheckbox__WEBPACK_IMPORTED_MODULE_14__","material_ui_svg_icons_navigation_chevron_left__WEBPACK_IMPORTED_MODULE_11___default","material_ui_svg_icons_navigation_chevron_right__WEBPACK_IMPORTED_MODULE_12___default","EventsSearcher","eventsSearchResults","_resultEvents","_doReplaceInEvents","EventsRefactorer","replaceStringInEvents","_doSearchInEvents","newEventsSearchResults","searchInEvents","_updateListOfResultEvents","resultEventsWithDuplicates","eventsSearchResult","at","isEventValid","getEvent","uniqBy","_goToSearchResults","step","newSearchFocusOffset","_goToPreviousSearchResult","_goToNextSearchResult","eventsSearchResultEvents","replaceInEvents","goToNextSearchResult","goToPreviousSearchResult","containsSubInstructions","subInstructionsList","enumerateEventsMetadata","lodash_flatten__WEBPACK_IMPORTED_MODULE_0__","lodash_flatten__WEBPACK_IMPORTED_MODULE_0___default","_Utils_MapFor__WEBPACK_IMPORTED_MODULE_1__","flatten","extensionEvents","getAllEvents","EventsFunctionExtractorDialog","extensionName","createNewExtension","serializedEvents","EventsFunction","setupFunctionFromEvents","enumerateEventsFunctionsExtensions","onCreate","eventsFunctionsExtensions","hasLotsOfParameters","functionHasLotsOfParameters","secondaryActions","_UI_HelpButton__WEBPACK_IMPORTED_MODULE_20__","canCreateEventsFunction","_UI_Grid__WEBPACK_IMPORTED_MODULE_10__","_UI_DismissableAlertMessage__WEBPACK_IMPORTED_MODULE_17__","material_ui_SelectField__WEBPACK_IMPORTED_MODULE_12___default","material_ui_MenuItem__WEBPACK_IMPORTED_MODULE_13___default","material_ui_Divider__WEBPACK_IMPORTED_MODULE_14___default","_UI_SemiControlledTextField__WEBPACK_IMPORTED_MODULE_11__","validateExtensionNameUniqueness","validateExtensionName","validateEventsFunctionNameUniqueness","validateEventsFunctionName","_UI_AlertMessage__WEBPACK_IMPORTED_MODULE_16__","_EventsFunctionsExtensionEditor_EventsFunctionConfigurationEditor_EventsFunctionPropertiesEditor__WEBPACK_IMPORTED_MODULE_19__","eventsBasedBehavior","onConfigurationUpdated","freezeEventsFunctionType","_EventsFunctionsExtensionEditor_EventsFunctionConfigurationEditor_EventsFunctionParametersEditor__WEBPACK_IMPORTED_MODULE_18__","onParametersUpdated","freezeParameters","getObjectGroupByName","objectGroupName","getObjectGroups","has","BehaviorTypeSelector","enumerateBehaviorsMetadata","valueIsListed","floatingLabelFixed","Line","Column","Spacer","marginsSize","defaultBody","noMarginBody","actionsContainer","actionsContainerWithSecondaryActions","dialogActions","react__WEBPACK_IMPORTED_MODULE_1___default","material_ui_Dialog__WEBPACK_IMPORTED_MODULE_2___default","bodyStyle","actionsContainerStyle","start","func","result","module","exports","mapReverseFor","mapVector","cppVector","EmptyMessage","_Theme_ThemeConsumer__WEBPACK_IMPORTED_MODULE_2__","_BackgroundText__WEBPACK_IMPORTED_MODULE_3__","messageStyle","EventsFunctionsExtensionEditor","selectedEventsFunction","selectedEventsBasedBehavior","editedEventsBasedBehavior","editOptionsDialogOpen","behaviorMethodSelectorDialogOpen","onAddEventsFunctionCb","_loadEventsFunctionFrom","_globalObjectsContainer","ObjectsContainer","_objectsContainer","EventsFunctionTools","eventsFunctionToObjectsContainer","selectEventsFunctionByName","eventsBasedBehaviors","getEventsBasedBehaviors","behaviorEventsFunctions","getEventsFunctions","hasEventsFunctionNamed","_selectEventsFunction","getEventsFunction","updateToolbar","_makeRenameFreeEventsFunction","newName","done","Project","validateObjectName","WholeProjectRefactorer","renameEventsFunction","_makeRenameBehaviorEventsFunction","isBehaviorLifecycleFunction","renameBehaviorEventsFunction","_onDeleteEventsFunction","_selectEventsBasedBehavior","_editors","openEditor","_makeRenameEventsBasedBehavior","renameEventsBasedBehavior","_onEventsBasedBehaviorRenamed","onBehaviorEdited","_onDeleteEventsBasedBehavior","_onAddFreeEventsFunction","_onAddBehaviorEventsFunction","_onCloseBehaviorMethodSelectorDialog","doAdd","_onBehaviorEventsFunctionAdded","ensureBehaviorEventsFunctionsProperParameters","_onBehaviorPropertyRenamed","oldName","_this$props4","renameBehaviorProperty","_editOptions","_editBehavior","initiallyFocusedFunctionName","initiallyFocusedBehaviorName","setToolbar","_this$props5","_UI_EditorMosaic__WEBPACK_IMPORTED_MODULE_8__","toolbarControls","_UI_Background__WEBPACK_IMPORTED_MODULE_13__","_EventsFunctionConfigurationEditor__WEBPACK_IMPORTED_MODULE_10__","onParametersOrGroupsUpdated","_UI_EmptyMessage__WEBPACK_IMPORTED_MODULE_9__","events-sheet","_EventsSheet__WEBPACK_IMPORTED_MODULE_7__","getEvents","options","onCreateEventsFunction","free-functions-list","_EventsFunctionsList__WEBPACK_IMPORTED_MODULE_11__","eventsFunctionsContainer","onSelectEventsFunction","onDeleteEventsFunction","canRename","onRenameEventsFunction","onAddEventsFunction","onEventsFunctionAdded","renderHeader","_UI_Grid__WEBPACK_IMPORTED_MODULE_20__","material_ui_FlatButton__WEBPACK_IMPORTED_MODULE_19___default","material_ui_Divider__WEBPACK_IMPORTED_MODULE_21___default","behavior-functions-list","behaviors-list","_EventsBasedBehaviorsList__WEBPACK_IMPORTED_MODULE_12__","eventsBasedBehaviorsList","onSelectEventsBasedBehavior","onDeleteEventsBasedBehavior","onRenameEventsBasedBehavior","onEventsBasedBehaviorRenamed","onEditProperties","initialNodes","first","second","splitPercentage","_OptionsEditorDialog__WEBPACK_IMPORTED_MODULE_14__","_BehaviorMethodSelectorDialog__WEBPACK_IMPORTED_MODULE_17__","onChoose","_EventsBasedBehaviorEditor_EventsBasedBehaviorEditorDialog__WEBPACK_IMPORTED_MODULE_16__","onRenameProperty","ObjectGroupEditor","newObjectName","removeObject","group","onSizeUpdated","addObject","getAllObjectsNames","getTypeOfObject","_renderExplanation","material_ui_IconButton__WEBPACK_IMPORTED_MODULE_8___default","material_ui_svg_icons_content_remove__WEBPACK_IMPORTED_MODULE_9___default","_UI_Grid__WEBPACK_IMPORTED_MODULE_12__","_ObjectsList_ObjectSelector__WEBPACK_IMPORTED_MODULE_10__","noGroups","openGitHubIssue","encodeURIComponent","OptionsEditorDialog","exportDialogOpen","_EventsFunctionsExtensionsLoader_EventsFunctionsExtensionsContext__WEBPACK_IMPORTED_MODULE_13__","eventsFunctionsExtensionsState","eventsFunctionsExtensionWriter","getEventsFunctionsExtensionWriter","_UI_HelpButton__WEBPACK_IMPORTED_MODULE_12__","material_ui_FlatButton__WEBPACK_IMPORTED_MODULE_7___default","material_ui_svg_icons_file_cloud_upload__WEBPACK_IMPORTED_MODULE_9___default","setFullName","getShortDescription","setShortDescription","rows","rowsMax","setDescription","getVersion","setVersion","getTags","setTags","getAuthor","setAuthor","material_ui_RaisedButton__WEBPACK_IMPORTED_MODULE_14___default","chooseEventsFunctionExtensionFile","pathOrUrl","writeEventsFunctionsExtension","reject","Error","exportExtension","EventsBasedBehaviorEditorDialog","_UI_HelpButton__WEBPACK_IMPORTED_MODULE_10__","modal","_index__WEBPACK_IMPORTED_MODULE_9__","onTabChanged","onPropertiesUpdated","EventsBasedBehaviorEditor","_allObjectTypes","getAllObjectTypesUsingEventsBasedBehavior","_changeTab","newTab","material_ui_Tabs__WEBPACK_IMPORTED_MODULE_11__","_UI_DismissableAlertMessage__WEBPACK_IMPORTED_MODULE_12__","material_ui_TextField__WEBPACK_IMPORTED_MODULE_7___default","_UI_SemiControlledTextField__WEBPACK_IMPORTED_MODULE_9__","_ObjectTypeSelector__WEBPACK_IMPORTED_MODULE_10__","getObjectType","setObjectType","allowedObjectTypes","_UI_AlertMessage__WEBPACK_IMPORTED_MODULE_13__","getEventsFunctionsCount","_EventsBasedBehaviorPropertiesEditor__WEBPACK_IMPORTED_MODULE_14__","propertiesContainer","EventsBasedBehaviorPropertiesEditor","_addProperty","properties","getPropertyDescriptors","newNameGenerator","insertNew","getCount","_removeProperty","remove","_moveProperty","oldIndex","newIndex","move","_UI_Grid__WEBPACK_IMPORTED_MODULE_7__","property","_UI_MiniToolbar__WEBPACK_IMPORTED_MODULE_17__","_UI_SemiControlledTextField__WEBPACK_IMPORTED_MODULE_16__","validatePropertyName","_UI_InlineCheckbox__WEBPACK_IMPORTED_MODULE_20__","setHidden","checkedIcon","material_ui_svg_icons_action_visibility__WEBPACK_IMPORTED_MODULE_21___default","uncheckedIcon","material_ui_svg_icons_action_visibility_off__WEBPACK_IMPORTED_MODULE_22___default","_UI_Menu_IconMenu__WEBPACK_IMPORTED_MODULE_14__","material_ui_IconButton__WEBPACK_IMPORTED_MODULE_12___default","material_ui_svg_icons_navigation_more_vert__WEBPACK_IMPORTED_MODULE_15___default","material_ui_SelectField__WEBPACK_IMPORTED_MODULE_8___default","getValue","setValue","getLabel","setLabel","_UI_EmptyMessage__WEBPACK_IMPORTED_MODULE_13__","material_ui_RaisedButton__WEBPACK_IMPORTED_MODULE_11___default","LayerRenderer","layer","viewPosition","instances","onInstanceClicked","onOverInstance","onOutInstance","onMoveInstance","onMoveInstanceEnd","onDownInstance","getInstanceLeft","renderedInstances","getInstanceTop","getInstanceWidth","getInstanceHeight","getRendererOfInstance","renderedInstance","associatedObjectName","getObjectName","createNewInstanceRenderer","interactive","gesture","panable","deltaX","deltaY","viewTopLeft","viewBottomRight","instancesRenderer","InitialInstanceJSFunctor","invoke","instancePtr","wrapPointer","InitialInstance","pixiObject","getPixiObject","zOrder","getZOrder","isLocked","_isInstanceVisible","visible","wasUsed","toSceneCoordinates","_computeViewBounds","iterateOverInstancesWithZOrdering","_updatePixiObjectsZOrder","_updateVisibility","_cleanRenderers","getVisibility","hasOwnProperty","getInstance","instanceRemovedFromScene","SelectionRectangle","instanceMeasurer","toCanvasCoordinates","makeSelectionRectangle","lastX","lastY","selectionRectangleStart","selectionRectangleEnd","endSelectionRectangle","_instancesInSelectionRectangle","tmp","iterateOverInstances","selector","pixiRectangle","hitArea","instanceHeight","instanceWidth","selectionSceneStart","selectionSceneEnd","x1","y1","x2","y2","fillAlpha","alpha","drawRect","InstancePropertiesEditor","_instanceVariablesList","schema","valueType","setObjectName","onEditButtonClick","onEditObjectByName","setX","setY","setAngle","setLocked","setZOrder","enumerateLayers","getLayer","setLayer","setCustomWidth","setCustomHeight","setHasCustomSize","getCustomProperties","instanceSchema","propertiesMapToSchema","updateCustomProperty","_UI_Grid__WEBPACK_IMPORTED_MODULE_15__","_PropertiesEditor__WEBPACK_IMPORTED_MODULE_10__","material_ui_IconButton__WEBPACK_IMPORTED_MODULE_14___default","editInstanceVariables","material_ui_svg_icons_action_open_in_new__WEBPACK_IMPORTED_MODULE_16___default","_VariablesList__WEBPACK_IMPORTED_MODULE_12__","inheritedVariablesContainer","_UI_Background__WEBPACK_IMPORTED_MODULE_7__","_renderInstancesProperties","InstancesList","_onRowClick","renderedRows","onSelectInstances","_rowGetter","_rowClassName","selectedInstances","freezeUpdate","table","forceUpdateGrid","instanceRowRenderer","locked","toFixed","angle","tableKey","_UI_Theme_ThemeConsumer__WEBPACK_IMPORTED_MODULE_8__","react_virtualized__WEBPACK_IMPORTED_MODULE_7__","headerHeight","tableRootClassName","headerClassName","rowCount","rowGetter","onRowClick","rowClassName","dataKey","VariablesEditorDialog","selectedLayer","layersContainer","secondary","choices","layerRemoved","material_ui_MenuItem__WEBPACK_IMPORTED_MODULE_10___default","material_ui_SelectField__WEBPACK_IMPORTED_MODULE_9___default","titleContainer","ObjectEditorDialog","_Component","_onChangeTab","onRename","EditorComponent","editorComponent","_UI_Dialog__WEBPACK_IMPORTED_MODULE_9__","material_ui_Tabs__WEBPACK_IMPORTED_MODULE_12__","titleStyle","_UI_SemiControlledTextField__WEBPACK_IMPORTED_MODULE_15__","canRenameObject","_BehaviorsEditor__WEBPACK_IMPORTED_MODULE_11__","ObjectEditorDialogContainer","dialogComponent","castToObjectType","editorConfiguration","ObjectsEditorService","getEditorConfiguration","withSerializableObject","propName","newObjectCreator","createNewObject","useProjectToUnserialize","EditorDialog","toolbarItemStyle","sizeTextField","_Users_florian_Projects_F_GD_newIDE_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_5__","toolbarItem","checkbox","TextEditor","_UI_MiniToolbar__WEBPACK_IMPORTED_MODULE_12__","setCharacterSize","_UI_ColorField_ColorPicker__WEBPACK_IMPORTED_MODULE_11__","setColor","material_ui_Checkbox__WEBPACK_IMPORTED_MODULE_8___default","setBold","setItalic","_ResourcesList_ResourceSelector__WEBPACK_IMPORTED_MODULE_13__","setFontName","setString","TiledSpriteEditor","tiledSpriteObject","_ResourcesList_ResourceSelectorWithThumbnail__WEBPACK_IMPORTED_MODULE_9__","setTexture","_UI_SemiControlledTextField__WEBPACK_IMPORTED_MODULE_7__","setWidth","setHeight","PanelSpriteEditor","panelSpriteObject","_ResourcesList_ResourceSelectorWithThumbnail__WEBPACK_IMPORTED_MODULE_10__","setTiled","setTopMargin","setBottomMargin","setLeftMargin","setRightMargin","gridList","animationTitle","animationTools","lastLine","addAnimation","addAnimationText","AddAnimationLine","extraTools","react__WEBPACK_IMPORTED_MODULE_9__","_UI_EmptyMessage__WEBPACK_IMPORTED_MODULE_21__","material_ui_IconButton__WEBPACK_IMPORTED_MODULE_15___default","material_ui_svg_icons_content_add__WEBPACK_IMPORTED_MODULE_13___default","Animation","onSpriteContextMenu","selectedSprites","onSelectSprite","onReplaceDirection","onChangeName","animationName","material_ui_GridList__WEBPACK_IMPORTED_MODULE_10__","_UI_MiniToolbar__WEBPACK_IMPORTED_MODULE_22__","smallest","_UI_DragHandle__WEBPACK_IMPORTED_MODULE_23__","_UI_SemiControlledTextField__WEBPACK_IMPORTED_MODULE_19__","_lingui_react__WEBPACK_IMPORTED_MODULE_8__","material_ui_svg_icons_action_delete__WEBPACK_IMPORTED_MODULE_14___default","_SpritesList__WEBPACK_IMPORTED_MODULE_12__","onReplaceByDirection","newDirection","SortableAnimation","SortableElement","SortableAnimationsList","SortableContainer","onAddAnimation","onRemoveAnimation","onChangeAnimationName","extraBottomTools","cellHeight","cols","_Users_florian_Projects_F_GD_newIDE_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__","directionId","AnimationsListContainer","onSortEnd","moveAnimation","emptyAnimation","setDirectionsCount","removeAnimation","changeAnimationName","otherNames","deleteSelection","deleteSpritesFromAnimation","duplicateSelection","duplicateSpritesInAnimation","openSpriteContextMenu","sprite","selectSprite","spriteContextMenu","replaceDirection","animationId","setDirection","helperClass","useDragHandle","lockAxis","axis","_UI_Menu_ContextMenu__WEBPACK_IMPORTED_MODULE_24__","SpriteEditor","_Users_florian_Projects_F_GD_newIDE_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__","_Users_florian_Projects_F_GD_newIDE_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__","_Users_florian_Projects_F_GD_newIDE_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__","pointsEditorOpen","collisionMasksEditorOpen","openPointsEditor","openCollisionMasksEditor","material_ui_RaisedButton__WEBPACK_IMPORTED_MODULE_17___default","_UI_Dialog__WEBPACK_IMPORTED_MODULE_20__","material_ui_FlatButton__WEBPACK_IMPORTED_MODULE_16___default","_PointsEditor__WEBPACK_IMPORTED_MODULE_27__","onPointsUpdated","_CollisionMasksEditor__WEBPACK_IMPORTED_MODULE_28__","onCollisionMasksUpdated","require","spritesList","thumbnailExtraStyle","addSpriteButton","_Users_florian_Projects_F_GD_newIDE_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_6__","thumbnailContainerStyle","background","spriteThumbnailImage","maxHeight","verticalAlign","AddSpriteButton","displayHint","material_ui_IconButton__WEBPACK_IMPORTED_MODULE_11___default","material_ui_svg_icons_content_add__WEBPACK_IMPORTED_MODULE_10___default","SortableSpriteThumbnail","_ResourcesList_ResourceThumbnail_ImageThumbnail__WEBPACK_IMPORTED_MODULE_14__","selectable","SortableList","onAddSprite","spritesCount","checkDirectionPointsAndCollisionsMasks","allDirectionSpritesHaveSamePoints","allDirectionSpritesHaveSameCollisionMasks","allDirectionSpritesHaveSamePointsAs","allDirectionSpritesHaveSameCollisionMasksAs","SpritesList","moveSprite","_checkDirectionPoints","applyResourceDefaults","Sprite","setImageName","copySpritePoints","copySpritePolygons","addSprite","editWith","externalEditor","resourceNames","_checkDirectionPoints2","externalEditorData","metadataRaw","getMetadata","singleFrame","extraOptions","fps","getTimeBetweenFrames","basename","extname","isLooping","onChangesSaved","newAnimationName","Direction","setTimeBetweenFrames","setLoop","originalIndex","originalSprite","setMetadata","stringify","_UI_MiniToolbar__WEBPACK_IMPORTED_MODULE_13__","_DirectionTools__WEBPACK_IMPORTED_MODULE_12__","onEditWith","PointsEditor","animationIndex","directionIndex","spriteIndex","samePointsForAnimations","samePointsForSprites","_updatePoints","_getCurrentElements","getCurrentElements","otherAnimation","copyAnimationsSpritePoints","chooseAnimation","_updateSamePointsToggles","chooseDirection","chooseSprite","_getCurrentElements2","every","allSpritesHaveSamePointsAs","_setSamePointsForAllAnimations","enable","_setSamePointsForAllSprites","_getCurrentElements3","hasValidSprite","_ResourcesList_ResourcePreview_ImagePreview__WEBPACK_IMPORTED_MODULE_12__","_PointsPreview__WEBPACK_IMPORTED_MODULE_11__","pointsContainer","_Utils_SpriteSelector__WEBPACK_IMPORTED_MODULE_14__","sameForAllAnimations","sameForAllSprites","setSameForAllAnimations","setSameForAllSprites","setSameForAllAnimationsLabel","setSameForAllSpritesLabel","_PointsList__WEBPACK_IMPORTED_MODULE_10__","_UI_EmptyMessage__WEBPACK_IMPORTED_MODULE_7__","SortableAddPointRow","AddPointRow","SortablePointRow","PointRow","PointsListBody","nameErrors","updateOriginPointX","_onPointsUpdated","updateOriginPointY","updateCenterPointX","updateCenterPointY","updatePointX","point","updatePointY","nonDefaultPoints","getAllNonDefaultPoints","pointsRows","pointName","react__WEBPACK_IMPORTED_MODULE_8___default","pointX","pointY","onChangePointX","onChangePointY","nameError","success","hasPoint","_Users_florian_Projects_F_GD_newIDE_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_2__","delPoint","originPoint","centerPoint","originRow","centerRow","isAutomatic","onEdit","setDefaultCenterPoint","addRow","Point","addPoint","material_ui_Table__WEBPACK_IMPORTED_MODULE_9__","displayRowCheckbox","deselectOnClickaway","showRowHover","SortablePointsListBody","PointsList","displaySelectAll","adjustForCheckbox","handleColumn","coordinateColumn","lockToContainerEdges","material_ui_Table__WEBPACK_IMPORTED_MODULE_2__","material_ui_TextField__WEBPACK_IMPORTED_MODULE_6___default","parseFloat","material_ui_svg_icons_action_delete__WEBPACK_IMPORTED_MODULE_4___default","material_ui_svg_icons_editor_mode_edit__WEBPACK_IMPORTED_MODULE_5___default","material_ui_Table__WEBPACK_IMPORTED_MODULE_1__","_styles__WEBPACK_IMPORTED_MODULE_4__","pointKindIdentifiers","NORMAL","ORIGIN","CENTER","PointsPreview","draggedPoint","draggedPointKind","_onStartDragPoint","_onEndDragPoint","draggingWasDone","_onMouseMove","containerBoundingRect","getBoundingClientRect","xOnContainer","yOnContainer","_renderPoint","imageSrc","transform","onPointerDown","imageWidth","imageHeight","points","automaticCenterPosition","onPointerMove","onPointerUp","CollisionMasksEditor","sameCollisionMasksForAnimations","sameCollisionMasksForSprites","spriteWidth","spriteHeight","_updateCollisionMasks","copyAnimationsSpriteCollisionMasks","_updateSameCollisionMasksToggles","allSpritesHaveSameCollisionMasksAs","_onSetCollisionMaskAutomatic","automatic","setCollisionMaskAutomatic","_setSameCollisionMasksForAllAnimations","_setSameCollisionMasksForAllSprites","_setCurrentSpriteSize","_this$state4","_getCurrentElements4","_ResourcesList_ResourcePreview_ImagePreview__WEBPACK_IMPORTED_MODULE_13__","onSize","_CollisionMasksPreview__WEBPACK_IMPORTED_MODULE_12__","isDefaultBoundingBox","isCollisionMaskAutomatic","polygons","getCustomCollisionMask","onPolygonsUpdated","_Utils_SpriteSelector__WEBPACK_IMPORTED_MODULE_15__","_PolygonsList__WEBPACK_IMPORTED_MODULE_11__","_UI_EmptyMessage__WEBPACK_IMPORTED_MODULE_8__","SortableAddPolygonRow","AddPolygonRow","SortableAddVerticeRow","AddVerticeRow","SortableVerticeRow","VerticeRow","SortablePolygonRow","PolygonRow","PolygonsListBody","updateVerticeX","vertice","set_x","_onPolygonUpdated","updateVerticeY","set_y","polygonRows","polygon","vertices","getVertices","isConvex","removeFromVectorPolygon2d","verticesCount","verticeX","get_x","verticeY","get_y","onChangeVerticeX","onChangeVerticeY","removeFromVectorVector2f","hasWarning","newVertice","Vector2f","push_back","newPolygon","Polygon2d","createRectangle","material_ui_Table__WEBPACK_IMPORTED_MODULE_8__","SortablePolygonsListBody","PolygonsList","material_ui_IconButton__WEBPACK_IMPORTED_MODULE_2__","material_ui_IconButton__WEBPACK_IMPORTED_MODULE_2___default","material_ui_svg_icons_action_delete__WEBPACK_IMPORTED_MODULE_3__","material_ui_svg_icons_action_delete__WEBPACK_IMPORTED_MODULE_3___default","material_ui_TextField__WEBPACK_IMPORTED_MODULE_4__","material_ui_TextField__WEBPACK_IMPORTED_MODULE_4___default","material_ui_svg_icons_alert_warning__WEBPACK_IMPORTED_MODULE_5__","material_ui_svg_icons_alert_warning__WEBPACK_IMPORTED_MODULE_5___default","material_ui_styles_muiThemeable__WEBPACK_IMPORTED_MODULE_6__","material_ui_styles_muiThemeable__WEBPACK_IMPORTED_MODULE_6___default","_styles__WEBPACK_IMPORTED_MODULE_7__","material_ui_styles_muiThemeable__WEBPACK_IMPORTED_MODULE_4__","material_ui_styles_muiThemeable__WEBPACK_IMPORTED_MODULE_4___default","_styles__WEBPACK_IMPORTED_MODULE_5__","material_ui_svg_icons_content_add_circle__WEBPACK_IMPORTED_MODULE_2__","material_ui_svg_icons_content_add_circle__WEBPACK_IMPORTED_MODULE_2___default","svg","vertexCircle","CollisionMasksPreview","draggedVertex","_onStartDragVertex","_onEndDragVertex","_onPointerMove","pointOnScreen","_svg","createSVGPoint","screenToSvgMatrix","getScreenCTM","inverse","pointOnSvg","matrixTransform","stroke","strokeWidth","fileRule","vertex","cx","cy","_renderBoundingBox","_renderPolygons","EmptyEditor","shapePainterObject","asShapePainterObject","areCoordinatesAbsolute","setCoordinatesRelative","setCoordinatesAbsolute","_UI_ColorField__WEBPACK_IMPORTED_MODULE_10__","getOutlineColorR","getOutlineColorG","getOutlineColorB","setOutlineColor","getOutlineOpacity","setOutlineOpacity","getOutlineSize","setOutlineSize","getFillColorR","getFillColorG","getFillColorB","setFillColor","getFillOpacity","setFillOpacity","ParticleEmitterEditor","getRendererType","setRendererType","ParticleEmitterObject","Quad","setParticleTexture","_UI_SemiControlledTextField__WEBPACK_IMPORTED_MODULE_12__","getRendererParam1","setRendererParam1","getRendererParam2","setRendererParam2","getParticleTexture","_UI_ColorField__WEBPACK_IMPORTED_MODULE_11__","setParticleRed1","setParticleGreen1","setParticleBlue1","getParticleAlpha1","setParticleAlpha1","setParticleRed2","setParticleGreen2","setParticleBlue2","getParticleAlpha2","setParticleAlpha2","material_ui_Checkbox__WEBPACK_IMPORTED_MODULE_7___default","isRenderingAdditive","setRenderingAdditive","setRenderingAlpha","getDestroyWhenNoParticles","setDestroyWhenNoParticles","getMaxParticleNb","setMaxParticleNb","getTank","setTank","getFlow","setFlow","getEmitterForceMin","setEmitterForceMin","getEmitterForceMax","setEmitterForceMax","setConeSprayAngle","getZoneRadius","setZoneRadius","getParticleGravityX","setParticleGravityX","getParticleGravityY","setParticleGravityY","getFriction","setFriction","getParticleLifeTimeMin","setParticleLifeTimeMin","getParticleLifeTimeMax","setParticleLifeTimeMax","getParticleSize1","setParticleSize1","getParticleSize2","setParticleSize2","getParticleAngle1","setParticleAngle1","getParticleAngle2","setParticleAngle2","ObjectPropertiesEditor","getProperties","propertiesSchema","updateProperty","extraInformation","getExtraObjectsInformation","_UI_AlertMessage__WEBPACK_IMPORTED_MODULE_12__","_PropertiesEditor__WEBPACK_IMPORTED_MODULE_7__","addBehaviorLine","addBehaviorText","behaviorTitle","behaviorTools","AddBehaviorLine","material_ui_svg_icons_content_add__WEBPACK_IMPORTED_MODULE_8___default","BehaviorsEditor","chooseNewBehavior","newBehaviorDialogOpen","_hasBehaviorWithType","getAllBehaviorNames","getBehavior","behavior","getTypeName","addBehavior","defaultName","hasBehaviorNamed","addNewBehavior","_onChangeBehaviorName","behaviorContent","renameBehavior","_onRemoveBehavior","removeBehavior","allBehaviorNames","isNullPtr","material_ui_svg_icons_action_delete__WEBPACK_IMPORTED_MODULE_9___default","BehaviorComponent","BehaviorsEditorService","getEditor","_UI_HelpIcon__WEBPACK_IMPORTED_MODULE_13__","getBehaviorHelpPagePath","_NewBehaviorDialog__WEBPACK_IMPORTED_MODULE_15__","material_ui_svg_icons_action_help_outline__WEBPACK_IMPORTED_MODULE_1__","material_ui_svg_icons_action_help_outline__WEBPACK_IMPORTED_MODULE_1___default","_Utils_HelpLink__WEBPACK_IMPORTED_MODULE_3__","_Utils_Window__WEBPACK_IMPORTED_MODULE_4__","disabledItem","opacity","BehaviorListItem","material_ui_List__WEBPACK_IMPORTED_MODULE_14__","leftAvatar","material_ui_Avatar__WEBPACK_IMPORTED_MODULE_12___default","NewBehaviorDialog","showDeprecated","_searchBar","createRef","_showDeprecated","_onNewExtensionInstalled","platform","deprecatedBehaviorsInformation","getDeprecatedBehaviorsInformation","filteredBehaviorMetadata","filterEnumeratedBehaviorMetadata","behaviors","deprecatedBehaviors","chooseBehavior","showMessageBox","warning","canBehaviorBeUsed","hasSearchNoResult","_UI_HelpButton__WEBPACK_IMPORTED_MODULE_9__","material_ui_Tabs__WEBPACK_IMPORTED_MODULE_13__","material_ui_search_bar__WEBPACK_IMPORTED_MODULE_23___default","onRequestSearch","_UI_EmptyMessage__WEBPACK_IMPORTED_MODULE_24__","material_ui_Subheader__WEBPACK_IMPORTED_MODULE_11___default","_UI_Grid__WEBPACK_IMPORTED_MODULE_18__","material_ui_svg_icons_action_visibility_off__WEBPACK_IMPORTED_MODULE_16___default","material_ui_svg_icons_action_visibility__WEBPACK_IMPORTED_MODULE_15___default","material_ui_svg_icons_content_create__WEBPACK_IMPORTED_MODULE_17___default","_ExtensionsSearch__WEBPACK_IMPORTED_MODULE_25__","onNewExtensionInstalled","showOnlyWithBehaviors","InstancesSelection","getSelectedInstances","multiselect","layersVisibility","isInstanceSelected","unselectInstance","clearSelection","selectInstance","splice","SetupGridDialog","gridWidth","gridHeight","gridOffsetX","gridOffsetY","gridOptions","ScenePropertiesDialog","setWindowDefaultTitle","windowTitle","setStopSoundsOnStartup","shouldStopSoundsOnStartup","setBackgroundColor","getWindowDefaultTitle","stopSoundsOnStartup","propertiesEditors","getAllBehaviorSharedDataNames","sharedDataContent","getBehaviorSharedData","behaviorSharedData","getBehaviorSharedDatas","getContent","_PropertiesEditor__WEBPACK_IMPORTED_MODULE_13__","material_ui_Checkbox__WEBPACK_IMPORTED_MODULE_16___default","onEditVariables","some","onOpenMoreSettings","showObjectsList","openObjectsList","openObjectGroupsList","openProperties","instancesSelection","toggleInstancesList","toggleLayersList","isWindowMaskShown","toggleWindowMask","isGridShown","toggleGrid","openSetupGrid","zoomIn","accelerator","zoomOut","setZoomFactor","flexContainer","absoluteContainer","passFullSize","WrappedComponent","useFlex","FullSizeMeasurer","_Users_florian_Projects_F_GD_newIDE_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_5__","_Users_florian_Projects_F_GD_newIDE_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__","wrappedComponentRef","react_measure__WEBPACK_IMPORTED_MODULE_7___default","xScrollbar","xSliderStyle","yScrollbar","ySliderStyle","addScrollbars","ScrollbarContainer","_editor","xValue","yValue","xMin","xMax","yMin","yMax","_handleXChange","scrollTo","_handleYChange","_setAndAdjust","_handleViewPositionChange","throttle","getViewX","getViewY","leading","trailing","getViewPosition","wrappedEditorRef","onViewPositionChanged","material_ui_Slider__WEBPACK_IMPORTED_MODULE_7___default","sliderStyle","TagsButton","_Menu_IconMenu__WEBPACK_IMPORTED_MODULE_8__","material_ui_IconButton__WEBPACK_IMPORTED_MODULE_6___default","material_ui_svg_icons_content_filter_list__WEBPACK_IMPORTED_MODULE_7___default","glob","hasElectron","listContainer","ResourcesList","renamedResource","resourcesWithErrors","_deleteResource","onDeleteResource","_locateResourceFile","resourceFolderPath","getLocalResourceFullPath","shell","openItem","_openResourceFile","resourceFilePath","_copyResourceFilePath","clipboard","writeText","_scanForNewResources","extensions","createResource","res","pathFound","fileName","relative","createOrUpdateResource","info","_removeUnusedResources","resourceType","ProjectResourcesAdder","getAllUseless","removeAllUseless","_removeAllResourcesWithInvalidPath","getAllResourceNames","getResourceFilePathStatus","removeResource","_editName","sortableList","getWrappedInstance","_rename","onRenameResource","doRename","_move","moveResource","forceUpdateList","_renderResourceMenuTemplate","_index","RESOURCE_EXTENSIONS","image","audio","AudioResource","font","FontResource","video","VideoResource","checkMissingPaths","nextState","selectedResource","onSelectResource","allResourcesList","filteredList","filterResourcesList","listKey","_UI_Background__WEBPACK_IMPORTED_MODULE_8__","react_virtualized__WEBPACK_IMPORTED_MODULE_6__","_UI_SortableVirtualizedItemList__WEBPACK_IMPORTED_MODULE_7__","fullList","selectedItem","onItemSelected","renamedItem","distance","erroredItems","material_ui_search_bar__WEBPACK_IMPORTED_MODULE_9___default","lowercaseSearchText","toLowerCase","errorHandler","componentStack","sendErrorMessage","ErrorFallbackComponent","_PlaceholderMessage__WEBPACK_IMPORTED_MODULE_4__","material_ui_svg_icons_action_bug_report__WEBPACK_IMPORTED_MODULE_3___default","material_ui_Divider__WEBPACK_IMPORTED_MODULE_5___default","material_ui_RaisedButton__WEBPACK_IMPORTED_MODULE_6___default","body","stack","ErrorBoundary","react_error_boundary__WEBPACK_IMPORTED_MODULE_2___default","FallbackComponent","onError","descriptionText","card","bulletIcon","bulletText","SubscriptionDialog","isLoading","choosePlan","userProfile","plan","getAuthorizationHeader","subscription","profile","sendChoosePlanClicked","planId","stripeCustomerId","changeUserSubscription","uid","handleNewSubscriptionSuccess","handleNewSubscriptionFailure","stripeCheckout","StripeCheckout","stripeCheckoutHandler","configure","StripeCheckoutConfig","locale","token","stripeToken","currency","email","amount","monthlyPriceInEuros","onRefreshUserProfile","_isLoading","sendSubscriptionDialogShown","_UserProfileContext__WEBPACK_IMPORTED_MODULE_10__","getSubscriptionPlans","material_ui_Card__WEBPACK_IMPORTED_MODULE_7__","_renderPrice","subtitle","smallDescription","descriptionBullets","material_ui_svg_icons_action_check_circle__WEBPACK_IMPORTED_MODULE_15___default","extraDescription","_UI_LeftLoader__WEBPACK_IMPORTED_MODULE_18__","_UI_EmptyMessage__WEBPACK_IMPORTED_MODULE_16__","authenticated","_UI_PlaceholderMessage__WEBPACK_IMPORTED_MODULE_19__","onLogin","displayLocaleMetadata","localeMetadata","languageCode","renderLanguageMenuItem","translationRatio","percent","isStarted","languageNativeName","languageName","LanguageDialog","languageDidChange","localesToDisplay","LocalesMetadata","goodProgressLocales","startedLocales","_lingui_react__WEBPACK_IMPORTED_MODULE_15__","_PreferencesContext__WEBPACK_IMPORTED_MODULE_12__","setLanguage","isLoadingLanguage","language","material_ui_SelectField__WEBPACK_IMPORTED_MODULE_6___default","material_ui_Divider__WEBPACK_IMPORTED_MODULE_16___default","ExamplesSearchbar","_chips","isBuiltin","chosenExtensionName","onExtensionNameChosen","_UI_SearchbarWithChips__WEBPACK_IMPORTED_MODULE_8__","chips","chosenChip","onChooseChip","admob","usedExtensions","advanced-shape-based-painter","animation-speed-scale","asteroids","basic-ai-with-pathfinding","basic-artificial-intelligence","basic-topdown-car-driving","betabox-basics-learning-experience","bomb-the-crate","bouncing-ball-and-rope","breakout","buttons","car-physics","center-object-within-another","change-position-of-object","change-scale-of-sprites","change-sprite-animation","change-sprite-color","character-selection","create-object-with-mouseclick","custom-font","custom-mouse-pointer","customize-keys-with-lastpressedkey","device-orientation-ballgame","device-orientation-compass","device-vibration","downhill-bike-physics-demo","drag-camera-with-mouse","drop-collect-items-from-storage","endless-up-runner","exit-app","facebook-instant-game","find-diagonals","geodash","health-bar","infinite-scrolling-background","inventory-system","isometric-game","javascript-blocks-in-platformer","keyboard-practice","level-editor","load-image-from-url","magnet","manipulate-text-object","move-camera-to-position","move-object-back-and-forth","move-object-in-circle","move-object-toward-position","move-object-with-mouse-joint","move-object-with-physics","multiplayer-platformer-with-gamepads","multitouch","object-gravity","object-selection","objects-timers","open-url-in-browser","pairs","parallax","parallax-scrolling","parse-json-from-api","parse-json-string","particles-explosions","particles-various-effects","pathfinding","pathfinding-basics","physics","physics-joints-demo","physics-joints-settings-demo","pin-object-to-another","pin-object-to-another-multiple-parents","pixel-perfect-platform-game","plane-and-clouds","platformer","platformer-double-jump","play-music-on-mobile","play-stop-sprite-animation","racing-game","ragdoll","rain","random-color-picker","rotate-toward-mouse","rotate-toward-position","rotate-with-keypress","save-load","screen-shake","shoot-bullet-in-parabola","shoot-bullets","shooting-bullets-explanation","simple-space-shooter","snap-object-to-grid","space-invaders","space-shooter","splash-screen","sprite-fade-in-out","take-screenshot","text-entry-object","text-fade-in-out","text-to-speech","toggle-music-play-sound","type-on-text-effect","video-player","z-depth","zombie-laser","UrlsCache","projectCache","cache","filename","_getProjectCache","url","systemFilename","disableCacheBurst","Date","now","resourcesNames","_cache","burstUrl","cachedUrl","getCachedUrl","isLocalFile","file","resourceAbsolutePath","cacheLocalFileUrl","cacheUrl","resourceRelativePath","getFullUrl","GDI18nProvider","catalogs","_loadCatalog","catalog","_loadLanguage","prevProps","setupI18n","getTranslation","getTranslationFunction","./af_ZA/messages","./ar_SA/messages","./az_AZ/messages","./bg_BG/messages","./bn_BD/messages","./ca_ES/messages","./cs_CZ/messages","./da_DK/messages","./de_DE/messages","./el_GR/messages","./en/messages","./eo_UY/messages","./es_ES/messages","./fa_IR/messages","./fi_FI/messages","./fil_PH/messages","./fr_FR/messages","./ha_HG/messages","./he_IL/messages","./hi_IN/messages","./hu_HU/messages","./id_ID/messages","./it_IT/messages","./ja_JP/messages","./ko_KR/messages","./lt_LT/messages","./mr_IN/messages","./ms_MY/messages","./my_MM/messages","./nl_NL/messages","./no_NO/messages","./pl_PL/messages","./pseudo_LOCALE/messages","./pt_BR/messages","./pt_PT/messages","./ro_RO/messages","./ru_RU/messages","./sk_SK/messages","./sr_CS/messages","./sr_SP/messages","./sv_SE/messages","./th_TH/messages","./tr_TR/messages","./uk_UA/messages","./ur_PK/messages","./yo_NG/messages","./zh_CN/messages","./zh_TW/messages","webpackAsyncContext","req","ids","code","HelpButton","material_ui_FlatButton__WEBPACK_IMPORTED_MODULE_2___default","material_ui_svg_icons_action_help_outline__WEBPACK_IMPORTED_MODULE_3___default","serializeToJSObject","unserializeFromJSObject","serializable","methodName","serializedElement","SerializerElement","Serializer","toJSON","optionalProject","fromJSObject","SemiControlledTextField","focused","getInputNode","onFocus","conditionsContainer","dropIndicator","cantDropIndicator","exists","potentialName","material_ui_styles_muiThemeable__WEBPACK_IMPORTED_MODULE_0__","material_ui_styles_muiThemeable__WEBPACK_IMPORTED_MODULE_0___default","material_ui_CircularProgress__WEBPACK_IMPORTED_MODULE_2___default","SimpleDropTarget","NativeTypes","TEXT","item","isOverCurrent","itemType","getItemType","InstancesRenderer","classCallCheck","layersRenderers","layerRenderer","getInstanceRect","getPixiContainer","resetRenderersFor","removeChild","transformRect","transformPoint","endPos","onResize","onResizeEnd","onRotate","onRotateEnd","rectanglesContainer","selectedRectangles","resizeButton","resizeIcon","fromImage","rightResizeButton","bottomResizeButton","rotateButton","_makeButton","objectButton","onMove","onEnd","buttonMode","buttonObject","canvasPosition","shape","newRectangle","instanceRect","selectionRectangle","pop","resizeButtonPos","rightResizeButtonPos","bottomResizeButtonPos","rotateButtonPos","buttonPadding","_renderButton","highlightedInstance","highlightRectangle","tooltipBackground","tooltipText","tooltipInfo","drawRoundedRect","InstancesResizer","instanceSizes","totalDeltaX","totalDeltaY","snap","grid","proportional","initialSize","selectedInstance","_roundWidth","_getSizeDeltaX","_roundHeight","_getSizeDeltaY","InstancesRotator","instanceAngles","initialAngle","atan2","_getNewAngle","InstancesMover","instancePositions","noGridSnap","roundPosition","followAxis","initialPosition","_roundXPosition","_getMoveDeltaX","_roundYPosition","_getMoveDeltaY","pixiGrid","sceneStartPoint","sceneEndPoint","startXPos","startYPos","endXPos","ceil","endYPos","Xpos","Ypos","WindowBorder","windowRectangle","getMainWindowDefaultWidth","getMainWindowDefaultHeight","displayedRectangle","windowMask","DropHandler","canvas","onDrop","ondragover","ondrop","ev","dataTransfer","dropEffect","canvasRect","getData","BackgroundColor","pixiRenderer","FpsLimiter","maxFps","_lastFrameTime","_interval","_forceUpdate","delta","stopPIXITicker","ticker","shared","stop","startPIXITicker","StatusBar","getLastCursorPosition","_getLastCursorPosition","_statusBarContainer","_statusBarBackground","_statusBarText","resize","_this$_getLastCursorP","_this$_getLastCursorP2","slicedToArray","CanvasCursor","shouldMoveView","canvasArea","dropCursor","InstancesEditorContainer","possibleConstructorReturn","getPrototypeOf","lastCursorX","lastCursorY","_onBackgroundClicked","view","keyboardShortcuts","shouldMultiSelect","onInstancesSelected","_onPanMove","sceneDeltaX","getZoomFactor","sceneDeltaY","scrollBy","_getLayersVisibility","_onPanEnd","hasStartedSelectionRectangle","instancesSelected","selectInstances","_onInstanceClicked","_onOverInstance","setInstance","_onDownInstance","shouldCloneInstances","initialInstances","insertInitialInstance","_onOutInstance","_onMoveInstance","instancesMover","moveBy","shouldFollowAxis","shouldNotSnapToGrid","_onMoveInstanceEnd","endMove","onInstancesMoved","_onResize","instancesResizer","resizeBy","shouldResizeProportionally","_onResizeEnd","endResize","onInstancesResized","_onRotate","instancesRotator","rotateBy","_onRotateEnd","endRotate","onInstancesRotated","_onDrop","newPos","onAddInstance","clearHighlightedInstance","moveSelection","getLastContextMenuPosition","lastContextMenuX","lastContextMenuY","_renderScene","_unmounted","_renderingPaused","fpsLimiter","shouldUpdate","canvasCursor","windowBorder","statusBar","nextFrame","requestAnimationFrame","pauseSceneRendering","cancelAnimationFrame","restartSceneRendering","_initializeCanvasAndRenderer","antialias","addEventListener","offsetX","offsetY","onPointerOver","onPointerOut","onmousewheel","shouldZoom","zoomBy","wheelDelta","shouldScrollHorizontally","setAttribute","blur","backgroundArea","data","ViewPosition","initialViewX","initialViewY","Grid","KeyboardShortcuts","onDelete","onCut","onUndo","onRedo","onZoomOut","onZoomIn","dropHandler","_mountEditorComponents","getInstanceMeasurer","SelectedInstances","HighlightedInstance","WindowMask","unmount","forceNextUpdate","setOptions","pauseRendering","zoomFactor","onChangeOptions","scrollToInstance","react_default","DragDropHelpers_SimpleDropTarget","objectSpread","showDropCursor","Create","node_modules_react_default","SvgIcon_default","viewBox","fillRule","Step","Destroy","Function","Activate","Deactivate","MethodListItem","node_modules_react","List","leftIcon","BehaviorMethodSelectorDialog","FlatButton_default","react","eventsFunctions","Dialog","Subheader_default","BehaviorMethodSelectorDialog_MethodListItem","getPasteLabel","isGlobalObject","clipboardObjectName","Clipboard","clipboardContent","ThemableObjectRow","_onContextMenu","_iconMenu","IconMenu","iconMenu","IconButton_default","more_vert_default","submenu","buildTagsMenuTemplate","noTagLabel","getAllTags","getAllObjectTags","selectedTags","getTagsFromString","objectTags","onChangeTags","editTagsLabel","onEditTags","onEditName","onSetAsGlobalObject","onAddNewObject","onCopyObject","onCutObject","onPasteObject","onDuplicateObject","editingName","TextField_default","onKeyPress","charCode","listItem","itemStyle","separatorColor","ListIcon","_renderObjectMenu","onObjectSelected","ObjectRow","ObjectListItem","Avatar_default","NewObjectDialog","showExperimental","_showExperimental","enumerateObjectTypes","experimentalObjectsInformation","getExperimentalObjects","experimentalObjects","NewObjectDialog_ObjectListItem","visibility_off_default","visibility_default","chipContainer","chip","TagChips","tags","tag","Chip_default","onRequestDelete","removeTag","EditTagsDialog","tagsString","_tagsField","index_es","AddObjectRow","makeAddItem","ListItem","SortableObjectRow","objectWithoutProperties","ObjectsList_ObjectRow","SortableAddObjectRow","ObjectsList","selectedObjectNames","es","rowRenderer","objectWithContext","nameBeingEdited","renamedObjectWithContext","onEditObject","SortableObjectsList","withRef","ObjectsListContainer","containerObjectsList","projectObjectsList","newObjectDialogOpen","variablesEditedObject","tagEditedObject","_this2$props","onObjectCreated","insertNewObject","getObjectsCount","getStringFromTags","selectedObjectTags","_deleteObject","_this2$props2","onDeleteObject","doRemove","_copyObject","_cutObject","_duplicateObject","_pasteAndRename","_paste","pasteObject","_Clipboard$get","copiedObject","_this2$props3","onObjectPasted","newObject","getObjectPosition","_editVariables","onRenameObject","canMoveObjects","_this2$props4","moveObject","projectOldIndex","projectNewIndex","_onStartDraggingObject","_this2$props5","onStartDraggingObject","getObjectAt","projectIndex","_setAsGlobalObject","_this2$props6","insertObject","_openEditTagDialog","_changeObjectTags","lists","enumerateObjects","filterObjectsList","allObjectsList","Background","onChangeSelectedObjectTags","onSortStart","onEndDraggingObject","lib_default","NewObjectDialog_NewObjectDialog","EditTagsDialog_EditTagsDialog","BehaviorPropertiesEditor","PropertiesEditor","ShapePreview","_onVertexDown","draggedIndex","_onMouseUp","onMoveVertex","polygonOrigin","dimensionA","dimensionB","fixedWidth","fixedHeight","halfLength","filerule","renderBox","renderCircle","renderEdge","renderPolygon","PolygonEditor","edges","v1","v2","zProductIsPositive","alignedX","alignedY","onChangeVertexX","onChangeVertexY","Table","_isPolygonConvex","warning_default","toString","delete_default","add_circle_default","NumericProperty","propertyName","BitProperty","pos","spacing","Checkbox_default","Physics2Editor","_setImageSize","bitsValue","bits","layersValues","masksValues","SelectField_default","MenuItem_default","ImagePreview","ShapePreview_ShapePreview","newX","newY","ResourceSelector","PolygonEditor_PolygonEditor","_isBitEnabled","_enableBit","components","Physics2::Physics2Behavior","getGravatarUrl","hash","md5","trim","lineHeight","ProfileDetails","PlaceholderLoader","UsagesDetails","usages","usage","format","createdAt","SubscriptionDetails","onChangeSubscription","RaisedButton_default","ProfileDialog","UserProfileContext","onLogout","CreateProfile","visibleColumn","LayerRow","onChangeVisibility","DragHandle","AddLayerRow","add_default","SortableAddLayerRow","SortableLayerRow","LayersListBody","layersCount","containerLayersList","hasLayerNamed","onRenameLayer","defineProperty","onRemoveLayer","removeLayer","setVisibility","insertNewLayer","SortableLayersListBody","LayersList","moveLayer","logo","GDevelopLogo","ScrollBackground","palette","canvasColor","innerContainer","centerContainer","logoPaper","buttonsPaper","StartPage","aboutDialogOpen","canOpen","onOpen","onOpenProjectManager","onCloseProject","onOpenAboutDialog","onOpenHelpFinder","onOpenLanguageDialog","StartPage_ScrollBackground","Paper_default","zDepth","StartPage_GDevelopLogo","language_default","iconClassName","BaseEditor","InstructionSelector","InstructionOrExpressionSelector","typeSelector","parametersEditor","InstructionEditor","chooseType","_instructionParametersEditor","InstructionSelector_InstructionSelector","selectedType","rounded","instructionParametersEditor","dialogContent","dialogBody","InstructionEditorDialog","isNewInstruction","onSubmit","InstructionEditor_InstructionEditor","ProjectPropertiesDialog","_subscriptionChecker","windowDefaultWidth","windowDefaultHeight","author","version","packageName","orientation","adMobAppId","scaleMode","sizeOnStartupMode","showGDevelopSplash","minFPS","maxFPS","isFolderProject","setDefaultWidth","setDefaultHeight","setPackageName","setOrientation","setAdMobAppId","setScaleMode","setSizeOnStartupMode","setMinimumFPS","setMaximumFPS","getLoadingScreen","setFolderProject","displayProjectErrorsBox","getErrors","getPackageName","getOrientation","getAdMobAppId","getScaleMode","getSizeOnStartupMode","isGDevelopSplashShown","getMinimumFPS","getMaximumFPS","DismissableAlertMessage","checkHasSubscription","SubscriptionChecker","subscriptionChecker","mode","ExtensionsSearchDialog","EventsFunctionsExtensionsContext","eventsFunctionsExtensionOpener","getEventsFunctionsExtensionOpener","cloud_download_default","readEventsFunctionExtensionFile","serializedExtension","hasEventsFunctionsExtensionNamed","addSerializedExtensionToProject","importExtension","ExtensionsSearch","onRegistryLoaded","LAYOUT_CLIPBOARD_KIND","EXTERNAL_LAYOUT_CLIPBOARD_KIND","EXTERNAL_EVENTS_CLIPBOARD_KIND","EVENTS_FUNCTIONS_EXTENSION_CLIPBOARD_KIND","projectStructureItemNestedList","itemName","itemTextField","ProjectStructureItem","onRefresh","ThemeConsumer","groupBackgroundColor","nestedListStyle","refresh_default","Item","canPaste","canMoveUp","onMoveUp","canMoveDown","onMoveDown","AddItem","SearchItem","makeSearchItem","ProjectManager","renamedItemKind","renamedItemName","projectPropertiesDialogOpen","variablesEditorOpen","extensionsSearchDialogOpen","_onEditName","_copyLayout","_cutLayout","onDeleteLayout","_pasteLayout","copiedLayout","newLayout","insertNewLayout","updateBehaviorsSharedData","_moveUpLayout","swapLayouts","_moveDownLayout","getLayoutsCount","_copyExternalEvents","_cutExternalEvents","onDeleteExternalEvents","_pasteExternalEvents","_Clipboard$get2","copiedExternalEvents","newExternalEvents","insertNewExternalEvents","_moveUpExternalEvents","swapExternalEvents","_moveDownExternalEvents","getExternalEventsCount","_copyExternalLayout","_cutExternalLayout","onDeleteExternalLayout","_pasteExternalLayout","_Clipboard$get3","copiedExternalLayout","hasExternalLayoutNamed","newExternalLayout","insertNewExternalLayout","_moveUpExternalLayout","swapExternalLayouts","_moveDownExternalLayout","getExternalLayoutsCount","_copyEventsFunctionsExtension","_cutEventsFunctionsExtension","onDeleteEventsFunctionsExtension","_pasteEventsFunctionsExtension","_Clipboard$get4","copiedEventsFunctionsExtension","newEventsFunctionsExtension","insertNewEventsFunctionsExtension","onReloadEventsFunctionsExtensions","_moveUpEventsFunctionsExtension","swapEventsFunctionsExtensions","_moveDownEventsFunctionsExtension","getEventsFunctionsExtensionsCount","hasMainMenu","ProjectManager_ProjectStructureItem","isGDevelopIcon","initiallyOpen","primaryTogglesNestedList","autoGenerateNestedIndicator","nestedItems","onSaveProject","onExportProject","onOpenPreferences","eventsFunctionsExtensionsError","forceOpen","_renderMenu","onOpenPlatformSpecificAssets","onOpenResources","filterProjectItemsList","ProjectManager_Item","onRenameLayout","onAddLayout","onRenameExternalEvents","onAddExternalEvents","enumerateExternalLayouts","onOpenExternalLayout","onRenameExternalLayout","onAddExternalLayout","onOpenEventsFunctionsExtension","onRenameEventsFunctionsExtension","onAddEventsFunctionsExtension","searchBar","ProjectManager_ProjectPropertiesDialog","ExtensionsSearchDialog_ExtensionsSearchDialog","ObjectGroupsListWithObjectGroupEditor","editedGroup","_onDeleteGroup","groupWithScope","_onRenameGroup","editGroup","objectGroups","globalObjectGroups","ObjectGroupsList","onEditGroup","onDeleteGroup","onRenameGroup","onGroupAdded","onGroupsUpdated","onGroupRemoved","onGroupRenamed","ObjectGroupEditorDialog","ScrollView","EventsFunctionConfigurationEditor","_chooseTab","renderConfigurationHeader","EventsFunctionPropertiesEditor","EventsFunctionParametersEditor","ObjectGroupsListWithObjectGroupEditor_ObjectGroupsListWithObjectGroupEditor","ChangelogDialog","_lingui_react","Changelog","onUpdated","ChangelogDialogContainer","defaultOpen","ChangelogDialog_ChangelogDialog","PreferencesContext","verifyIfIsNewVersion","ChangelogDialogContainer_ChangelogDialogContainer","EVENTS_BASED_BEHAVIOR_CLIPBOARD_KIND","EventsBasedBehaviorsList","renamedEventsBasedBehavior","_deleteEventsBasedBehavior","askForConfirmation","_copyEventsBasedBehavior","_cutEventsBasedBehavior","_pasteEventsBasedBehavior","copiedEventsBasedBehavior","newEventsBasedBehavior","_renderEventsBasedBehaviorMenuTemplate","_addNewEventsBasedBehavior","toConsumableArray","filterEventsBasedBehaviorsList","SortableVirtualizedItemList","onAddNewItem","addNewItemLabel","UnknownEvent","unknownEvent","BuiltinCommonInstructions::Standard","BuiltinCommonInstructions::Group","BuiltinCommonInstructions::Comment","BuiltinCommonInstructions::ForEach","BuiltinCommonInstructions::Repeat","BuiltinCommonInstructions::While","WhileEvent","BuiltinCommonInstructions::Link","BuiltinCommonInstructions::JsCode","registerEvent","eventType","renderFunction","dropdownMenuContainer","poweredByText","indexName","appId","apiKey","algoliaOptions","hitsPerPage","DocSearchArea","client","algoliasearch","_handleSearchTextChange","_launchSearchRequest","debounce","search","query","params","hits","_renderResult","hierarchy","lvl0","lvl1","lvl2","lvl3","lvl4","lvl5","lvl6","objectID","content","visibility","HelpFinder","_sendHelpSearch","sendHelpSearch","sendHelpFinderOpened","DocSearchArea_DocSearchArea","EVENTS_FUNCTION_CLIPBOARD_KIND","EventsFunctionsList","renamedEventsFunction","_deleteEventsFunction","removeEventsFunction","moveEventsFunction","_copyEventsFunction","_cutEventsFunction","_pasteEventsFunction","copiedEventsFunction","newEventsFunction","insertNewEventsFunction","_renderEventsFunctionMenuTemplate","_addNewEventsFunction","eventsFunctionName","filterEventFunctionsList","getEventsFunctionAt","enumerateEventsFunctions","fs","setupAutocompletions","monaco","importAllJsFilesFromFolder","folderPath","readdir","filenames","endsWith","readFile","fileError","languages","typescript","javascriptDefaults","addExtraLib","findGDJS","gdjsRoot","runtimePath","extensionsPath","eventToolsPath","folderNames","folderName","monacoEditorOptions","scrollBeyondLastLine","minimap","monacoCompletionsInitialized","monacoThemesInitialized","CodeEditor","_React$Component","MonacoEditor","setupEditorThemes","themeData","defineTheme","setupEditorCompletions","setCompilerOptions","ScriptTarget","ES6","allowNonTsExtensions","allowJs","checkJs","_handleContextMenu","inherits","createClass","loadMonacoEditor","default","handleLoadError","theme","editorWillMount","editorDidMount","ExpressionParametersEditor","onChangeParameter","getNonCodeOnlyParametersCount","ExpressionParametersEditorDialog","onDone","ExpressionParametersEditor_ExpressionParametersEditor","editedIndex","oldValue","timeField","timeIcon","AnimationPreview","currentFrameIndex","currentFrameElapsedTime","paused","timeBetweenFrames","nextUpdate","replay","play","pause","_updateAnimation","spritesContainer","newFrameIndex","newFrameElapsedTime","count","onChangeTimeBetweenFrames","autoFocus","timer_default","time","precision","replay_default","play_arrow_default","pause_default","repeatContainer","repeatLabel","spacer","formatTime","Number","DirectionTools","timeError","previewOpen","saveTimeBetweenFrames","newTime","newTimeIsValid","isNaN","setLooping","openPreview","displayName","brush_default","repeat_default","labelStyle","AnimationPreview_AnimationPreview","GDIconMenu","menuImplementation","buildFromTemplate","showMenu","_onClick","ElectronMenuImplementation","MaterialUIMenuImplementation","iconMenuProps","material_ui_IconMenu__WEBPACK_IMPORTED_MODULE_7___default","desktop","disableAutoFocus","getMenuProps","material_ui_Paper__WEBPACK_IMPORTED_MODULE_2___default","initialPreferences","create_react_context__WEBPACK_IMPORTED_MODULE_0__","lastLaunchedVersion","createReactContext","app","process","isDarwin","test","tryPath","onExists","onNoAccess","access","constants","R_OK","appPath","getAppPath","cwd","pathToRoot","rootPath","devPath","AlertMessage","onHide","_Grid__WEBPACK_IMPORTED_MODULE_5__","material_ui_svg_icons_action_info__WEBPACK_IMPORTED_MODULE_3___default","material_ui_svg_icons_alert_warning__WEBPACK_IMPORTED_MODULE_4___default","material_ui__WEBPACK_IMPORTED_MODULE_6__","electronClipboard","internalClipboard","mangleClipboardKind","000kind","readText","SemiControlledAutoComplete","material_ui_AutoComplete__WEBPACK_IMPORTED_MODULE_7___default","defaultAutocompleteProps","onUpdateInput","onNewRequest","callback","_layout","angleInDegrees","layers","_Theme_ThemeConsumer__WEBPACK_IMPORTED_MODULE_8__","material_ui_IconButton__WEBPACK_IMPORTED_MODULE_7___default","iconStyle","gdevelopIconsCSSFilter","crossOrigin","initialUserProfile","limits","onEditObjectVariables","_index__WEBPACK_IMPORTED_MODULE_10__","VariablesContainer","autoComplete","_addFrom","_onUpdate","notExistingError","_onItemChosen","defaultItems","_editWith","resourceExternalEditor","initialResourceMetadata","initialResourceMetadataRaw","externalEditorOptions","newResourceData","newResourceName","_autoComplete","rightIcon","material_ui_svg_icons_content_add__WEBPACK_IMPORTED_MODULE_11___default","material_ui_Divider__WEBPACK_IMPORTED_MODULE_9___default","getKind","_getDefaultItems","autoCompleteData","externalEditors","_UI_Menu_IconMenu__WEBPACK_IMPORTED_MODULE_13__","material_ui_svg_icons_image_brush__WEBPACK_IMPORTED_MODULE_12___default","confirmResourcePath","_ResourcesLoader__WEBPACK_IMPORTED_MODULE_0__","_Utils_OptionalRequire_js__WEBPACK_IMPORTED_MODULE_1__","_Utils_OptionalRequire_js__WEBPACK_IMPORTED_MODULE_1___default","newlyCreatedResource","resourcePath","lastIndexOf","isPathInProjectFolder","includes","normalize","existsSync","newResource","setSmooth","filterGroupsList","enumerateGroups","enumerateObjectsAndGroups","_Utils_MapFor__WEBPACK_IMPORTED_MODULE_0__","lodash_flatten__WEBPACK_IMPORTED_MODULE_1__","lodash_flatten__WEBPACK_IMPORTED_MODULE_1___default","_Utils_TagsHelper__WEBPACK_IMPORTED_MODULE_2__","filterObject","extensionsList","hasStringAllTags","groupWithContext","getAt","filterGroup","containerGroups","containerGroupsList","projectGroups","projectGroupsList","allGroupsList","selectedTag","allTags","footerMenuItems","newTags","from","Set","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","return","_Renderers_RenderedUnknownInstance__WEBPACK_IMPORTED_MODULE_0__","_Renderers_RenderedSpriteInstance__WEBPACK_IMPORTED_MODULE_1__","_Renderers_RenderedTiledSpriteInstance__WEBPACK_IMPORTED_MODULE_2__","_Renderers_RenderedPanelSpriteInstance__WEBPACK_IMPORTED_MODULE_3__","_Renderers_RenderedTextInstance__WEBPACK_IMPORTED_MODULE_4__","_Renderers_RenderedShapePainterInstance__WEBPACK_IMPORTED_MODULE_5__","_Renderers_RenderedTextEntryInstance__WEBPACK_IMPORTED_MODULE_6__","_Renderers_RenderedParticleEmitterInstance__WEBPACK_IMPORTED_MODULE_7__","_PixiResourcesLoader__WEBPACK_IMPORTED_MODULE_8__","_ResourcesLoader__WEBPACK_IMPORTED_MODULE_9__","_Renderers_RenderedInstance__WEBPACK_IMPORTED_MODULE_10__","pixi_js__WEBPACK_IMPORTED_MODULE_11__","renderers","unknownObjectType","TiledSpriteObject::TiledSprite","PanelSpriteObject::PanelSprite","TextObject::Text","PrimitiveDrawing::Drawer","RenderedShapePainterInstance","TextEntryObject::TextEntry","RenderedTextEntryInstance","ParticleSystem::ParticleEmitter","PixiResourcesLoader","registerInstanceRenderer","mangleName","loadProjectEventsFunctionsExtensions","eventsFunctionCodeWriter","loadProjectEventsFunctionsExtension","getEventsFunctionsExtensionAt","skipCodeGeneration","generateEventsFunctionExtension","addNewExtension","PlatformExtension","declareExtension","codeNamespacePrefix","declareBehaviorMetadata","codeNamespace","setIncludeFile","getIncludeFileFor","behaviorMethodMangledNames","MapStringString","declareBehaviorPropertiesInstructionAndExpressions","eventsFunctionMangledName","instructionOrExpression","declareBehaviorInstructionOrExpressionMetadata","declareEventsFunctionParameters","getCodeExtraInformation","setFunctionName","includeFiles","SetString","behaviorCodeGenerator","BehaviorCodeGenerator","generateRuntimeBehaviorCompleteCode","includeFile","addIncludeFile","writeBehaviorCode","generateBehavior","generateFreeFunction","extensionOrBehaviorMetadata","eventsFunctionsExtensionOrEventsBasedBehavior","declareInstructionOrExpressionMetadata","addCodeOnlyParameter","codeExtraInformation","EventsCodeGenerator","generateEventsFunctionCode","writeFunctionCode","unloadProjectEventsFunctionsExtensions","removeExtension","getFunctionNameFromType","parts","getFreeEventsFunctionType","getParametersIndexOffset","isEventsBasedBehaviorMethod","material_ui_Paper__WEBPACK_IMPORTED_MODULE_1__","material_ui_Paper__WEBPACK_IMPORTED_MODULE_1___default","ThemableMiniToolbar","toolbarTextStyle","MiniToolbarText","ToolbarIcon","material_ui_Toolbar__WEBPACK_IMPORTED_MODULE_1__","_UI_Messages_MessageBox__WEBPACK_IMPORTED_MODULE_0__","lodash_values__WEBPACK_IMPORTED_MODULE_1__","lodash_values__WEBPACK_IMPORTED_MODULE_1___default","errors","addError","extraExplanation","defaultState","reloadProjectEventsFunctionsExtensions","addButton","InstructionsList","instructionContext","_Instruction__WEBPACK_IMPORTED_MODULE_7__","isInstructionSelected","instructionsListContext","addButtonDefaultLabel","_DropIndicator__WEBPACK_IMPORTED_MODULE_12__","popover","paddingBottom","contentContainer","InlinePopover","material_ui_Popover__WEBPACK_IMPORTED_MODULE_6___default","anchorOrigin","horizontal","vertical","targetOrigin","columnContainer","rowContainer","fieldContainer","subPropertiesEditorContainer","subHeader","getFieldValue","getFieldLabel","_onInstancesModified","onInstancesModified","_renderInputField","_UI_InlineCheckbox__WEBPACK_IMPORTED_MODULE_7__","_UI_SemiControlledTextField__WEBPACK_IMPORTED_MODULE_6__","material_ui_svg_icons_image_edit__WEBPACK_IMPORTED_MODULE_14___default","_renderSelectField","material_ui_FlatButton__WEBPACK_IMPORTED_MODULE_11___default","_renderResourceField","_ResourcesList_ResourceSelector__WEBPACK_IMPORTED_MODULE_8__","material_ui_Subheader__WEBPACK_IMPORTED_MODULE_10___default","onUpdateProperty","propertyNames","charAt","toUpperCase","imagePreviewContainer","border","overlayContainer","box","_handleError","errored","_handleImageLoaded","imgElement","clientWidth","clientHeight","imageSource","scrollTop","scrollLeft","overlayStyle","canDisplayOverlays","onLoad","lodash_every__WEBPACK_IMPORTED_MODULE_1__","lodash_every__WEBPACK_IMPORTED_MODULE_1___default","hasValidAnimation","hasValidDirection","copyPoint","originalPoint","destinationPoint","destinationSprite","isSamePoint","point1","point2","sprite1","sprite2","sprite1Point","getPoint","originalPolygon","haveSameCollisionMasks","sprite1CollisionMask","sprite2CollisionMask","sprite1Polygon","polygon1","polygon2","polygon1Vertices","polygon2Vertices","isSamePolygon","spritePtrs","spritesToDelete","removeSprite","spritesToDuplicate","spriteToDuplicate","newSprite","makeCommonItem","Icon","rest","_Users_florian_Projects_F_GD_newIDE_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__","react__WEBPACK_IMPORTED_MODULE_2___default","_UI_EmptyMessage__WEBPACK_IMPORTED_MODULE_6__","Add","Search","getLayoutAt","getExternalEventsAt","getExternalLayoutAt","textFieldContainer","textFieldAndHightlightContainer","expressionSelector","backgroundHighlighting","backgroundHighlightingWithDescription","functionsButton","functionsButtonWithDescription","_fieldElement","_inputElement","popoverOpen","parametersDialogOpen","selectedExpressionInfo","validatedValue","errorHighlights","_openExpressionPopover","_handleFocus","_handleRequestClose","_handleChange","_enqueueValidation","_handleBlur","cancel","_handleMenuMouseDown","_handleExpressionChosen","insertExpression","cursorPosition","selectionStart","functionCall","substr","setSelectionRange","parser","ExpressionParser2","expressionNode","parseExpression","expressionValidator","ExpressionValidator","visit","getStartPosition","getEndPosition","getMessage","hasMultipleErrors","popoverStyle","backgroundHighlightingStyle","_BackgroundHighlighting__WEBPACK_IMPORTED_MODULE_16__","material_ui_Popover__WEBPACK_IMPORTED_MODULE_8___default","canAutoPosition","useLayerForClickAway","_InstructionEditor_InstructionOrExpressionSelector_ExpressionSelector__WEBPACK_IMPORTED_MODULE_13__","material_ui_RaisedButton__WEBPACK_IMPORTED_MODULE_10___default","material_ui_svg_icons_editor_functions__WEBPACK_IMPORTED_MODULE_9___default","_ExpressionParametersEditorDialog__WEBPACK_IMPORTED_MODULE_14__","PhysicsBehavior::PhysicsBehavior","Video::VideoObject","setExtensionInformation","generatedBehavior","BehaviorJsImplementation","propertyFound","element","propertyType","setStringValue","setDoubleValue","setBoolValue","behaviorProperties","MapStringPropertyDescriptor","newProperty","toPropertyDescriptor","hasChild","getChild","getStringValue","getDoubleValue","getBoolValue","initializeContent","BehaviorsSharedData","functionType","getFunctionType","Expression","addExpression","StringExpression","addStrExpression","Condition","addCondition","getSentence","addAction","addScopedCondition","addScopedAction","addObjectAndBehaviorParameters","addParameter","setExtraInfo","setPrivate","getterName","getBehaviorPropertyGetterName","setterName","getBehaviorPropertySetterName","propertyLabel","EventsBasedBehavior","getPropertyExpressionName","getPropertyConditionName","setManipulatedType","getPropertyActionName","setGetter","getParameters","isOptional","addRightNode","currentNode","newNode","defaultToolbarControls","_CloseButton__WEBPACK_IMPORTED_MODULE_8__","renderMosaicWindowPreview","MosaicWindow","react_mosaic_component__WEBPACK_IMPORTED_MODULE_7__","renderPreview","EditorMosaic","editorName","getLeaves","mosaicNode","_onChange","_Theme_ThemeConsumer__WEBPACK_IMPORTED_MODULE_9__","mosaicRootClassName","renderTile","cloneElement","_Editors_TextEditor__WEBPACK_IMPORTED_MODULE_0__","_Editors_TiledSpriteEditor__WEBPACK_IMPORTED_MODULE_1__","_Editors_PanelSpriteEditor__WEBPACK_IMPORTED_MODULE_2__","_Editors_SpriteEditor__WEBPACK_IMPORTED_MODULE_3__","_Editors_EmptyEditor__WEBPACK_IMPORTED_MODULE_4__","_Editors_ShapePainterEditor__WEBPACK_IMPORTED_MODULE_5__","_Editors_ParticleEmitterEditor__WEBPACK_IMPORTED_MODULE_6__","_Editors_ObjectPropertiesEditor__WEBPACK_IMPORTED_MODULE_7__","editorConfigurations","registerEditorConfiguration","getDefaultObjectJsImplementationPropertiesEditor","asObjectJsImplementation","release","SpriteObject","TiledSpriteObject","PanelSpriteObject","TextObject","ShapePainterEditor","ShapePainterObject","TextEntryObject","asTextEntryObject","getUrl","buildElectron","buildCordovaAndroid","getBuild","getBuilds","axios__WEBPACK_IMPORTED_MODULE_0__","axios__WEBPACK_IMPORTED_MODULE_0___default","_ApiConfigs__WEBPACK_IMPORTED_MODULE_1__","userId","targets","authorizationHeader","axios","post","GDevelopBuildApi","baseUrl","headers","Authorization","response","buildId","ResourceThumbnail","ImageThumbnail","ResourceSelectorWithThumbnail","ResourceThumbnail_ResourceThumbnail","drawerContent","MainFrame","createDialogOpen","introDialogOpen","saveDialogOpen","genericDialogOpen","loadingProject","previewLoading","currentProject","projectManagerOpen","editorTabs","genericDialog","snackMessage","snackMessageOpen","preferencesDialogOpen","languageDialogOpen","profileDialogOpen","subscriptionDialogOpen","platformSpecificAssetsDialogOpen","helpFinderDialogOpen","_resourceSourceDialogs","_previewLauncher","_providers","_loadExtensions","extensionsLoader","loadAllExtensions","getNotNullTranslationFunction","loadingResults","successLoadingResults","loadingResult","failLoadingResults","dangerous","dangerousLoadingResults","loadFromSerializedProject","serializedProject","timeFunction","newProject","ProjectHelper","createNewGDJSProject","unserializeFrom","closeProject","loadFromProject","burstAllUrlsCache","openFromPathOrURL","shouldOpenAutosave","projectFilePath","autoSavePath","onReadFromPathOrURL","projectObject","setProjectFile","openSceneOrProjectManager","openProjectManager","getSerializedElements","refs","setEditorToolbar","addLayout","addExternalLayout","addExternalEvents","addEventsFunctionsExtension","deleteLayout","removeLayout","deleteExternalLayout","removeExternalLayout","deleteExternalEvents","removeExternalEvents","deleteEventsFunctionsExtension","removeEventsFunctionsExtension","renameLayout","renameExternalLayout","renameExternalEvents","renameEventsFunctionsExtension","_launchLayoutPreview","watchPromiseInState","_Users_florian_Projects_F_GD_newIDE_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__","_handlePreviewResult","launchLayoutPreview","_launchExternalLayoutPreview","launchExternalLayoutPreview","previewPromise","openLayout","_ref$openEventsEditor","openEventsEditor","_ref$openSceneEditor","openSceneEditor","onAutoSaveProject","sceneEditorOptions","_Preferences_PreferencesContext__WEBPACK_IMPORTED_MODULE_48__","_Editors_SceneEditor__WEBPACK_IMPORTED_MODULE_34__","previewLauncher","canDoNetworkPreview","openDebugger","integratedEditor","_onChooseResource","eventsEditorOptions","_Editors_EventsEditor__WEBPACK_IMPORTED_MODULE_32__","openExternalEvents","_openInstructionOrExpression","_onCreateEventsFunction","tabsWithSceneEditor","tabsWithSceneAndEventsEditors","_Editors_ExternalEventsEditor__WEBPACK_IMPORTED_MODULE_33__","externalEventsName","openExternalLayout","_Editors_ExternalLayoutEditor__WEBPACK_IMPORTED_MODULE_35__","externalLayoutName","openEventsFunctionsExtension","_ref9","_Editors_EventsFunctionsExtensionEditor__WEBPACK_IMPORTED_MODULE_36__","eventsFunctionsExtensionName","onLoadEventsFunctionsExtensions","openResources","_ref10","_Editors_ResourcesEditor__WEBPACK_IMPORTED_MODULE_38__","openStartPage","_ref11","_Editors_StartPage__WEBPACK_IMPORTED_MODULE_37__","onChooseProject","chooseProject","openCreateDialog","askToCloseProject","openAboutDialog","openHelpFinderDialog","openLanguage","_ref12","_Editors_DebuggerEditor__WEBPACK_IMPORTED_MODULE_31__","openSubscription","foundTab","insertEventsFunction","filepath","save","saveDialog","_openSaveDialog","_showSnackMessage","openExportDialog","_openIntroDialog","_openGenericDialog","openPreferences","openProfile","_onChangeEditorTab","_onEditorTabActive","_onCloseEditorTab","sourceName","multiSelection","resourceSourceDialog","chooseResources","openPlatformSpecificAssets","setUpdateStatus","notificationTitle","getUpdateNotificationTitle","notificationBody","getUpdateNotificationBody","Notification","onclick","releaseName","_closeSnackMessage","initialPathsOrURLsToOpen","introDialog","reloadBuiltinExtensions","exportDialog","createDialog","authentification","showLoader","loading","_ProjectTitlebar__WEBPACK_IMPORTED_MODULE_14__","material_ui_Drawer__WEBPACK_IMPORTED_MODULE_10___default","containerStyle","_UI_EditorBar__WEBPACK_IMPORTED_MODULE_20__","showMenuIconButton","iconElementRight","material_ui_svg_icons_navigation_close__WEBPACK_IMPORTED_MODULE_12___default","_ProjectManager__WEBPACK_IMPORTED_MODULE_17__","_UI_EmptyMessage__WEBPACK_IMPORTED_MODULE_44__","_Toolbar__WEBPACK_IMPORTED_MODULE_13__","_UI_Tabs__WEBPACK_IMPORTED_MODULE_25__","onActive","_UI_ErrorBoundary__WEBPACK_IMPORTED_MODULE_39__","_UI_LoaderModal__WEBPACK_IMPORTED_MODULE_19__","_HelpFinder__WEBPACK_IMPORTED_MODULE_30__","material_ui_Snackbar__WEBPACK_IMPORTED_MODULE_11___default","autoHideDuration","_PlatformSpecificAssetsEditor_PlatformSpecificAssetsDialog__WEBPACK_IMPORTED_MODULE_18__","onExport","resourceSource","dialog","_Profile_ProfileDialog__WEBPACK_IMPORTED_MODULE_22__","_Profile_SubscriptionDialog__WEBPACK_IMPORTED_MODULE_40__","_Preferences_PreferencesDialog__WEBPACK_IMPORTED_MODULE_15__","_Preferences_LanguageDialog__WEBPACK_IMPORTED_MODULE_47__","languageChanged","_languageDidChange","_AboutDialog__WEBPACK_IMPORTED_MODULE_16__","_UI_CloseConfirmDialog__WEBPACK_IMPORTED_MODULE_21__","_Changelog_ChangelogDialogContainer__WEBPACK_IMPORTED_MODULE_45__","gdCoreVersionString","VersionWrapper","fullString","ideVersionString","_temp","_apply","serializableObject","serializeTo","_cancel","_objectSpread2","material_ui_svg_icons_editor_drag_handle__WEBPACK_IMPORTED_MODULE_1__","material_ui_svg_icons_editor_drag_handle__WEBPACK_IMPORTED_MODULE_1___default","react_sortable_hoc__WEBPACK_IMPORTED_MODULE_2__","handle","handleColor","SortableHandle","emptyExplanation","iconText","thanksText","SubscriptionCheckDialog","_closeDialog","sendSubscriptionCheckDismiss","sendSubscriptionCheckDialogShown","material_ui_svg_icons_toggle_star__WEBPACK_IMPORTED_MODULE_10___default","material_ui_svg_icons_action_favorite__WEBPACK_IMPORTED_MODULE_11___default","_dialog","_UserProfileContext__WEBPACK_IMPORTED_MODULE_12__","_MainFrame_Preferences_PreferencesContext__WEBPACK_IMPORTED_MODULE_1__","_AlertMessage__WEBPACK_IMPORTED_MODULE_2__","material_ui_CircularProgress__WEBPACK_IMPORTED_MODULE_1__","material_ui_CircularProgress__WEBPACK_IMPORTED_MODULE_1___default","progress","textFieldStyle","menuProps","popoverProps","fuzzyOrEmptyFilter","orDivider","_UI_Grid__WEBPACK_IMPORTED_MODULE_4__","material_ui_RaisedButton__WEBPACK_IMPORTED_MODULE_3___default","EventsSheet","_keyboardShortcuts","inlineEditing","editedInstruction","copySelection","cutSelection","pasteEventsOrInstructions","onSearch","_toggleSearchPanel","history","getHistoryInitialState","historyMaxSize","editedParameter","inlineEditingAnchorEl","inlineEditingChangesMade","analyzedEventsContextResult","serializedEventsToExtract","showSearchPanel","_eventSearcher","reset","_searchPanel","addSubEvents","getSelectedEvents","insertNewEvent","_saveChangesToHistory","_eventsTree","_selectionCanHaveSubEvents","_selectionCanToggleDisabled","isExecutable","addNewEvent","context","hasEventsSelected","newEvents","getSelectedEventContexts","selectedEvent","scrollToEvent","openInstructionEditor","moveSelectionToInstruction","destinationContext","moveSelectionToInstructionsList","selectedInstructions","getSelectedInstructions","destinationIndex","deleteEvents","selectEvent","eventContext","multiSelect","openEventContextMenu","eventContextMenu","openInstructionContextMenu","selectInstruction","instructionContextMenu","openInstructionsListContextMenu","selectInstructionsList","instructionsListContextMenu","openParameterEditor","parameterContext","closeParameterEditor","toggleDisabled","setDisabled","_ref$deleteInstructio","deleteInstructions","_ref$deleteEvents","eventsRemover","EventsRemover","addEventToRemove","addInstructionToRemove","launch","EventsList","pasteEvents","insertEvents","pasteInstructions","hasInstructionSelected","hasInstructionsListSelected","getSelectedInstructionsContexts","insertInstructions","getSelectedInstructionsListsContexts","_invertSelectedConditions","saveToHistory","newHistory","_openEventsContextAnalyzer","eventsContextAnalyzer","EventsContextAnalyzer","getEventsContext","_closeEventsContextAnalyzer","extractEventsToFunction","_replaceSelectionByEventsFunction","contexts","action","createNewInstructionForEventsFunction","_ensureEventUnfolded","unfoldForEvent","_replaceInEvents","doReplaceInEvents","inputs","_searchInEvents","doSearchInEvents","_onEventMoved","_Toolbar__WEBPACK_IMPORTED_MODULE_8__","hasSomethingSelected","networkPreview","saveChanges","_MainFrame_Preferences_PreferencesContext__WEBPACK_IMPORTED_MODULE_23__","_EventsSearcher__WEBPACK_IMPORTED_MODULE_20__","eventSearcher","_EventsTree__WEBPACK_IMPORTED_MODULE_6__","onAddNewEvent","_SearchPanel__WEBPACK_IMPORTED_MODULE_19__","searchPanel","_EmptyEventsPlaceholder__WEBPACK_IMPORTED_MODULE_16__","_InlineParameterEditor__WEBPACK_IMPORTED_MODULE_10__","_this4$state$editedPa","_UI_Menu_ContextMenu__WEBPACK_IMPORTED_MODULE_11__","hasSelectedAtLeastOneCondition","_InstructionEditor_InstructionEditorDialog__WEBPACK_IMPORTED_MODULE_7__","closeInstructionEditor","_this4$state$editedIn","_EventsContextAnalyzerDialog__WEBPACK_IMPORTED_MODULE_18__","_EventsFunctionExtractor_EventsFunctionExtractorDialog__WEBPACK_IMPORTED_MODULE_24__","selectedEvents","selectedInstructionsLists","existingSelection","isInstructionsListSelected","_ParameterFields_DefaultField__WEBPACK_IMPORTED_MODULE_1__","_ParameterFields_RelationalOperatorField__WEBPACK_IMPORTED_MODULE_2__","_ParameterFields_OperatorField__WEBPACK_IMPORTED_MODULE_3__","_ParameterFields_MouseField__WEBPACK_IMPORTED_MODULE_4__","_ParameterFields_KeyField__WEBPACK_IMPORTED_MODULE_5__","_ParameterFields_ObjectField__WEBPACK_IMPORTED_MODULE_6__","_ParameterFields_YesNoField__WEBPACK_IMPORTED_MODULE_7__","_ParameterFields_TrueFalseField__WEBPACK_IMPORTED_MODULE_8__","_ParameterFields_ExpressionField__WEBPACK_IMPORTED_MODULE_9__","_ParameterFields_StringField__WEBPACK_IMPORTED_MODULE_10__","_ParameterFields_StringWithSelectorField__WEBPACK_IMPORTED_MODULE_11__","_ParameterFields_BehaviorField__WEBPACK_IMPORTED_MODULE_12__","_ParameterFields_SceneVariableField__WEBPACK_IMPORTED_MODULE_13__","_ParameterFields_GlobalVariableField__WEBPACK_IMPORTED_MODULE_14__","_ParameterFields_ObjectVariableField__WEBPACK_IMPORTED_MODULE_15__","_ParameterFields_LayerField__WEBPACK_IMPORTED_MODULE_16__","_ParameterFields_AudioResourceField__WEBPACK_IMPORTED_MODULE_17__","_ParameterFields_VideoResourceField__WEBPACK_IMPORTED_MODULE_18__","_ParameterFields_ColorExpressionField__WEBPACK_IMPORTED_MODULE_19__","_ParameterFields_ForceMultiplierField__WEBPACK_IMPORTED_MODULE_20__","_ParameterFields_SceneNameField__WEBPACK_IMPORTED_MODULE_21__","DefaultField","mouse","MouseField","ObjectField","relationalOperator","operator","yesorno","trueorfalse","string","stringWithSelector","scenevar","globalvar","objectvar","musicfile","soundfile","videoResource","ColorExpressionField","police","joyaxis","forceMultiplier","sceneName","inlineRenderers","renderInlineObjectWithThumbnail","fieldType","ParameterMetadata","isObject","rawType","_allowedObjectType","_ObjectsList_ObjectSelector__WEBPACK_IMPORTED_MODULE_7__","allowedObjectType","errorTextIfInvalid","swatch","boxShadow","cover","ColorPicker","displayColorPicker","handleClick","handleClose","displayedColor","react_color__WEBPACK_IMPORTED_MODULE_8__","MaterialUIContextMenu","anchorX","anchorY","_onClose","material_ui_Popover__WEBPACK_IMPORTED_MODULE_7___default","material_ui_Menu__WEBPACK_IMPORTED_MODULE_6___default","ElectronContextMenu","material_ui_Checkbox__WEBPACK_IMPORTED_MODULE_1__","material_ui_Checkbox__WEBPACK_IMPORTED_MODULE_1___default","root","picker","ColorField","_ColorPicker__WEBPACK_IMPORTED_MODULE_9__","fn","onResult","t0","performance","makeTimestampedId","random","delay","ms","BuildsWatcher","runningWatchers","nextWatcherId","_pollBuild","_callee","waitTime","watcherId","build","_this$userProfile","regenerator_default","wrap","_context","prev","abrupt","sent","onBuildUpdated","builds","ThemableItemRow","errorStatus","selectedErrorBackgroundColor","selectedWarningBackgroundColor","errorTextColor","warningTextColor","_renderItemMenu","ItemRow","AddItemRow","SortableItemRow","SortableVirtualizedItemList_ItemRow","SortableAddItemRow","ItemsList","SortableItemsList","enumerateVariables","enumerateVariableAndChildrenNames","names","getAllChildrenNames","childName","getNameAt","moreButton","VariableField","variableName","open_in_new_default","iconPath","template","menuTemplate","dimensions","Menu","browserWindow","menu","popup","async","material_ui_Divider__WEBPACK_IMPORTED_MODULE_4___default","material_ui_MenuItem__WEBPACK_IMPORTED_MODULE_3___default","insetChildren","material_ui_svg_icons_navigation_arrow_drop_right__WEBPACK_IMPORTED_MODULE_6___default","menuItems","_Utils_Platform__WEBPACK_IMPORTED_MODULE_0__","isMobile","isMacLike","BackgroundText","textShadow","emptyMessage","shadowColor","SortableVariableRow","SortableAddVariableRow","VariablesListBody","SortableVariablesListBody","VariablesList","selectedVariables","_selectVariable","variableAndName","serializedVariable","paste","newVariable","Variable","otherVariableAndName","contains","removeRecursively","_updateOrDefineVariable","_getVariableOrigin","parentVariable","_renderVariableAndChildrenRows","parentOrigin","renameChild","rename","_renderVariableChildren","containerInheritedVariablesTree","containerVariablesTree","editRow","TreeTableRow","TreeTableCell","chipsList","flexWrap","SearchbarWithChips","material_ui_search_bar__WEBPACK_IMPORTED_MODULE_10___default","material_ui_Chip__WEBPACK_IMPORTED_MODULE_6___default","labelColor","randomColor","seed","luminosity","material_ui_AutoComplete__WEBPACK_IMPORTED_MODULE_0__","material_ui_AutoComplete__WEBPACK_IMPORTED_MODULE_0___default","AutoComplete","fuzzyFilter","SPRITE_SIZE","spriteThumbnail","checkboxContainer","imageThumbnail","selectedBorderColor","material_ui_Checkbox__WEBPACK_IMPORTED_MODULE_2___default","material_ui_AppBar__WEBPACK_IMPORTED_MODULE_1__","material_ui_AppBar__WEBPACK_IMPORTED_MODULE_1___default","iconStyleLeft","iconStyleRight","EventsEditor","getLayoutSerializedElements","DropIndicator","ObjectSelector","objectAndGroups","groups","_Users_florian_Projects_F_GD_newIDE_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_6__","material_ui_Divider__WEBPACK_IMPORTED_MODULE_10___default","getObjectsAndGroupsDataSource","hasValidObject","_UI_SemiControlledAutoComplete__WEBPACK_IMPORTED_MODULE_12__","getDefaultValue","SelectableList","makeSelectable","groupListItemNestedList","_computeSearchResults","lowercaseSearch","instructionInfo","_matchCritera","_onSubmitSearch","_renderSearchResults","instructionInfoTree","instructionOrGroup","instructionInformation","_UI_ListIcon__WEBPACK_IMPORTED_MODULE_8__","groupOfInstructionInformation","isDeprecated","useSubheaders","material_ui__WEBPACK_IMPORTED_MODULE_11__","_renderTree","deprecatedGroupTextColor","groupTextColor","_UI_Theme_ThemeConsumer__WEBPACK_IMPORTED_MODULE_10__","tree","compact","groupInfo","existingGroupInfo","getNamespaceSeparator","enumeratedInstructionOrExpressionMetadata","objectParameterIndex","ParameterMetadataTools","getObjectParameterIndexFor","shortenString","maxLength","_RenderedInstance","RenderedIconInstance","loadedFontFamilies","loadedTextures","invalidTexture","asImageResource","isSmooth","baseTexture","NEAREST","onProgress","onComplete","loader","removeAllListeners","allResources","totalCount","loadingCount","once","loadedResources","_initializeTexture","fromVideo","LINEAR","slugs","fullFilename","loadedFace","CTRL_KEY","SHIFT_KEY","LEFT_KEY","UP_KEY","RIGHT_KEY","DOWN_KEY","BACKSPACE_KEY","SPACE_KEY","DELETE_KEY","EQUAL_KEY","MINUS_KEY","NUMPAD_ADD","NUMPAD_SUBSTRACT","C_KEY","F_KEY","V_KEY","X_KEY","Y_KEY","Z_KEY","MID_MOUSE_BUTTON","_isControlPressed","metaPressed","rawCtrlPressed","_onKeyDown","evt","isFocused","metaKey","altKey","altPressed","which","shiftPressed","spacePressed","closest","_onKeyUp","_onMouseDown","mouseMidButtonPressed","_onKeyPress","_noop","mount","removeEventListener","undoHistory","redoHistory","maxSize","newUndoHistory","newCurrent","setFunctionType","Action","objectNames","parameterGroups","referencedObjectOrGroupName","parameterGroupNames","parameterObjectNames","newParameter","_addParameter","_removeParameter","removeFromVectorParameterMetadata","isParameterDisabled","isParameterDescriptionAndTypeShown","parametersIndexOffset","_UI_MiniToolbar__WEBPACK_IMPORTED_MODULE_18__","_UI_SemiControlledTextField__WEBPACK_IMPORTED_MODULE_17__","validateParameterName","_ObjectTypeSelector__WEBPACK_IMPORTED_MODULE_20__","_BehaviorTypeSelector__WEBPACK_IMPORTED_MODULE_21__","_UI_HelpButton__WEBPACK_IMPORTED_MODULE_16__","ObjectTypeSelector","getDefaultName","getSentenceErrorText","sentence","missingParameters","isBehavior","expectedString","_UI_EmptyMessage__WEBPACK_IMPORTED_MODULE_14__","setSentence","_UI_HelpButton__WEBPACK_IMPORTED_MODULE_11__","CloseButton","react_mosaic_component__WEBPACK_IMPORTED_MODULE_8__","mosaicActions","mosaicWindowActions","getPath","material_ui_svg_icons_navigation_close__WEBPACK_IMPORTED_MODULE_7___default","_onBehaviorEdited","_EventsFunctionsExtensionEditor__WEBPACK_IMPORTED_MODULE_6__","___WEBPACK_IMPORTED_MODULE_8__","ObjectGroup","layoutChooserOpen","setAssociatedLayout","openLayoutChooser","getAssociatedLayout","_EventsSheet__WEBPACK_IMPORTED_MODULE_8__","_UI_PlaceholderMessage__WEBPACK_IMPORTED_MODULE_11__","_LayoutChooserDialog__WEBPACK_IMPORTED_MODULE_13__","helpText","LayoutChooserDialog","selectedLayoutName","material_ui_RadioButton__WEBPACK_IMPORTED_MODULE_8__","valueSelected","chooseLayout","getAssociatedSettings","getUiSettings","getInitialInstances","uiSettings","_SceneEditor__WEBPACK_IMPORTED_MODULE_9__","initialUiSettings","material_ui_RaisedButton__WEBPACK_IMPORTED_MODULE_8___default","INSTANCES_CLIPBOARD_KIND","FullSizeInstancesEditor","InstancesEditor","SceneEditor","editorMosaic","showObjectsListInfoBar","showPropertiesInfoBar","instancesListOpen","layersListOpen","setupGridOpen","openSceneProperties","scenePropertiesDialogOpen","openObjectEditor","hasSelectedInstances","selectedInstanceObjectName","editObjectByName","variablesEditedInstance","editObjectVariables","editLayoutVariables","layoutVariablesDialogOpen","editedObject","editedObjectWithContext","_onStartDraggingObjectFromList","objectDraggedFromList","_onEndDraggingObjectFromList","canDropDraggedObject","_onPointerOverInstancesEditor","_onPointerOutInstancesEditor","_onPointerUpInstancesEditor","_addInstance","setUiSettings","forceRemount","_onObjectSelected","selectedObjectName","_createNewObjectAndInstanceUnderCursor","newObjectInstancePosition","_objectsList","_onAddInstanceUnderCursor","objectSelected","insertNewInitialInstance","zOrderFinder","getHighestZOrder","_onInstancesSelected","uniq","forceUpdatePropertiesEditor","_onInstancesMoved","_onInstancesResized","_onInstancesRotated","_onSelectInstances","centerView","centerViewOn","_addNewObjectInstance","_onRemoveLayer","layerRemoveDialogOpen","onCloseLayerRemoveDialog","newLayer","removeAllInstancesOnLayer","moveInstancesToLayer","_onRenameLayer","_onDeleteObject","answer","globalObjectRemoved","objectRemovedInLayout","_canObjectUseNewName","_onRenameEditedObject","_onRenameObject","globalObjectRenamed","objectRenamedInLayout","removeInstance","contextMenu","useLastCursorPosition","serializedSelection","serializedInstance","forceUpdateObjectsList","_propertiesEditor","reloadResourcesFor","resourcesInUse","ResourcesInUseHelper","exposeResources","objectResourceNames","getAllImages","loadTextures","_getAllObjectTags","_this$props6","tagsSet","_buildObjectTagsMenuTemplate","objectsListOpen","HighestZOrderFinder","_Toolbar__WEBPACK_IMPORTED_MODULE_23__","_this$props7","_UI_EditorMosaic__WEBPACK_IMPORTED_MODULE_31__","_InstancesEditor_InstancePropertiesEditor__WEBPACK_IMPORTED_MODULE_13__","propertiesEditor","instances-editor","objects-list","_UI_EditorMosaic_TagsButton__WEBPACK_IMPORTED_MODULE_42__","_UI_EditorMosaic_CloseButton__WEBPACK_IMPORTED_MODULE_43__","_ObjectsList__WEBPACK_IMPORTED_MODULE_9__","objectsList","object-groups-list","_ObjectGroupsList__WEBPACK_IMPORTED_MODULE_10__","_ObjectEditor_ObjectEditorDialog__WEBPACK_IMPORTED_MODULE_18__","tryName","_ObjectGroupEditor_ObjectGroupEditorDialog__WEBPACK_IMPORTED_MODULE_19__","material_ui_Drawer__WEBPACK_IMPORTED_MODULE_28___default","openSecondary","_UI_EditorBar__WEBPACK_IMPORTED_MODULE_32__","iconElementLeft","material_ui_IconButton__WEBPACK_IMPORTED_MODULE_29___default","material_ui_svg_icons_navigation_close__WEBPACK_IMPORTED_MODULE_30___default","_InstancesEditor_InstancesList__WEBPACK_IMPORTED_MODULE_14__","_LayersList__WEBPACK_IMPORTED_MODULE_15__","_UI_Messages_InfoBar__WEBPACK_IMPORTED_MODULE_33__","_SetupGridDialog__WEBPACK_IMPORTED_MODULE_21__","_VariablesList_VariablesEditorDialog__WEBPACK_IMPORTED_MODULE_17__","_LayersList_LayerRemoveDialog__WEBPACK_IMPORTED_MODULE_16__","_ScenePropertiesDialog__WEBPACK_IMPORTED_MODULE_22__","_UI_Menu_ContextMenu__WEBPACK_IMPORTED_MODULE_34__","viewX","viewY","viewRotation","gridSize","gridOffset","SpriteSelector","getPointer","InfoBar","handleGotIt","messageId","localStorage","setItem","dismissed","hidden","material_ui_Snackbar__WEBPACK_IMPORTED_MODULE_7___default","onActionClick","SceneEditorContainer","_SceneEditor__WEBPACK_IMPORTED_MODULE_7__","stateField","getUserUsages","getUserLimits","getUserSubscription","GDevelopUsageApi","newSubscriptionDetails","i18nModule","buildTypesConfig","cordova-build","estimatedTimeInSeconds","completeDescription","electron-build","onDownload","config","secondsSinceLastUpdate","difference_in_seconds","updatedAt","estimatedRemainingTime","material_ui_RaisedButton__WEBPACK_IMPORTED_MODULE_2___default","_UI_EmptyMessage__WEBPACK_IMPORTED_MODULE_5__","material_ui_LinearProgress__WEBPACK_IMPORTED_MODULE_7___default","material_ui_FlatButton__WEBPACK_IMPORTED_MODULE_3___default","searchableExamplesInformation","ExamplesInformation","exampleName","exampleInformation","searchableDescription","LocalExamples","changeSearchText","chooseExtensionName","_ExamplesSearchbar__WEBPACK_IMPORTED_MODULE_12__","material_ui_List__WEBPACK_IMPORTED_MODULE_10__","exampleNames","extensionUsage","exampleFullName","getExampleInformation","onCreateFromExample","_UI_PlaceholderLoader__WEBPACK_IMPORTED_MODULE_11__","_submitExample","material_ui_SvgIcon__WEBPACK_IMPORTED_MODULE_1__","material_ui_SvgIcon__WEBPACK_IMPORTED_MODULE_1___default","runExtensionSanityTests","jsExtensionModule","testResults","rawError","loadExtension","createExtension","ex","testsResult","_React$PureComponent","onPlay","onPause","canPlay","canPause","onOpenProfiler","material_ui_Toolbar","ToolbarSeparator","InspectorsList","gameData","getInspectorDescriptions","inspectorDescription","fullInspectorPath","getSubInspectors","_renderInspectorList","onChooseInspector","transformVariable","_isStructure","_children","mapValues","_stringDirty","_value","_str","VariablesContainerInspector","main_default","collapsed","_variables","items","enableClipboard","displayDataTypes","displayObjectSize","onCall","namespace","new_value","handleEdit","groupArraysAfterLength","RuntimeObjectInspector","runtimeObject","X position","Y position","Angle","Layer","Z order","Is hidden?","transformLayer","Camera rotation (in deg)","_cameraRotation","Camera zoom","_zoomFactor","Layer is hidden","_hidden","Camera X position","_cameraX","Camera Y position","_cameraY","Time scale","_timeScale","runtimeScene","_timeManager","Layers","_layers","RuntimeSceneInspector","_objects","AutoComplete_default","gdjsRuntimeGame","renderInspector","gdjsStack","_name","RuntimeSceneInspector_RuntimeSceneInspector","instancesList","RawContentInspector","MeasuresTable","collapsedPaths","_convertToDataRows","parentSection","section","profilerMeasures","parentPercent","totalPercent","isCollapsed","_isSectionCollapsed","hasSubsections","subsections","flatMap","subsection","subsectionName","_toggleSection","_renderSectionNameCell","rowData","chevron_right_default","expand_more_default","dataRows","cellRenderer","tableContainer","Profiler","onStart","onStop","profilerOutput","profilingInProgress","stats","framesCount","RaisedButton_RaisedButton_default","LinearProgress_default","MeasuresTable_MeasuresTable","framesAverageMeasures","DebuggerContent","selectedInspector","selectedInspectorFullPath","rawMode","openProfiler","onStartProfiler","onStopProfiler","inspectors","InspectorsList_InspectorsList","selected-inspector","flash_on_default","flash_off_default","profiler","Profiler_Profiler","DebuggerSelector","hasDebuggers","debuggerIds","selectedId","onChooseDebugger","ipcRenderer","Debugger","debuggerServerStarted","debuggerServerError","debuggerGameData","profilerOutputs","_debuggerContents","_removeServerListeners","_startServer","remainingDebuggerIds","debuggerId","_handleMessage","send","command","payload","_play","_pause","_refresh","_edit","_call","_startProfiler","_stopProfiler","_hasSelectedDebugger","Debugger_Toolbar","PlaceholderMessage","DebuggerSelector_DebuggerSelector","DebuggerContent_DebuggerContent","debuggerContent","DebuggerEditor","subscriptionChecked","_checkHasSubscription","Debugger_Debugger","TomorrowNight","base","inherit","rules","foreground","editor.foreground","editor.background","editor.selectionBackground","editor.lineHighlightBackground","editorCursor.foreground","editorWhitespace.foreground","Monokai","editorIndentGuide.activeBackground","editor.selectionHighlightBorder","Tomorrow","SolarizedDark","SolarizedLight","VibrantInk","GitHub","DragDropContextProvider","DragDropContext","HTML5Backend","RightLoader","CircularProgress_default","getEmailErrorText","getPasswordErrorText","LoginDialog","form","password","_onLogin","_onCreateAccount","onCreateAccount","_onForgotPassword","onForgotPassword","createAccountInProgress","loginInProgress","resetPasswordDialogOpen","onCloseResetPasswordDialog","forgotPasswordInProgress","LeftLoader","UserProfileProvider","loginDialogOpen","loginError","_fetchUserProfile","getUserProfile","unauthenticated","_doLogout","logout","_resetUserProfile","_doLogin","assertThisInitialized","login","openLogin","_doCreateAccount","createAccount","sendSignupDone","_doForgotPassword","forgotPassword","openResetPassword","onUserChange","Provider","LoginDialog_LoginDialog","PreferencesProvider","_loadValuesFromLocalStorage","_setLanguage","_setThemeName","_setCodeEditorThemeName","_setAutoDownloadUpdates","_checkUpdates","_setAutoDisplayChangelog","_showAlertMessage","_verifyIfIsNewVersion","_setEventsSheetShowObjectThumbnails","_setAutosaveOnPreview","_persistValuesToLocalStorage","_this7","_this8","_this9","forceDownload","disableCheckForUpdates","_this10","currentVersion","_this11","persistedState","preferences","EventsFunctionsExtensionsProvider","_loadProjectEventsFunctionsExtensions","_unloadProjectEventsFunctionsExtensions","_reloadProjectEventsFunctionsExtensions","Providers","DragDropHelpers_DragDropContextProvider","PreferencesProvider_PreferencesProvider","MuiThemeProvider_default","getTheme","UserProfileProvider_UserProfileProvider","EventsFunctionsExtensionsProvider_EventsFunctionsExtensionsProvider","previewContainer","AudioPreview","audiotrack_default","ResourcePreview","AudioPreview_AudioPreview","imagePreview","ResourcePropertiesEditor","_chooseResourcePath","onResourcePathUpdated","resourceSchema","ResourcePreview_ResourcePreview","_renderPreview","_renderResourcesProperties","canDelete","onOpenProjectFolder","onOpenProperties","ResourcesEditor","_resourcesList","deleteResource","openProjectFolder","_onResourceSelected","ResourcesEditor_Toolbar","ResourcePropertiesEditor_ResourcePropertiesEditor","resources-list","resourcesList","ResourcesEditor_ResourcesEditor","buildContainer","BuildsList","isOld","difference_in_calendar_days","BuildProgress","Builds","buildsWatcher","_startBuildsWatcher","newBuild","oldBuild","_refreshBuilds","_this$props$userProfi","onBuildsUpdated","_download","BuildsContainer","Builds_Builds","BuildsDialog","_onBuildsUpdated","Export_Builds","ExportDialog","chosenExporterKey","buildsDialogOpen","chooseExporter","_openBuildsDialog","_renderExporterListItem","exporter","renderIcon","exporters","advanced","experimental","ExportComponent","onOpenBuildsDialog","BuildsDialog_BuildsDialog","resolveExtensionUrl","trimmedUrl","GDevelopExtensionApi","getExtensionsRegistry","getExtensionHeader","extensionShortHeader","headerUrl","extensionHeader","PlaceholderError","onRetry","ExtensionInstallDialog","_loadExtensionheader","isInstalling","onInstall","alreadyInstalled","react_markdown_default","escapeHtml","markdownRootClassName","shortDescription","extensionsRegistry","selectedExtensionShortHeader","chosenTag","_loadExtensionsRegistry","_install","extensionShortHeaders","behaviorsFilteredHeaders","eventsBasedBehaviorsCount","filterExtensionShortHeaders","ExtensionInstallDialog_ExtensionInstallDialog","primary1Color","primary2Color","accent1Color","secondaryTextColor","alternateTextColor","disabledColor","pickerHeaderColor","clockCircleColor","avatar","tabs","menuHoverColor","menuItem","dataHeight","appBar","iconButtonSize","snackbar","actionColor","stepper","raisedButton","primaryTextColor","getMuiTheme","GDevelop default","DefaultTheme","Dark","DarkTheme","ChangelogRenderer","releases","currentReleaseName","openReleaseNote","currentRelease","findRelease","currentVersionHasBreakingChange","_onUpdated","GDevelopReleaseApi","last","Changelog_ChangelogRenderer","ThemableGroupRow","isGlobalGroup","_renderGroupMenu","AddGroupRow","SortableGroupRow","GroupRow_ThemableGroupRow","SortableAddGroupRow","GroupsList","onAddGroup","renamedGroupWithScope","SortableGroupsList","GroupsListContainer","objectGroupsList","globalObjectGroupsList","addGroup","_onDelete","_onRename","_onMove","globalObjectGroupsOldIndex","globalObjectGroupsNewIndex","Tutorials","sendTutorialOpened","CreateProjectDialog","_showExamples","_onExamplesLoaded","ExamplesComponent","examplesComponent","StartersComponent","startersComponent","onShowExamples","onExamplesLoaded","Tutorials_Tutorials"],"mappings":"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LvrK,KAAKurK,wEAKHvrK,KAAKuzG,sBACLvzG,KAAK+B,MAAM4Y,WACV3a,KAAKY,MAAM0qK,sBAEZtrK,KAAKuzG,qBAAqBoC,uBAC1B31G,KAAKoB,SAAS,CACZkqK,qBAAqB,sCAKlB,IAAAjqK,EAAArB,KACP,OACEuhG,EAAA,cAACA,EAAA,SAAD,KACEA,EAAA,cAACiqE,GAAD1rK,OAAA2K,OAAA,GAAczK,KAAK+B,MAAnB,CAA0Boc,IAAK,SAAA5D,GAAM,OAAKlZ,EAAKkZ,OAASA,MACxDgnF,EAAA,cAACqU,GAAA,EAAD,CACEz3F,IAAK,SAAA03F,GAAmB,OACrBx0G,EAAKkyG,qBAAuBsC,GAE/B5G,qBAAsB,WAChB5tG,EAAKU,MAAMktG,sBACb5tG,EAAKU,MAAMktG,wBAEfxsG,GAAG,WACHiC,MAAO68F,EAAA,cAACK,EAAA,MAAD,CAAAn/F,GAAA,aACPqzG,KAAK,gBA9C6B1D,wCCR5C,IAsLeq5D,EAAA,CACb9kK,KAAM,iBACNV,UAAW,iBACX2gH,UAzLgB,CAChB8kD,KAAM,UACNC,SAAS,EACTC,MAAO,CACL,CACEC,WAAY,SACZprF,MAAO,WAET,CACEorF,WAAY,SACZprF,MAAO,0BAET,CACEorF,WAAY,SACZprF,MAAO,kBAET,CACEorF,WAAY,SACZprF,MAAO,4BAET,CACEorF,WAAY,SACZprF,MAAO,YAET,CACEorF,WAAY,SACZprF,MAAO,0BAET,CACEorF,WAAY,SACZprF,MAAO,qBAET,CACEorF,WAAY,SACZprF,MAAO,iBAET,CACEorF,WAAY,SACZprF,MAAO,mBAET,CACEorF,WAAY,SACZprF,MAAO,+BAET,CACEorF,WAAY,SACZprF,MAAO,YAET,CACEorF,WAAY,SACZprF,MAAO,mBAET,CACEorF,WAAY,SACZprF,MAAO,oBAET,CACEorF,WAAY,SACZprF,MAAO,qBAET,CACEorF,WAAY,SACZprF,MAAO,oBAET,CACEorF,WAAY,SACZprF,MAAO,sBAET,CACEorF,WAAY,SACZprF,MAAO,sBAET,CACEorF,WAAY,SACZprF,MAAO,gCAET,CACEorF,WAAY,SACZprF,MAAO,sBAET,CACEorF,WAAY,SACZprF,MAAO,qBAET,CACEorF,WAAY,SACZprF,MAAO,0BAET,CACEorF,WAAY,SACZprF,MAAO,gBAET,CACEorF,WAAY,SACZprF,MAAO,iBAET,CACEorF,WAAY,SACZprF,MAAO,UAET,CACEorF,WAAY,SACZprF,MAAO,yBAET,CACEorF,WAAY,SACZprF,MAAO,gCAET,CACEorF,WAAY,SACZprF,MAAO,kBAET,CACEorF,WAAY,SACZprF,MAAO,oBAET,CACEorF,WAAY,SACZprF,MAAO,wBAET,CACEorF,WAAY,SACZprF,MAAO,wBAET,CACEorF,WAAY,SACZprF,MAAO,sBAET,CACEorF,WAAY,SACZprF,MAAO,oBAET,CACEorF,WAAY,SACZprF,MAAO,gCAET,CACEorF,WAAY,SACZprF,MAAO,oBAET,CACEorF,WAAY,SACZprF,MAAO,WAET,CACEorF,WAAY,SACZprF,MAAO,WAET,CACEorF,WAAY,SACZprF,MAAO,gBAET,CACEorF,WAAY,SACZprF,MAAO,uBAET,CACEorF,WAAY,SACZzzG,WAAY,SACZqoB,MAAO,WAET,CACEorF,WAAY,SACZzzG,WAAY,SACZqoB,MAAO,kBAET,CACEorF,WAAY,SACZzzG,WAAY,SACZqoB,MAAO,uBAGX/qD,OAAQ,CACNo2I,oBAAqB,UACrBC,oBAAqB,UACrBC,6BAA8B,UAC9BC,iCAAkC,UAClCC,0BAA2B,UAC3BC,8BAA+B,aCrCpBC,EAAA,CACbzlK,KAAM,UACNV,UAAW,UACX2gH,UAhJgB,CAChB8kD,KAAM,UACNC,SAAS,EACTC,MAAO,CACL,CACEC,WAAY,SACZprF,MAAO,WAET,CACEorF,WAAY,SACZprF,MAAO,UAET,CACEorF,WAAY,SACZprF,MAAO,oBAET,CACEorF,WAAY,SACZprF,MAAO,qBAET,CACEorF,WAAY,SACZprF,MAAO,sBAET,CACEorF,WAAY,SACZprF,MAAO,kBAET,CACEorF,WAAY,SACZprF,MAAO,WAET,CACEorF,WAAY,SACZprF,MAAO,WAET,CACEorF,WAAY,SACZx/J,UAAW,SACXo0E,MAAO,gBAET,CACEorF,WAAY,SACZx/J,UAAW,YACXo0E,MAAO,qBAET,CACEorF,WAAY,SACZx/J,UAAW,mBACXo0E,MAAO,gCAET,CACEorF,WAAY,SACZprF,MAAO,wBAET,CACEorF,WAAY,SACZx/J,UAAW,SACXo0E,MAAO,sBAET,CACEorF,WAAY,SACZprF,MAAO,mBAET,CACEorF,WAAY,SACZprF,MAAO,+BAET,CACEorF,WAAY,SACZprF,MAAO,oBAET,CACEorF,WAAY,SACZprF,MAAO,oBAET,CACEorF,WAAY,SACZx/J,UAAW,SACXo0E,MAAO,gBAET,CACEorF,WAAY,SACZx/J,UAAW,SACXo0E,MAAO,iBAET,CACEorF,WAAY,SACZzzG,WAAY,SACZqoB,MAAO,WAET,CACEorF,WAAY,SACZzzG,WAAY,SACZqoB,MAAO,sBAET,CACEorF,WAAY,SACZprF,MAAO,4DAET,CACEorF,WAAY,SACZprF,MAAO,aAET,CACEorF,WAAY,SACZprF,MAAO,oBAET,CACEorF,WAAY,SACZprF,MAAO,kBAET,CACEorF,WAAY,SACZprF,MAAO,mBAET,CACEorF,WAAY,SACZprF,MAAO,kBAET,CACEorF,WAAY,SACZprF,MAAO,sDAET,CACEorF,WAAY,SACZprF,MAAO,uCAGX/qD,OAAQ,CACNo2I,oBAAqB,UACrBC,oBAAqB,UACrBC,6BAA8B,UAC9BC,iCAAkC,UAClCC,0BAA2B,UAC3BC,8BAA+B,UAC/BE,qCAAsC,UACtCC,kCAAmC,aCyCxBC,EAAA,CACb5lK,KAAM,WACNV,UAAW,WACX2gH,UArLgB,CAChB8kD,KAAM,KACNC,SAAS,EACTC,MAAO,CACL,CACEC,WAAY,SACZprF,MAAO,WAET,CACEorF,WAAY,SACZprF,MAAO,0BAET,CACEorF,WAAY,SACZprF,MAAO,kBAET,CACEorF,WAAY,SACZprF,MAAO,4BAET,CACEorF,WAAY,SACZprF,MAAO,YAET,CACEorF,WAAY,SACZprF,MAAO,0BAET,CACEorF,WAAY,SACZprF,MAAO,qBAET,CACEorF,WAAY,SACZprF,MAAO,iBAET,CACEorF,WAAY,SACZprF,MAAO,mBAET,CACEorF,WAAY,SACZprF,MAAO,+BAET,CACEorF,WAAY,SACZprF,MAAO,YAET,CACEorF,WAAY,SACZprF,MAAO,mBAET,CACEorF,WAAY,SACZprF,MAAO,oBAET,CACEorF,WAAY,SACZprF,MAAO,qBAET,CACEorF,WAAY,SACZprF,MAAO,oBAET,CACEorF,WAAY,SACZprF,MAAO,sBAET,CACEorF,WAAY,SACZprF,MAAO,sBAET,CACEorF,WAAY,SACZprF,MAAO,gCAET,CACEorF,WAAY,SACZprF,MAAO,sBAET,CACEorF,WAAY,SACZprF,MAAO,qBAET,CACEorF,WAAY,SACZprF,MAAO,0BAET,CACEorF,WAAY,SACZprF,MAAO,gBAET,CACEorF,WAAY,SACZprF,MAAO,iBAET,CACEorF,WAAY,SACZprF,MAAO,UAET,CACEorF,WAAY,SACZprF,MAAO,yBAET,CACEorF,WAAY,SACZprF,MAAO,gCAET,CACEorF,WAAY,SACZprF,MAAO,kBAET,CACEorF,WAAY,SACZprF,MAAO,oBAET,CACEorF,WAAY,SACZprF,MAAO,wBAET,CACEorF,WAAY,SACZprF,MAAO,wBAET,CACEorF,WAAY,SACZprF,MAAO,sBAET,CACEorF,WAAY,SACZprF,MAAO,oBAET,CACEorF,WAAY,SACZprF,MAAO,gCAET,CACEorF,WAAY,SACZprF,MAAO,oBAET,CACEorF,WAAY,SACZprF,MAAO,WAET,CACEorF,WAAY,SACZprF,MAAO,WAET,CACEorF,WAAY,SACZprF,MAAO,gBAET,CACEorF,WAAY,SACZzzG,WAAY,SACZqoB,MAAO,WAET,CACEorF,WAAY,SACZzzG,WAAY,SACZqoB,MAAO,kBAET,CACEorF,WAAY,SACZzzG,WAAY,SACZqoB,MAAO,uBAGX/qD,OAAQ,CACNo2I,oBAAqB,UACrBC,oBAAqB,UACrBC,6BAA8B,UAC9BC,iCAAkC,UAClCC,0BAA2B,UAC3BC,8BAA+B,aCxCpBK,EAAA,CACb7lK,KAAM,iBACNV,UAAW,iBACX2gH,UAzIgB,CAChB8kD,KAAM,UACNC,SAAS,EACTC,MAAO,CACL,CACEC,WAAY,SACZx/J,UAAW,SACXo0E,MAAO,WAET,CACEorF,WAAY,SACZprF,MAAO,UAET,CACEorF,WAAY,SACZprF,MAAO,iBAET,CACEorF,WAAY,SACZprF,MAAO,oBAET,CACEorF,WAAY,SACZprF,MAAO,qBAET,CACEorF,WAAY,SACZprF,MAAO,kBAET,CACEorF,WAAY,SACZprF,MAAO,WAET,CACEorF,WAAY,SACZx/J,UAAW,OACXo0E,MAAO,WAET,CACEorF,WAAY,SACZprF,MAAO,qBAET,CACEorF,WAAY,SACZprF,MAAO,0BAET,CACEorF,WAAY,SACZprF,MAAO,wBAET,CACEorF,WAAY,SACZprF,MAAO,mCAET,CACEorF,WAAY,SACZprF,MAAO,sCAET,CACEorF,WAAY,SACZprF,MAAO,oCAET,CACEorF,WAAY,SACZprF,MAAO,qBAET,CACEorF,WAAY,SACZprF,MAAO,qBAET,CACEorF,WAAY,SACZprF,MAAO,8BAET,CACEorF,WAAY,SACZprF,MAAO,qBAET,CACEorF,WAAY,SACZprF,MAAO,sBAET,CACEorF,WAAY,SACZprF,MAAO,kBAET,CACEorF,WAAY,SACZprF,MAAO,gCAET,CACEorF,WAAY,SACZx/J,UAAW,OACXo0E,MAAO,mBAET,CACEorF,WAAY,SACZprF,MAAO,8BAET,CACEorF,WAAY,SACZprF,MAAO,+BAET,CACEorF,WAAY,SACZprF,MAAO,oBAET,CACEorF,WAAY,SACZprF,MAAO,sCAET,CACEorF,WAAY,SACZprF,MAAO,gBAET,CACEorF,WAAY,SACZprF,MAAO,iBAET,CACEorF,WAAY,SACZprF,MAAO,2BAGX/qD,OAAQ,CACNo2I,oBAAqB,UACrBC,oBAAqB,UACrBC,6BAA8B,UAC9BC,iCAAkC,UAClCC,0BAA2B,UAC3BC,8BAA+B,aCGpBM,EAAA,CACb9lK,KAAM,kBACNV,UAAW,kBACX2gH,UAxIgB,CAChB8kD,KAAM,KACNC,SAAS,EACTC,MAAO,CACL,CACEC,WAAY,SACZprF,MAAO,WAET,CACEorF,WAAY,SACZprF,MAAO,UAET,CACEorF,WAAY,SACZprF,MAAO,iBAET,CACEorF,WAAY,SACZprF,MAAO,oBAET,CACEorF,WAAY,SACZprF,MAAO,qBAET,CACEorF,WAAY,SACZprF,MAAO,kBAET,CACEorF,WAAY,SACZprF,MAAO,WAET,CACEorF,WAAY,SACZx/J,UAAW,OACXo0E,MAAO,WAET,CACEorF,WAAY,SACZprF,MAAO,qBAET,CACEorF,WAAY,SACZprF,MAAO,0BAET,CACEorF,WAAY,SACZprF,MAAO,wBAET,CACEorF,WAAY,SACZprF,MAAO,mCAET,CACEorF,WAAY,SACZprF,MAAO,sCAET,CACEorF,WAAY,SACZprF,MAAO,oCAET,CACEorF,WAAY,SACZprF,MAAO,qBAET,CACEorF,WAAY,SACZprF,MAAO,qBAET,CACEorF,WAAY,SACZprF,MAAO,8BAET,CACEorF,WAAY,SACZprF,MAAO,qBAET,CACEorF,WAAY,SACZprF,MAAO,sBAET,CACEorF,WAAY,SACZprF,MAAO,kBAET,CACEorF,WAAY,SACZx/J,UAAW,OACXo0E,MAAO,mBAET,CACEorF,WAAY,SACZprF,MAAO,oCAET,CACEorF,WAAY,SACZprF,MAAO,kCAET,CACEorF,WAAY,SACZprF,MAAO,+BAET,CACEorF,WAAY,SACZprF,MAAO,oBAET,CACEorF,WAAY,SACZprF,MAAO,sCAET,CACEorF,WAAY,SACZprF,MAAO,gBAET,CACEorF,WAAY,SACZprF,MAAO,iBAET,CACEorF,WAAY,SACZprF,MAAO,2BAGX/qD,OAAQ,CACNo2I,oBAAqB,UACrBC,oBAAqB,UACrBC,6BAA8B,UAC9BC,iCAAkC,UAClCC,0BAA2B,UAC3BC,8BAA+B,aC0EpBO,EAAA,CACb/lK,KAAM,cACNV,UAAW,cACX2gH,UA9MgB,CAChB8kD,KAAM,UACNC,SAAS,EACTC,MAAO,CACL,CACEC,WAAY,SACZzzG,WAAY,SACZqoB,MAAO,QAET,CACEroB,WAAY,SACZqoB,MAAO,mCAET,CACEorF,WAAY,SACZzzG,WAAY,SACZqoB,MAAO,kBAET,CACEorF,WAAY,SACZzzG,WAAY,SACZqoB,MAAO,WAET,CACEorF,WAAY,SACZzzG,WAAY,SACZqoB,MAAO,sBAET,CACEorF,WAAY,SACZprF,MAAO,oBAET,CACEorF,WAAY,SACZzzG,WAAY,SACZqoB,MAAO,UAET,CACEorF,WAAY,SACZprF,MAAO,WAET,CACEorF,WAAY,SACZprF,MAAO,YAET,CACEorF,WAAY,SACZprF,MAAO,WAET,CACEorF,WAAY,SACZprF,MAAO,wBAET,CACEorF,WAAY,SACZprF,MAAO,kCAET,CACEorF,WAAY,SACZprF,MAAO,wBAET,CACEorF,WAAY,SACZprF,MAAO,4BAET,CACEp0E,UAAW,SACXo0E,MAAO,sBAET,CACEorF,WAAY,SACZzzG,WAAY,SACZqoB,MAAO,wBAET,CACEorF,WAAY,SACZprF,MAAO,kBAET,CACEorF,WAAY,SACZprF,MAAO,oBAET,CACEorF,WAAY,SACZprF,MAAO,UAET,CACEorF,WAAY,SACZprF,MAAO,oCAET,CACEorF,WAAY,SACZzzG,WAAY,SACZqoB,MAAO,uBAET,CACEorF,WAAY,SACZprF,MAAO,iBAET,CACEorF,WAAY,SACZprF,MAAO,kBAET,CACEorF,WAAY,SACZprF,MAAO,iDAET,CACEp0E,UAAW,YACXo0E,MAAO,qBAET,CACEp0E,UAAW,YACXo0E,MAAO,oBAET,CACEp0E,UAAW,mBACXo0E,MAAO,gCAET,CACEorF,WAAY,SACZprF,MAAO,4BAET,CACEorF,WAAY,SACZprF,MAAO,2BAET,CACEorF,WAAY,SACZx/J,UAAW,SACXo0E,MAAO,+BAET,CACEorF,WAAY,SACZprF,MAAO,iBAET,CACEorF,WAAY,SACZprF,MAAO,qBAET,CACEorF,WAAY,SACZprF,MAAO,gDAET,CACEorF,WAAY,SACZprF,MAAO,gCAET,CACEorF,WAAY,SACZprF,MAAO,sCAET,CACEorF,WAAY,SACZprF,MAAO,yCAET,CACEorF,WAAY,SACZprF,MAAO,kCAET,CACEorF,WAAY,SACZprF,MAAO,0BAET,CACEorF,WAAY,SACZprF,MAAO,gCAET,CACEorF,WAAY,SACZprF,MAAO,wBAET,CACEorF,WAAY,SACZprF,MAAO,qCAET,CACEorF,WAAY,SACZprF,MAAO,uBAET,CACEorF,WAAY,SACZprF,MAAO,sBAET,CACEorF,WAAY,SACZprF,MAAO,8BAET,CACEorF,WAAY,SACZprF,MAAO,0CAGX/qD,OAAQ,CACNo2I,oBAAqB,UACrBC,oBAAqB,UACrBC,6BAA8B,UAC9BC,iCAAkC,UAClCC,0BAA2B,UAC3BC,8BAA+B,aC6CpBQ,EAAA,CACbhmK,KAAM,SACNV,UAAW,SACX2gH,UAvPgB,CAChB8kD,KAAM,KACNC,SAAS,EACTC,MAAO,CACL,CACEC,WAAY,SACZx/J,UAAW,SACXo0E,MAAO,WAET,CACEorF,WAAY,SACZx/J,UAAW,OACXo0E,MAAO,8BAET,CACEorF,WAAY,SACZx/J,UAAW,cACXo0E,MAAO,yBAET,CACEorF,WAAY,SACZx/J,UAAW,cACXo0E,MAAO,+BAET,CACEorF,WAAY,SACZzzG,WAAY,SACZqoB,MAAO,mBAET,CACEp0E,UAAW,OACXo0E,MAAO,WAET,CACEp0E,UAAW,OACXo0E,MAAO,WAET,CACEp0E,UAAW,OACXo0E,MAAO,oBAET,CACEp0E,UAAW,OACXo0E,MAAO,qBAET,CACEp0E,UAAW,OACXo0E,MAAO,oBAET,CACEorF,WAAY,SACZx/J,UAAW,OACXo0E,MAAO,gBAET,CACEorF,WAAY,SACZx/J,UAAW,OACXo0E,MAAO,gBAET,CACEorF,WAAY,SACZprF,MAAO,+BAET,CACEorF,WAAY,SACZprF,MAAO,kBAET,CACEorF,WAAY,SACZprF,MAAO,qBAET,CACEorF,WAAY,SACZx/J,UAAW,OACXo0E,MAAO,oBAET,CACEorF,WAAY,SACZx/J,UAAW,OACXo0E,MAAO,gCAET,CACEorF,WAAY,SACZx/J,UAAW,OACXo0E,MAAO,iBAET,CACEorF,WAAY,SACZprF,MAAO,2BAET,CACEorF,WAAY,SACZprF,MAAO,6BAET,CACEorF,WAAY,SACZprF,MAAO,yBAET,CACEorF,WAAY,SACZprF,MAAO,wBAET,CACEorF,WAAY,SACZprF,MAAO,oBAET,CACEorF,WAAY,SACZprF,MAAO,mCAET,CACEorF,WAAY,SACZprF,MAAO,uBAET,CACEorF,WAAY,SACZprF,MAAO,mBAET,CACEorF,WAAY,SACZprF,MAAO,sBAET,CACEorF,WAAY,SACZprF,MAAO,oBAET,CACEorF,WAAY,SACZprF,MAAO,oBAET,CACEorF,WAAY,SACZprF,MAAO,kBAET,CACEorF,WAAY,SACZprF,MAAO,0BAET,CACEorF,WAAY,SACZprF,MAAO,sBAET,CACEorF,WAAY,SACZprF,MAAO,iBAET,CACEorF,WAAY,SACZprF,MAAO,yBAET,CACEp0E,UAAW,OACXo0E,MAAO,eAET,CACEorF,WAAY,SACZzzG,WAAY,SACZqoB,MAAO,kBAET,CACEp0E,UAAW,SACXo0E,MAAO,iBAET,CACEorF,WAAY,SACZprF,MAAO,gBAET,CACEorF,WAAY,SACZprF,MAAO,oBAET,CACEorF,WAAY,SACZzzG,WAAY,SACZqoB,MAAO,mBAET,CACEorF,WAAY,SACZprF,MAAO,iBAET,CACEorF,WAAY,SACZprF,MAAO,cAET,CACEorF,WAAY,SACZprF,MAAO,iBAET,CACEp0E,UAAW,OACXo0E,MAAO,eAET,CACEorF,WAAY,SACZprF,MAAO,kBAET,CACEorF,WAAY,SACZprF,MAAO,oBAET,CACEp0E,UAAW,YACXo0E,MAAO,oBAET,CACEorF,WAAY,SACZzzG,WAAY,SACZqoB,MAAO,mBAET,CACEorF,WAAY,SACZzzG,WAAY,SACZqoB,MAAO,mBAET,CACEorF,WAAY,SACZzzG,WAAY,SACZqoB,MAAO,kBAET,CACEorF,WAAY,SACZzzG,WAAY,SACZqoB,MAAO,8BAET,CACEorF,WAAY,SACZzzG,WAAY,SACZqoB,MAAO,4BAET,CACEorF,WAAY,SACZprF,MA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","file":"static/js/1.f1f47809.chunk.js","sourcesContent":["// @flow\nimport React, { PureComponent } from 'react';\nimport { Toolbar, ToolbarGroup } from 'material-ui/Toolbar';\nimport ToolbarIcon from '../UI/ToolbarIcon';\nimport ToolbarSeparator from '../UI/ToolbarSeparator';\nimport IconMenu from '../UI/Menu/IconMenu';\nimport Window from '../Utils/Window';\nimport { I18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\n\nconst styles = {\n  toolbar: {\n    flexShrink: 0, // Toolbar height should never be reduced\n    overflowX: 'auto',\n    overflowY: 'hidden',\n  },\n};\n\ntype Props = {\n  showProjectIcons: boolean,\n  hasProject: boolean,\n  toggleProjectManager: () => void,\n  requestUpdate: ?() => void,\n  simulateUpdateDownloaded: ?() => void,\n  simulateUpdateAvailable: ?() => void,\n  exportProject: Function,\n};\n\ntype State = {\n  editorToolbar: any,\n};\n\nexport class MainFrameToolbar extends PureComponent<Props, State> {\n  state = {\n    editorToolbar: null,\n  };\n\n  isDev = Window.isDev();\n\n  setEditorToolbar(editorToolbar: any) {\n    this.setState({\n      editorToolbar,\n    });\n  }\n\n  render() {\n    return (\n      <I18n>\n        {({ i18n }) => (\n          <Toolbar style={styles.toolbar}>\n            <ToolbarGroup firstChild={true}>\n              {this.props.showProjectIcons && (\n                <ToolbarIcon\n                  onClick={this.props.toggleProjectManager}\n                  src=\"res/ribbon_default/projectManager32.png\"\n                  disabled={!this.props.hasProject}\n                  tooltip={i18n._(t`Project manager`)}\n                />\n              )}\n              {this.props.showProjectIcons && (\n                <ToolbarIcon\n                  onClick={this.props.exportProject}\n                  src=\"res/ribbon_default/export32.png\"\n                  disabled={!this.props.hasProject}\n                  tooltip={i18n._(t`Export the game (Web, Android, iOS...)`)}\n                />\n              )}\n              {this.isDev && (\n                <IconMenu\n                  iconButtonElement={\n                    <ToolbarIcon src=\"res/ribbon_default/bug32.png\" />\n                  }\n                  buildMenuTemplate={() => [\n                    {\n                      label: i18n._(t`Request update from external editor`),\n                      disabled: !this.props.requestUpdate,\n                      click: () =>\n                        this.props.requestUpdate && this.props.requestUpdate(),\n                    },\n                    {\n                      label: i18n._(t`Simulate update downloaded`),\n                      disabled: !this.props.simulateUpdateDownloaded,\n                      click: () =>\n                        this.props.simulateUpdateDownloaded &&\n                        this.props.simulateUpdateDownloaded(),\n                    },\n                    {\n                      label: i18n._(t`Simulate update available`),\n                      disabled: !this.props.simulateUpdateAvailable,\n                      click: () =>\n                        this.props.simulateUpdateAvailable &&\n                        this.props.simulateUpdateAvailable(),\n                    },\n                  ]}\n                />\n              )}\n              <ToolbarSeparator />\n            </ToolbarGroup>\n            {this.state.editorToolbar || <ToolbarGroup />}\n          </Toolbar>\n        )}\n      </I18n>\n    );\n  }\n}\n\nexport default MainFrameToolbar;\n","import { Component } from 'react';\nimport Window from '../Utils/Window';\n\nexport default class ProjectTitlebar extends Component {\n  render() {\n    const { project } = this.props;\n    const titleElements = ['GDevelop 5'];\n    if (project)\n      titleElements.push(project.getProjectFile() || project.getName());\n\n    Window.setTitle(titleElements.join(' - '));\n    return null;\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport React, { Component } from 'react';\nimport SelectField from 'material-ui/SelectField';\nimport FlatButton from 'material-ui/FlatButton';\nimport MenuItem from 'material-ui/MenuItem';\nimport Toggle from 'material-ui/Toggle';\nimport Dialog from '../../UI/Dialog';\nimport EmptyMessage from '../../UI/EmptyMessage';\nimport { Column, Line } from '../../UI/Grid';\nimport { themes } from '../../UI/Theme';\nimport { getAllThemes } from '../../CodeEditor/Theme';\nimport Window from '../../Utils/Window';\nimport PreferencesContext, {\n  type AlertMessageIdentifier,\n} from './PreferencesContext';\n\ntype Props = {|\n  open: boolean,\n  onClose: Function,\n|};\n\ntype State = {||};\n\nconst getDismissedAlertMessages = (identifiers: {\n  [AlertMessageIdentifier]: boolean,\n}): Array<AlertMessageIdentifier> => {\n  return Object.keys(identifiers)\n    .map(identifier => {\n      return identifiers[identifier] ? identifier : null;\n    })\n    .filter(Boolean);\n};\n\nexport default class PreferencesDialog extends Component<Props, State> {\n  createTheme() {\n    Window.openExternalURL(\n      'https://github.com/4ian/GDevelop/tree/master/newIDE#theming'\n    );\n  }\n\n  render() {\n    const { open, onClose } = this.props;\n    const actions = [\n      <FlatButton\n        label={<Trans>Close</Trans>}\n        primary={false}\n        onClick={onClose}\n      />,\n    ];\n\n    return (\n      <Dialog\n        actions={actions}\n        onRequestClose={onClose}\n        open={open}\n        title={<Trans>GDevelop preferences</Trans>}\n      >\n        <PreferencesContext.Consumer>\n          {({\n            values,\n            setThemeName,\n            setCodeEditorThemeName,\n            setAutoDownloadUpdates,\n            showAlertMessage,\n            setAutoDisplayChangelog,\n            setEventsSheetShowObjectThumbnails,\n            setAutosaveOnPreview,\n          }) => {\n            const dismissedAlertMessages = getDismissedAlertMessages(\n              values.hiddenAlertMessages\n            );\n\n            return (\n              <Column noMargin>\n                <Line noMargin>\n                  <SelectField\n                    floatingLabelText={<Trans>UI Theme</Trans>}\n                    value={values.themeName}\n                    onChange={(e, i, value) => setThemeName(value)}\n                  >\n                    {Object.keys(themes).map(themeName => (\n                      <MenuItem\n                        value={themeName}\n                        primaryText={themeName}\n                        key={themeName}\n                      />\n                    ))}\n                  </SelectField>\n                  <SelectField\n                    floatingLabelText={<Trans>Code editor Theme</Trans>}\n                    value={values.codeEditorThemeName}\n                    onChange={(e, i, value) => setCodeEditorThemeName(value)}\n                  >\n                    {getAllThemes().map(codeEditorTheme => (\n                      <MenuItem\n                        value={codeEditorTheme.themeName}\n                        primaryText={codeEditorTheme.name}\n                        key={codeEditorTheme.themeName}\n                      />\n                    ))}\n                  </SelectField>\n                </Line>\n                <Line noMargin>\n                  <p>\n                    You can contribute and create your own themes:{' '}\n                    <FlatButton\n                      label={<Trans>Learn more</Trans>}\n                      onClick={this.createTheme}\n                    />{' '}\n                  </p>\n                </Line>\n                <Line>\n                  <Toggle\n                    onToggle={(e, check) => setAutoDownloadUpdates(check)}\n                    toggled={values.autoDownloadUpdates}\n                    labelPosition=\"right\"\n                    label={\n                      <Trans>\n                        Auto download and install updates (recommended)\n                      </Trans>\n                    }\n                  />\n                </Line>\n                <Line>\n                  <Toggle\n                    onToggle={(e, check) => setAutoDisplayChangelog(check)}\n                    toggled={values.autoDisplayChangelog}\n                    labelPosition=\"right\"\n                    label={\n                      <Trans>\n                        Display What's New when a new version is launched\n                        (recommended)\n                      </Trans>\n                    }\n                  />\n                </Line>\n                <Line>\n                  <Toggle\n                    onToggle={(e, check) =>\n                      setEventsSheetShowObjectThumbnails(check)\n                    }\n                    toggled={values.eventsSheetShowObjectThumbnails}\n                    labelPosition=\"right\"\n                    label={\n                      <Trans>Display object thumbnails in Events Sheets</Trans>\n                    }\n                  />\n                </Line>\n                <Line>\n                  <Toggle\n                    onToggle={(e, check) => setAutosaveOnPreview(check)}\n                    toggled={values.autosaveOnPreview}\n                    labelPosition=\"right\"\n                    label={<Trans>Auto-save project on Preview</Trans>}\n                  />\n                </Line>\n                <Line>\n                  {dismissedAlertMessages.length ? (\n                    <Column noMargin>\n                      <p>\n                        <Trans>\n                          You have dismissed some hints. Click to enable them\n                          again:\n                        </Trans>\n                      </p>\n                      {dismissedAlertMessages.map(name => (\n                        <FlatButton\n                          label={name}\n                          onClick={() => showAlertMessage(name, true)}\n                        />\n                      ))}\n                    </Column>\n                  ) : (\n                    <EmptyMessage>\n                      <Trans>\n                        If you dismiss some hints, they will be shown here in\n                        case you want to enable them again.\n                      </Trans>\n                    </EmptyMessage>\n                  )}\n                </Line>\n              </Column>\n            );\n          }}\n        </PreferencesContext.Consumer>\n      </Dialog>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport React, { PureComponent } from 'react';\nimport { List, ListItem } from 'material-ui/List';\nimport Dialog from '../UI/Dialog';\nimport FlatButton from 'material-ui/FlatButton';\nimport { Tabs, Tab } from 'material-ui/Tabs';\nimport { Column, Line } from '../UI/Grid';\nimport Window from '../Utils/Window';\nimport IconButton from 'material-ui/IconButton';\nimport OpenInNew from 'material-ui/svg-icons/action/open-in-new';\nimport PreferencesContext from './Preferences/PreferencesContext';\nimport {\n  getUpdateStatusLabel,\n  getUpdateButtonLabel,\n  canDownloadUpdate,\n  type UpdateStatus,\n} from './UpdaterTools';\nimport Changelog from './Changelog';\nimport { getIDEVersion, getGDCoreVersion } from '../Version';\n\ntype Props = {\n  open: boolean,\n  onClose: Function,\n  updateStatus: UpdateStatus,\n};\n\n// There must be missing tons of people.\n// If you contributed to GDevelop but you're not in the list, please\n// send a Pull Request on GitHub or open an issue ;)\nconst contributors = [\n  // GitHub contributors\n  {\n    name: 'Victor Levasseur',\n    description:\n      'Numerous contributions to GDevelop core and various extensions',\n  },\n  {\n    name: 'Lizard-13',\n    description:\n      'Numerous contributions to GDevelop (particle engine, bugfixes, new conditions, examples, tutorials...)',\n  },\n  {\n    name: \"Christina 'Castpixel' Antoinette Neofotistou\",\n    description: 'Art and assets for the 8-bit Space Shooter example.',\n    link: 'https://www.patreon.com/castpixel',\n  },\n  { name: 'ale26reg', description: 'Contributions to GDevelop' },\n  { name: 'dos1', description: 'Contributions to GDevelop' },\n  { name: 'Bouh', description: 'Contributions to GDevelop' },\n  {\n    name: 'Todor Imreorov',\n    description:\n      'Numerous contributions to GDevelop, added Piskel sprite editor and jfxr',\n  },\n  { name: 'brylie', description: 'Contributions to GDevelop' },\n  { name: 'Nnarol', description: 'Contributions to GDevelop' },\n  { name: 'wild-master', description: 'Contributions to GDevelop' },\n  { name: 'RandomShaper', description: 'Contributions to GDevelop' },\n  { name: 'RyanNerd', description: 'Contributions to GDevelop' },\n  { name: 'greater', description: 'Contributions to GDevelop' },\n  { name: 'triptych', description: 'Contributions to GDevelop' },\n  {\n    name: 'Wend1go',\n    description: 'Contributions to GDevelop, Tutorials, Examples',\n  },\n  { name: 'mattiascibien', description: 'Contributions to GDevelop' },\n  { name: 'araujo921', description: 'Contributions to GDevelop' },\n  { name: 'ronnystandtke', description: 'Contributions to GDevelop' },\n  {\n    name: 'Thomas Flecy',\n    description: 'Contributions to GDevelop (original sound object extension)',\n  },\n\n  // Community members:\n  {\n    name: 'ddabrahim',\n    description: 'Lots of examples bundled with GDevelop',\n    link: 'https://gametemplates.itch.io/',\n  },\n  {\n    name: 'Gametemplates',\n    description: 'Examples bundled with GDevelop',\n    link: 'https://gametemplates.itch.io/',\n  },\n  { name: 'Mats', description: 'Tutorials, Examples' },\n  { name: 'erdo', description: 'Tutorials, Examples' },\n  { name: 'Jubileuksen3', description: 'Tutorials, Examples' },\n  { name: 'LucaTexas', description: 'Tutorials, Examples' },\n  { name: 'Kink', description: 'Forum moderator, tutorials, Examples' },\n  { name: 'RicoTrooper', description: 'Tutorials' },\n  { name: 'kalel', description: 'Tutorials' },\n  { name: 'mtarzaim', description: 'Tutorials' },\n  { name: 'Darkhog', description: 'Examples' },\n  { name: 'Ricardo Graca', description: 'Tutorials, Examples' },\n  { name: 'Diego Schiavon', description: 'Indiegogo Ubuntu contributor' },\n  { name: 'conceptgame', description: 'Indiegogo super contributor' },\n  {\n    name: 'Jose David Coartas Correa',\n    description:\n      'Author of Digitopolis (a book on how to make games with GDevelop4)',\n  },\n\n  {\n    name: 'Franois Dumortier',\n    description: 'GDevelop logo design',\n    link: 'http://www.fdumortier.com',\n  },\n  {\n    name: 'Constantine Shvetsov',\n    description: 'Design of all the awesome icons',\n  },\n  {\n    name: 'MillionthVector',\n    description: 'Assets of various examples',\n  },\n];\n\nexport default class AboutDialog extends PureComponent<Props, *> {\n  _openContributePage = () => {\n    Window.openExternalURL('https://gdevelop-app.com/contribute/');\n  };\n\n  _openLink = (link: string) => {\n    if (!link) return;\n\n    Window.openExternalURL(link);\n  };\n\n  render() {\n    const { open, onClose, updateStatus } = this.props;\n    if (!open) return null;\n\n    const updateStatusString = getUpdateStatusLabel(updateStatus.status);\n    const updateButtonLabel = getUpdateButtonLabel(updateStatus.status);\n\n    return (\n      <Dialog\n        actions={[\n          <FlatButton\n            label={<Trans>GDevelop Website</Trans>}\n            primary={false}\n            onClick={() => Window.openExternalURL('http://gdevelop-app.com')}\n          />,\n          <FlatButton\n            label={<Trans>Close</Trans>}\n            primary={false}\n            onClick={onClose}\n          />,\n        ]}\n        onRequestClose={onClose}\n        open={open}\n        contentStyle={{\n          maxWidth: 535,\n        }}\n        noMargin\n        autoScrollBodyContent\n      >\n        <PreferencesContext.Consumer>\n          {({ values, checkUpdates }) => (\n            <Column noMargin>\n              <img\n                src=\"res/GD-logo.png\"\n                alt=\"GDevelop logo\"\n                width=\"535\"\n                height=\"283\"\n              />\n              <Tabs onChange={() => this.forceUpdate()}>\n                <Tab label={<Trans>About GDevelop</Trans>} value=\"about\">\n                  <Column>\n                    <Line>\n                      <Trans>\n                        GDevelop {getIDEVersion()} based on GDevelop.js{' '}\n                        {getGDCoreVersion()}\n                      </Trans>\n                    </Line>\n                    <Line>{updateStatusString}</Line>\n                    <Line justifyContent=\"center\">\n                      {!!updateStatusString && (\n                        <FlatButton\n                          label={updateButtonLabel}\n                          onClick={() =>\n                            checkUpdates(canDownloadUpdate(updateStatus.status))\n                          }\n                        />\n                      )}\n                    </Line>\n                  </Column>\n                </Tab>\n                <Tab label={<Trans>What's new?</Trans>} value=\"changelog\">\n                  <Column>\n                    <Changelog />\n                  </Column>\n                </Tab>\n                <Tab label={<Trans>Contributors</Trans>} value=\"contributors\">\n                  <Column>\n                    <p>\n                      <Trans>\n                        GDevelop was created by Florian \"4ian\" Rival.\n                      </Trans>\n                    </p>\n                    <p>\n                      <Trans>Contributors, in no particular order:</Trans>\n                    </p>\n                  </Column>\n                  <List>\n                    {contributors.map(contributor => (\n                      <ListItem\n                        key={contributor.name}\n                        primaryText={contributor.name}\n                        secondaryText={<p>{contributor.description}</p>}\n                        secondaryTextLines={\n                          contributor.description.length < 30 ? 1 : 2\n                        }\n                        rightIconButton={\n                          contributor.link ? (\n                            <IconButton\n                              onClick={() =>\n                                this._openLink(contributor.link || '')\n                              }\n                            >\n                              <OpenInNew />\n                            </IconButton>\n                          ) : null\n                        }\n                      />\n                    ))}\n                  </List>\n                  <Column expand>\n                    <p>\n                      <Trans>\n                        Thanks to all users of GDevelop! There must be missing\n                        tons of people, please send your name if you've\n                        contributed and you're not listed.\n                      </Trans>\n                    </p>\n                    <Line alignItems=\"center\" justifyContent=\"center\">\n                      <FlatButton\n                        label={<Trans>Contribute to GDevelop</Trans>}\n                        onClick={this._openContributePage}\n                      />\n                    </Line>\n                  </Column>\n                </Tab>\n              </Tabs>\n            </Column>\n          )}\n        </PreferencesContext.Consumer>\n      </Dialog>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport * as React from 'react';\nimport { TreeTableRow, TreeTableCell } from '../UI/TreeTable';\nimport DragHandle from '../UI/DragHandle';\nimport SemiControlledTextField from '../UI/SemiControlledTextField';\nimport Checkbox from 'material-ui/Checkbox';\nimport AddCircle from 'material-ui/svg-icons/content/add-circle';\nimport SubdirectoryArrowRight from 'material-ui/svg-icons/navigation/subdirectory-arrow-right';\nimport TextField from 'material-ui/TextField';\nimport IconButton from 'material-ui/IconButton';\nimport Reset from 'material-ui/svg-icons/av/replay';\nimport muiThemeable from 'material-ui/styles/muiThemeable';\nimport styles from './styles';\nimport { type VariableOrigin } from './VariablesList.flow';\n\n//TODO: Refactor into TreeTable?\nconst Indent = ({ width }) => (\n  <div style={{ ...styles.indent, width }}>\n    <SubdirectoryArrowRight color={styles.indentIconColor} />\n  </div>\n);\n\nconst InlineCheckbox = props => <Checkbox {...props} style={{ width: 32 }} />;\n\ntype Props = {|\n  name: string,\n  variable: gdVariable,\n  depth: number,\n  errorText?: ?string,\n  onBlur: () => void,\n  onRemove: () => void,\n  onAddChild: () => void,\n  onChangeValue: string => void,\n  onResetToDefaultValue: () => void,\n  children?: React.Node,\n  muiTheme: Object,\n  showHandle: boolean,\n  showSelectionCheckbox: boolean,\n  isSelected: boolean,\n  onSelect: boolean => void,\n  origin: VariableOrigin,\n|};\n\nconst ThemableVariableRow = ({\n  name,\n  variable,\n  depth,\n  errorText,\n  onBlur,\n  onRemove,\n  onAddChild,\n  onChangeValue,\n  onResetToDefaultValue,\n  children,\n  muiTheme,\n  showHandle,\n  showSelectionCheckbox,\n  isSelected,\n  onSelect,\n  origin,\n}: Props) => {\n  const isStructure = variable.isStructure();\n  const key = '' + depth + name;\n\n  const limitEditing = origin === 'parent' || origin === 'inherited';\n\n  const columns = [\n    <TreeTableCell key=\"name\">\n      {depth > 0 && (\n        <Indent width={(depth + 1) * styles.tableChildIndentation} />\n      )}\n      {depth === 0 && showHandle && <DragHandle />}\n      {showSelectionCheckbox && !limitEditing && (\n        <InlineCheckbox\n          checked={isSelected}\n          onCheck={(e, checked) => onSelect(checked)}\n        />\n      )}\n      <TextField\n        style={{\n          fontStyle: origin !== 'inherited' ? 'normal' : 'italic',\n        }}\n        fullWidth\n        name={key + 'name'}\n        defaultValue={name}\n        errorText={errorText}\n        onBlur={onBlur}\n        disabled={origin === 'parent'}\n      />\n    </TreeTableCell>,\n  ];\n  if (!isStructure) {\n    columns.push(\n      <TreeTableCell key=\"value\">\n        <SemiControlledTextField\n          commitOnBlur\n          fullWidth\n          name={key + 'value'}\n          value={variable.getString()}\n          onChange={text => {\n            if (variable.getString() !== text) {\n              onChangeValue(text);\n            }\n          }}\n          multiLine\n          disabled={origin === 'parent' && depth !== 0}\n        />\n      </TreeTableCell>\n    );\n  } else {\n    columns.push(\n      <TreeTableCell\n        key=\"value\"\n        style={limitEditing ? styles.fadedButton : undefined}\n      >\n        (Structure)\n      </TreeTableCell>\n    );\n  }\n  columns.push(\n    <TreeTableCell key=\"tools\" style={styles.toolColumn}>\n      {origin === 'inherited' && depth === 0 && (\n        <IconButton\n          onClick={onResetToDefaultValue}\n          style={isStructure ? undefined : styles.fadedButton}\n          tooltip={<Trans>Reset</Trans>}\n        >\n          <Reset />\n        </IconButton>\n      )}\n      {!(origin === 'inherited' && depth === 0) && origin !== 'parent' && (\n        <IconButton\n          onClick={onAddChild}\n          style={isStructure ? undefined : styles.fadedButton}\n          tooltip={<Trans>Add child variable</Trans>}\n          tooltipPosition=\"bottom-left\"\n        >\n          <AddCircle />\n        </IconButton>\n      )}\n    </TreeTableCell>\n  );\n\n  return (\n    <div>\n      <TreeTableRow\n        style={{ backgroundColor: muiTheme.list.itemsBackgroundColor }}\n      >\n        {columns}\n      </TreeTableRow>\n      {children}\n    </div>\n  );\n};\n\nconst VariableRow = muiThemeable()(ThemableVariableRow);\nexport default VariableRow;\n","import React from 'react';\nimport { TreeTableRow, TreeTableCell } from '../UI/TreeTable';\nimport Add from 'material-ui/svg-icons/content/add';\nimport IconButton from 'material-ui/IconButton';\nimport EmptyMessage from '../UI/EmptyMessage';\nimport ContentCopy from 'material-ui/svg-icons/content/content-copy';\nimport ContentPaste from 'material-ui/svg-icons/content/content-paste';\nimport Delete from 'material-ui/svg-icons/action/delete';\n\nimport styles from './styles';\n\nconst EditVariableRow = ({\n  onAdd,\n  onCopy,\n  hasSelection,\n  onPaste,\n  hasClipboard,\n  onDeleteSelection,\n}) => (\n  <TreeTableRow>\n    <TreeTableCell style={styles.toolColumnHeader}>\n      <IconButton onClick={onCopy} disabled={!hasSelection}>\n        <ContentCopy />\n      </IconButton>\n      <IconButton onClick={onPaste} disabled={!hasClipboard}>\n        <ContentPaste />\n      </IconButton>\n      <IconButton onClick={onDeleteSelection} disabled={!hasSelection}>\n        <Delete />\n      </IconButton>\n    </TreeTableCell>\n\n    <TreeTableCell>\n      <EmptyMessage style={styles.addVariableMessage} />\n    </TreeTableCell>\n\n    <TreeTableCell style={styles.toolColumn}>\n      <IconButton onClick={onAdd}>\n        <Add />\n      </IconButton>\n    </TreeTableCell>\n  </TreeTableRow>\n);\n\nexport default EditVariableRow;\n","// @flow\n/**\n * Export functions to manipulate a selection of objects.\n */\n\nimport values from 'lodash/values';\n\ntype ObjectType = { ptr: number };\n\ntype SelectionState<T> = {\n  [number]: ?T,\n};\n\nexport const getInitialSelection = () => ({});\n\nexport const clearSelection = () => getInitialSelection();\n\nexport const getSelection = <T: ObjectType>(\n  selection: SelectionState<T>\n): Array<T> => values(selection).filter(value => !!value);\n\nexport const addToSelection = <T: ObjectType>(\n  selection: SelectionState<T>,\n  object: T,\n  select: boolean = true\n): SelectionState<T> => {\n  console.log(object, select);\n  return {\n    ...selection,\n    [object.ptr]: select ? object : null,\n  };\n};\n\nexport const isSelected = <T: ObjectType>(\n  selection: SelectionState<T>,\n  object: T\n): boolean => !!selection[object.ptr];\n\nexport const hasSelection = <T: ObjectType>(\n  selection: SelectionState<T>\n): boolean => {\n  return !!values(selection).filter(value => !!value).length;\n};\n","export const CLIPBOARD_KIND = 'Variables';\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport FlatButton from 'material-ui/FlatButton';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport Dialog from '../UI/Dialog';\nimport { Line } from '../UI/Grid';\nimport ResourcesLoader from '../ResourcesLoader';\nimport ResourceSelectorWithThumbnail from '../ResourcesList/ResourceSelectorWithThumbnail';\nimport {\n  type ResourceSource,\n  type ChooseResourceFunction,\n} from '../ResourcesList/ResourceSource.flow';\nimport { type ResourceExternalEditor } from '../ResourcesList/ResourceExternalEditor.flow';\nimport { resizeImage, isResizeSupported } from './ImageResizer';\nimport { showErrorBox } from '../UI/Messages/MessageBox';\nimport optionalRequire from '../Utils/OptionalRequire';\nconst path = optionalRequire('path');\nconst gd = global.gd;\n\ntype Props = {|\n  project: gdProject,\n  open: boolean,\n  onClose: Function,\n  onApply: Function,\n  resourceSources: Array<ResourceSource>,\n  onChooseResource: ChooseResourceFunction,\n  resourceExternalEditors: Array<ResourceExternalEditor>,\n|};\n\ntype State = {|\n  desktopIconResourceNames: Array<string>,\n  androidIconResourceNames: Array<string>,\n  iosIconResourceNames: Array<string>,\n|};\n\nconst desktopSizes = [512];\nconst androidSizes = [192, 144, 96, 72, 48, 36];\nconst iosSizes = [\n  180,\n  167,\n  152,\n  144,\n  120,\n  114,\n  100,\n  80,\n  76,\n  72,\n  60,\n  58,\n  57,\n  50,\n  40,\n  29,\n];\n\nexport default class PlatformSpecificAssetsDialog extends React.Component<\n  Props,\n  State\n> {\n  constructor(props: Props) {\n    super(props);\n    this.state = this._loadFrom(props.project);\n  }\n\n  _loadFrom(project: gdProject): State {\n    return {\n      desktopIconResourceNames: desktopSizes.map(size =>\n        project.getPlatformSpecificAssets().get('desktop', `icon-${size}`)\n      ),\n      androidIconResourceNames: androidSizes.map(size =>\n        project.getPlatformSpecificAssets().get('android', `icon-${size}`)\n      ),\n      iosIconResourceNames: iosSizes.map(size =>\n        project.getPlatformSpecificAssets().get('ios', `icon-${size}`)\n      ),\n    };\n  }\n\n  componentWillReceiveProps(newProps: Props) {\n    if (\n      (!this.props.open && newProps.open) ||\n      (newProps.open && this.props.project !== newProps.project)\n    ) {\n      this.setState(this._loadFrom(newProps.project));\n    }\n  }\n\n  _generateFromFile = () => {\n    const { project, resourceSources, onChooseResource } = this.props;\n\n    const sources = resourceSources.filter(source => source.kind === 'image');\n    if (!sources.length) return;\n\n    onChooseResource(sources[0].name, false).then(resources => {\n      if (!resources.length || !path) {\n        return;\n      }\n\n      const resourcesManager = project.getResourcesManager();\n      const projectPath = path.dirname(project.getProjectFile());\n      const fullPath = path.resolve(projectPath, resources[0].getFile());\n\n      // Important, we are responsible for deleting the resources that were given to us.\n      // Otherwise we have a memory leak.\n      resources.forEach(resource => resource.delete());\n\n      Promise.all([\n        ...desktopSizes.map(size =>\n          resizeImage(\n            fullPath,\n            path.join(projectPath, `desktop-icon-${size}.png`),\n            {\n              width: size,\n              height: size,\n            }\n          )\n        ),\n        ...androidSizes.map(size =>\n          resizeImage(\n            fullPath,\n            path.join(projectPath, `android-icon-${size}.png`),\n            {\n              width: size,\n              height: size,\n            }\n          )\n        ),\n        ...iosSizes.map(size =>\n          resizeImage(\n            fullPath,\n            path.join(projectPath, `ios-icon-${size}.png`),\n            {\n              width: size,\n              height: size,\n            }\n          )\n        ),\n      ]).then(results => {\n        if (results.indexOf(false) !== -1) {\n          showErrorBox('Some icons could not be generated!');\n          return;\n        }\n\n        // Add resources to the game\n        const allResourcesNames = [\n          ...desktopSizes.map(size => `desktop-icon-${size}.png`),\n          ...androidSizes.map(size => `android-icon-${size}.png`),\n          ...iosSizes.map(size => `ios-icon-${size}.png`),\n        ];\n        allResourcesNames.forEach(resourceName => {\n          if (!resourcesManager.hasResource(resourceName)) {\n            const imageResource = new gd.ImageResource();\n            imageResource.setFile(resourceName);\n            imageResource.setName(resourceName);\n\n            resourcesManager.addResource(imageResource);\n\n            // Important, we are responsible for deleting the resources that we created\n            // Otherwise we have a memory leak, as calling addResource is making a copy of the resource.\n            imageResource.delete();\n          } else {\n            resourcesManager.getResource(resourceName).setFile(resourceName);\n          }\n        });\n\n        // Make sure the resources are (re)loaded.\n        ResourcesLoader.burstUrlsCacheForResources(project, allResourcesNames);\n        setTimeout(() => {\n          this.setState({\n            desktopIconResourceNames: desktopSizes.map(\n              size => `desktop-icon-${size}.png`\n            ),\n            androidIconResourceNames: androidSizes.map(\n              size => `android-icon-${size}.png`\n            ),\n            iosIconResourceNames: iosSizes.map(size => `ios-icon-${size}.png`),\n          });\n        }, 200 /* Let a bit of time so that image files can be found */);\n      });\n    });\n  };\n\n  _onApply = () => {\n    const { project } = this.props;\n    const {\n      desktopIconResourceNames,\n      androidIconResourceNames,\n      iosIconResourceNames,\n    } = this.state;\n\n    desktopSizes.forEach((size, index) => {\n      project\n        .getPlatformSpecificAssets()\n        .set('desktop', `icon-${size}`, desktopIconResourceNames[index]);\n    });\n    androidSizes.forEach((size, index) => {\n      project\n        .getPlatformSpecificAssets()\n        .set('android', `icon-${size}`, androidIconResourceNames[index]);\n    });\n    iosSizes.forEach((size, index) => {\n      project\n        .getPlatformSpecificAssets()\n        .set('ios', `icon-${size}`, iosIconResourceNames[index]);\n    });\n\n    this.props.onApply();\n  };\n\n  render() {\n    const actions = [\n      <FlatButton\n        label={<Trans>Cancel</Trans>}\n        primary={false}\n        onClick={this.props.onClose}\n      />,\n      <FlatButton\n        label={<Trans>Apply</Trans>}\n        primary={true}\n        keyboardFocused={true}\n        onClick={this._onApply}\n      />,\n    ];\n    const {\n      project,\n      resourceSources,\n      onChooseResource,\n      resourceExternalEditors,\n    } = this.props;\n    const {\n      desktopIconResourceNames,\n      androidIconResourceNames,\n      iosIconResourceNames,\n    } = this.state;\n\n    return (\n      <Dialog\n        actions={actions}\n        open={this.props.open}\n        onRequestClose={this.props.onClose}\n        autoScrollBodyContent\n      >\n        <Line justifyContent=\"center\">\n          {isResizeSupported() ? (\n            <RaisedButton\n              primary\n              label={<Trans>Generate icons from a file</Trans>}\n              onClick={this._generateFromFile}\n            />\n          ) : (\n            <p>\n              <Trans>\n                Download GDevelop desktop version to generate the Android and\n                iOS icons of your game.\n              </Trans>\n            </p>\n          )}\n        </Line>\n        <p>\n          <Trans>Desktop (Windows, macOS and Linux) icon:</Trans>\n        </p>\n        {desktopSizes.map((size, index) => (\n          <ResourceSelectorWithThumbnail\n            key={size}\n            floatingLabelText={`Desktop icon (${size}x${size} px)`}\n            project={project}\n            resourceSources={resourceSources}\n            onChooseResource={onChooseResource}\n            resourceExternalEditors={resourceExternalEditors}\n            resourceKind=\"image\"\n            resourceName={desktopIconResourceNames[index]}\n            onChange={resourceName => {\n              const newIcons = [...desktopIconResourceNames];\n              newIcons[index] = resourceName;\n              this.setState({\n                desktopIconResourceNames: newIcons,\n              });\n            }}\n          />\n        ))}\n        <p>\n          <Trans>Android icons:</Trans>\n        </p>\n        {androidSizes.map((size, index) => (\n          <ResourceSelectorWithThumbnail\n            key={size}\n            floatingLabelText={`Android icon (${size}x${size} px)`}\n            project={project}\n            resourceSources={resourceSources}\n            onChooseResource={onChooseResource}\n            resourceExternalEditors={resourceExternalEditors}\n            resourceKind=\"image\"\n            resourceName={androidIconResourceNames[index]}\n            onChange={resourceName => {\n              const newIcons = [...androidIconResourceNames];\n              newIcons[index] = resourceName;\n              this.setState({\n                androidIconResourceNames: newIcons,\n              });\n            }}\n          />\n        ))}\n        <p>\n          <Trans>iOS (iPhone and iPad) icons:</Trans>\n        </p>\n        {iosSizes.map((size, index) => (\n          <ResourceSelectorWithThumbnail\n            key={size}\n            floatingLabelText={`iOS icon (${size}x${size} px)`}\n            project={project}\n            resourceSources={resourceSources}\n            onChooseResource={onChooseResource}\n            resourceKind=\"image\"\n            resourceName={iosIconResourceNames[index]}\n            resourceExternalEditors={resourceExternalEditors}\n            onChange={resourceName => {\n              const newIcons = [...iosIconResourceNames];\n              newIcons[index] = resourceName;\n              this.setState({\n                iosIconResourceNames: newIcons,\n              });\n            }}\n          />\n        ))}\n      </Dialog>\n    );\n  }\n}\n","//@flow\nimport optionalRequire from '../Utils/OptionalRequire';\nconst Jimp = optionalRequire('jimp');\n\nexport const isResizeSupported = () => !!Jimp;\n\nexport const resizeImage = (\n  inputFile: string,\n  outputFile: string,\n  { width, height }: { width: number, height: number }\n): Promise<any> => {\n  if (!Jimp) return Promise.resolve(false);\n\n  return Jimp.read(inputFile)\n    .then(function(jimpImage) {\n      return jimpImage.contain(width, height).write(outputFile);\n    })\n    .then(() => {\n      return true;\n    })\n    .catch(function(err) {\n      console.error(err);\n      return false;\n    });\n};\n","import React from 'react';\nimport RefreshIndicator from 'material-ui/RefreshIndicator';\n\nconst loaderSize = 50;\n\nexport default props => {\n  return (\n    <div\n      style={{\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        backgroundColor: 'rgba(0,0,0,0.5)',\n        zIndex: 1000,\n        pointerEvents: props.show ? 'cursor' : 'none',\n        display: props.show ? 'block' : 'none',\n      }}\n    >\n      <div\n        style={{\n          position: 'absolute',\n          top: '50%',\n          left: '50%',\n          marginTop: -loaderSize / 2,\n          marginLeft: -loaderSize / 2,\n          width: loaderSize,\n          height: loaderSize,\n        }}\n      >\n        {props.show /* Don't render RefreshIndicator to avoid it to use a timeout that would wake regularly the CPU  */ && (\n          <RefreshIndicator\n            size={loaderSize}\n            left={0}\n            top={0}\n            status={'loading'}\n          />\n        )}\n      </div>\n    </div>\n  );\n};\n","// @flow\nimport * as React from 'react';\nimport optionalRequire from '../Utils/OptionalRequire';\nimport Window from '../Utils/Window';\nconst electron = optionalRequire('electron');\n\ntype Props = {|\n  shouldPrompt: boolean,\n|};\n\nexport default class CloseConfirmDialog extends React.Component<Props, *> {\n  _delayElectronClose = true;\n\n  componentDidMount() {\n    this._setup(this.props);\n  }\n\n  componentWillReceiveProps(newProps: Props) {\n    if (newProps.shouldPrompt !== this.props.shouldPrompt)\n      this._setup(newProps);\n  }\n\n  _setup(props: Props) {\n    if (Window.isDev()) return; // Don't prevent live-reload in development\n\n    const { shouldPrompt } = props;\n    const message =\n      'Are you sure you want to quit GDevelop? Any unsaved changes will be lost.';\n\n    if (electron) {\n      window.onbeforeunload = e => {\n        if (this._delayElectronClose && shouldPrompt) {\n          // Use setTimeout to avoiding blocking the thread with the \"confirm\" dialog,\n          // which would make Electron to close the window for some weird reason.\n          // See https://github.com/electron/electron/issues/7977\n          setTimeout(() => {\n            //eslint-disable-next-line\n            const answer = confirm(message);\n            if (answer) {\n              // If answer is positive, re-trigger the close\n              this._delayElectronClose = false;\n              electron.remote.getCurrentWindow().close();\n            }\n          }, 10);\n\n          // Prevents closing the window immediately. See https://github.com/electron/electron/blob/master/docs/api/browser-window.md#event-close\n          e.returnValue = true; //\"It is recommended to always set the event.returnValue explicitly, instead of only returning a value, as the former works more consistently within Electron.\"\"\n          return false; //\"In Electron, returning any value other than undefined would cancel the close\"\n        } else {\n          // Returning undefined will let the window close\n        }\n      };\n    } else if (window) {\n      if (shouldPrompt) {\n        window.onbeforeunload = () => message;\n      } else {\n        window.onbeforeunload = null;\n      }\n    }\n  }\n\n  render() {\n    return null;\n  }\n}\n","import React, { Component } from 'react';\nimport { Tabs as MaterialUITabs, Tab as MaterialUITab } from 'material-ui/Tabs';\nimport Close from 'material-ui/svg-icons/navigation/close';\nimport FlatButton from 'material-ui/FlatButton';\nimport muiThemeable from 'material-ui/styles/muiThemeable';\n\nconst styles = {\n  tabsContainerStyle: {\n    maxWidth: '100%',\n    flex: 1,\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  tabTemplateStyle: {\n    width: '100%',\n    position: 'relative',\n    textAlign: 'initial',\n    height: '100%',\n  },\n};\n\n/**\n * This is to override the default material-ui tab template used to wrap the content of each tab element.\n * 2 changes (**please port them to your new implementation if you change the tabs**):\n *\n * 1) Instead of setting the \"height\" of hidden tabs to \"0\", we set \"display\" to \"none\" to avoid\n * messing with components (in particular components where you can scroll: when collapsed because of height=0,\n * they will lose they scrolling position).\n *\n * 2) shouldComponentUpdate is used to avoid updating the content of a tab that is not selected.\n *\n * Rest of the implementation is the same.\n */\nclass TabTemplate extends Component {\n  shouldComponentUpdate(nextProps) {\n    return this.props.selected || nextProps.selected;\n  }\n\n  render() {\n    const { children, selected, style } = this.props;\n    const templateStyle = { ...styles.tabTemplateStyle, ...style };\n    if (!selected) {\n      templateStyle.display = 'none';\n    }\n\n    return <div style={templateStyle}>{children}</div>;\n  }\n}\n\nexport class ThemableTabs extends Component {\n  render() {\n    const { muiTheme, hideLabels, ...tabsProps } = this.props;\n    const tabItemContainerStyle = {\n      maxWidth: '100%', // Tabs should take all width\n      flexShrink: 0, // Tabs height should never be reduced\n      overflowX: 'auto',\n      display: hideLabels ? 'none' : 'block',\n      backgroundColor: muiTheme.closableTabs.backgroundColor,\n    };\n\n    const contentContainerStyle = {\n      overflowY: 'hidden',\n      height: hideLabels\n        ? '100%'\n        : `calc(100% - ${muiTheme.closableTabs.height}px)`,\n    };\n\n    return (\n      <MaterialUITabs\n        style={styles.tabsContainerStyle}\n        tabTemplate={TabTemplate}\n        contentContainerStyle={contentContainerStyle}\n        tabItemContainerStyle={tabItemContainerStyle}\n        inkBarStyle={{ display: 'none' }}\n        {...tabsProps}\n      />\n    );\n  }\n}\n\nexport const Tabs = muiThemeable()(ThemableTabs);\nTabs.muiName = 'Tabs';\n\nclass ThemableTab extends Component {\n  static muiName = 'Tab';\n\n  render() {\n    const {\n      muiTheme,\n      selected,\n      onClose,\n      label,\n      closable,\n      ...tabProps\n    } = this.props;\n\n    const truncatedLabel = (\n      <span\n        style={{\n          width:\n            muiTheme.closableTabs.width -\n            muiTheme.closableTabs.closeButtonWidth * 1.5,\n          marginRight: muiTheme.closableTabs.closeButtonWidth,\n          overflow: 'hidden',\n          textOverflow: 'ellipsis',\n        }}\n      >\n        {label}\n      </span>\n    );\n\n    return (\n      <span\n        style={{\n          position: 'relative',\n          width: muiTheme.closableTabs.width,\n          display: 'inline-block',\n        }}\n      >\n        <MaterialUITab\n          {...tabProps}\n          label={truncatedLabel}\n          selected={selected}\n          buttonStyle={{\n            height: muiTheme.closableTabs.height,\n            backgroundColor: selected\n              ? muiTheme.closableTabs.selectedBackgroundColor\n              : muiTheme.closableTabs.backgroundColor,\n            color: selected\n              ? muiTheme.closableTabs.selectedTextColor\n              : muiTheme.closableTabs.textColor,\n          }}\n          style={{\n            height: '100%',\n            width: '100%',\n          }}\n        />\n        {closable && (\n          <FlatButton\n            backgroundColor=\"transparent\"\n            hoverColor={muiTheme.selectedBackgroundColor}\n            onClick={onClose}\n            style={{\n              position: 'absolute',\n              right: 0,\n              top: 0,\n              bottom: 0,\n              borderRadius: 0,\n              width: muiTheme.closableTabs.closeButtonWidth,\n              minWidth: muiTheme.closableTabs.closeButtonWidth,\n            }}\n            icon={\n              <Close\n                color={\n                  selected\n                    ? muiTheme.closableTabs.selectedTextColor\n                    : muiTheme.closableTabs.textColor\n                }\n                style={{\n                  width: muiTheme.closableTabs.height / 2,\n                  height: muiTheme.closableTabs.height / 2,\n                }}\n              />\n            }\n          />\n        )}\n      </span>\n    );\n  }\n}\n\nexport const Tab = muiThemeable()(ThemableTab);\nTab.muiName = 'Tab';\n","// @flow\nimport findIndex from 'lodash/findIndex';\nimport EventsEditor from './Editors/EventsEditor';\nimport DebuggerEditor from './Editors/DebuggerEditor';\nimport EventsFunctionsExtensionEditorWrapper from './Editors/EventsFunctionsExtensionEditor';\nimport ExternalEventsEditor from './Editors/ExternalEventsEditor';\nimport ExternalLayoutEditor from './Editors/ExternalLayoutEditor';\nimport ResourcesEditor from './Editors/ResourcesEditor';\nimport SceneEditor from './Editors/SceneEditor';\n\n// Supported editors\ntype EditorRef =\n  | DebuggerEditor\n  | EventsEditor\n  | EventsFunctionsExtensionEditorWrapper\n  | ExternalEventsEditor\n  | ExternalLayoutEditor\n  | ResourcesEditor\n  | SceneEditor;\n\nexport type EditorTab = {|\n  render: (isCurrentTab: boolean) => React$Element<*>,\n  editorRef: ?EditorRef,\n  name: string,\n  key: string,\n  closable: boolean,\n|};\n\nexport type EditorTabsState = {\n  editors: Array<EditorTab>,\n  currentTab: number,\n};\n\nexport const getEditorTabsInitialState = (): EditorTabsState => {\n  return {\n    editors: [],\n    currentTab: 0,\n  };\n};\n\ntype renderEditorProps = {|\n  isActive: boolean,\n  editorRef: Function,\n|};\n\nexport const openEditorTab = (\n  state: EditorTabsState,\n  {\n    name,\n    renderEditor,\n    key,\n    dontFocusTab,\n    closable,\n  }: {\n    name: string,\n    renderEditor: (props: renderEditorProps) => React$Element<*>,\n    key: string,\n    dontFocusTab?: boolean,\n    closable?: boolean,\n  }\n): EditorTabsState => {\n  const existingEditorId = findIndex(\n    state.editors,\n    editor => editor.key === key\n  );\n  if (existingEditorId !== -1) {\n    return {\n      ...state,\n      currentTab: dontFocusTab ? state.currentTab : existingEditorId,\n    };\n  }\n\n  const editorTab: EditorTab = {\n    render: (isCurrentTab: boolean) =>\n      renderEditor({\n        isActive: isCurrentTab,\n        editorRef: editorRef => (editorTab.editorRef = editorRef),\n      }),\n    editorRef: null,\n    name,\n    key,\n    closable: typeof closable === 'undefined' ? true : !!closable,\n  };\n\n  return {\n    ...state,\n    editors: [...state.editors, editorTab],\n    currentTab: dontFocusTab ? state.currentTab : state.editors.length,\n  };\n};\n\nexport const changeCurrentTab = (\n  state: EditorTabsState,\n  newTabId: number\n): EditorTabsState => {\n  return {\n    ...state,\n    currentTab: Math.max(0, Math.min(newTabId, state.editors.length - 1)),\n  };\n};\n\nexport const closeAll = (): EditorTabsState => {\n  return getEditorTabsInitialState();\n};\n\nexport const closeEditorTab = (\n  state: EditorTabsState,\n  editorTab: EditorTab\n): EditorTabsState => {\n  return changeCurrentTab(\n    {\n      ...state,\n      editors: state.editors.filter(e => e !== editorTab),\n    },\n    state.currentTab\n  );\n};\n\nexport const getEditors = (state: EditorTabsState): Array<EditorTab> => {\n  return state.editors;\n};\n\nexport const getCurrentTabIndex = (state: EditorTabsState): number => {\n  return state.currentTab;\n};\n\nexport const getCurrentTab = (state: EditorTabsState): EditorTab => {\n  return state.editors[state.currentTab];\n};\n\nexport const closeProjectTabs = (\n  state: EditorTabsState,\n  project: ?gdProject\n) => {\n  return changeCurrentTab(\n    {\n      ...state,\n      editors: state.editors.filter(editorTab => {\n        const editorProject =\n          editorTab.editorRef && editorTab.editorRef.getProject();\n        return !editorProject || editorProject !== project;\n      }),\n    },\n    state.currentTab\n  );\n};\n\n/*\n * Ask the editors to persist their UI settings\n * to the project.\n */\nexport const saveUiSettings = (state: EditorTabsState) => {\n  state.editors.forEach(editorTab => {\n    if (editorTab.editorRef && editorTab.editorRef.saveUiSettings) {\n      editorTab.editorRef.saveUiSettings();\n    }\n  });\n};\n\nexport const closeLayoutTabs = (state: EditorTabsState, layout: gdLayout) => {\n  return changeCurrentTab(\n    {\n      ...state,\n      editors: state.editors.filter(editorTab => {\n        const editorLayout =\n          editorTab.editorRef && editorTab.editorRef.getLayout();\n        return !editorLayout || editorLayout !== layout;\n      }),\n    },\n    state.currentTab\n  );\n};\n\nexport const closeExternalLayoutTabs = (\n  state: EditorTabsState,\n  externalLayout: gdExternalLayout\n) => {\n  return changeCurrentTab(\n    {\n      ...state,\n      editors: state.editors.filter(editorTab => {\n        const editor = editorTab.editorRef;\n\n        if (editor instanceof ExternalLayoutEditor) {\n          return (\n            !editor.getExternalLayout() ||\n            editor.getExternalLayout() !== externalLayout\n          );\n        }\n\n        return true;\n      }),\n    },\n    state.currentTab\n  );\n};\n\nexport const closeExternalEventsTabs = (\n  state: EditorTabsState,\n  externalEvents: gdExternalEvents\n) => {\n  return changeCurrentTab(\n    {\n      ...state,\n      editors: state.editors.filter(editorTab => {\n        const editor = editorTab.editorRef;\n        if (editor instanceof ExternalEventsEditor) {\n          return (\n            !editor.getExternalEvents() ||\n            editor.getExternalEvents() !== externalEvents\n          );\n        }\n\n        return true;\n      }),\n    },\n    state.currentTab\n  );\n};\n\nexport const closeEventsFunctionsExtensionTabs = (\n  state: EditorTabsState,\n  eventsFunctionsExtension: gdEventsFunctionsExtension\n) => {\n  return changeCurrentTab(\n    {\n      ...state,\n      editors: state.editors.filter(editorTab => {\n        const editor = editorTab.editorRef;\n        if (editor instanceof EventsFunctionsExtensionEditorWrapper) {\n          return (\n            !editor.getEventsFunctionsExtension() ||\n            editor.getEventsFunctionsExtension() !== eventsFunctionsExtension\n          );\n        }\n\n        return true;\n      }),\n    },\n    state.currentTab\n  );\n};\n\nexport const getEventsFunctionsExtensionEditor = (\n  state: EditorTabsState,\n  eventsFunctionsExtension: gdEventsFunctionsExtension\n): ?{| editor: EventsFunctionsExtensionEditorWrapper, tabIndex: number |} => {\n  for (let tabIndex = 0; tabIndex < state.editors.length; ++tabIndex) {\n    const editor = state.editors[tabIndex].editorRef;\n    if (\n      editor instanceof EventsFunctionsExtensionEditorWrapper &&\n      editor.getEventsFunctionsExtension() === eventsFunctionsExtension\n    ) {\n      return { editor, tabIndex };\n    }\n  }\n\n  return null;\n};\n","// @flow\nimport React, { Component, type Node } from 'react';\nimport muiThemeable from 'material-ui/styles/muiThemeable';\nimport findIndex from 'lodash/findIndex';\nimport {\n  SortableTreeWithoutDndContext,\n  getNodeAtPath,\n} from 'react-sortable-tree';\nimport { mapFor } from '../../Utils/MapFor';\nimport { getInitialSelection, isEventSelected } from '../SelectionHandler';\nimport EventsRenderingService from './EventsRenderingService';\nimport EventHeightsCache from './EventHeightsCache';\nimport classNames from 'classnames';\nimport { eventsTree, eventsTreeWithSearchResults, icon } from './ClassNames';\nimport {\n  type SelectionState,\n  type EventContext,\n  type InstructionsListContext,\n  type InstructionContext,\n  type ParameterContext,\n} from '../SelectionHandler';\nimport { type EventsScope } from '../EventsScope.flow';\nimport getObjectByName from '../../Utils/GetObjectByName';\nimport ObjectsRenderingService from '../../ObjectsRendering/ObjectsRenderingService';\n\n// Import default style of react-sortable-tree and the override made for EventsSheet.\nimport 'react-sortable-tree/style.css';\nimport './style.css';\n\nconst getThumbnail = ObjectsRenderingService.getThumbnail.bind(\n  ObjectsRenderingService\n);\n\nconst gd = global.gd;\n\nconst indentWidth = 22;\n\nconst styles = {\n  container: { flex: 1 },\n};\n\ntype EventsContainerProps = {|\n  eventsHeightsCache: EventHeightsCache,\n  event: gdBaseEvent,\n  leftIndentWidth: number,\n  disabled: boolean,\n  project: gdProject,\n  scope: EventsScope,\n  globalObjectsContainer: gdObjectsContainer,\n  objectsContainer: gdObjectsContainer,\n  selection: SelectionState,\n  onAddNewInstruction: Function,\n  onMoveToInstruction: (destinationContext: InstructionContext) => void,\n  onMoveToInstructionsList: (\n    destinationContext: InstructionsListContext\n  ) => void,\n  onInstructionClick: InstructionContext => void,\n  onInstructionDoubleClick: InstructionContext => void,\n  onInstructionContextMenu: (x: number, y: number, InstructionContext) => void,\n  onInstructionsListContextMenu: (\n    x: number,\n    y: number,\n    InstructionsListContext\n  ) => void,\n  onParameterClick: ParameterContext => void,\n\n  onEventClick: (eventContext: EventContext) => void,\n  onEventContextMenu: (x: number, y: number) => void,\n  onOpenExternalEvents: string => void,\n  onOpenLayout: string => void,\n  renderObjectThumbnail: string => Node,\n|};\n\n/**\n * The component containing an event.\n * It will report the rendered event height so that the EventsTree can\n * update accordingly.\n */\nclass EventContainer extends Component<EventsContainerProps, {||}> {\n  _container: ?any;\n  componentDidMount() {\n    const height = this._container ? this._container.offsetHeight : 0;\n    this.props.eventsHeightsCache.setEventHeight(this.props.event, height);\n  }\n\n  componentDidUpdate() {\n    const height = this._container ? this._container.offsetHeight : 0;\n    this.props.eventsHeightsCache.setEventHeight(this.props.event, height);\n  }\n\n  _onEventUpdated = () => {\n    this.forceUpdate();\n  };\n\n  _onEventContextMenu = (domEvent: any) => {\n    domEvent.preventDefault();\n    this.props.onEventContextMenu(domEvent.clientX, domEvent.clientY);\n  };\n\n  render() {\n    const { event, project, scope, disabled } = this.props;\n    const EventComponent = EventsRenderingService.getEventComponent(event);\n\n    return (\n      <div\n        ref={container => (this._container = container)}\n        onClick={this.props.onEventClick}\n        onContextMenu={this._onEventContextMenu}\n      >\n        {EventComponent && (\n          <EventComponent\n            project={project}\n            scope={scope}\n            event={event}\n            globalObjectsContainer={this.props.globalObjectsContainer}\n            objectsContainer={this.props.objectsContainer}\n            selected={isEventSelected(this.props.selection, event)}\n            selection={this.props.selection}\n            leftIndentWidth={this.props.leftIndentWidth}\n            onUpdate={this._onEventUpdated}\n            onAddNewInstruction={this.props.onAddNewInstruction}\n            onMoveToInstruction={this.props.onMoveToInstruction}\n            onMoveToInstructionsList={this.props.onMoveToInstructionsList}\n            onInstructionClick={this.props.onInstructionClick}\n            onInstructionDoubleClick={this.props.onInstructionDoubleClick}\n            onInstructionContextMenu={this.props.onInstructionContextMenu}\n            onInstructionsListContextMenu={\n              this.props.onInstructionsListContextMenu\n            }\n            onParameterClick={this.props.onParameterClick}\n            onOpenExternalEvents={this.props.onOpenExternalEvents}\n            onOpenLayout={this.props.onOpenLayout}\n            disabled={\n              disabled /* Use disabled (not event.disabled) as it is true if a parent event is disabled*/\n            }\n            renderObjectThumbnail={this.props.renderObjectThumbnail}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nconst getNodeKey = ({ treeIndex }) => treeIndex;\n\nconst ThemableSortableTree = ({ muiTheme, className, ...otherProps }) => (\n  <SortableTreeWithoutDndContext\n    className={`${eventsTree} ${\n      muiTheme.eventsSheetRootClassName\n    } ${className}`}\n    {...otherProps}\n  />\n);\nconst SortableTree = muiThemeable()(ThemableSortableTree);\n\nconst noop = () => {};\n\ntype EventsTreeProps = {|\n  events: gdEventsList,\n  project: gdProject,\n  scope: EventsScope,\n  globalObjectsContainer: gdObjectsContainer,\n  objectsContainer: gdObjectsContainer,\n  selection: SelectionState,\n  onAddNewInstruction: Function,\n  onMoveToInstruction: (destinationContext: InstructionContext) => void,\n  onMoveToInstructionsList: (\n    destinationContext: InstructionsListContext\n  ) => void,\n  onInstructionClick: InstructionContext => void,\n  onInstructionDoubleClick: InstructionContext => void,\n  onInstructionContextMenu: (x: number, y: number, InstructionContext) => void,\n  onInstructionsListContextMenu: (\n    x: number,\n    y: number,\n    InstructionsListContext\n  ) => void,\n  onParameterClick: ParameterContext => void,\n\n  onEventClick: (eventContext: EventContext) => void,\n  onEventContextMenu: (\n    x: number,\n    y: number,\n    eventContext: EventContext\n  ) => void,\n  onAddNewEvent: (eventContext: EventContext) => void,\n  onOpenExternalEvents: string => void,\n  onOpenLayout: string => void,\n  showObjectThumbnails: boolean,\n\n  searchResults: ?Array<gdBaseEvent>,\n  searchFocusOffset: ?number,\n\n  onEventMoved: () => void,\n|};\n\ntype SortableTreeNode = {\n  eventsList: gdEventsList,\n  event: gdBaseEvent,\n  depth: number,\n  disabled: boolean,\n  isCondition: boolean,\n  indexInList: number,\n};\n\n/**\n * Display a tree of event. Builtin on react-sortable-tree so that event\n * can be drag'n'dropped and events rows are virtualized.\n */\nexport default class ThemableEventsTree extends Component<EventsTreeProps, *> {\n  static defaultProps = {\n    selection: getInitialSelection(),\n  };\n  _list: ?any;\n  eventsHeightsCache: EventHeightsCache;\n\n  constructor(props: EventsTreeProps) {\n    super(props);\n\n    this.eventsHeightsCache = new EventHeightsCache(this);\n    this.state = {\n      ...this._eventsToTreeData(props.events),\n    };\n  }\n\n  componentDidMount() {\n    this.onHeightsChanged();\n  }\n\n  /**\n   * Should be called whenever an event height has changed\n   */\n  onHeightsChanged(cb: ?() => void) {\n    this.forceUpdate(() => {\n      if (this._list && this._list.wrappedInstance.current) {\n        this._list.wrappedInstance.current.recomputeRowHeights();\n      }\n      if (cb) cb();\n    });\n  }\n\n  /**\n   * Should be called whenever events changed (new event...)\n   * from outside this component.\n   */\n  forceEventsUpdate(cb: ?() => void) {\n    this.setState(this._eventsToTreeData(this.props.events), () => {\n      if (this._list && this._list.wrappedInstance.current) {\n        this._list.wrappedInstance.current.recomputeRowHeights();\n      }\n      if (cb) cb();\n    });\n  }\n\n  scrollToEvent(event: gdBaseEvent) {\n    const row = this._getEventRow(event);\n    if (row !== -1) {\n      if (this._list && this._list.wrappedInstance.current) {\n        this._list.wrappedInstance.current.scrollToRow(row);\n      }\n    }\n  }\n\n  /**\n   * Unfold events so that the given one is visible\n   */\n  unfoldForEvent(event: gdBaseEvent) {\n    gd.EventsListUnfolder.unfoldWhenContaining(this.props.events, event);\n    this.forceEventsUpdate();\n  }\n\n  _getEventRow(searchedEvent: gdBaseEvent) {\n    // TODO: flatData could be replaced by a hashmap of events to row index\n    return findIndex(\n      this.state.flatData,\n      event => event.ptr === searchedEvent.ptr\n    );\n  }\n\n  _eventsToTreeData = (\n    eventsList: gdEventsList,\n    flatData: Array<gdBaseEvent> = [],\n    depth: number = 0,\n    parentDisabled: boolean = false\n  ) => {\n    const treeData = mapFor<any>(0, eventsList.getEventsCount(), i => {\n      const event = eventsList.getEventAt(i);\n      flatData.push(event);\n\n      const disabled = parentDisabled || event.isDisabled();\n\n      return {\n        title: this._renderEvent,\n        event,\n        eventsList,\n        indexInList: i,\n        expanded: !event.isFolded(),\n        disabled,\n        depth,\n        key: event.ptr, //TODO: useless?\n        children: this._eventsToTreeData(\n          event.getSubEvents(),\n          // flatData is a flat representation of events, one for each line.\n          // Hence it should not contain the folded events.\n          !event.isFolded() ? flatData : [],\n          depth + 1,\n          disabled\n        ).treeData,\n      };\n    });\n\n    return {\n      treeData,\n      flatData,\n    };\n  };\n\n  _onMoveNode = ({\n    treeData,\n    path,\n    node,\n  }: {\n    treeData: any,\n    path: Array<any>,\n    node: SortableTreeNode,\n  }) => {\n    // Get the event list where the event should be moved to.\n    const targetPath = path.slice(0, -1);\n    const target = getNodeAtPath({\n      getNodeKey,\n      treeData: treeData,\n      path: targetPath,\n    });\n    const targetNode = target.node;\n    const targetEventsList =\n      targetNode && targetNode.event\n        ? targetNode.event.getSubEvents()\n        : this.props.events;\n    const targetPosition =\n      targetNode && targetNode.children ? targetNode.children.indexOf(node) : 0;\n\n    // Get the moved event and its list from the moved node.\n    const { event, eventsList } = node;\n\n    // Do the move\n    const newEvent = event.clone();\n    eventsList.removeEvent(event);\n    targetEventsList.insertEvent(newEvent, targetPosition);\n    newEvent.delete();\n\n    this.forceEventsUpdate();\n    this.props.onEventMoved();\n  };\n\n  _canDrop = ({ nextParent }: { nextParent: ?SortableTreeNode }) => {\n    if (nextParent && nextParent.event)\n      return nextParent.event.canHaveSubEvents();\n\n    return true;\n  };\n\n  _onVisibilityToggle = ({ node }: { node: SortableTreeNode }) => {\n    const { event } = node;\n\n    event.setFolded(!event.isFolded());\n    this.forceEventsUpdate();\n  };\n\n  _renderObjectThumbnail = (objectName: string) => {\n    const { project, scope, showObjectThumbnails } = this.props;\n    if (!showObjectThumbnails) return null;\n\n    const object = getObjectByName(project, scope.layout, objectName);\n    if (!object) return null;\n\n    return (\n      <img\n        className={classNames({\n          [icon]: true,\n        })}\n        alt=\"\"\n        src={getThumbnail(project, object)}\n      />\n    );\n  };\n\n  _renderEvent = ({ node }: { node: SortableTreeNode }) => {\n    const { event, depth, disabled } = node;\n\n    return (\n      <EventContainer\n        project={this.props.project}\n        scope={this.props.scope}\n        globalObjectsContainer={this.props.globalObjectsContainer}\n        objectsContainer={this.props.objectsContainer}\n        event={event}\n        key={event.ptr}\n        eventsHeightsCache={this.eventsHeightsCache}\n        selection={this.props.selection}\n        leftIndentWidth={depth * indentWidth}\n        onAddNewInstruction={this.props.onAddNewInstruction}\n        onMoveToInstruction={this.props.onMoveToInstruction}\n        onMoveToInstructionsList={this.props.onMoveToInstructionsList}\n        onInstructionClick={this.props.onInstructionClick}\n        onInstructionDoubleClick={this.props.onInstructionDoubleClick}\n        onParameterClick={this.props.onParameterClick}\n        onEventClick={() =>\n          this.props.onEventClick({\n            eventsList: node.eventsList,\n            event: node.event,\n            indexInList: node.indexInList,\n            isCondition: node.isCondition,\n          })\n        }\n        onEventContextMenu={(x, y) =>\n          this.props.onEventContextMenu(x, y, {\n            eventsList: node.eventsList,\n            event: node.event,\n            indexInList: node.indexInList,\n            isCondition: node.isCondition,\n          })\n        }\n        onInstructionContextMenu={this.props.onInstructionContextMenu}\n        onInstructionsListContextMenu={this.props.onInstructionsListContextMenu}\n        onOpenExternalEvents={this.props.onOpenExternalEvents}\n        onOpenLayout={this.props.onOpenLayout}\n        disabled={\n          disabled /* Use node.disabled (not event.disabled) as it is true if a parent event is disabled*/\n        }\n        renderObjectThumbnail={this._renderObjectThumbnail}\n      />\n    );\n  };\n\n  _treeSearchMethod = ({\n    node,\n    searchQuery,\n  }: {\n    node: SortableTreeNode,\n    searchQuery: ?Array<gdBaseEvent>,\n  }) => {\n    const searchResults = searchQuery;\n    if (!searchResults) return false;\n    const { event } = node;\n\n    return searchResults.find(highlightedEvent =>\n      gd.compare(highlightedEvent, event)\n    );\n  };\n\n  render() {\n    // react-sortable-tree does the rendering by transforming treeData\n    // into a flat array, the result being memoized. This hack forces\n    // a re-rendering of events, by discarding the memoized flat array\n    // (otherwise, no re-rendering would be done).\n    const treeData = this.state.treeData ? [...this.state.treeData] : null;\n\n    return (\n      <div style={styles.container}>\n        <SortableTree\n          treeData={treeData}\n          scaffoldBlockPxWidth={indentWidth}\n          onChange={noop}\n          onVisibilityToggle={this._onVisibilityToggle}\n          onMoveNode={this._onMoveNode}\n          canDrop={this._canDrop}\n          rowHeight={({ node }: { node: SortableTreeNode }) => {\n            if (!node.event) return 0;\n\n            return this.eventsHeightsCache.getEventHeight(node.event);\n          }}\n          searchMethod={this._treeSearchMethod}\n          searchQuery={this.props.searchResults}\n          searchFocusOffset={this.props.searchFocusOffset}\n          className={\n            this.props.searchResults ? eventsTreeWithSearchResults : ''\n          }\n          reactVirtualizedListProps={{\n            ref: list => (this._list = list),\n          }}\n        />\n      </div>\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport InstructionsList from '../InstructionsList';\nimport classNames from 'classnames';\nimport {\n  largeSelectedArea,\n  largeSelectableArea,\n  executableEventContainer,\n} from '../ClassNames';\nimport { type EventRendererProps } from './EventRenderer.flow';\nconst gd = global.gd;\n\nconst styles = {\n  container: {\n    display: 'flex',\n  },\n  actionsList: {\n    flex: 1,\n  },\n};\n\nexport default class StandardEvent extends React.Component<\n  EventRendererProps,\n  *\n> {\n  render() {\n    var standardEvent = gd.asStandardEvent(this.props.event);\n\n    const conditionsListSyle = {\n      width: `calc(35vw - ${this.props.leftIndentWidth}px)`,\n    };\n\n    return (\n      <div\n        style={styles.container}\n        className={classNames({\n          [largeSelectableArea]: true,\n          [largeSelectedArea]: this.props.selected,\n          [executableEventContainer]: true,\n        })}\n      >\n        <InstructionsList\n          instrsList={standardEvent.getConditions()}\n          style={conditionsListSyle}\n          selection={this.props.selection}\n          areConditions\n          onAddNewInstruction={this.props.onAddNewInstruction}\n          onMoveToInstruction={this.props.onMoveToInstruction}\n          onMoveToInstructionsList={this.props.onMoveToInstructionsList}\n          onInstructionClick={this.props.onInstructionClick}\n          onInstructionDoubleClick={this.props.onInstructionDoubleClick}\n          onInstructionContextMenu={this.props.onInstructionContextMenu}\n          onInstructionsListContextMenu={\n            this.props.onInstructionsListContextMenu\n          }\n          onParameterClick={this.props.onParameterClick}\n          disabled={this.props.disabled}\n          renderObjectThumbnail={this.props.renderObjectThumbnail}\n        />\n        <InstructionsList\n          instrsList={standardEvent.getActions()}\n          style={\n            {\n              ...styles.actionsList,\n            } /* TODO: Use a new object to force update - somehow updates are not always propagated otherwise */\n          }\n          selection={this.props.selection}\n          areConditions={false}\n          onAddNewInstruction={this.props.onAddNewInstruction}\n          onMoveToInstruction={this.props.onMoveToInstruction}\n          onMoveToInstructionsList={this.props.onMoveToInstructionsList}\n          onInstructionClick={this.props.onInstructionClick}\n          onInstructionDoubleClick={this.props.onInstructionDoubleClick}\n          onInstructionContextMenu={this.props.onInstructionContextMenu}\n          onInstructionsListContextMenu={\n            this.props.onInstructionsListContextMenu\n          }\n          onParameterClick={this.props.onParameterClick}\n          disabled={this.props.disabled}\n          renderObjectThumbnail={this.props.renderObjectThumbnail}\n        />\n      </div>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport { mapFor } from '../../Utils/MapFor';\nimport classNames from 'classnames';\nimport {\n  selectedArea,\n  selectableArea,\n  subInstructionsContainer,\n  instructionParameter,\n  disabledText,\n  icon,\n} from './ClassNames';\nimport {\n  type InstructionsListContext,\n  type InstructionContext,\n} from '../SelectionHandler';\nimport InstructionsList from './InstructionsList';\nimport {\n  DragSource,\n  type DragSourceMonitor,\n  type DragSourceConnector,\n  type ConnectDragSource,\n  DropTarget,\n  type DropTargetMonitor,\n  type DropTargetConnector,\n  type ConnectDropTarget,\n} from 'react-dnd';\nimport DropIndicator from './DropIndicator';\nimport ParameterRenderingService from '../ParameterRenderingService';\nimport InvalidParameterValue from './InvalidParameterValue';\nconst gd = global.gd;\nconst instrFormatter = gd.InstructionSentenceFormatter.get();\ninstrFormatter.loadTypesFormattingFromConfig();\n\nconst styles = {\n  container: {\n    whiteSpace: 'normal',\n    wordWrap: 'break-word',\n    cursor: 'pointer',\n    marginBottom: 1,\n  },\n};\n\ntype DragSourceProps = {|\n  connectDragSource: ConnectDragSource,\n|};\n\ntype DropTargetProps = {|\n  connectDropTarget: ConnectDropTarget,\n  isOver: boolean,\n  canDrop: boolean,\n|};\n\ntype Props = {|\n  instruction: gdInstruction,\n  isCondition: boolean,\n  onClick: Function,\n  selected: boolean,\n  disabled: boolean,\n  onDoubleClick: () => void,\n  onContextMenu: (x: number, y: number) => void,\n  onMoveToInstruction: () => void,\n\n  ...DragSourceProps,\n  ...DropTargetProps,\n\n  // For potential sub-instructions list:\n  selection: Object,\n  onAddNewSubInstruction: Function,\n  onMoveToSubInstruction: (destinationContext: InstructionContext) => void,\n  onMoveToSubInstructionsList: (\n    destinationContext: InstructionsListContext\n  ) => void,\n  onSubInstructionClick: Function,\n  onSubInstructionDoubleClick: Function,\n  onSubInstructionsListContextMenu: (\n    x: number,\n    y: number,\n    instructionsListContext: InstructionsListContext\n  ) => void,\n  onSubParameterClick: Function,\n  onSubInstructionContextMenu: (\n    x: number,\n    y: number,\n    instructionContext: InstructionContext\n  ) => void,\n  onParameterClick: (event: any, parameterIndex: number) => void,\n  renderObjectThumbnail: string => React.Node,\n|};\n\nclass Instruction extends React.Component<Props, *> {\n  /**\n   * Render the different parts of the text of the instruction.\n   * Parameter can have formatting, be hovered and clicked. The rest\n   * has not particular styling.\n   */\n  _renderInstructionText = (metadata: gdInstructionMetadata) => {\n    const { instruction, disabled, renderObjectThumbnail } = this.props;\n    const formattedTexts = instrFormatter.getAsFormattedText(\n      instruction,\n      metadata\n    );\n    const parametersCount = metadata.getParametersCount();\n\n    return (\n      <span\n        className={classNames({\n          [disabledText]: disabled,\n        })}\n      >\n        {mapFor(0, formattedTexts.size(), i => {\n          const formatting = formattedTexts.getTextFormatting(i);\n          const parameterIndex = formatting.getUserData();\n          const isParameter =\n            parameterIndex >= 0 && parameterIndex < parametersCount;\n\n          if (!isParameter)\n            return <span key={i}>{formattedTexts.getString(i)}</span>;\n\n          const parameterMetadata = metadata.getParameter(parameterIndex);\n          const parameterType = parameterMetadata.getType();\n          return (\n            <span\n              key={i}\n              className={classNames({\n                [selectableArea]: true,\n                [instructionParameter]: true,\n                [parameterType]: true,\n              })}\n              onClick={domEvent =>\n                this.props.onParameterClick(domEvent, parameterIndex)\n              }\n            >\n              {ParameterRenderingService.renderInlineParameter({\n                value: formattedTexts.getString(i),\n                parameterMetadata,\n                renderObjectThumbnail,\n                InvalidParameterValue,\n              })}\n            </span>\n          );\n        })}\n      </span>\n    );\n  };\n\n  render() {\n    const { instruction, isCondition } = this.props;\n    const {\n      connectDragSource,\n      connectDropTarget,\n      isOver,\n      canDrop,\n    } = this.props;\n\n    //TODO: Metadata could be cached for performance boost.\n    const metadata = isCondition\n      ? gd.MetadataProvider.getConditionMetadata(\n          gd.JsPlatform.get(),\n          instruction.getType()\n        )\n      : gd.MetadataProvider.getActionMetadata(\n          gd.JsPlatform.get(),\n          instruction.getType()\n        );\n\n    const instructionDiv = connectDropTarget(\n      // $FlowFixMe\n      connectDragSource(\n        <div\n          style={styles.container}\n          className={classNames({\n            [selectableArea]: true,\n            [selectedArea]: this.props.selected,\n          })}\n          onClick={e => {\n            e.stopPropagation();\n            this.props.onClick();\n          }}\n          onDoubleClick={e => {\n            e.stopPropagation();\n            this.props.onDoubleClick();\n          }}\n          onContextMenu={e => {\n            e.stopPropagation();\n            this.props.onContextMenu(e.clientX, e.clientY);\n          }}\n        >\n          {instruction.isInverted() && (\n            <img\n              className={classNames({\n                [icon]: true,\n              })}\n              src=\"res/contraire.png\"\n              alt=\"Condition is negated\"\n            />\n          )}\n          <img\n            className={classNames({\n              [icon]: true,\n            })}\n            src={metadata.getSmallIconFilename()}\n            alt=\"\"\n          />\n          {this._renderInstructionText(metadata)}\n          {metadata.canHaveSubInstructions() && (\n            <InstructionsList\n              style={\n                {} /* TODO: Use a new object to force update - somehow updates are not always propagated otherwise */\n              }\n              extraClassName={subInstructionsContainer}\n              instrsList={instruction.getSubInstructions()}\n              areConditions={this.props.isCondition}\n              selection={this.props.selection}\n              onAddNewInstruction={this.props.onAddNewSubInstruction}\n              onMoveToInstruction={this.props.onMoveToSubInstruction}\n              onMoveToInstructionsList={this.props.onMoveToSubInstructionsList}\n              onInstructionClick={this.props.onSubInstructionClick}\n              onInstructionDoubleClick={this.props.onSubInstructionDoubleClick}\n              onInstructionContextMenu={this.props.onSubInstructionContextMenu}\n              onInstructionsListContextMenu={\n                this.props.onSubInstructionsListContextMenu\n              }\n              onParameterClick={this.props.onSubParameterClick}\n              addButtonLabel={<Trans>Add a sub-condition</Trans>}\n              disabled={this.props.disabled}\n              renderObjectThumbnail={this.props.renderObjectThumbnail}\n            />\n          )}\n        </div>\n      )\n    );\n\n    return isOver ? (\n      <React.Fragment>\n        <DropIndicator canDrop={canDrop} />\n        {instructionDiv}\n      </React.Fragment>\n    ) : (\n      instructionDiv || null\n    );\n  }\n}\n\n// Drag'n'drop support:\n\nexport const reactDndInstructionType = 'GD_DRAGGED_INSTRUCTION';\n\ntype InstructionSourceProps = {\n  onClick: () => void,\n  isCondition: boolean,\n};\n\nconst instructionSource = {\n  beginDrag(props: InstructionSourceProps) {\n    props.onClick(); // Select the dragged instruction\n    return {\n      // No need to save here what is being dragged,\n      // as its the entire selection that is considered to be dragged.\n      isCondition: props.isCondition,\n    };\n  },\n};\n\nfunction sourceCollect(\n  connect: DragSourceConnector,\n  monitor: DragSourceMonitor\n): DragSourceProps {\n  return {\n    connectDragSource: connect.dragSource(),\n  };\n}\n\nconst instructionTarget = {\n  canDrop(props: Props, monitor: DropTargetMonitor) {\n    return (\n      monitor.getItem() && monitor.getItem().isCondition === props.isCondition\n    );\n  },\n  drop(props: Props, monitor: DropTargetMonitor) {\n    if (monitor.didDrop()) {\n      return; // Drop already handled by a subinstruction\n    }\n    props.onMoveToInstruction();\n  },\n};\n\nfunction targetCollect(\n  connect: DropTargetConnector,\n  monitor: DropTargetMonitor\n): DropTargetProps {\n  return {\n    connectDropTarget: connect.dropTarget(),\n    isOver: monitor.isOver({ shallow: true }),\n    canDrop: monitor.canDrop(),\n  };\n}\n\n// $FlowFixMe - Typing of DragSource/DropTarget is a pain to get correctly\nexport default DragSource(\n  reactDndInstructionType,\n  instructionSource,\n  sourceCollect\n)(\n  DropTarget(reactDndInstructionType, instructionTarget, targetCollect)(\n    Instruction\n  )\n);\n","import { Trans } from '@lingui/macro';\nimport React, { Component } from 'react';\nimport SelectField from 'material-ui/SelectField';\nimport MenuItem from 'material-ui/MenuItem';\n\nexport default class RelationalOperatorField extends Component {\n  focus() {\n    if (this._field && this._field.focus) this._field.focus();\n  }\n\n  render() {\n    const { parameterMetadata } = this.props;\n    const description = parameterMetadata\n      ? parameterMetadata.getDescription()\n      : undefined;\n\n    return (\n      <SelectField\n        fullWidth\n        floatingLabelText={description}\n        value={this.props.value}\n        onChange={(e, i, value) => this.props.onChange(value)}\n        ref={field => (this._field = field)}\n      >\n        <MenuItem value=\"=\" primaryText={<Trans>= (equal to)</Trans>} />\n        <MenuItem value=\"<\" primaryText={<Trans>&lt; (less than)</Trans>} />\n        <MenuItem value=\">\" primaryText={<Trans>&gt; (greater than)</Trans>} />\n        <MenuItem\n          value=\"<=\"\n          primaryText={<Trans>&le; (less or equal to)</Trans>}\n        />\n        <MenuItem\n          value=\">=\"\n          primaryText={<Trans>&ge; (greater or equal to)</Trans>}\n        />\n        <MenuItem value=\"!=\" primaryText={<Trans>&ne; (not equal to)</Trans>} />\n      </SelectField>\n    );\n  }\n}\n\nexport const renderInlineRelationalOperator = ({\n  value,\n}: ParameterInlineRendererProps) => {\n  if (value === '<=') return '\\u2264';\n  if (value === '>=') return '\\u2265';\n  else if (value === '!=') return '\\u2260';\n\n  return value;\n};\n","import { Trans } from '@lingui/macro';\nimport React, { Component } from 'react';\nimport SelectField from 'material-ui/SelectField';\nimport MenuItem from 'material-ui/MenuItem';\n\nexport default class OperatorField extends Component {\n  focus() {\n    if (this._field && this._field.focus) this._field.focus();\n  }\n\n  render() {\n    const { parameterMetadata } = this.props;\n    const description = parameterMetadata\n      ? parameterMetadata.getDescription()\n      : undefined;\n\n    return (\n      <SelectField\n        fullWidth\n        floatingLabelText={description}\n        value={this.props.value}\n        onChange={(e, i, value) => this.props.onChange(value)}\n        ref={field => (this._field = field)}\n      >\n        <MenuItem value=\"=\" primaryText={<Trans>= (set to)</Trans>} />\n        <MenuItem value=\"+\" primaryText={<Trans>+ (add)</Trans>} />\n        <MenuItem value=\"-\" primaryText={<Trans>- (subtract)</Trans>} />\n        <MenuItem value=\"*\" primaryText={<Trans>* (multiply by)</Trans>} />\n        <MenuItem value=\"/\" primaryText={<Trans>/ (divide by)</Trans>} />\n      </SelectField>\n    );\n  }\n}\n","import { Trans } from '@lingui/macro';\nimport { type ParameterInlineRendererProps } from './ParameterInlineRenderer.flow';\nimport React, { Component } from 'react';\nimport SelectField from 'material-ui/SelectField';\nimport MenuItem from 'material-ui/MenuItem';\n\nexport default class RelationalOperatorField extends Component {\n  focus() {}\n\n  render() {\n    const { parameterMetadata, value } = this.props;\n    const description = parameterMetadata\n      ? parameterMetadata.getDescription()\n      : undefined;\n\n    return (\n      <SelectField\n        fullWidth\n        floatingLabelText={description}\n        value={value}\n        ref={field => (this._field = field)}\n        onChange={(e, i, value) => this.props.onChange(value)}\n        errorText={value ? undefined : <Trans>You must select a button</Trans>}\n      >\n        <MenuItem value=\"Left\" primaryText={<Trans>Left (primary)</Trans>} />\n        <MenuItem\n          value=\"Right\"\n          primaryText={<Trans>Right (secondary)</Trans>}\n        />\n        <MenuItem\n          value=\"Middle\"\n          primaryText={\n            <Trans>Middle (Auxiliary button, usually the wheel button)</Trans>\n          }\n        />\n        {/* TODO: Add support for these buttons in the game engine\n         <MenuItem\n          value=\"XButton1\"\n          primaryText={<Trans>Special button #1</Trans>}\n        />\n        <MenuItem\n          value=\"XButton2\"\n          primaryText={<Trans>Special button #2</Trans>}\n        /> */}\n      </SelectField>\n    );\n  }\n}\n\nexport const renderInlineMouse = ({\n  value,\n  InvalidParameterValue,\n}: ParameterInlineRendererProps) => {\n  return value ? (\n    value\n  ) : (\n    <InvalidParameterValue isEmpty>\n      <Trans>Choose a mouse button</Trans>\n    </InvalidParameterValue>\n  );\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport { type ParameterInlineRendererProps } from './ParameterInlineRenderer.flow';\nimport React, { Component } from 'react';\nimport { type ParameterFieldProps } from './ParameterFieldCommons';\nimport SemiControlledAutoComplete from '../../UI/SemiControlledAutoComplete';\n\nconst keyNames = [\n  'Num0',\n  'Num1',\n  'Num2',\n  'Num3',\n  'Num4',\n  'Num5',\n  'Num6',\n  'Num7',\n  'Num8',\n  'Num9',\n  'a',\n  'b',\n  'c',\n  'd',\n  'e',\n  'f',\n  'g',\n  'h',\n  'i',\n  'j',\n  'k',\n  'l',\n  'm',\n  'n',\n  'o',\n  'p',\n  'q',\n  'r',\n  's',\n  't',\n  'u',\n  'v',\n  'w',\n  'x',\n  'y',\n  'z',\n  'LBracket',\n  'RBracket',\n  'SemiColon',\n  'Numpad0',\n  'Numpad1',\n  'Numpad2',\n  'Numpad3',\n  'Numpad4',\n  'Numpad5',\n  'Numpad6',\n  'Numpad7',\n  'Numpad8',\n  'Numpad9',\n  'Escape',\n  'Space',\n  'Return',\n  'Back',\n  'Tab',\n  'PageUp',\n  'PageDown',\n  'End',\n  'Home',\n  'Insert',\n  'Delete',\n  'Add',\n  'Subtract',\n  'Multiply',\n  'Divide',\n  'Left',\n  'Right',\n  'Up',\n  'Down',\n  'F1',\n  'F2',\n  'F3',\n  'F4',\n  'F5',\n  'F6',\n  'F7',\n  'F8',\n  'F9',\n  'F10',\n  'F11',\n  'F12',\n  'Pause',\n  'RControl',\n  'LControl',\n  'RAlt',\n  'LAlt',\n  'RShift',\n  'LShift',\n];\n\nconst isKeyValid = (key: string) => keyNames.indexOf(key) !== -1;\n\nexport default class KeyField extends Component<ParameterFieldProps, {||}> {\n  _field: ?any;\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  render() {\n    const { value, onChange, isInline, parameterMetadata } = this.props;\n\n    return (\n      <SemiControlledAutoComplete\n        floatingLabelText={\n          parameterMetadata ? parameterMetadata.getDescription() : undefined\n        }\n        value={value}\n        onChange={onChange}\n        dataSource={keyNames.map(keyName => ({\n          text: keyName,\n          value: keyName,\n        }))}\n        openOnFocus={!isInline}\n        ref={field => (this._field = field)}\n        errorText={\n          !value ? (\n            <Trans>You must select a key.</Trans>\n          ) : !isKeyValid(value) ? (\n            <Trans>You must select a valid key. \"{value}\" is not valid.</Trans>\n          ) : (\n            undefined\n          )\n        }\n      />\n    );\n  }\n}\n\nexport const renderInlineKey = ({\n  value,\n  InvalidParameterValue,\n}: ParameterInlineRendererProps) => {\n  if (!value) {\n    return (\n      <InvalidParameterValue isEmpty>\n        <Trans>Choose a key</Trans>\n      </InvalidParameterValue>\n    );\n  }\n\n  return isKeyValid(value) ? (\n    value\n  ) : (\n    <InvalidParameterValue>{value}</InvalidParameterValue>\n  );\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport { type ParameterInlineRendererProps } from './ParameterInlineRenderer.flow';\nimport React, { Component } from 'react';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport { Line, Column } from '../../UI/Grid';\nimport {\n  type ParameterFieldProps,\n  getParameterValueOrDefault,\n} from './ParameterFieldCommons';\n\nconst styles = {\n  button: {\n    margin: 5,\n  },\n  description: {\n    display: 'inline-block',\n    marginRight: 5,\n  },\n};\n\nexport default class YesNoField extends Component<ParameterFieldProps, void> {\n  focus() {}\n\n  render() {\n    const { parameterMetadata, value } = this.props;\n    const description = parameterMetadata\n      ? parameterMetadata.getDescription()\n      : undefined;\n    const effectiveValue = getParameterValueOrDefault(value, parameterMetadata);\n\n    return (\n      <Line>\n        <p style={styles.description}>{description}</p>\n        <Column noMargin>\n          <RaisedButton\n            style={styles.button}\n            label={<Trans>Yes</Trans>}\n            primary={effectiveValue === 'yes'}\n            onClick={() => this.props.onChange('yes')}\n          />\n        </Column>\n        <Column noMargin>\n          <RaisedButton\n            style={styles.button}\n            label={<Trans>No</Trans>}\n            primary={effectiveValue !== 'yes'}\n            onClick={() => this.props.onChange('no')}\n          />\n        </Column>\n      </Line>\n    );\n  }\n}\n\nexport const renderInlineYesNo = ({\n  value,\n  parameterMetadata,\n}: ParameterInlineRendererProps) => {\n  if (getParameterValueOrDefault(value, parameterMetadata) === 'yes') {\n    return <Trans>yes</Trans>;\n  } else {\n    return <Trans>no</Trans>;\n  }\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport { type ParameterInlineRendererProps } from './ParameterInlineRenderer.flow';\nimport React, { Component } from 'react';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport { Line, Column } from '../../UI/Grid';\nimport {\n  type ParameterFieldProps,\n  getParameterValueOrDefault,\n} from './ParameterFieldCommons';\n\nconst styles = {\n  button: {\n    margin: 5,\n  },\n  description: {\n    display: 'inline-block',\n    marginRight: 5,\n  },\n};\n\nexport default class TrueFalseField extends Component<\n  ParameterFieldProps,\n  void\n> {\n  focus() {}\n\n  render() {\n    const { parameterMetadata, value } = this.props;\n    const description = parameterMetadata\n      ? parameterMetadata.getDescription()\n      : undefined;\n    const effectiveValue = getParameterValueOrDefault(value, parameterMetadata);\n\n    return (\n      <Line>\n        <p style={styles.description}>{description}</p>\n        <Column noMargin>\n          <RaisedButton\n            style={styles.button}\n            label={<Trans>True</Trans>}\n            primary={effectiveValue === 'True'}\n            onClick={() => this.props.onChange('True')}\n          />\n        </Column>\n        <Column noMargin>\n          <RaisedButton\n            style={styles.button}\n            label={<Trans>False</Trans>}\n            primary={effectiveValue !== 'True'}\n            onClick={() => this.props.onChange('False')}\n          />\n        </Column>\n      </Line>\n    );\n  }\n}\n\nexport const renderInlineTrueFalse = ({\n  value,\n  parameterMetadata,\n}: ParameterInlineRendererProps) => {\n  if (getParameterValueOrDefault(value, parameterMetadata) === 'True') {\n    return <Trans>true</Trans>;\n  } else {\n    return <Trans>false</Trans>;\n  }\n};\n","// @flow\nimport React, { Component } from 'react';\nimport GenericExpressionField from './GenericExpressionField';\nimport { type ParameterFieldProps } from './ParameterFieldCommons';\n\nexport default class ExpressionField extends Component<\n  ParameterFieldProps,\n  void\n> {\n  _field: ?GenericExpressionField;\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  render() {\n    return (\n      <GenericExpressionField\n        expressionType=\"number\"\n        ref={field => (this._field = field)}\n        {...this.props}\n      />\n    );\n  }\n}\n","// @flow\nimport React, { Component } from 'react';\nimport { enumerateExpressions } from './EnumerateExpressions';\nimport InstructionOrExpressionSelector from './index';\nimport { createTree, type InstructionOrExpressionTreeNode } from './CreateTree';\nimport {\n  type EnumeratedInstructionOrExpressionMetadata,\n  filterEnumeratedInstructionOrExpressionMetadataByScope,\n} from './EnumeratedInstructionOrExpressionMetadata.js';\nimport { type EventsScope } from '../../EventsScope.flow';\n\ntype Props = {|\n  expressionType: string,\n  focusOnMount?: boolean,\n  selectedType: string,\n  onChoose: (type: string, EnumeratedInstructionOrExpressionMetadata) => void,\n  scope: EventsScope,\n  style?: Object,\n|};\n\nexport default class ExpressionSelector extends Component<Props, {||}> {\n  instructionsInfo: Array<EnumeratedInstructionOrExpressionMetadata> = filterEnumeratedInstructionOrExpressionMetadataByScope(\n    enumerateExpressions(this.props.expressionType).allExpressions,\n    this.props.scope\n  );\n  instructionsInfoTree: InstructionOrExpressionTreeNode = createTree(\n    this.instructionsInfo\n  );\n\n  render() {\n    const { expressionType, scope, ...otherProps } = this.props;\n    return (\n      <InstructionOrExpressionSelector\n        instructionsInfo={this.instructionsInfo}\n        instructionsInfoTree={this.instructionsInfoTree}\n        iconSize={16}\n        {...otherProps}\n      />\n    );\n  }\n}\n","// @flow\nimport {\n  type EnumeratedInstructionOrExpressionMetadata,\n  type InstructionOrExpressionScope,\n} from './EnumeratedInstructionOrExpressionMetadata.js';\nconst gd = global.gd;\n\nconst GROUP_DELIMITER = '/';\n\nconst enumerateExtensionExpressions = (\n  prefix: string,\n  expressions: gdMapStringExpressionMetadata,\n  scope: InstructionOrExpressionScope\n): Array<EnumeratedInstructionOrExpressionMetadata> => {\n  const allExpressions = [];\n\n  //Get the map containing the metadata of the expression provided by the extension...\n  var expressionsTypes = expressions.keys();\n\n  //... and add each instruction\n  for (var j = 0; j < expressionsTypes.size(); ++j) {\n    var exprMetadata = expressions.get(expressionsTypes.get(j));\n    if (!exprMetadata.isShown()) {\n      //Skip hidden expressions\n      continue;\n    }\n\n    var parameters = [];\n    for (var i = 0; i < exprMetadata.getParametersCount(); i++) {\n      if (scope.objectMetadata && i === 0) continue;\n      if (scope.behaviorMetadata && i <= 1) continue; //Skip object and behavior parameters\n      if (exprMetadata.getParameter(i).isCodeOnly()) continue;\n\n      parameters.push(exprMetadata.getParameter(i));\n    }\n\n    const displayedName = exprMetadata.getFullName();\n    const groupName = exprMetadata.getGroup();\n    const iconFilename = exprMetadata.getSmallIconFilename();\n    const fullGroupName = prefix + groupName;\n\n    allExpressions.push({\n      type: expressionsTypes.get(j),\n      name: expressionsTypes.get(j),\n      displayedName,\n      fullGroupName,\n      iconFilename,\n      metadata: exprMetadata,\n      parameters: parameters,\n      scope,\n      isPrivate: exprMetadata.isPrivate(),\n    });\n  }\n\n  return allExpressions;\n};\n\nexport const enumerateExpressions = (type: string) => {\n  const freeExpressions = [];\n  const objectsExpressions = [];\n  const behaviorsExpressions = [];\n\n  const allExtensions = gd\n    .asPlatform(gd.JsPlatform.get())\n    .getAllPlatformExtensions();\n  for (var i = 0; i < allExtensions.size(); ++i) {\n    var extension = allExtensions.get(i);\n    var allObjectsTypes = extension.getExtensionObjectsTypes();\n    var allBehaviorsTypes = extension.getBehaviorsTypes();\n\n    let prefix = '';\n    if (allObjectsTypes.size() > 0 || allBehaviorsTypes.size() > 0) {\n      prefix =\n        extension.getName() === 'BuiltinObject'\n          ? 'Common expressions for all objects'\n          : extension.getFullName();\n      prefix += GROUP_DELIMITER;\n    }\n\n    //Check which type of expression we want to autocomplete.\n    var allFreeExpressionsGetter = extension.getAllExpressions;\n    var allObjectExpressionsGetter = extension.getAllExpressionsForObject;\n    var allBehaviorExpressionsGetter = extension.getAllExpressionsForBehavior;\n    if (type === 'string') {\n      allFreeExpressionsGetter = extension.getAllStrExpressions;\n      allObjectExpressionsGetter = extension.getAllStrExpressionsForObject;\n      allBehaviorExpressionsGetter = extension.getAllStrExpressionsForBehavior;\n    }\n\n    //Free expressions\n    freeExpressions.push.apply(\n      freeExpressions,\n      enumerateExtensionExpressions(\n        prefix,\n        allFreeExpressionsGetter.call(extension),\n        {\n          objectMetadata: undefined,\n          behaviorMetadata: undefined,\n        }\n      )\n    );\n\n    //Objects expressions:\n    for (var j = 0; j < allObjectsTypes.size(); ++j) {\n      const objectType = allObjectsTypes.get(j);\n      const objectMetadata = extension.getObjectMetadata(objectType);\n      objectsExpressions.push.apply(\n        objectsExpressions,\n        enumerateExtensionExpressions(\n          prefix,\n          allObjectExpressionsGetter.call(extension, objectType),\n          { objectMetadata }\n        )\n      );\n    }\n\n    //Behaviors expressions:\n    for (var k = 0; k < allBehaviorsTypes.size(); ++k) {\n      const behaviorType = allBehaviorsTypes.get(k);\n      const behaviorMetadata = extension.getBehaviorMetadata(behaviorType);\n      behaviorsExpressions.push.apply(\n        behaviorsExpressions,\n        enumerateExtensionExpressions(\n          prefix,\n          allBehaviorExpressionsGetter.call(extension, behaviorType),\n          { behaviorMetadata }\n        )\n      );\n    }\n  }\n\n  return {\n    allExpressions: [\n      ...freeExpressions,\n      ...objectsExpressions,\n      ...behaviorsExpressions,\n    ],\n    freeExpressions,\n    objectsExpressions,\n    behaviorsExpressions,\n  };\n};\n\nexport const filterExpressions = (\n  list: Array<EnumeratedInstructionOrExpressionMetadata>,\n  searchText: string\n): Array<EnumeratedInstructionOrExpressionMetadata> => {\n  if (!searchText) return list;\n  const lowercaseSearchText = searchText.toLowerCase();\n\n  return list.filter(enumeratedExpression => {\n    return (\n      enumeratedExpression.type.toLowerCase().indexOf(lowercaseSearchText) !==\n      -1\n    );\n  });\n};\n","//@flow\nimport { type EnumeratedInstructionOrExpressionMetadata } from '../../InstructionEditor/InstructionOrExpressionSelector/EnumeratedInstructionOrExpressionMetadata.js';\nimport { type ParameterValues } from './ExpressionParametersEditorDialog';\n\nconst filterOutCodeOnlyParameters = (\n  array: Array<string>,\n  expressionMetadata: Object,\n  firstParameterIndex: number\n) => {\n  const parametersCount = expressionMetadata.getParametersCount();\n\n  return array.filter((parameter, index) => {\n    if (index < firstParameterIndex) return false;\n\n    return (\n      index < parametersCount &&\n      !expressionMetadata.getParameter(index).isCodeOnly()\n    );\n  });\n};\n\nexport const formatExpressionCall = (\n  expressionInfo: EnumeratedInstructionOrExpressionMetadata,\n  parameterValues: ParameterValues\n): string => {\n  const functionName = expressionInfo.name || '';\n\n  if (expressionInfo.scope.objectMetadata) {\n    const objectName = parameterValues[0];\n\n    const functionArgs = filterOutCodeOnlyParameters(\n      parameterValues,\n      expressionInfo.metadata,\n      1\n    ).join(', ');\n    return `${objectName}.${functionName}(${functionArgs})`;\n  } else if (expressionInfo.scope.behaviorMetadata) {\n    const objectName = parameterValues[0];\n    const behaviorName = parameterValues[1];\n\n    const functionArgs = filterOutCodeOnlyParameters(\n      parameterValues,\n      expressionInfo.metadata,\n      2\n    ).join(', ');\n    return `${objectName}.${behaviorName}::${functionName}(${functionArgs})`;\n  } else {\n    const functionArgs = filterOutCodeOnlyParameters(\n      parameterValues,\n      expressionInfo.metadata,\n      0\n    ).join(', ');\n    return `${functionName}(${functionArgs})`;\n  }\n};\n","// @flow\nimport * as React from 'react';\n\nexport type Highlight = {|\n  begin: number,\n  end: number,\n  type?: 'error',\n  message: string,\n|};\n\ntype Props = {|\n  value: string,\n  style: Object,\n  highlights: Array<Highlight>,\n|};\n\nconst defaultStyle = {\n  width: '100%',\n  position: 'absolute',\n  whiteSpace: 'pre-wrap',\n  wordWrap: 'break-word',\n  color: 'transparent',\n};\n\nconst highlightedText = {\n  backgroundColor: 'rgba(244, 67, 54, 0.15)',\n  borderSizing: 'border-box',\n  borderBottom: '3px solid rgba(244, 67, 54, 0.7)',\n};\n\nexport default ({ value, style, highlights }: Props) => {\n  const sortedHighlights = highlights\n    .slice()\n    .sort((highlight1, highlight2) => highlight1.begin - highlight2.begin);\n\n  const elements = [];\n  let lastPos = 0;\n\n  sortedHighlights.forEach((highlight, i) => {\n    const startPos = Math.max(highlight.begin, lastPos);\n    if (startPos !== lastPos) {\n      elements.push(\n        <span key={`defaultText-${i}`}>\n          {value.substring(lastPos, startPos)}\n        </span>\n      );\n    }\n\n    if (lastPos < highlight.end) {\n      elements.push(\n        <span key={`highlightedText-${i}`} style={highlightedText}>\n          {value.substring(startPos, highlight.end)}\n        </span>\n      );\n      lastPos = highlight.end;\n    }\n  });\n  if (lastPos < value.length) {\n    elements.push(\n      <span key={`defaultText-end`}>{value.substring(lastPos)}</span>\n    );\n  }\n\n  return <div style={{ ...defaultStyle, ...style }}>{elements}</div>;\n};\n","// @flow\nimport React, { Component } from 'react';\nimport GenericExpressionField from './GenericExpressionField';\nimport { type ParameterFieldProps } from './ParameterFieldCommons';\n\nexport default class StringField extends Component<ParameterFieldProps, void> {\n  _field: ?GenericExpressionField;\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  render() {\n    return (\n      <GenericExpressionField\n        expressionType=\"string\"\n        ref={field => (this._field = field)}\n        {...this.props}\n      />\n    );\n  }\n}\n","// @flow\nimport React, { Component } from 'react';\nimport { type ParameterFieldProps } from './ParameterFieldCommons';\nimport SemiControlledAutoComplete from '../../UI/SemiControlledAutoComplete';\n\nconst getChoices = (parameterMetadata: ?gdParameterMetadata) => {\n  if (!parameterMetadata) {\n    return [];\n  }\n\n  try {\n    return JSON.parse(parameterMetadata.getExtraInfo());\n  } catch (exception) {\n    console.error(\n      'The parameter seems misconfigured, as an array of choices could not be extracted - verify that your properly wrote a list of choices in JSON format. Full exception is:',\n      exception\n    );\n  }\n\n  return [];\n};\n\nexport default class StringWithSelectorField extends Component<\n  ParameterFieldProps,\n  {||}\n> {\n  _field: ?any;\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  render() {\n    const { value, onChange, isInline, parameterMetadata } = this.props;\n\n    return (\n      <SemiControlledAutoComplete\n        floatingLabelText={\n          parameterMetadata ? parameterMetadata.getDescription() : undefined\n        }\n        value={value}\n        onChange={onChange}\n        dataSource={getChoices(parameterMetadata).map(choice => ({\n          text: choice,\n          value: '\"' + choice + '\"',\n        }))}\n        openOnFocus={!isInline}\n        ref={field => (this._field = field)}\n      />\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport * as React from 'react';\nimport AutoComplete from 'material-ui/AutoComplete';\nimport { type ParameterFieldProps } from './ParameterFieldCommons';\nimport { getLastObjectParameterValue } from './ParameterMetadataTools';\nimport SemiControlledAutoComplete from '../../UI/SemiControlledAutoComplete';\nconst gd = global.gd;\n\ntype State = {|\n  errorText: ?string,\n|};\n\nexport default class BehaviorField extends React.Component<\n  ParameterFieldProps,\n  State\n> {\n  state = { errorText: null };\n  _description: ?string;\n  _behaviorTypeAllowed: ?string;\n  _behaviorNames: Array<string> = [];\n  _field: ?AutoComplete;\n\n  constructor(props: ParameterFieldProps) {\n    super(props);\n\n    const { parameterMetadata } = this.props;\n    this._description = parameterMetadata\n      ? parameterMetadata.getDescription()\n      : undefined;\n\n    this._behaviorTypeAllowed = parameterMetadata\n      ? parameterMetadata.getExtraInfo()\n      : undefined;\n  }\n\n  _updateBehaviorsList() {\n    const {\n      instructionMetadata,\n      instruction,\n      expressionMetadata,\n      expression,\n      parameterIndex,\n    } = this.props;\n\n    const objectName = getLastObjectParameterValue({\n      instructionMetadata,\n      instruction,\n      expressionMetadata,\n      expression,\n      parameterIndex,\n    });\n    if (!objectName) return;\n\n    this._behaviorNames = gd\n      .getBehaviorsOfObject(\n        this.props.globalObjectsContainer,\n        this.props.objectsContainer,\n        objectName,\n        true\n      )\n      .toJSArray()\n      .filter(behaviorName => {\n        return (\n          !this._behaviorTypeAllowed ||\n          gd.getTypeOfBehavior(\n            this.props.globalObjectsContainer,\n            this.props.objectsContainer,\n            behaviorName\n          ) === this._behaviorTypeAllowed\n        );\n      });\n  }\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  _getError = (value?: string) => {\n    if (!value && !this.props.value) return null;\n\n    const isValidChoice =\n      this._behaviorNames.filter(choice => this.props.value === choice)\n        .length !== 0;\n\n    if (!isValidChoice) return 'This behavior is not attached to the object';\n\n    return null;\n  };\n\n  _doValidation = (value?: string) => {\n    this.setState({ errorText: this._getError(value) });\n  };\n\n  _forceChooseBehavior = () => {\n    // This is a bit hacky:\n    // force the behavior selection if there is only one selectable behavior\n    if (this._behaviorNames.length === 1) {\n      if (this.props.value !== this._behaviorNames[0]) {\n        this.props.onChange(this._behaviorNames[0]);\n      }\n    }\n  };\n\n  componentDidUpdate() {\n    this._forceChooseBehavior();\n  }\n\n  componentDidMount() {\n    this._forceChooseBehavior();\n  }\n\n  render() {\n    this._updateBehaviorsList();\n\n    const noBehaviorErrorText =\n      this._behaviorTypeAllowed !== '' ? (\n        <Trans>\n          The behavior is not attached to this object. Please select another\n          object or add this behavior.\n        </Trans>\n      ) : (\n        <Trans>\n          This object has no behaviors: please add this behavior to the object\n          first.\n        </Trans>\n      );\n\n    return (\n      <SemiControlledAutoComplete\n        floatingLabelText={this._description}\n        errorText={\n          !this._behaviorNames.length\n            ? noBehaviorErrorText\n            : this.state.errorText\n        }\n        value={this.props.value}\n        onChange={this.props.onChange}\n        onBlur={event => {\n          this._doValidation(event.currentTarget.value);\n        }}\n        dataSource={this._behaviorNames.map(behaviorName => ({\n          text: behaviorName,\n          value: behaviorName,\n        }))}\n        openOnFocus={!this.props.isInline}\n        disabled={this._behaviorNames.length <= 1}\n        ref={field => (this._field = field)}\n      />\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport { type ParameterInlineRendererProps } from './ParameterInlineRenderer.flow';\nimport VariableField, { renderVariableWithIcon } from './VariableField';\nimport VariablesEditorDialog from '../../VariablesList/VariablesEditorDialog';\nimport { type ParameterFieldProps } from './ParameterFieldCommons';\n\ntype State = {|\n  editorOpen: boolean,\n|};\n\nexport default class SceneVariableField extends React.Component<\n  ParameterFieldProps,\n  State\n> {\n  _field: ?VariableField;\n  state = {\n    editorOpen: false,\n  };\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  render() {\n    const { scope } = this.props;\n    const { layout } = scope;\n\n    return (\n      <React.Fragment>\n        <VariableField\n          variablesContainer={layout ? layout.getVariables() : null}\n          parameterMetadata={this.props.parameterMetadata}\n          value={this.props.value}\n          onChange={this.props.onChange}\n          isInline={this.props.isInline}\n          ref={field => (this._field = field)}\n          onOpenDialog={() => this.setState({ editorOpen: true })}\n          globalObjectsContainer={this.props.globalObjectsContainer}\n          objectsContainer={this.props.objectsContainer}\n          scope={scope}\n        />\n        {this.state.editorOpen && layout && (\n          <VariablesEditorDialog\n            open={this.state.editorOpen}\n            variablesContainer={layout.getVariables()}\n            onCancel={() => this.setState({ editorOpen: false })}\n            onApply={() => {\n              this.setState({ editorOpen: false });\n            }}\n            emptyExplanationMessage=\"Scene variables can be used to store any value or text during the game.\"\n            emptyExplanationSecondMessage=\"For example, you can have a variable called Score representing the current score of the player.\"\n          />\n        )}\n      </React.Fragment>\n    );\n  }\n}\n\nexport const renderInlineSceneVariable = ({\n  value,\n}: ParameterInlineRendererProps) => {\n  return renderVariableWithIcon(\n    value,\n    'res/types/scenevar.png',\n    'scene variable'\n  );\n};\n","// @flow\nimport * as React from 'react';\nimport { type ParameterInlineRendererProps } from './ParameterInlineRenderer.flow';\nimport VariableField, { renderVariableWithIcon } from './VariableField';\nimport VariablesEditorDialog from '../../VariablesList/VariablesEditorDialog';\nimport { type ParameterFieldProps } from './ParameterFieldCommons';\n\ntype State = {|\n  editorOpen: boolean,\n|};\n\nexport default class GlobalVariableField extends React.Component<\n  ParameterFieldProps,\n  State\n> {\n  _field: ?VariableField;\n  state = {\n    editorOpen: false,\n  };\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  render() {\n    const { project, scope } = this.props;\n\n    return (\n      <div>\n        <VariableField\n          variablesContainer={project ? project.getVariables() : null}\n          parameterMetadata={this.props.parameterMetadata}\n          value={this.props.value}\n          onChange={this.props.onChange}\n          isInline={this.props.isInline}\n          ref={field => (this._field = field)}\n          onOpenDialog={() => this.setState({ editorOpen: true })}\n          globalObjectsContainer={this.props.globalObjectsContainer}\n          objectsContainer={this.props.objectsContainer}\n          scope={scope}\n        />\n        {this.state.editorOpen && project && (\n          <VariablesEditorDialog\n            open={this.state.editorOpen}\n            variablesContainer={project.getVariables()}\n            onCancel={() => this.setState({ editorOpen: false })}\n            onApply={() => {\n              this.setState({ editorOpen: false });\n            }}\n            emptyExplanationMessage=\"Global variables are variables that are persisted across the scenes during the game.\"\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport const renderInlineGlobalVariable = ({\n  value,\n}: ParameterInlineRendererProps) => {\n  return renderVariableWithIcon(\n    value,\n    'res/types/globalvar.png',\n    'global variable'\n  );\n};\n","// @flow\nimport * as React from 'react';\nimport { type ParameterInlineRendererProps } from './ParameterInlineRenderer.flow';\nimport VariableField, { renderVariableWithIcon } from './VariableField';\nimport VariablesEditorDialog from '../../VariablesList/VariablesEditorDialog';\nimport { type ParameterFieldProps } from './ParameterFieldCommons';\nimport { getLastObjectParameterValue } from './ParameterMetadataTools';\n\ntype State = {|\n  editorOpen: boolean,\n|};\n\nexport default class ObjectVariableField extends React.Component<\n  ParameterFieldProps,\n  State\n> {\n  _field: ?VariableField;\n  state = {\n    editorOpen: false,\n  };\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  render() {\n    const {\n      project,\n      scope,\n      instructionMetadata,\n      instruction,\n      expressionMetadata,\n      expression,\n      parameterIndex,\n    } = this.props;\n\n    const objectName = getLastObjectParameterValue({\n      instructionMetadata,\n      instruction,\n      expressionMetadata,\n      expression,\n      parameterIndex,\n    });\n\n    let variablesContainer = null;\n    if (objectName) {\n      const { layout } = scope;\n      if (layout && layout.hasObjectNamed(objectName)) {\n        variablesContainer = layout.getObject(objectName).getVariables();\n      } else if (project && project.hasObjectNamed(objectName)) {\n        variablesContainer = project.getObject(objectName).getVariables();\n      }\n    }\n\n    return (\n      <div>\n        <VariableField\n          variablesContainer={variablesContainer}\n          parameterMetadata={this.props.parameterMetadata}\n          value={this.props.value}\n          onChange={this.props.onChange}\n          isInline={this.props.isInline}\n          ref={field => (this._field = field)}\n          onOpenDialog={() => this.setState({ editorOpen: true })}\n          globalObjectsContainer={this.props.globalObjectsContainer}\n          objectsContainer={this.props.objectsContainer}\n          scope={scope}\n        />\n        {this.state.editorOpen && variablesContainer && (\n          <VariablesEditorDialog\n            open={this.state.editorOpen}\n            variablesContainer={variablesContainer}\n            onCancel={() => this.setState({ editorOpen: false })}\n            onApply={() => {\n              this.setState({ editorOpen: false });\n            }}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport const renderInlineObjectVariable = ({\n  value,\n}: ParameterInlineRendererProps) => {\n  return renderVariableWithIcon(\n    value,\n    'res/types/objectvar.png',\n    'object variable'\n  );\n};\n","// @flow\nimport React, { Component } from 'react';\nimport { mapFor } from '../../Utils/MapFor';\nimport { type ParameterFieldProps } from './ParameterFieldCommons';\nimport SemiControlledAutoComplete from '../../UI/SemiControlledAutoComplete';\n\nexport default class LayerField extends Component<ParameterFieldProps, {||}> {\n  _field: ?SemiControlledAutoComplete;\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  render() {\n    const { value, onChange, isInline, scope, parameterMetadata } = this.props;\n    const { layout } = scope;\n    const layerNames = layout\n      ? mapFor(0, layout.getLayersCount(), i => {\n          const layer = layout.getLayerAt(i);\n          return layer.getName();\n        })\n      : [];\n\n    return (\n      <SemiControlledAutoComplete\n        floatingLabelText={\n          parameterMetadata ? parameterMetadata.getDescription() : undefined\n        }\n        value={value}\n        onChange={onChange}\n        openOnFocus={isInline}\n        dataSource={layerNames.map(layerName => ({\n          text: layerName || '(Base layer)',\n          value: `\"${layerName}\"`,\n        }))}\n        hintText={'\"\"'}\n        ref={field => (this._field = field)}\n      />\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport React, { Component } from 'react';\nimport ResourceSelector from '../../ResourcesList/ResourceSelector';\nimport ResourcesLoader from '../../ResourcesLoader';\nimport { type ParameterFieldProps } from './ParameterFieldCommons';\n\nexport default class AudioResourceField extends Component<\n  ParameterFieldProps,\n  void\n> {\n  _field: ?ResourceSelector;\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  render() {\n    if (\n      !this.props.resourceSources ||\n      !this.props.onChooseResource ||\n      !this.props.resourceExternalEditors ||\n      !this.props.project\n    ) {\n      console.error(\n        'Missing project, resourceSources, onChooseResource or resourceExternalEditors for AudioResourceField'\n      );\n      return null;\n    }\n\n    return (\n      <ResourceSelector\n        project={this.props.project}\n        resourceSources={this.props.resourceSources}\n        onChooseResource={this.props.onChooseResource}\n        resourceExternalEditors={this.props.resourceExternalEditors}\n        resourcesLoader={ResourcesLoader}\n        resourceKind=\"audio\"\n        fullWidth\n        initialResourceName={this.props.value}\n        onChange={this.props.onChange}\n        floatingLabelText={<Trans>Choose the audio file to use</Trans>}\n        ref={field => (this._field = field)}\n      />\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport React, { Component } from 'react';\nimport ResourceSelector from '../../ResourcesList/ResourceSelector';\nimport ResourcesLoader from '../../ResourcesLoader';\nimport { type ParameterFieldProps } from './ParameterFieldCommons';\n\nexport default class VideoResourceField extends Component<\n  ParameterFieldProps,\n  void\n> {\n  _field: ?ResourceSelector;\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  render() {\n    if (\n      !this.props.resourceSources ||\n      !this.props.onChooseResource ||\n      !this.props.resourceExternalEditors ||\n      !this.props.project\n    ) {\n      console.error(\n        'Missing project, resourceSources, onChooseResource or resourceExternalEditors for VideoResourceField'\n      );\n      return null;\n    }\n\n    return (\n      <ResourceSelector\n        project={this.props.project}\n        resourceSources={this.props.resourceSources}\n        onChooseResource={this.props.onChooseResource}\n        resourceExternalEditors={this.props.resourceExternalEditors}\n        resourcesLoader={ResourcesLoader}\n        resourceKind=\"video\"\n        fullWidth\n        initialResourceName={this.props.value}\n        onChange={this.props.onChange}\n        floatingLabelText={<Trans>Choose the video file to use</Trans>}\n        ref={field => (this._field = field)}\n      />\n    );\n  }\n}\n","// @flow\nimport React, { Component } from 'react';\nimport { type ParameterFieldProps } from './ParameterFieldCommons';\nimport GenericExpressionField from './GenericExpressionField';\nimport ColorPicker from '../../UI/ColorField/ColorPicker';\n\nconst parseColor = (rgbColor: string) => {\n  const colors = rgbColor.replace(/\"/g, '').split(';');\n  if (colors.length !== 3) {\n    return null;\n  }\n\n  const r = parseInt(colors[0], 10);\n  const g = parseInt(colors[1], 10);\n  const b = parseInt(colors[2], 10);\n\n  // Check if parsing of number was done properly (if not,\n  // we receive NaN which is not equal to itself).\n  // eslint-disable-next-line\n  if (r !== r || g !== g || b !== b) return null;\n\n  return {\n    r,\n    g,\n    b,\n    a: 255,\n  };\n};\n\nexport default class ParameterColorField extends Component<ParameterFieldProps> {\n  _field: ?GenericExpressionField;\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  render() {\n    return (\n      <GenericExpressionField\n        expressionType=\"string\"\n        ref={field => (this._field = field)}\n        renderExtraButton={({ style }) => (\n          <ColorPicker\n            style={style}\n            disableAlpha\n            color={parseColor(this.props.value)}\n            onChangeComplete={color => {\n              this.props.onChange(\n                '\"' + color.rgb.r + ';' + color.rgb.g + ';' + color.rgb.b + '\"'\n              );\n            }}\n          />\n        )}\n        {...this.props}\n      />\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport { type ParameterInlineRendererProps } from './ParameterInlineRenderer.flow';\nimport React, { Component } from 'react';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport { Line, Column } from '../../UI/Grid';\nimport { makeNonBreakable } from '../../Utils/StringHelpers';\nimport { type ParameterFieldProps } from './ParameterFieldCommons';\nimport GenericExpressionField from './GenericExpressionField';\nimport BackgroundText from '../../UI/BackgroundText';\n\ntype State = {|\n  showDeprecatedNumericValue: boolean,\n|};\n\nexport default class ForceMultiplierField extends Component<\n  ParameterFieldProps,\n  State\n> {\n  state = {\n    showDeprecatedNumericValue:\n      this.props.value !== '' &&\n      this.props.value !== '1' &&\n      this.props.value !== '0',\n  };\n\n  focus() {}\n\n  render() {\n    const { showDeprecatedNumericValue } = this.state;\n    return (\n      <Column expand noMargin>\n        <Line expand alignItems=\"center\">\n          <Column>\n            <RaisedButton\n              label={makeNonBreakable('Instant')}\n              primary={this.props.value === '' || this.props.value === '0'}\n              onClick={() => this.props.onChange('0')}\n            />\n          </Column>\n          <Column>\n            <p>\n              <Trans>\n                The force will only push the object during the time of one\n                frame. Typically used in an event with no conditions or with\n                conditions that stay valid for a certain amount of time.\n              </Trans>\n            </p>\n          </Column>\n        </Line>\n        <Line expand alignItems=\"center\">\n          <Column>\n            <RaisedButton\n              label={<Trans>Permanent</Trans>}\n              primary={this.props.value === '1'}\n              onClick={() => this.props.onChange('1')}\n            />\n          </Column>\n          <Column>\n            <p>\n              <Trans>\n                The force will push the object forever, unless you use the\n                action \"Stop the object\". Typically used in an event with\n                conditions that are only true once, or with a \"Trigger Once\"\n                condition.\n              </Trans>\n            </p>\n          </Column>\n        </Line>\n        {showDeprecatedNumericValue && (\n          <React.Fragment>\n            <BackgroundText>\n              <Trans>or</Trans>\n            </BackgroundText>\n            <Line expand>\n              <Column expand>\n                <GenericExpressionField\n                  expressionType=\"number\"\n                  {...this.props}\n                />\n              </Column>\n            </Line>\n            <BackgroundText>\n              <Trans>\n                The usage of a number or expression is deprecated. Please now\n                use only \"Permanent\" or \"Instant\" for configuring forces.\n              </Trans>\n            </BackgroundText>\n          </React.Fragment>\n        )}\n      </Column>\n    );\n  }\n}\n\nexport const renderInlineForceMultiplier = ({\n  value,\n}: ParameterInlineRendererProps) => {\n  if (value === '1') return 'a permanent';\n  else if (value === '0' || value === '') return 'an instant';\n\n  return 'a (multiplier: ' + value + ')';\n};\n","// @flow\nimport React, { Component } from 'react';\nimport { type ParameterFieldProps } from './ParameterFieldCommons';\nimport SemiControlledAutoComplete from '../../UI/SemiControlledAutoComplete';\nimport { enumerateLayouts } from '../../ProjectManager/EnumerateProjectItems';\n\nexport default class SceneNameField extends Component<\n  ParameterFieldProps,\n  {||}\n> {\n  _field: ?SemiControlledAutoComplete;\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  render() {\n    const {\n      value,\n      onChange,\n      isInline,\n      project,\n      parameterMetadata,\n    } = this.props;\n    const layoutNames = project\n      ? enumerateLayouts(project).map(layout => layout.getName())\n      : [];\n\n    return (\n      <SemiControlledAutoComplete\n        floatingLabelText={\n          parameterMetadata ? parameterMetadata.getDescription() : undefined\n        }\n        value={value}\n        onChange={onChange}\n        openOnFocus={isInline}\n        dataSource={layoutNames.map(layoutName => ({\n          text: layoutName,\n          value: `\"${layoutName}\"`,\n        }))}\n        hintText={'\"\"'}\n        ref={field => (this._field = field)}\n      />\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport { instructionInvalidParameter } from './ClassNames';\n\ntype Props = {| children: React.Node, isEmpty?: boolean |};\n\n/**\n * Displayed when a parameter is invalid\n */\nexport default ({ children, isEmpty }: Props) =>\n  isEmpty ? (\n    <span className={instructionInvalidParameter}>&lt; {children} &gt;</span>\n  ) : (\n    <span className={instructionInvalidParameter}>{children}</span>\n  );\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport TextField from 'material-ui/TextField';\nimport {\n  largeSelectedArea,\n  largeSelectableArea,\n  selectableArea,\n  disabledText,\n} from '../ClassNames';\nimport { type EventRendererProps } from './EventRenderer.flow';\nconst gd = global.gd;\n\nconst styles = {\n  container: {\n    height: 40,\n    display: 'flex',\n    alignItems: 'center',\n    padding: 5,\n    overflow: 'hidden',\n  },\n  title: {\n    fontSize: 18,\n  },\n};\n\nexport default class GroupEvent extends React.Component<EventRendererProps, *> {\n  state = {\n    editing: false,\n  };\n  _textField: ?TextField = null;\n\n  edit = () => {\n    this.setState(\n      {\n        editing: true,\n      },\n      () => {\n        if (this._textField) this._textField.focus();\n      }\n    );\n  };\n\n  endEditing = () => {\n    this.setState({\n      editing: false,\n    });\n  };\n\n  render() {\n    var groupEvent = gd.asGroupEvent(this.props.event);\n\n    const r = groupEvent.getBackgroundColorR(),\n      g = groupEvent.getBackgroundColorG(),\n      b = groupEvent.getBackgroundColorB();\n\n    const textColor = (r + g + b) / 3 > 200 ? 'black' : 'white';\n\n    return (\n      <div\n        className={classNames({\n          [largeSelectableArea]: true,\n          [largeSelectedArea]: this.props.selected,\n        })}\n        style={{\n          ...styles.container,\n          backgroundColor: `rgb(${r}, ${g}, ${b})`,\n        }}\n        onClick={this.edit}\n      >\n        {this.state.editing ? (\n          <TextField\n            ref={textField => (this._textField = textField)}\n            value={groupEvent.getName()}\n            hintText={<Trans>&lt;Enter group name&gt;</Trans>}\n            onBlur={this.endEditing}\n            onChange={(e, text) => {\n              groupEvent.setName(text);\n              this.forceUpdate();\n            }}\n            style={styles.title}\n            inputStyle={{\n              color: textColor,\n              WebkitTextFillColor: textColor,\n            }}\n            underlineFocusStyle={{\n              borderColor: textColor,\n            }}\n            fullWidth\n            id=\"group-title\"\n          />\n        ) : (\n          <span\n            className={classNames({\n              [selectableArea]: true,\n              [disabledText]: this.props.disabled,\n            })}\n            style={{ ...styles.title, color: textColor }}\n          >\n            {groupEvent.getName() || '<Enter group name>'}\n          </span>\n        )}\n      </div>\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport ReactDOM from 'react-dom';\nimport classNames from 'classnames';\nimport { type EventRendererProps } from './EventRenderer.flow';\nimport { rgbToHex } from '../../../Utils/ColorTransformer';\nimport {\n  largeSelectedArea,\n  largeSelectableArea,\n  selectableArea,\n} from '../ClassNames';\nconst gd = global.gd;\n\nconst styles = {\n  container: {\n    minHeight: 30,\n    display: 'flex',\n    backgroundColor: '#fbf3d9',\n  },\n  text: {\n    flex: 1,\n    whiteSpace: 'pre-line',\n    margin: 0,\n    padding: 5,\n  },\n  textArea: {\n    padding: 5,\n    flex: 1,\n    boxSizing: 'border-box',\n    width: '100%',\n    fontSize: 14,\n  },\n};\n\ntype State = {|\n  editing: boolean,\n  height: number,\n|};\n\nexport default class CommentEvent extends React.Component<\n  EventRendererProps,\n  State\n> {\n  state = {\n    editing: false,\n    height: 0,\n  };\n\n  _container: ?any;\n  _input: ?any;\n\n  edit = () => {\n    if (!this._container) return;\n\n    this.setState(\n      {\n        editing: true,\n        height: this._container.offsetHeight,\n      },\n      () => {\n        // $FlowFixMe\n        const input: ?HTMLInputElement = ReactDOM.findDOMNode(this._input);\n        if (input) {\n          input.focus();\n          input.value = gd.asCommentEvent(this.props.event).getComment();\n        }\n      }\n    );\n  };\n\n  endEditing = () => {\n    const commentEvent = gd.asCommentEvent(this.props.event);\n\n    // $FlowFixMe\n    const input: ?HTMLInputElement = ReactDOM.findDOMNode(this._input);\n    if (input) commentEvent.setComment(input.value);\n\n    this.setState(\n      {\n        editing: false,\n      },\n      () => this.props.onUpdate()\n    );\n  };\n\n  _getCommentHTML = () => {\n    const commentEvent = gd.asCommentEvent(this.props.event);\n    return commentEvent\n      .getComment()\n      .replace(/&/g, '&amp;')\n      .replace(/</g, '&lt;')\n      .replace(/>/g, '&gt;')\n      .replace(/\\n/g, '<br>');\n  };\n\n  render() {\n    const commentEvent = gd.asCommentEvent(this.props.event);\n    const color = rgbToHex(\n      commentEvent.getBackgroundColorRed(),\n      commentEvent.getBackgroundColorGreen(),\n      commentEvent.getBackgroundColorBlue()\n    );\n    const textColor = rgbToHex(\n      commentEvent.getTextColorRed(),\n      commentEvent.getTextColorGreen(),\n      commentEvent.getTextColorBlue()\n    );\n\n    return (\n      <div\n        style={{ ...styles.container, backgroundColor: `#${color}` }}\n        className={classNames({\n          [largeSelectableArea]: true,\n          [largeSelectedArea]: this.props.selected,\n        })}\n        ref={container => (this._container = container)}\n      >\n        {!this.state.editing ? (\n          <p\n            className={classNames({\n              [selectableArea]: true,\n            })}\n            onClick={this.edit}\n            key=\"p\"\n            style={{ ...styles.text, color: `#${textColor}` }}\n            dangerouslySetInnerHTML={{\n              __html: this._getCommentHTML(),\n            }}\n          />\n        ) : (\n          <textarea\n            key=\"textarea\"\n            type=\"text\"\n            style={{ ...styles.textArea, height: this.state.height }}\n            onBlur={this.endEditing}\n            ref={input => (this._input = input)}\n          />\n        )}\n      </div>\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport InstructionsList from '../InstructionsList.js';\nimport classNames from 'classnames';\nimport {\n  largeSelectedArea,\n  largeSelectableArea,\n  selectableArea,\n  executableEventContainer,\n  disabledText,\n} from '../ClassNames';\nimport InlinePopover from '../../InlinePopover';\nimport ObjectField from '../../ParameterFields/ObjectField';\nimport { type EventRendererProps } from './EventRenderer.flow';\nconst gd = global.gd;\n\nconst styles = {\n  container: {\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  instructionsContainer: {\n    display: 'flex',\n  },\n  actionsList: {\n    flex: 1,\n  },\n};\n\nexport default class ForEachEvent extends React.Component<\n  EventRendererProps,\n  *\n> {\n  state = {\n    editing: false,\n    anchorEl: null,\n  };\n\n  edit = (domEvent: any) => {\n    this.setState({\n      editing: true,\n      anchorEl: domEvent.currentTarget,\n    });\n  };\n\n  endEditing = () => {\n    this.setState({\n      editing: false,\n      anchorEl: null,\n    });\n  };\n\n  render() {\n    var forEachEvent = gd.asForEachEvent(this.props.event);\n\n    const conditionsListSyle = {\n      width: `calc(35vw - ${this.props.leftIndentWidth}px)`,\n    };\n\n    const objectName = forEachEvent.getObjectToPick();\n    return (\n      <div\n        style={styles.container}\n        className={classNames({\n          [largeSelectableArea]: true,\n          [largeSelectedArea]: this.props.selected,\n          [executableEventContainer]: true,\n        })}\n      >\n        <div\n          className={classNames({\n            [selectableArea]: true,\n            [disabledText]: this.props.disabled,\n          })}\n          onClick={this.edit}\n        >\n          {objectName ? (\n            `Repeat for each ${objectName} object:`\n          ) : (\n            <i>Click to choose for which objects this event will be repeated</i>\n          )}\n        </div>\n        <div style={styles.instructionsContainer}>\n          <InstructionsList\n            instrsList={forEachEvent.getConditions()}\n            style={conditionsListSyle}\n            selection={this.props.selection}\n            areConditions\n            onAddNewInstruction={this.props.onAddNewInstruction}\n            onMoveToInstruction={this.props.onMoveToInstruction}\n            onMoveToInstructionsList={this.props.onMoveToInstructionsList}\n            onInstructionClick={this.props.onInstructionClick}\n            onInstructionDoubleClick={this.props.onInstructionDoubleClick}\n            onInstructionContextMenu={this.props.onInstructionContextMenu}\n            onInstructionsListContextMenu={\n              this.props.onInstructionsListContextMenu\n            }\n            onParameterClick={this.props.onParameterClick}\n            disabled={this.props.disabled}\n            renderObjectThumbnail={this.props.renderObjectThumbnail}\n          />\n          <InstructionsList\n            instrsList={forEachEvent.getActions()}\n            style={\n              {\n                ...styles.actionsList,\n              } /* TODO: Use a new object to force update - somehow updates are not always propagated otherwise */\n            }\n            selection={this.props.selection}\n            areConditions={false}\n            onAddNewInstruction={this.props.onAddNewInstruction}\n            onMoveToInstruction={this.props.onMoveToInstruction}\n            onMoveToInstructionsList={this.props.onMoveToInstructionsList}\n            onInstructionClick={this.props.onInstructionClick}\n            onInstructionDoubleClick={this.props.onInstructionDoubleClick}\n            onInstructionContextMenu={this.props.onInstructionContextMenu}\n            onInstructionsListContextMenu={\n              this.props.onInstructionsListContextMenu\n            }\n            onParameterClick={this.props.onParameterClick}\n            disabled={this.props.disabled}\n            renderObjectThumbnail={this.props.renderObjectThumbnail}\n          />\n        </div>\n        <InlinePopover\n          open={this.state.editing}\n          anchorEl={this.state.anchorEl}\n          onRequestClose={this.endEditing}\n        >\n          <ObjectField\n            project={this.props.project}\n            scope={this.props.scope}\n            globalObjectsContainer={this.props.globalObjectsContainer}\n            objectsContainer={this.props.objectsContainer}\n            value={objectName}\n            onChange={text => {\n              forEachEvent.setObjectToPick(text);\n              this.props.onUpdate();\n            }}\n            isInline\n          />\n        </InlinePopover>\n      </div>\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport InstructionsList from '../InstructionsList.js';\nimport classNames from 'classnames';\nimport {\n  largeSelectedArea,\n  largeSelectableArea,\n  selectableArea,\n  executableEventContainer,\n  disabledText,\n} from '../ClassNames';\nimport InlinePopover from '../../InlinePopover';\nimport DefaultField from '../../ParameterFields/DefaultField';\nimport { type EventRendererProps } from './EventRenderer.flow';\nconst gd = global.gd;\n\nconst styles = {\n  container: {\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  instructionsContainer: {\n    display: 'flex',\n  },\n  actionsList: {\n    flex: 1,\n  },\n};\n\nexport default class RepeatEvent extends React.Component<\n  EventRendererProps,\n  *\n> {\n  state = {\n    editing: false,\n    anchorEl: null,\n  };\n\n  edit = (domEvent: any) => {\n    this.setState({\n      editing: true,\n      anchorEl: domEvent.currentTarget,\n    });\n  };\n\n  endEditing = () => {\n    this.setState({\n      editing: false,\n      anchorEl: null,\n    });\n  };\n\n  render() {\n    var repeatEvent = gd.asRepeatEvent(this.props.event);\n\n    const conditionsListSyle = {\n      width: `calc(35vw - ${this.props.leftIndentWidth}px)`,\n    };\n\n    const expression = repeatEvent.getRepeatExpression();\n    return (\n      <div\n        style={styles.container}\n        className={classNames({\n          [largeSelectableArea]: true,\n          [largeSelectedArea]: this.props.selected,\n          [executableEventContainer]: true,\n        })}\n      >\n        <div\n          className={classNames({\n            [selectableArea]: true,\n            [disabledText]: this.props.disabled,\n          })}\n          onClick={this.edit}\n        >\n          {expression ? (\n            `Repeat ${expression} times:`\n          ) : (\n            <i>Click to choose how many times will be repeated</i>\n          )}\n        </div>\n        <div style={styles.instructionsContainer}>\n          <InstructionsList\n            instrsList={repeatEvent.getConditions()}\n            style={conditionsListSyle}\n            selection={this.props.selection}\n            areConditions\n            onAddNewInstruction={this.props.onAddNewInstruction}\n            onMoveToInstruction={this.props.onMoveToInstruction}\n            onMoveToInstructionsList={this.props.onMoveToInstructionsList}\n            onInstructionClick={this.props.onInstructionClick}\n            onInstructionDoubleClick={this.props.onInstructionDoubleClick}\n            onInstructionContextMenu={this.props.onInstructionContextMenu}\n            onInstructionsListContextMenu={\n              this.props.onInstructionsListContextMenu\n            }\n            onParameterClick={this.props.onParameterClick}\n            disabled={this.props.disabled}\n            renderObjectThumbnail={this.props.renderObjectThumbnail}\n          />\n          <InstructionsList\n            instrsList={repeatEvent.getActions()}\n            style={\n              {\n                ...styles.actionsList,\n              } /* TODO: Use a new object to force update - somehow updates are not always propagated otherwise */\n            }\n            selection={this.props.selection}\n            areConditions={false}\n            onAddNewInstruction={this.props.onAddNewInstruction}\n            onMoveToInstruction={this.props.onMoveToInstruction}\n            onMoveToInstructionsList={this.props.onMoveToInstructionsList}\n            onInstructionClick={this.props.onInstructionClick}\n            onInstructionDoubleClick={this.props.onInstructionDoubleClick}\n            onInstructionContextMenu={this.props.onInstructionContextMenu}\n            onInstructionsListContextMenu={\n              this.props.onInstructionsListContextMenu\n            }\n            onParameterClick={this.props.onParameterClick}\n            disabled={this.props.disabled}\n            renderObjectThumbnail={this.props.renderObjectThumbnail}\n          />\n        </div>\n        <InlinePopover\n          open={this.state.editing}\n          anchorEl={this.state.anchorEl}\n          onRequestClose={this.endEditing}\n        >\n          <DefaultField\n            project={this.props.project}\n            scope={this.props.scope}\n            globalObjectsContainer={this.props.globalObjectsContainer}\n            objectsContainer={this.props.objectsContainer}\n            value={expression}\n            onChange={text => {\n              repeatEvent.setRepeatExpression(text);\n              this.props.onUpdate();\n            }}\n            isInline\n          />\n        </InlinePopover>\n      </div>\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport InstructionsList from '../InstructionsList';\nimport classNames from 'classnames';\nimport {\n  largeSelectedArea,\n  largeSelectableArea,\n  executableEventContainer,\n  disabledText,\n} from '../ClassNames';\nimport { type EventRendererProps } from './EventRenderer.flow';\nconst gd = global.gd;\n\nconst styles = {\n  container: {\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  instructionsContainer: {\n    display: 'flex',\n  },\n  actionsList: {\n    flex: 1,\n  },\n};\n\nexport default class ForEachEvent extends React.Component<\n  EventRendererProps,\n  *\n> {\n  render() {\n    var whileEvent = gd.asWhileEvent(this.props.event);\n\n    const conditionsListSyle = {\n      width: `calc(35vw - ${this.props.leftIndentWidth}px)`,\n    };\n\n    return (\n      <div\n        style={styles.container}\n        className={classNames({\n          [largeSelectableArea]: true,\n          [largeSelectedArea]: this.props.selected,\n          [executableEventContainer]: true,\n        })}\n      >\n        <div\n          className={classNames({\n            [disabledText]: this.props.disabled,\n          })}\n        >\n          While these conditions are true:\n        </div>\n        <InstructionsList\n          instrsList={whileEvent.getWhileConditions()}\n          style={\n            {} /* TODO: Use a new object to force update - somehow updates are not always propagated otherwise */\n          }\n          selection={this.props.selection}\n          areConditions\n          onAddNewInstruction={this.props.onAddNewInstruction}\n          onMoveToInstruction={this.props.onMoveToInstruction}\n          onMoveToInstructionsList={this.props.onMoveToInstructionsList}\n          onInstructionClick={this.props.onInstructionClick}\n          onInstructionDoubleClick={this.props.onInstructionDoubleClick}\n          onInstructionContextMenu={this.props.onInstructionContextMenu}\n          onInstructionsListContextMenu={\n            this.props.onInstructionsListContextMenu\n          }\n          onParameterClick={this.props.onParameterClick}\n          disabled={this.props.disabled}\n          renderObjectThumbnail={this.props.renderObjectThumbnail}\n        />\n        <div\n          className={classNames({\n            [disabledText]: this.props.disabled,\n          })}\n        >\n          Repeat these:\n        </div>\n        <div style={styles.instructionsContainer}>\n          <InstructionsList\n            instrsList={whileEvent.getConditions()}\n            style={conditionsListSyle}\n            selection={this.props.selection}\n            areConditions\n            onAddNewInstruction={this.props.onAddNewInstruction}\n            onMoveToInstruction={this.props.onMoveToInstruction}\n            onMoveToInstructionsList={this.props.onMoveToInstructionsList}\n            onInstructionClick={this.props.onInstructionClick}\n            onInstructionDoubleClick={this.props.onInstructionDoubleClick}\n            onInstructionContextMenu={this.props.onInstructionContextMenu}\n            onInstructionsListContextMenu={\n              this.props.onInstructionsListContextMenu\n            }\n            onParameterClick={this.props.onParameterClick}\n            disabled={this.props.disabled}\n            renderObjectThumbnail={this.props.renderObjectThumbnail}\n          />\n          <InstructionsList\n            instrsList={whileEvent.getActions()}\n            style={\n              {\n                ...styles.actionsList,\n              } /* TODO: Use a new object to force update - somehow updates are not always propagated otherwise */\n            }\n            selection={this.props.selection}\n            areConditions={false}\n            onAddNewInstruction={this.props.onAddNewInstruction}\n            onMoveToInstruction={this.props.onMoveToInstruction}\n            onMoveToInstructionsList={this.props.onMoveToInstructionsList}\n            onInstructionClick={this.props.onInstructionClick}\n            onInstructionDoubleClick={this.props.onInstructionDoubleClick}\n            onInstructionContextMenu={this.props.onInstructionContextMenu}\n            onInstructionsListContextMenu={\n              this.props.onInstructionsListContextMenu\n            }\n            onParameterClick={this.props.onParameterClick}\n            disabled={this.props.disabled}\n            renderObjectThumbnail={this.props.renderObjectThumbnail}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport { t } from '@lingui/macro';\nimport { I18n } from '@lingui/react';\nimport { type I18n as I18nType } from '@lingui/core';\n\nimport * as React from 'react';\nimport OpenInNew from 'material-ui/svg-icons/action/open-in-new';\nimport IconButton from 'material-ui/IconButton';\nimport classNames from 'classnames';\nimport {\n  largeSelectedArea,\n  largeSelectableArea,\n  selectableArea,\n  linkContainer,\n  disabledText,\n} from '../ClassNames';\nimport InlinePopover from '../../InlinePopover';\nimport ExternalEventsField from '../../ParameterFields/ExternalEventsField';\nimport { showWarningBox } from '../../../UI/Messages/MessageBox';\nimport { type EventRendererProps } from './EventRenderer.flow';\nconst gd = global.gd;\n\nconst styles = {\n  container: {\n    height: 60,\n    display: 'flex',\n    alignItems: 'center',\n    padding: 5,\n  },\n  title: {\n    fontSize: 18,\n  },\n};\n\nexport default class LinkEvent extends React.Component<EventRendererProps, *> {\n  _externalEventsField = null;\n\n  state = {\n    editing: false,\n    anchorEl: null,\n  };\n\n  edit = (domEvent: any) => {\n    this.setState(\n      {\n        editing: true,\n        anchorEl: domEvent.currentTarget,\n      },\n      () => {\n        if (this._externalEventsField) this._externalEventsField.focus();\n      }\n    );\n  };\n\n  openTarget = (i18n: I18nType) => {\n    const { project, event, onOpenLayout, onOpenExternalEvents } = this.props;\n    const linkEvent = gd.asLinkEvent(event);\n    const target = linkEvent.getTarget();\n\n    if (project.hasExternalEventsNamed(target)) {\n      onOpenExternalEvents(target);\n    } else if (project.hasLayoutNamed(target)) {\n      onOpenLayout(target);\n    } else {\n      showWarningBox(\n        i18n._(\n          t`The specified external events do not exist in the game. Be sure that the name is correctly spelled or create them using the project manager.`\n        )\n      );\n    }\n  };\n\n  endEditing = () => {\n    this.setState({\n      editing: false,\n      anchorEl: null,\n    });\n  };\n\n  render() {\n    const linkEvent = gd.asLinkEvent(this.props.event);\n    const target = linkEvent.getTarget();\n\n    return (\n      <I18n>\n        {({ i18n }) => (\n          <div\n            className={classNames({\n              [largeSelectableArea]: true,\n              [largeSelectedArea]: this.props.selected,\n              [linkContainer]: true,\n            })}\n            style={styles.container}\n          >\n            <span\n              style={styles.title}\n              className={classNames({\n                [disabledText]: this.props.disabled,\n              })}\n            >\n              <Trans>Include events from</Trans>{' '}\n              <i\n                className={classNames({\n                  [selectableArea]: true,\n                })}\n                onClick={this.edit}\n              >\n                {target || (\n                  <Trans>&lt; Enter the name of external events &gt;</Trans>\n                )}\n              </i>\n            </span>\n            <IconButton\n              onClick={() => this.openTarget(i18n)}\n              disabled={!target}\n            >\n              <OpenInNew />\n            </IconButton>\n            <InlinePopover\n              open={this.state.editing}\n              anchorEl={this.state.anchorEl}\n              onRequestClose={this.endEditing}\n            >\n              <ExternalEventsField\n                project={this.props.project}\n                scope={this.props.scope}\n                globalObjectsContainer={this.props.globalObjectsContainer}\n                objectsContainer={this.props.objectsContainer}\n                value={target}\n                onChange={text => {\n                  linkEvent.setTarget(text);\n                  this.props.onUpdate();\n                }}\n                isInline\n                ref={externalEventsField =>\n                  (this._externalEventsField = externalEventsField)\n                }\n              />\n            </InlinePopover>\n          </div>\n        )}\n      </I18n>\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport Divider from 'material-ui/Divider';\nimport {\n  enumerateLayouts,\n  enumerateExternalEvents,\n} from '../../ProjectManager/EnumerateProjectItems';\nimport { type ParameterFieldProps } from './ParameterFieldCommons';\nimport SemiControlledAutoComplete from '../../UI/SemiControlledAutoComplete';\n\ntype DataSourceType = Array<{| text: string, value: React.Node |}>;\n\nconst getList = (project: ?gdProject): DataSourceType => {\n  if (!project) {\n    return [];\n  }\n\n  const externalEvents = enumerateExternalEvents(project).map(\n    externalEvents => ({\n      text: externalEvents.getName(),\n      value: externalEvents.getName(),\n    })\n  );\n  const layouts = enumerateLayouts(project).map(layout => ({\n    text: layout.getName(),\n    value: layout.getName(),\n  }));\n  return [...externalEvents, { text: '', value: <Divider /> }, ...layouts];\n};\n\nexport default class ExternalEventsField extends React.Component<\n  ParameterFieldProps,\n  {||}\n> {\n  _field: ?any;\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  render() {\n    const {\n      value,\n      onChange,\n      isInline,\n      project,\n      parameterMetadata,\n    } = this.props;\n\n    return (\n      <SemiControlledAutoComplete\n        floatingLabelText={\n          parameterMetadata ? parameterMetadata.getDescription() : undefined\n        }\n        id=\"external-events-field\"\n        value={value}\n        onChange={onChange}\n        dataSource={getList(project)}\n        openOnFocus={!isInline}\n        ref={field => (this._field = field)}\n      />\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport ReactDOM from 'react-dom';\nimport classNames from 'classnames';\nimport InlinePopover from '../../InlinePopover';\nimport ObjectField from '../../ParameterFields/ObjectField';\nimport {\n  largeSelectedArea,\n  largeSelectableArea,\n  selectableArea,\n} from '../ClassNames';\nimport { getHelpLink } from '../../../Utils/HelpLink';\nimport { type EventRendererProps } from './EventRenderer.flow';\nimport Measure from 'react-measure';\nimport { CodeEditor } from '../../../CodeEditor';\nconst gd = global.gd;\n\nconst fontFamily = '\"Lucida Console\", Monaco, monospace';\n\nconst styles = {\n  container: {\n    minHeight: 30,\n    display: 'flex',\n    flexDirection: 'column',\n    backgroundColor: '#1e1e1e',\n  },\n  wrappingText: {\n    fontFamily,\n    fontSize: '12px',\n    paddingLeft: 5,\n    paddingRight: 5,\n    margin: 0,\n    backgroundColor: '#1e1e1e',\n    color: '#d4d4d4',\n    overflowX: 'hidden',\n    maxWidth: '100%',\n  },\n  comment: {\n    color: '#777',\n  },\n  commentLink: {\n    cursor: 'pointer',\n    color: '#777',\n    textDecoration: 'underline',\n  },\n};\n\ntype State = {|\n  width: number,\n  editing: boolean,\n  editingObject: boolean,\n  anchorEl: ?any,\n|};\n\nexport default class JsCodeEvent extends React.Component<\n  EventRendererProps,\n  State\n> {\n  state = {\n    width: 0,\n    editing: false,\n    editingObject: false,\n    anchorEl: null,\n  };\n\n  _input: ?any;\n  _container: ?any;\n\n  edit = () => {\n    if (!this._container) return;\n\n    this.setState(\n      {\n        editing: true,\n      },\n      () => {\n        // $FlowFixMe\n        const input: ?HTMLInputElement = ReactDOM.findDOMNode(this._input);\n        if (input) {\n          input.focus();\n          input.value = gd.asJsCodeEvent(this.props.event).getInlineCode();\n        }\n      }\n    );\n  };\n\n  endEditing = () => {\n    const jsCodeEvent = gd.asJsCodeEvent(this.props.event);\n\n    // $FlowFixMe\n    const input: ?HTMLInputElement = ReactDOM.findDOMNode(this._input);\n    if (input) jsCodeEvent.setInlineCode(input.value);\n\n    this.setState(\n      {\n        editing: false,\n      },\n      () => this.props.onUpdate()\n    );\n  };\n\n  onChange = (newValue: string) => {\n    const jsCodeEvent = gd.asJsCodeEvent(this.props.event);\n    jsCodeEvent.setInlineCode(newValue);\n  };\n\n  editObject = (domEvent: any) => {\n    this.setState({\n      editingObject: true,\n      anchorEl: domEvent.currentTarget,\n    });\n  };\n\n  endObjectEditing = () => {\n    this.setState({\n      editingObject: false,\n      anchorEl: null,\n    });\n  };\n\n  render() {\n    const jsCodeEvent = gd.asJsCodeEvent(this.props.event);\n    const parameterObjects = jsCodeEvent.getParameterObjects();\n    const objects = (\n      <span\n        className={classNames({\n          [selectableArea]: true,\n        })}\n        onClick={this.editObject}\n      >\n        {parameterObjects\n          ? `, objects /*${parameterObjects}*/`\n          : ' /* Click here to choose objects to pass to JavaScript */'}\n      </span>\n    );\n\n    const eventsFunctionContext = this.props.scope.eventsFunction ? (\n      <span>, eventsFunctionContext</span>\n    ) : null;\n\n    const functionStart = (\n      <p style={styles.wrappingText}>\n        <span>{'(function(runtimeScene'}</span>\n        {objects}\n        {eventsFunctionContext}\n        <span>{') {'}</span>\n      </p>\n    );\n    const functionEnd = (\n      <p style={styles.wrappingText}>\n        <span>{'})(runtimeScene'}</span>\n        {objects}\n        {eventsFunctionContext}\n        <span>{');'}</span>\n        <span style={styles.comment}>\n          {' // '}\n          <a\n            href={getHelpLink('/events/js-code')}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            style={styles.commentLink}\n          >\n            Read the documentation and help\n          </a>\n        </span>\n      </p>\n    );\n\n    return (\n      <Measure onMeasure={({ width }) => this.setState({ width })}>\n        <div\n          style={styles.container}\n          className={classNames({\n            [largeSelectableArea]: true,\n            [largeSelectedArea]: this.props.selected,\n          })}\n          ref={container => (this._container = container)}\n        >\n          {functionStart}\n          <CodeEditor\n            value={jsCodeEvent.getInlineCode()}\n            onChange={this.onChange}\n            width={this.state.width}\n            onEditorMounted={() => this.props.onUpdate()}\n          />\n          {functionEnd}\n          <InlinePopover\n            open={this.state.editingObject}\n            anchorEl={this.state.anchorEl}\n            onRequestClose={this.endObjectEditing}\n          >\n            <ObjectField\n              project={this.props.project}\n              scope={this.props.scope}\n              globalObjectsContainer={this.props.globalObjectsContainer}\n              objectsContainer={this.props.objectsContainer}\n              value={parameterObjects}\n              onChange={text => {\n                jsCodeEvent.setParameterObjects(text);\n                this.props.onUpdate();\n              }}\n              isInline\n            />\n          </InlinePopover>\n        </div>\n      </Measure>\n    );\n  }\n}\n","// @flow\n\ntype WatchedComponent = {\n  +onHeightsChanged: Function => void,\n};\n\n/**\n * Store the height of events and notify a component whenever\n * heights have changed.\n * Needed for EventsTree as we need to tell it when heights have changed\n * so it can recompute the internal row heights of the react-virtualized List.\n */\nexport default class EventHeightsCache {\n  eventHeights = {};\n  updateTimeoutId: ?TimeoutID = null;\n  component: ?WatchedComponent = null;\n\n  constructor(component: WatchedComponent) {\n    this.component = component;\n  }\n\n  _notifyComponent() {\n    if (this.updateTimeoutId) {\n      return; // An update is already scheduled.\n    }\n\n    // Notify the component, on the next tick, that heights have changed\n    this.updateTimeoutId = setTimeout(() => {\n      if (this.component) {\n        this.component.onHeightsChanged(() => (this.updateTimeoutId = null));\n      } else {\n        this.updateTimeoutId = null;\n      }\n    }, 0);\n  }\n\n  setEventHeight(event: gdBaseEvent, height: number) {\n    const cachedHeight = this.eventHeights[event.ptr];\n    if (cachedHeight === undefined || cachedHeight !== height) {\n      // console.log(event.ptr, 'has a new height', height, 'old:', cachedHeight);\n      this._notifyComponent();\n    }\n\n    this.eventHeights[event.ptr] = height;\n  }\n\n  getEventHeight(event: gdBaseEvent): number {\n    return this.eventHeights[event.ptr] || 60;\n  }\n}\n","import RenderedInstance from './RenderedInstance';\nimport * as PIXI from 'pixi.js';\n\n/**\n * Objects with an unknown type are rendered with a placeholder rectangle.\n *\n * @extends RenderedInstance\n * @class RenderedUnknownInstance\n * @constructor\n */\nfunction RenderedUnknownInstance(\n  project,\n  layout,\n  instance,\n  associatedObject,\n  pixiContainer,\n  pixiResourcesLoader\n) {\n  RenderedInstance.call(\n    this,\n    project,\n    layout,\n    instance,\n    associatedObject,\n    pixiContainer,\n    pixiResourcesLoader\n  );\n\n  //This renderer show a placeholder for the object:\n  this._pixiObject = new PIXI.Graphics();\n  this._pixiContainer.addChild(this._pixiObject);\n\n  var width = instance.hasCustomSize() ? instance.getCustomWidth() : 32;\n  var height = instance.hasCustomSize() ? instance.getCustomHeight() : 32;\n\n  this._pixiObject.beginFill(0x0033ff);\n  this._pixiObject.lineStyle(1, 0xffd900, 1);\n  this._pixiObject.moveTo(0, 0);\n  this._pixiObject.lineTo(width, 0);\n  this._pixiObject.lineTo(width, height);\n  this._pixiObject.lineTo(0, height);\n  this._pixiObject.endFill();\n}\nRenderedUnknownInstance.prototype = Object.create(RenderedInstance.prototype);\nRenderedUnknownInstance.getThumbnail = function(\n  project,\n  resourcesLoader,\n  object\n) {\n  return 'res/unknown32.png';\n};\n\nRenderedUnknownInstance.prototype.update = function() {\n  this._pixiObject.position.x = this._instance.getX();\n  this._pixiObject.position.y = this._instance.getY();\n  this._pixiObject.rotation = (this._instance.getAngle() * Math.PI) / 180.0;\n};\n\nexport default RenderedUnknownInstance;\n","import RenderedInstance from './RenderedInstance';\nimport * as PIXI from 'pixi.js';\nconst gd = global.gd;\n\n/**\n * Renderer for gd.SpriteObject\n *\n * @extends RenderedInstance\n * @class RenderedSpriteInstance\n * @constructor\n */\nfunction RenderedSpriteInstance(\n  project,\n  layout,\n  instance,\n  associatedObject,\n  pixiContainer,\n  pixiResourcesLoader\n) {\n  RenderedInstance.call(\n    this,\n    project,\n    layout,\n    instance,\n    associatedObject,\n    pixiContainer,\n    pixiResourcesLoader\n  );\n\n  this._renderedAnimation = 0;\n  this._renderedDirection = 0;\n  this._centerX = 0;\n  this._centerY = 0;\n  this._originX = 0;\n  this._originY = 0;\n\n  //Setup the PIXI object:\n  this._pixiObject = new PIXI.Sprite(\n    this._pixiResourcesLoader.getInvalidPIXITexture()\n  );\n  this._pixiContainer.addChild(this._pixiObject);\n  this.updatePIXITexture();\n  this.updatePIXISprite();\n}\nRenderedSpriteInstance.prototype = Object.create(RenderedInstance.prototype);\n\n/**\n * Return a URL for thumbnail of the specified object.\n */\nRenderedSpriteInstance.getThumbnail = function(\n  project,\n  resourcesLoader,\n  object\n) {\n  const spriteObject = gd.asSpriteObject(object);\n\n  if (\n    spriteObject.getAnimationsCount() > 0 &&\n    spriteObject.getAnimation(0).getDirectionsCount() > 0 &&\n    spriteObject\n      .getAnimation(0)\n      .getDirection(0)\n      .getSpritesCount() > 0\n  ) {\n    const imageName = spriteObject\n      .getAnimation(0)\n      .getDirection(0)\n      .getSprite(0)\n      .getImageName();\n    return resourcesLoader.getResourceFullUrl(project, imageName);\n  }\n\n  return 'res/unknown32.png';\n};\n\nRenderedSpriteInstance.prototype.updatePIXISprite = function() {\n  this._pixiObject.anchor.x =\n    this._centerX / this._pixiObject.texture.frame.width;\n  this._pixiObject.anchor.y =\n    this._centerY / this._pixiObject.texture.frame.height;\n  this._pixiObject.rotation = this._shouldNotRotate\n    ? 0\n    : RenderedInstance.toRad(this._instance.getAngle());\n  if (this._instance.hasCustomSize()) {\n    this._pixiObject.scale.x =\n      this._instance.getCustomWidth() / this._pixiObject.texture.frame.width;\n    this._pixiObject.scale.y =\n      this._instance.getCustomHeight() / this._pixiObject.texture.frame.height;\n  } else {\n    this._pixiObject.scale.x = 1;\n    this._pixiObject.scale.y = 1;\n  }\n  this._pixiObject.position.x =\n    this._instance.getX() +\n    (this._centerX - this._originX) * Math.abs(this._pixiObject.scale.x);\n  this._pixiObject.position.y =\n    this._instance.getY() +\n    (this._centerY - this._originY) * Math.abs(this._pixiObject.scale.y);\n};\n\nRenderedSpriteInstance.prototype.updateSprite = function() {\n  this._sprite = null;\n  this._shouldNotRotate = false;\n\n  const spriteObject = gd.asSpriteObject(this._associatedObject);\n  if (spriteObject.hasNoAnimations()) return false;\n\n  this._renderedAnimation = this._instance.getRawFloatProperty('animation');\n  if (this._renderedAnimation >= spriteObject.getAnimationsCount())\n    this._renderedAnimation = 0;\n\n  const animation = spriteObject.getAnimation(this._renderedAnimation);\n  if (animation.hasNoDirections()) return false;\n\n  this._renderedDirection = 0;\n  if (animation.useMultipleDirections()) {\n    let normalizedAngle = Math.floor(this._instance.getAngle()) % 360;\n    if (normalizedAngle < 0) normalizedAngle += 360;\n\n    this._renderedDirection = Math.round(normalizedAngle / 45) % 8;\n  }\n\n  if (this._renderedDirection >= animation.getDirectionsCount())\n    this._renderedDirection = 0;\n\n  const direction = animation.getDirection(this._renderedDirection);\n\n  if (direction.getSpritesCount() === 0) return false;\n\n  this._shouldNotRotate = animation.useMultipleDirections();\n  this._sprite = direction.getSprite(0);\n  return true;\n};\n\nRenderedSpriteInstance.prototype.updatePIXITexture = function() {\n  this.updateSprite();\n  if (!this._sprite) return;\n\n  this._pixiObject.texture = this._pixiResourcesLoader.getPIXITexture(\n    this._project,\n    this._sprite.getImageName()\n  );\n\n  const origin = this._sprite.getOrigin();\n  this._originX = origin.getX();\n  this._originY = origin.getY();\n\n  if (this._sprite.isDefaultCenterPoint()) {\n    if (this._pixiObject.texture.noFrame) {\n      var that = this;\n      // We might have to wait for the texture to load\n      this._pixiObject.texture.on('update', function() {\n        that._centerX = that._pixiObject.texture.width / 2;\n        that._centerY = that._pixiObject.texture.height / 2;\n        that._pixiObject.texture.off('update', this);\n      });\n    } else {\n      this._centerX = this._pixiObject.texture.width / 2;\n      this._centerY = this._pixiObject.texture.height / 2;\n    }\n  } else {\n    const center = this._sprite.getCenter();\n    this._centerX = center.getX();\n    this._centerY = center.getY();\n  }\n};\n\nRenderedSpriteInstance.prototype.update = function() {\n  const animation = this._instance.getRawFloatProperty('animation');\n  if (this._renderedAnimation !== animation) this.updatePIXITexture();\n\n  this.updatePIXISprite();\n};\n\nRenderedSpriteInstance.prototype.getOriginX = function() {\n  if (!this._sprite || !this._pixiObject) return 0;\n\n  return this._sprite.getOrigin().getX() * this._pixiObject.scale.x;\n};\n\nRenderedSpriteInstance.prototype.getOriginY = function() {\n  if (!this._sprite || !this._pixiObject) return 0;\n\n  return this._sprite.getOrigin().getY() * this._pixiObject.scale.y;\n};\n\nRenderedSpriteInstance.prototype.getDefaultWidth = function() {\n  return Math.abs(this._pixiObject.width);\n};\n\nRenderedSpriteInstance.prototype.getDefaultHeight = function() {\n  return Math.abs(this._pixiObject.height);\n};\n\nexport default RenderedSpriteInstance;\n","import RenderedInstance from './RenderedInstance';\nimport * as PIXI from 'pixi.js';\nconst gd = global.gd;\n\n/**\n * Renderer for gd.TiledSpriteObject\n *\n * @extends RenderedInstance\n * @class RenderedTiledSpriteInstance\n * @constructor\n */\nfunction RenderedTiledSpriteInstance(\n  project,\n  layout,\n  instance,\n  associatedObject,\n  pixiContainer,\n  pixiResourcesLoader\n) {\n  RenderedInstance.call(\n    this,\n    project,\n    layout,\n    instance,\n    associatedObject,\n    pixiContainer,\n    pixiResourcesLoader\n  );\n\n  //Setup the PIXI object:\n  var tiledSprite = gd.asTiledSpriteObject(associatedObject);\n  this._texture = tiledSprite.getTexture();\n  this._pixiObject = new PIXI.extras.TilingSprite(\n    this._pixiResourcesLoader.getPIXITexture(project, tiledSprite.getTexture()),\n    tiledSprite.getWidth(),\n    tiledSprite.getHeight()\n  );\n  this._pixiObject.anchor.x = 0.5;\n  this._pixiObject.anchor.y = 0.5;\n  this._pixiContainer.addChild(this._pixiObject);\n}\nRenderedTiledSpriteInstance.prototype = Object.create(\n  RenderedInstance.prototype\n);\n\n/**\n * Return a URL for thumbnail of the specified object.\n */\nRenderedTiledSpriteInstance.getThumbnail = function(\n  project,\n  resourcesLoader,\n  object\n) {\n  var tiledSprite = gd.asTiledSpriteObject(object);\n\n  return resourcesLoader.getResourceFullUrl(project, tiledSprite.getTexture());\n};\n\nRenderedTiledSpriteInstance.prototype.update = function() {\n  var tiledSprite = gd.asTiledSpriteObject(this._associatedObject);\n  if (this._instance.hasCustomSize()) {\n    this._pixiObject.width = this._instance.getCustomWidth();\n    this._pixiObject.height = this._instance.getCustomHeight();\n  } else {\n    this._pixiObject.width = tiledSprite.getWidth();\n    this._pixiObject.height = tiledSprite.getHeight();\n  }\n\n  if (this._texture !== tiledSprite.getTexture()) {\n    this._texture = tiledSprite.getTexture();\n    this._pixiObject.texture = this._pixiResourcesLoader.getPIXITexture(\n      this._project,\n      tiledSprite.getTexture()\n    );\n  }\n\n  this._pixiObject.x = this._instance.getX() + this._pixiObject.width / 2;\n  this._pixiObject.y = this._instance.getY() + this._pixiObject.height / 2;\n  this._pixiObject.rotation = RenderedInstance.toRad(this._instance.getAngle());\n};\n\nRenderedTiledSpriteInstance.prototype.getDefaultWidth = function() {\n  var tiledSprite = gd.asTiledSpriteObject(this._associatedObject);\n  return tiledSprite.getWidth();\n};\n\nRenderedTiledSpriteInstance.prototype.getDefaultHeight = function() {\n  var tiledSprite = gd.asTiledSpriteObject(this._associatedObject);\n  return tiledSprite.getHeight();\n};\n\nexport default RenderedTiledSpriteInstance;\n","import RenderedInstance from './RenderedInstance';\nimport * as PIXI from 'pixi.js';\nconst gd = global.gd;\n\n/**\n * Renderer for gd.PanelSpriteObject\n *\n * Heavily inspired from the GDJS PIXI renderer for PanelSprite objects.\n * TODO: Find a way to factor GDJS objects and IDE instances renderers.\n *\n * @extends RenderedInstance\n * @class RenderedPanelSpriteInstance\n * @constructor\n */\nfunction RenderedPanelSpriteInstance(\n  project,\n  layout,\n  instance,\n  associatedObject,\n  pixiContainer,\n  pixiResourcesLoader\n) {\n  RenderedInstance.call(\n    this,\n    project,\n    layout,\n    instance,\n    associatedObject,\n    pixiContainer,\n    pixiResourcesLoader\n  );\n\n  this.makeObjects();\n  this.updateTexture();\n}\nRenderedPanelSpriteInstance.prototype = Object.create(\n  RenderedInstance.prototype\n);\n\nRenderedPanelSpriteInstance.prototype.update = function() {\n  //TODO\n  // if (this._pixiObject.visible && this._wasRendered) {\n  //   this._pixiObject.cacheAsBitmap = true;\n  // }\n  // this._wasRendered = true;\n\n  const panelSprite = gd.asPanelSpriteObject(this._associatedObject);\n  if (panelSprite.isTiled() !== this._tiled) {\n    this.makeObjects();\n  }\n  if (panelSprite.getTexture() !== this._textureName) {\n    this.updateTexture();\n  }\n\n  this.updateAngle();\n  this.updatePosition();\n\n  const oldWidth = this._width;\n  const oldHeight = this._height;\n  if (this._instance.hasCustomSize()) {\n    this._width = this._instance.getCustomWidth();\n    this._height = this._instance.getCustomHeight();\n  } else {\n    var tiledSprite = gd.asPanelSpriteObject(this._associatedObject);\n    this._width = tiledSprite.getWidth();\n    this._height = tiledSprite.getHeight();\n  }\n\n  if (this._width !== oldWidth || this._height !== oldHeight) {\n    this.updateWidthHeight();\n  }\n};\n\nRenderedPanelSpriteInstance.prototype.makeObjects = function() {\n  const panelSprite = gd.asPanelSpriteObject(this._associatedObject);\n  this._textureName = panelSprite.getTexture();\n  const texture = this._pixiResourcesLoader.getPIXITexture(\n    this._project,\n    this._textureName\n  );\n\n  this._tiled = panelSprite.isTiled();\n  var StretchedSprite = !this._tiled ? PIXI.Sprite : PIXI.extras.TilingSprite;\n\n  if (!this._pixiObject) {\n    this._pixiObject = new PIXI.Container();\n    this._pixiContainer.addChild(this._pixiObject);\n  }\n  this._centerSprite = new StretchedSprite(new PIXI.Texture(texture));\n  this._borderSprites = [\n    new StretchedSprite(new PIXI.Texture(texture)), //Right\n    new PIXI.Sprite(texture), //Top-Right\n    new StretchedSprite(new PIXI.Texture(texture)), //Top\n    new PIXI.Sprite(texture), //Top-Left\n    new StretchedSprite(new PIXI.Texture(texture)), //Left\n    new PIXI.Sprite(texture), //Bottom-Left\n    new StretchedSprite(new PIXI.Texture(texture)), //Bottom\n    new PIXI.Sprite(texture), //Bottom-Right\n  ];\n\n  this._pixiObject.removeChildren();\n  this._pixiObject.addChild(this._centerSprite);\n  for (var i = 0; i < this._borderSprites.length; ++i) {\n    this._pixiObject.addChild(this._borderSprites[i]);\n  }\n};\n\nRenderedPanelSpriteInstance.prototype.updateAngle = function() {\n  this._pixiObject.rotation = RenderedInstance.toRad(this._instance.getAngle());\n};\n\nRenderedPanelSpriteInstance.prototype.updatePosition = function() {\n  this._pixiObject.x = this._instance.getX() + this._width / 2;\n  this._pixiObject.y = this._instance.getY() + this._height / 2;\n};\n\nRenderedPanelSpriteInstance.prototype._updateLocalPositions = function() {\n  const panelSprite = gd.asPanelSpriteObject(this._associatedObject);\n  var extraPixels = panelSprite.isTiled() ? 1 : 0;\n\n  this._centerSprite.position.x = panelSprite.getLeftMargin();\n  this._centerSprite.position.y = panelSprite.getTopMargin();\n  this._borderSprites[0].position.x =\n    this._width - panelSprite.getRightMargin() - extraPixels * 2;\n  this._borderSprites[0].position.y = panelSprite.getTopMargin();\n\n  this._borderSprites[1].position.x =\n    this._width - this._borderSprites[1].width - extraPixels * 2;\n  this._borderSprites[1].position.y = 0;\n\n  this._borderSprites[2].position.x = panelSprite.getLeftMargin();\n  this._borderSprites[2].position.y = 0;\n\n  this._borderSprites[3].position.x = 0;\n  this._borderSprites[3].position.y = 0;\n\n  this._borderSprites[4].position.x = 0;\n  this._borderSprites[4].position.y = panelSprite.getTopMargin();\n\n  this._borderSprites[5].position.x = 0;\n  this._borderSprites[5].position.y =\n    this._height - this._borderSprites[5].height - extraPixels * 2;\n\n  this._borderSprites[6].position.x = panelSprite.getLeftMargin();\n  this._borderSprites[6].position.y =\n    this._height - panelSprite.getBottomMargin() - extraPixels * 3; //FIXME: 1 more extra pixel is somewhat needed for pixel perfect alignment\n\n  this._borderSprites[7].position.x =\n    this._width - this._borderSprites[7].width - extraPixels * 2;\n  this._borderSprites[7].position.y =\n    this._height - this._borderSprites[7].height - extraPixels * 2;\n};\n\nRenderedPanelSpriteInstance.prototype._updateSpritesAndTexturesSize = function() {\n  const panelSprite = gd.asPanelSpriteObject(this._associatedObject);\n  this._centerSprite.width = Math.max(\n    this._width - panelSprite.getRightMargin() - panelSprite.getLeftMargin(),\n    0\n  );\n  this._centerSprite.height = Math.max(\n    this._height - panelSprite.getTopMargin() - panelSprite.getBottomMargin(),\n    0\n  );\n\n  //Top, Bottom, Right, Left borders:\n  this._borderSprites[0].width = panelSprite.getRightMargin();\n  this._borderSprites[0].height = Math.max(\n    this._height - panelSprite.getTopMargin() - panelSprite.getBottomMargin(),\n    0\n  );\n\n  this._borderSprites[2].height = panelSprite.getTopMargin();\n  this._borderSprites[2].width = Math.max(\n    this._width - panelSprite.getRightMargin() - panelSprite.getLeftMargin(),\n    0\n  );\n\n  this._borderSprites[4].width = panelSprite.getLeftMargin();\n  this._borderSprites[4].height = Math.max(\n    this._height - panelSprite.getTopMargin() - panelSprite.getBottomMargin(),\n    0\n  );\n\n  this._borderSprites[6].height = panelSprite.getBottomMargin();\n  this._borderSprites[6].width = Math.max(\n    this._width - panelSprite.getRightMargin() - panelSprite.getLeftMargin(),\n    0\n  );\n\n  this._wasRendered = true;\n  this._pixiObject.cacheAsBitmap = false;\n};\n\nRenderedPanelSpriteInstance.prototype.updateTexture = function() {\n  const panelSprite = gd.asPanelSpriteObject(this._associatedObject);\n  this._textureName = panelSprite.getTexture();\n  const texture = this._pixiResourcesLoader.getPIXITexture(\n    this._project,\n    this._textureName\n  );\n\n  if (texture.noFrame) {\n    //Post pone texture update if texture is not loaded\n    const renderer = this;\n    texture.on('update', function() {\n      renderer.updateTexture();\n      texture.off('update', this);\n    });\n\n    return;\n  }\n\n  console.log('Updating PanelSprite instance texture');\n  function makeInsideTexture(rect) {\n    if (rect.width < 0) rect.width = 0;\n    if (rect.height < 0) rect.height = 0;\n    if (rect.x < 0) rect.x = 0;\n    if (rect.y < 0) rect.y = 0;\n    if (rect.x > texture.width) rect.x = texture.width;\n    if (rect.y > texture.height) rect.y = texture.height;\n    if (rect.x + rect.width > texture.width)\n      rect.width = texture.width - rect.x;\n    if (rect.y + rect.height > texture.height)\n      rect.height = texture.height - rect.y;\n\n    return rect;\n  }\n\n  this._centerSprite.texture = new PIXI.Texture(\n    texture,\n    makeInsideTexture(\n      new PIXI.Rectangle(\n        panelSprite.getLeftMargin(),\n        panelSprite.getTopMargin(),\n        texture.width -\n          panelSprite.getLeftMargin() -\n          panelSprite.getRightMargin(),\n        texture.height -\n          panelSprite.getTopMargin() -\n          panelSprite.getBottomMargin()\n      )\n    )\n  );\n\n  //Top, Bottom, Right, Left borders:\n  this._borderSprites[0].texture = new PIXI.Texture(\n    texture,\n    makeInsideTexture(\n      new PIXI.Rectangle(\n        texture.width - panelSprite.getRightMargin() - 1,\n        panelSprite.getTopMargin(),\n        panelSprite.getRightMargin() + 1,\n        texture.height -\n          panelSprite.getTopMargin() -\n          panelSprite.getBottomMargin()\n      )\n    )\n  );\n  this._borderSprites[2].texture = new PIXI.Texture(\n    texture,\n    makeInsideTexture(\n      new PIXI.Rectangle(\n        panelSprite.getLeftMargin(),\n        0,\n        texture.width -\n          panelSprite.getLeftMargin() -\n          panelSprite.getRightMargin(),\n        panelSprite.getTopMargin() + 1\n      )\n    )\n  );\n  this._borderSprites[4].texture = new PIXI.Texture(\n    texture,\n    makeInsideTexture(\n      new PIXI.Rectangle(\n        0,\n        panelSprite.getTopMargin(),\n        panelSprite.getLeftMargin() + 1,\n        texture.height -\n          panelSprite.getTopMargin() -\n          panelSprite.getBottomMargin()\n      )\n    )\n  );\n  this._borderSprites[6].texture = new PIXI.Texture(\n    texture,\n    makeInsideTexture(\n      new PIXI.Rectangle(\n        panelSprite.getLeftMargin(),\n        texture.height - panelSprite.getBottomMargin() - 1,\n        texture.width -\n          panelSprite.getLeftMargin() -\n          panelSprite.getRightMargin(),\n        panelSprite.getBottomMargin() + 1\n      )\n    )\n  );\n\n  this._borderSprites[1].texture = new PIXI.Texture(\n    texture,\n    makeInsideTexture(\n      new PIXI.Rectangle(\n        this._borderSprites[1].width - panelSprite.getRightMargin(),\n        0,\n        panelSprite.getRightMargin(),\n        panelSprite.getTopMargin()\n      )\n    )\n  );\n  this._borderSprites[3].texture = new PIXI.Texture(\n    texture,\n    makeInsideTexture(\n      new PIXI.Rectangle(\n        0,\n        0,\n        panelSprite.getLeftMargin(),\n        panelSprite.getTopMargin()\n      )\n    )\n  );\n  this._borderSprites[5].texture = new PIXI.Texture(\n    texture,\n    makeInsideTexture(\n      new PIXI.Rectangle(\n        0,\n        this._borderSprites[5].height - panelSprite.getBottomMargin(),\n        panelSprite.getLeftMargin(),\n        panelSprite.getBottomMargin()\n      )\n    )\n  );\n  this._borderSprites[7].texture = new PIXI.Texture(\n    texture,\n    makeInsideTexture(\n      new PIXI.Rectangle(\n        this._borderSprites[7].width - panelSprite.getRightMargin(),\n        this._borderSprites[7].height - panelSprite.getBottomMargin(),\n        panelSprite.getRightMargin(),\n        panelSprite.getBottomMargin()\n      )\n    )\n  );\n\n  this._updateSpritesAndTexturesSize();\n  this._updateLocalPositions();\n  this.updatePosition();\n};\n\nRenderedPanelSpriteInstance.prototype.updateWidthHeight = function() {\n  this._pixiObject.pivot.x = this._width / 2;\n  this._pixiObject.pivot.y = this._height / 2;\n  this._updateSpritesAndTexturesSize();\n  this._updateLocalPositions();\n  this.updatePosition();\n};\n\nRenderedPanelSpriteInstance.prototype.getDefaultWidth = function() {\n  const panelSprite = gd.asPanelSpriteObject(this._associatedObject);\n  return panelSprite.getWidth();\n};\n\nRenderedPanelSpriteInstance.prototype.getDefaultHeight = function() {\n  const panelSprite = gd.asPanelSpriteObject(this._associatedObject);\n  return panelSprite.getHeight();\n};\n\n/**\n * Return a URL for thumbnail of the specified object.\n */\nRenderedPanelSpriteInstance.getThumbnail = function(\n  project,\n  resourcesLoader,\n  object\n) {\n  const panelSprite = gd.asPanelSpriteObject(object);\n\n  return resourcesLoader.getResourceFullUrl(project, panelSprite.getTexture());\n};\n\nexport default RenderedPanelSpriteInstance;\n","import RenderedInstance from './RenderedInstance';\nimport * as PIXI from 'pixi.js';\nconst gd = global.gd;\n\n/**\n * Renderer for a Text object.\n *\n * @extends RenderedInstance\n * @class RenderedTextInstance\n * @constructor\n */\nfunction RenderedTextInstance(\n  project,\n  layout,\n  instance,\n  associatedObject,\n  pixiContainer,\n  pixiResourcesLoader\n) {\n  RenderedInstance.call(\n    this,\n    project,\n    layout,\n    instance,\n    associatedObject,\n    pixiContainer,\n    pixiResourcesLoader\n  );\n\n  //Setup the PIXI object:\n  const textObject = gd.asTextObject(this._associatedObject);\n  this._pixiObject = new PIXI.Text(' ', { align: 'left' });\n  this._pixiObject.anchor.x = 0.5;\n  this._pixiObject.anchor.y = 0.5;\n  this._pixiContainer.addChild(this._pixiObject);\n  this._styleFontDirty = true;\n  this._fontFamily = this._pixiResourcesLoader.getFontFamily(\n    this._project,\n    textObject.getFontName()\n  );\n  this.update();\n}\nRenderedTextInstance.prototype = Object.create(RenderedInstance.prototype);\n\n/**\n * Return a URL for thumbnail of the specified object.\n */\nRenderedTextInstance.getThumbnail = function(project, resourcesLoader, object) {\n  return 'CppPlatform/Extensions/texticon24.png';\n};\n\nRenderedTextInstance.prototype.update = function() {\n  const textObject = gd.asTextObject(this._associatedObject);\n  this._pixiObject.text = textObject.getString();\n\n  //Update style, only if needed to avoid destroying text rendering performances\n  if (\n    textObject.isItalic() !== this._isItalic ||\n    textObject.isBold() !== this._isBold ||\n    textObject.getCharacterSize() !== this._characterSize ||\n    this._instance.hasCustomSize() !== this._wrapping ||\n    (this._instance.getCustomWidth() !== this._wrappingWidth && this._wrapping)\n  ) {\n    this._isItalic = textObject.isItalic();\n    this._isBold = textObject.isBold();\n    this._characterSize = textObject.getCharacterSize();\n    this._wrapping = this._instance.hasCustomSize();\n    this._wrappingWidth = this._instance.getCustomWidth();\n    this._styleFontDirty = true;\n  }\n\n  if (this._fontName !== textObject.getFontName()) {\n    //Avoid calling loadFontFamily if the font didn't changed.\n    this._fontName = textObject.getFontName();\n    this._pixiResourcesLoader\n      .loadFontFamily(this._project, textObject.getFontName())\n      .then(fontFamily => {\n        // Once the font is loaded, we can use the given fontFamily.\n        this._fontFamily = fontFamily;\n        this._styleFontDirty = true;\n      })\n      .catch(err => {\n        // Ignore errors\n        console.warn('Unable to load font family', err);\n      });\n  }\n\n  if (this._styleFontDirty) {\n    this._pixiObject.style.fontFamily = this._fontFamily || 'Arial';\n    this._pixiObject.style.fontSize = this._characterSize + 'px';\n    this._pixiObject.style.fontStyle = this._isItalic ? 'italic' : 'normal';\n    this._pixiObject.style.fontWeight = this._isBold ? 'bold' : 'normal';\n    this._pixiObject.style.wordWrap = this._wrapping;\n    this._pixiObject.style.wordWrapWidth =\n      this._wrappingWidth <= 1 ? 1 : this._wrappingWidth;\n    this._pixiObject.style.breakWords = true;\n\n    // Manually ask the PIXI object to re-render as we changed a style property\n    // see http://www.html5gamedevs.com/topic/16924-change-text-style-post-render/\n    this._pixiObject.dirty = true;\n    this._styleFontDirty = false;\n  }\n\n  if (\n    textObject.getColorR() !== this._colorR ||\n    textObject.getColorG() !== this._colorG ||\n    textObject.getColorB() !== this._colorB\n  ) {\n    this._colorR = textObject.getColorR();\n    this._colorG = textObject.getColorG();\n    this._colorB = textObject.getColorB();\n    this._pixiObject.style.fill =\n      'rgb(' + this._colorR + ',' + this._colorG + ',' + this._colorB + ')';\n\n    // Manually ask the PIXI object to re-render as we changed a style property\n    // see http://www.html5gamedevs.com/topic/16924-change-text-style-post-render/\n    this._pixiObject.dirty = true;\n  }\n\n  this._pixiObject.position.x =\n    this._instance.getX() + this._pixiObject.width / 2;\n  this._pixiObject.position.y =\n    this._instance.getY() + this._pixiObject.height / 2;\n  this._pixiObject.rotation = RenderedInstance.toRad(this._instance.getAngle());\n};\n\nRenderedTextInstance.prototype.getDefaultWidth = function() {\n  return this._pixiObject.width;\n};\n\nRenderedTextInstance.prototype.getDefaultHeight = function() {\n  return this._pixiObject.height;\n};\n\nexport default RenderedTextInstance;\n","import makeRenderer from './RenderedIconInstance';\nexport default makeRenderer('CppPlatform/Extensions/primitivedrawingicon.png');\n","import makeRenderer from './RenderedIconInstance';\nexport default makeRenderer('CppPlatform/Extensions/textentry.png');\n","import RenderedInstance from './RenderedInstance';\nimport * as PIXI from 'pixi.js';\nimport { rgbToHexNumber } from '../../Utils/ColorTransformer';\nconst gd = global.gd;\n\n/**\n * Renderer for an ParticleEmitter object.\n *\n * @extends RenderedInstance\n * @class RenderedParticleEmitterInstance\n * @constructor\n */\nfunction RenderedParticleEmitterInstance(\n  project,\n  layout,\n  instance,\n  associatedObject,\n  pixiContainer,\n  pixiResourcesLoader\n) {\n  RenderedInstance.call(\n    this,\n    project,\n    layout,\n    instance,\n    associatedObject,\n    pixiContainer,\n    pixiResourcesLoader\n  );\n\n  this._pixiObject = new PIXI.Graphics();\n  this._pixiContainer.addChild(this._pixiObject);\n  this.updateGraphics();\n}\nRenderedParticleEmitterInstance.prototype = Object.create(\n  RenderedInstance.prototype\n);\n\n/**\n * Return a URL for thumbnail of the specified object.\n */\nRenderedParticleEmitterInstance.getThumbnail = function(\n  project,\n  resourcesLoader,\n  object\n) {\n  return 'CppPlatform/Extensions/particleSystemicon.png';\n};\n\nRenderedParticleEmitterInstance.prototype.update = function() {\n  this._pixiObject.position.x = this._instance.getX();\n  this._pixiObject.position.y = this._instance.getY();\n  this.updateGraphics();\n};\n\n/**\n * Render the preview of the particle emitter according to the setup of the object\n */\nRenderedParticleEmitterInstance.prototype.updateGraphics = function() {\n  const particleEmitterObject = gd.asParticleEmitterObject(\n    this._associatedObject\n  );\n\n  this._pixiObject.clear();\n\n  const emitterAngle = (this._instance.getAngle() / 180) * 3.14159;\n  const sprayConeAngle = particleEmitterObject.getConeSprayAngle();\n  const line1Angle = emitterAngle - (sprayConeAngle / 2.0 / 180.0) * 3.14159;\n  const line2Angle = emitterAngle + (sprayConeAngle / 2.0 / 180.0) * 3.14159;\n  const length = 64;\n\n  this._pixiObject.beginFill(0, 0);\n  this._pixiObject.lineStyle(\n    3,\n    rgbToHexNumber(\n      particleEmitterObject.getParticleRed2(),\n      particleEmitterObject.getParticleGreen2(),\n      particleEmitterObject.getParticleBlue2()\n    ),\n    1\n  );\n  this._pixiObject.moveTo(0, 0);\n  this._pixiObject.lineTo(\n    Math.cos(line1Angle) * length,\n    Math.sin(line1Angle) * length\n  );\n  this._pixiObject.moveTo(0, 0);\n  this._pixiObject.lineTo(\n    Math.cos(line2Angle) * length,\n    Math.sin(line2Angle) * length\n  );\n  this._pixiObject.endFill();\n\n  this._pixiObject.lineStyle(0, 0x000000, 1);\n  this._pixiObject.beginFill(\n    rgbToHexNumber(\n      particleEmitterObject.getParticleRed1(),\n      particleEmitterObject.getParticleGreen1(),\n      particleEmitterObject.getParticleBlue1()\n    )\n  );\n  this._pixiObject.drawCircle(0, 0, 8);\n  this._pixiObject.endFill();\n};\n\nRenderedParticleEmitterInstance.prototype.getDefaultWidth = function() {\n  return 128;\n};\n\nRenderedParticleEmitterInstance.prototype.getDefaultHeight = function() {\n  return 128;\n};\n\nRenderedParticleEmitterInstance.prototype.getOriginX = function() {\n  return 64;\n};\n\nRenderedParticleEmitterInstance.prototype.getOriginY = function() {\n  return 64;\n};\n\nexport default RenderedParticleEmitterInstance;\n","import FontFaceObserver from 'fontfaceobserver';\n\n/**\n * A simple wrapper around FontFace (if supported) or @font-face + FontFaceObserver\n * to load a font from an url and be notified when loading is done (or failed).\n * @param {*} fontFamily\n * @param {*} src\n * @param {*} descriptors\n */\nexport const loadFontFace = (fontFamily, src, descriptors = {}) => {\n  if (typeof FontFace !== 'undefined') {\n    // Load the given font using CSS Font Loading API.\n    const fontFace = new FontFace(fontFamily, src, descriptors);\n    document.fonts.add(fontFace);\n    return fontFace.load();\n  } else {\n    // Add @font-face and use FontFaceObserver to be notified when the\n    // font is ready.\n    const newStyle = document.createElement('style');\n    newStyle.appendChild(\n      document.createTextNode(\n        `@font-face {\n          font-family: ${fontFamily};\n          src: ${src};\n        }`\n      )\n    );\n\n    document.head.appendChild(newStyle);\n    return new FontFaceObserver(fontFamily, descriptors).load().catch(err => {\n      console.warn(`Error while loading font ${fontFamily}`, err);\n\n      throw err;\n    });\n  }\n};\n","// @flow\nimport {\n  type EnumeratedInstructionOrExpressionMetadata,\n  type InstructionOrExpressionScope,\n} from './EnumeratedInstructionOrExpressionMetadata.js';\nconst gd = global.gd;\n\nconst GROUP_DELIMITER = '/';\n\nconst enumerateExtensionInstructions = (\n  prefix: string,\n  instructions: gdMapStringInstructionMetadata,\n  scope: InstructionOrExpressionScope\n): Array<EnumeratedInstructionOrExpressionMetadata> => {\n  //Get the map containing the metadata of the instructions provided by the extension...\n  var instructionsTypes = instructions.keys();\n  const allInstructions = [];\n\n  //... and add each instruction\n  for (let j = 0; j < instructionsTypes.size(); ++j) {\n    const instrMetadata = instructions.get(instructionsTypes.get(j));\n    if (instrMetadata.isHidden()) continue;\n\n    const displayedName = instrMetadata.getFullName();\n    const groupName = instrMetadata.getGroup();\n    const iconFilename = instrMetadata.getIconFilename();\n    const fullGroupName = prefix + groupName;\n\n    allInstructions.push({\n      type: instructionsTypes.get(j),\n      metadata: instrMetadata,\n      iconFilename,\n      displayedName,\n      fullGroupName,\n      scope,\n      isPrivate: instrMetadata.isPrivate(),\n    });\n  }\n\n  return allInstructions;\n};\n\nexport const enumerateInstructions = (\n  isCondition: boolean\n): Array<EnumeratedInstructionOrExpressionMetadata> => {\n  let allInstructions = [];\n\n  const allExtensions = gd\n    .asPlatform(gd.JsPlatform.get())\n    .getAllPlatformExtensions();\n  for (let i = 0; i < allExtensions.size(); ++i) {\n    const extension = allExtensions.get(i);\n    const allObjectsTypes = extension.getExtensionObjectsTypes();\n    const allBehaviorsTypes = extension.getBehaviorsTypes();\n\n    let prefix = '';\n    if (allObjectsTypes.size() > 0 || allBehaviorsTypes.size() > 0) {\n      prefix =\n        extension.getName() === 'BuiltinObject'\n          ? 'Common ' +\n            (isCondition ? 'conditions' : 'actions') +\n            ' for all objects'\n          : extension.getFullName();\n      prefix += GROUP_DELIMITER;\n    }\n\n    //Free instructions\n    allInstructions = [\n      ...allInstructions,\n      ...enumerateExtensionInstructions(\n        prefix,\n        isCondition ? extension.getAllConditions() : extension.getAllActions(),\n        {\n          objectMetadata: undefined,\n          behaviorMetadata: undefined,\n        }\n      ),\n    ];\n\n    //Objects instructions:\n    for (let j = 0; j < allObjectsTypes.size(); ++j) {\n      const objectType = allObjectsTypes.get(j);\n      var objectMetadata = extension.getObjectMetadata(objectType);\n      allInstructions = [\n        ...allInstructions,\n        ...enumerateExtensionInstructions(\n          prefix,\n          isCondition\n            ? extension.getAllConditionsForObject(objectType)\n            : extension.getAllActionsForObject(objectType),\n          { objectMetadata }\n        ),\n      ];\n    }\n\n    //Behaviors instructions:\n    for (let j = 0; j < allBehaviorsTypes.size(); ++j) {\n      const behaviorType = allBehaviorsTypes.get(j);\n      const behaviorMetadata = extension.getBehaviorMetadata(behaviorType);\n      allInstructions = [\n        ...allInstructions,\n        ...enumerateExtensionInstructions(\n          prefix,\n          isCondition\n            ? extension.getAllConditionsForBehavior(behaviorType)\n            : extension.getAllActionsForBehavior(behaviorType),\n          { behaviorMetadata }\n        ),\n      ];\n    }\n  }\n\n  return allInstructions;\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport { t } from '@lingui/macro';\nimport { I18n } from '@lingui/react';\nimport { type I18n as I18nType } from '@lingui/core';\n\nimport * as React from 'react';\nimport Divider from 'material-ui/Divider';\nimport Toggle from 'material-ui/Toggle';\nimport { mapFor } from '../../Utils/MapFor';\nimport EmptyMessage from '../../UI/EmptyMessage';\nimport ParameterRenderingService from '../ParameterRenderingService';\nimport HelpButton from '../../UI/HelpButton';\nimport {\n  type ResourceSource,\n  type ChooseResourceFunction,\n} from '../../ResourcesList/ResourceSource.flow';\nimport { type ResourceExternalEditor } from '../../ResourcesList/ResourceExternalEditor.flow';\nimport { Line } from '../../UI/Grid';\nimport AlertMessage from '../../UI/AlertMessage';\nimport { getExtraInstructionInformation } from '../../Hints';\nimport { isAnEventFunctionMetadata } from '../../EventsFunctionsExtensionsLoader';\nimport OpenInNew from 'material-ui/svg-icons/action/open-in-new';\nimport IconButton from 'material-ui/IconButton';\nimport { type EventsScope } from '../EventsScope.flow';\nconst gd = global.gd;\n\nconst styles = {\n  container: {\n    display: 'flex',\n    flexDirection: 'column',\n    flex: 1,\n  },\n  emptyContainer: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  parametersContainer: {\n    flex: 1,\n    overflowY: 'auto',\n  },\n  icon: {\n    width: 24,\n    height: 24,\n    marginRight: 8,\n    flexShrink: 0,\n  },\n  invertToggle: {\n    marginTop: 8,\n  },\n};\n\ntype Props = {|\n  project: gdProject,\n  scope: EventsScope,\n  globalObjectsContainer: gdObjectsContainer,\n  objectsContainer: gdObjectsContainer,\n  objectName?: ?string,\n  instruction: gdInstruction,\n  isCondition: boolean,\n  focusOnMount?: boolean,\n  resourceSources: Array<ResourceSource>,\n  onChooseResource: ChooseResourceFunction,\n  resourceExternalEditors: Array<ResourceExternalEditor>,\n  style?: Object,\n  openInstructionOrExpression: (\n    extension: gdPlatformExtension,\n    type: string\n  ) => void,\n  noHelpButton?: boolean,\n|};\ntype State = {|\n  isDirty: boolean,\n|};\n\nconst setupInstruction = (\n  instruction: gdInstruction,\n  instructionMetadata: gdInstructionMetadata,\n  objectName: ?string\n) => {\n  instruction.setParametersCount(instructionMetadata.getParametersCount());\n\n  if (objectName) {\n    if (\n      instructionMetadata.getParametersCount() === 0 ||\n      instructionMetadata.getParameter(0).getType() !== 'object'\n    ) {\n      console.error(\n        `Instruction \"${instructionMetadata.getFullName()}\" is used for an object, but does not have an object as first parameter`\n      );\n      return;\n    }\n\n    instruction.setParameter(0, objectName);\n  }\n};\n\nconst isParameterVisible = (\n  parameterMetadata: gdParameterMetadata,\n  parameterIndex: number,\n  objectName: ?string\n) => {\n  // Hide parameters that are used only for code generation\n  if (parameterMetadata.isCodeOnly()) return false;\n\n  // For objects, hide the first parameter, which is by convention the object name.\n  if (objectName && parameterIndex === 0) return false;\n\n  return true;\n};\n\nexport default class InstructionParametersEditor extends React.Component<\n  Props,\n  State\n> {\n  _firstVisibleField: ?any = {};\n  state = {\n    isDirty: false,\n  };\n\n  componentDidMount() {\n    if (this.props.focusOnMount) {\n      setTimeout(() => {\n        this.focus();\n      }, 300); // Let the time to the dialog that is potentially containing the InstructionParametersEditor to finish its transition.\n    }\n  }\n\n  focus() {\n    // Verify that there is a field to focus.\n    if (\n      this._getVisibleParametersCount(\n        this._getInstructionMetadata(),\n        this.props.objectName\n      ) !== 0\n    ) {\n      if (this._firstVisibleField && this._firstVisibleField.focus) {\n        this._firstVisibleField.focus();\n      }\n    }\n  }\n\n  _getVisibleParametersCount(\n    instructionMetadata: ?gdInstructionMetadata,\n    objectName: ?string\n  ) {\n    if (!instructionMetadata) return 0;\n\n    return mapFor(0, instructionMetadata.getParametersCount(), i => {\n      if (!instructionMetadata) return false;\n      const parameterMetadata = instructionMetadata.getParameter(i);\n\n      return isParameterVisible(parameterMetadata, i, objectName);\n    }).filter(isVisible => isVisible).length;\n  }\n\n  _getInstructionMetadata = (): ?gdInstructionMetadata => {\n    const { instruction, isCondition, project } = this.props;\n    const type = instruction.getType();\n    if (!type) return null;\n\n    return isCondition\n      ? gd.MetadataProvider.getConditionMetadata(\n          project.getCurrentPlatform(),\n          type\n        )\n      : gd.MetadataProvider.getActionMetadata(\n          project.getCurrentPlatform(),\n          type\n        );\n  };\n\n  _openExtension = (i18n: I18nType) => {\n    if (this.state.isDirty) {\n      //eslint-disable-next-line\n      const answer = confirm(\n        i18n._(\n          t`You've made some changes here. Are you sure you want to discard them and open the function?`\n        )\n      );\n      if (!answer) return;\n    }\n\n    const { instruction, isCondition, project } = this.props;\n    const type = instruction.getType();\n    if (!type) return null;\n\n    const extension = isCondition\n      ? gd.MetadataProvider.getExtensionAndConditionMetadata(\n          project.getCurrentPlatform(),\n          type\n        ).getExtension()\n      : gd.MetadataProvider.getExtensionAndActionMetadata(\n          project.getCurrentPlatform(),\n          type\n        ).getExtension();\n\n    this.props.openInstructionOrExpression(extension, type);\n  };\n\n  _renderEmpty() {\n    return (\n      <div style={{ ...styles.emptyContainer, ...this.props.style }}>\n        <EmptyMessage>\n          {this.props.isCondition\n            ? 'Choose a condition on the left'\n            : 'Choose an action on the left'}\n        </EmptyMessage>\n      </div>\n    );\n  }\n\n  render() {\n    const {\n      instruction,\n      project,\n      globalObjectsContainer,\n      objectsContainer,\n      noHelpButton,\n      objectName,\n      scope,\n    } = this.props;\n\n    const type = instruction.getType();\n    const instructionMetadata = this._getInstructionMetadata();\n    if (!instructionMetadata) return this._renderEmpty();\n\n    const helpPage = instructionMetadata.getHelpPath();\n    const instructionExtraInformation = getExtraInstructionInformation(type);\n\n    setupInstruction(instruction, instructionMetadata, objectName);\n\n    let parameterFieldIndex = 0;\n    return (\n      <I18n>\n        {({ i18n }) => (\n          <div style={styles.container}>\n            <Line alignItems=\"center\">\n              <img\n                src={instructionMetadata.getIconFilename()}\n                alt=\"\"\n                style={styles.icon}\n              />\n              <p>{instructionMetadata.getDescription()}</p>\n              {isAnEventFunctionMetadata(instructionMetadata) && (\n                <IconButton onClick={() => this._openExtension(i18n)}>\n                  <OpenInNew />\n                </IconButton>\n              )}\n            </Line>\n            {instructionExtraInformation && (\n              <Line>\n                <AlertMessage kind={instructionExtraInformation.kind}>\n                  {i18n._(instructionExtraInformation.message)}\n                </AlertMessage>\n              </Line>\n            )}\n            <Divider />\n            <div key={type} style={styles.parametersContainer}>\n              {mapFor(0, instructionMetadata.getParametersCount(), i => {\n                const parameterMetadata = instructionMetadata.getParameter(i);\n                if (!isParameterVisible(parameterMetadata, i, objectName))\n                  return null;\n\n                const parameterMetadataType = parameterMetadata.getType();\n                const ParameterComponent = ParameterRenderingService.getParameterComponent(\n                  parameterMetadataType\n                );\n\n                // Track the field count on screen, to affect the ref to the\n                // first visible field.\n                const isFirstVisibleParameterField = parameterFieldIndex === 0;\n                parameterFieldIndex++;\n\n                return (\n                  <ParameterComponent\n                    instructionMetadata={instructionMetadata}\n                    instruction={instruction}\n                    parameterMetadata={parameterMetadata}\n                    parameterIndex={i}\n                    value={instruction.getParameter(i)}\n                    onChange={value => {\n                      if (instruction.getParameter(i) !== value) {\n                        instruction.setParameter(i, value);\n                        this.setState({\n                          isDirty: true,\n                        });\n                      }\n                    }}\n                    project={project}\n                    scope={scope}\n                    globalObjectsContainer={globalObjectsContainer}\n                    objectsContainer={objectsContainer}\n                    key={i}\n                    parameterRenderingService={ParameterRenderingService}\n                    resourceSources={this.props.resourceSources}\n                    onChooseResource={this.props.onChooseResource}\n                    resourceExternalEditors={this.props.resourceExternalEditors}\n                    ref={field => {\n                      if (isFirstVisibleParameterField) {\n                        this._firstVisibleField = field;\n                      }\n                    }}\n                  />\n                );\n              })}\n              {this._getVisibleParametersCount(\n                instructionMetadata,\n                objectName\n              ) === 0 && (\n                <EmptyMessage>\n                  <Trans>There is nothing to configure.</Trans>\n                </EmptyMessage>\n              )}\n              {this.props.isCondition && (\n                <Toggle\n                  label={<Trans>Invert condition</Trans>}\n                  labelPosition=\"right\"\n                  toggled={instruction.isInverted()}\n                  style={styles.invertToggle}\n                  onToggle={(e, enabled) => {\n                    instruction.setInverted(enabled);\n                    this.forceUpdate();\n                  }}\n                />\n              )}\n            </div>\n            <Line>\n              {!noHelpButton && helpPage && (\n                <HelpButton\n                  helpPagePath={instructionMetadata.getHelpPath()}\n                  label={\n                    this.props.isCondition ? (\n                      <Trans>Help for this condition</Trans>\n                    ) : (\n                      <Trans>Help for this action</Trans>\n                    )\n                  }\n                />\n              )}\n            </Line>\n          </div>\n        )}\n      </I18n>\n    );\n  }\n}\n","// @flow\n\n/*\n * Case Sensitive Slug method\n * Inspired by Aaron Stannard module (https://github.com/Aaronontheweb/node-slugs)\n */\nexport const caseSensitiveSlug = (\n  incString: string,\n  separator?: string,\n  preserved?: Array<string>\n): string => {\n  var p = ['.', '=', '-'];\n  var s = '-';\n\n  if (typeof preserved != 'undefined') {\n    p = preserved;\n  }\n\n  if (typeof separator != 'undefined') {\n    s = separator;\n  }\n\n  return incString\n    .replace(//g, 'ue')\n    .replace(//g, 'ae')\n    .replace(//g, 'oe')\n    .replace(//g, 'ss')\n    .replace(new RegExp('[' + p.join('') + ']', 'g'), ' ') //  replace preserved characters with spaces\n    .replace(/-{2,}/g, ' ') //  remove duplicate spaces\n    .replace(/^\\s\\s*/, '')\n    .replace(/\\s\\s*$/, '') //  trim both sides of string\n    .replace(/[^\\w ]/gi, '') //  replaces all non-alphanumeric with empty string\n    .replace(/[ ]/gi, s); //  Convert spaces to dashes\n};\n","import React, { PureComponent } from 'react';\nimport { ToolbarGroup } from 'material-ui/Toolbar';\nimport ToolbarSeparator from '../UI/ToolbarSeparator';\nimport ToolbarIcon from '../UI/ToolbarIcon';\nimport IconMenu from '../UI/Menu/IconMenu';\nimport { adaptAcceleratorString } from '../UI/AcceleratorString';\n\nexport class Toolbar extends PureComponent {\n  render() {\n    const t = str => str; //TODO\n\n    return (\n      <ToolbarGroup lastChild>\n        {this.props.showPreviewButton && (\n          <ToolbarIcon\n            onClick={this.props.onPreview}\n            src=\"res/ribbon_default/preview32.png\"\n            tooltip={t('Launch a preview of the scene')}\n          />\n        )}\n        {this.props.showNetworkPreviewButton && (\n          <IconMenu\n            iconButtonElement={\n              <ToolbarIcon\n                src=\"res/ribbon_default/bug32.png\"\n                tooltip={t(\n                  'Advanced preview options (debugger, network preview...)'\n                )}\n              />\n            }\n            buildMenuTemplate={() => [\n              {\n                label: 'Network preview (Preview over WiFi/LAN)',\n                click: () => this.props.onNetworkPreview(),\n              },\n              { type: 'separator' },\n              {\n                label: 'Preview with debugger and performance profiler',\n                click: () => this.props.onOpenDebugger(),\n              },\n            ]}\n          />\n        )}\n        {this.props.showPreviewButton && <ToolbarSeparator />}\n        <ToolbarIcon\n          onClick={this.props.onAddStandardEvent}\n          src=\"res/ribbon_default/eventadd32.png\"\n          tooltip={t('Add a new empty event')}\n        />\n        <ToolbarIcon\n          onClick={this.props.onAddSubEvent}\n          src=\"res/ribbon_default/subeventadd32.png\"\n          disabled={!this.props.canAddSubEvent}\n          tooltip={t('Add a sub-event to the selected event')}\n        />\n        <ToolbarIcon\n          onClick={this.props.onAddCommentEvent}\n          src=\"res/ribbon_default/commentaireadd32.png\"\n          tooltip={t('Add a comment')}\n        />\n        <IconMenu\n          iconButtonElement={\n            <ToolbarIcon\n              src=\"res/ribbon_default/add32.png\"\n              tooltip={t('Choose and add an event')}\n            />\n          }\n          buildMenuTemplate={() =>\n            this.props.allEventsMetadata.map(metadata => {\n              return {\n                label: metadata.fullName,\n                click: () => this.props.onAddEvent(metadata.type),\n              };\n            })\n          }\n        />\n        <ToolbarSeparator />\n        <ToolbarIcon\n          onClick={this.props.onRemove}\n          src=\"res/ribbon_default/deleteselected32.png\"\n          disabled={!this.props.canRemove}\n          tooltip={t('Delete the selected event(s)')}\n        />\n        <ToolbarIcon\n          onClick={this.props.undo}\n          src=\"res/ribbon_default/undo32.png\"\n          disabled={!this.props.canUndo}\n          tooltip={t('Undo the last changes')}\n        />\n        <ToolbarIcon\n          onClick={this.props.redo}\n          src=\"res/ribbon_default/redo32.png\"\n          disabled={!this.props.canRedo}\n          tooltip={t('Redo the last changes')}\n        />\n        <ToolbarSeparator />\n        <ToolbarIcon\n          onClick={() => this.props.onToggleSearchPanel()}\n          src=\"res/ribbon_default/search32.png\"\n          tooltip={`${t('Search in events')} ${adaptAcceleratorString(\n            'CmdOrCtrl+F'\n          )}`}\n        />\n        {this.props.onOpenSettings && <ToolbarSeparator />}\n        {this.props.onOpenSettings && (\n          <ToolbarIcon\n            onClick={this.props.onOpenSettings}\n            src=\"res/ribbon_default/pref32.png\"\n            tooltip={t('Open settings')}\n          />\n        )}\n      </ToolbarGroup>\n    );\n  }\n}\n\nexport default Toolbar;\n","// @flow\nimport * as React from 'react';\nimport InlinePopover from './InlinePopover';\nimport ParameterRenderingService from './ParameterRenderingService';\nimport {\n  type ResourceSource,\n  type ChooseResourceFunction,\n} from '../ResourcesList/ResourceSource.flow';\nimport { type ResourceExternalEditor } from '../ResourcesList/ResourceExternalEditor.flow';\nimport { type EventsScope } from './EventsScope.flow';\nconst gd = global.gd;\n\ntype Props = {|\n  project: gdProject,\n  scope: EventsScope,\n  globalObjectsContainer: gdObjectsContainer,\n  objectsContainer: gdObjectsContainer,\n\n  open: boolean,\n  onRequestClose: () => void,\n  onChange: string => void,\n\n  instruction: ?gdInstruction,\n  isCondition: boolean,\n  parameterIndex: number,\n\n  anchorEl: ?any,\n\n  resourceSources: Array<ResourceSource>,\n  onChooseResource: ChooseResourceFunction,\n  resourceExternalEditors: Array<ResourceExternalEditor>,\n|};\n\ntype State = {|\n  parameterMetadata: ?gdParameterMetadata,\n  instructionMetadata: ?gdInstructionMetadata,\n  ParameterComponent: ?any,\n|};\n\nexport default class InlineParameterEditor extends React.Component<\n  Props,\n  State\n> {\n  state = {\n    parameterMetadata: null,\n    instructionMetadata: null,\n    ParameterComponent: null,\n  };\n\n  _field: ?any;\n\n  componentWillReceiveProps(newProps: Props) {\n    if (\n      (newProps.open && !this.props.open) ||\n      newProps.instruction !== this.props.instruction\n    ) {\n      this._loadComponentFromInstruction(newProps);\n    }\n  }\n\n  _unload() {\n    this.setState({\n      ParameterComponent: null,\n      parameterMetadata: null,\n      instructionMetadata: null,\n    });\n  }\n\n  _loadComponentFromInstruction(props: Props) {\n    const { project, isCondition, instruction, parameterIndex } = props;\n    if (!instruction) return this._unload();\n\n    const type = instruction.getType();\n    const instructionMetadata = isCondition\n      ? gd.MetadataProvider.getConditionMetadata(\n          project.getCurrentPlatform(),\n          type\n        )\n      : gd.MetadataProvider.getActionMetadata(\n          project.getCurrentPlatform(),\n          type\n        );\n\n    if (parameterIndex >= instructionMetadata.getParametersCount())\n      return this._unload();\n\n    const parameterMetadata = instructionMetadata.getParameter(parameterIndex);\n    const ParameterComponent = ParameterRenderingService.getParameterComponent(\n      parameterMetadata.getType()\n    );\n    this.setState(\n      {\n        ParameterComponent,\n        parameterMetadata,\n        instructionMetadata,\n      },\n      () => {\n        if (this._field && this._field.focus) this._field.focus();\n      }\n    );\n  }\n\n  render() {\n    if (!this.state.ParameterComponent || !this.props.open) return null;\n    const instruction = this.props.instruction;\n    if (!instruction) return null;\n\n    const { ParameterComponent } = this.state;\n\n    return (\n      <InlinePopover\n        open={this.props.open}\n        anchorEl={this.props.anchorEl}\n        onRequestClose={this.props.onRequestClose}\n      >\n        <ParameterComponent\n          instruction={instruction}\n          instructionMetadata={this.state.instructionMetadata}\n          parameterMetadata={this.state.parameterMetadata}\n          parameterIndex={this.props.parameterIndex}\n          value={instruction.getParameter(this.props.parameterIndex)}\n          onChange={this.props.onChange}\n          project={this.props.project}\n          scope={this.props.scope}\n          globalObjectsContainer={this.props.globalObjectsContainer}\n          objectsContainer={this.props.objectsContainer}\n          key={instruction.ptr}\n          ref={field => (this._field = field)}\n          parameterRenderingService={ParameterRenderingService}\n          isInline\n          resourceSources={this.props.resourceSources}\n          onChooseResource={this.props.onChooseResource}\n          resourceExternalEditors={this.props.resourceExternalEditors}\n        />\n      </InlinePopover>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport PlaceholderMessage from '../UI/PlaceholderMessage';\nimport HelpButton from '../UI/HelpButton';\n\nconst EmptyEventsPlaceholder = () => (\n  <PlaceholderMessage>\n    <p>\n      <Trans>\n        There are no events here. Events are composed of conditions and actions.\n      </Trans>\n    </p>\n    <p>\n      <Trans>\n        Add your first event using the first buttons of the toolbar.\n      </Trans>\n    </p>\n    <HelpButton helpPagePath=\"/events\" />\n  </PlaceholderMessage>\n);\n\nexport default EmptyEventsPlaceholder;\n","//@flow\nconst gd = global.gd;\n\nexport const ensureSingleOnceInstructions = (\n  instructionsList: gdInstructionsList\n) => {\n  let hasEndingOnceInstruction = false;\n  let hasInvalidOnce = false;\n  for (let i = instructionsList.size() - 1; i >= 0; --i) {\n    const instruction = instructionsList.get(i);\n    if (i === instructionsList.size() - 1) {\n      if (instruction.getType() === 'BuiltinCommonInstructions::Once') {\n        hasEndingOnceInstruction = true;\n      }\n    } else {\n      if (instruction.getType() === 'BuiltinCommonInstructions::Once') {\n        instructionsList.removeAt(i);\n        hasInvalidOnce = true;\n      }\n    }\n  }\n\n  if (hasInvalidOnce && !hasEndingOnceInstruction) {\n    const onceInstruction = new gd.Instruction();\n    onceInstruction.setType('BuiltinCommonInstructions::Once');\n    instructionsList.insert(onceInstruction, instructionsList.size());\n    onceInstruction.delete();\n  }\n\n  return hasInvalidOnce;\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport Dialog from '../UI/Dialog';\nimport FlatButton from 'material-ui/FlatButton';\n\nexport type EventsContextResult = {|\n  objectsNames: Array<string>,\n  objectOrGroupNames: Array<string>,\n  objectOrGroupBehaviorNames: {\n    [string]: Array<string>,\n  },\n|};\n\n// Store in a EventsContextResult the content of a gd.EventsContext.\n// In theory not necessary, but easier than storing,\n// passing around, and properly delete a gd.EventsContext.\nexport const toEventsContextResult = (\n  eventsContext: gdEventsContext\n): EventsContextResult => {\n  const objectsNames = eventsContext\n    .getObjectNames()\n    .toNewVectorString()\n    .toJSArray();\n  const objectOrGroupNames = eventsContext\n    .getReferencedObjectOrGroupNames()\n    .toNewVectorString()\n    .toJSArray();\n\n  const objectOrGroupBehaviorNames = {};\n  objectOrGroupNames.forEach(objectOrGroupName => {\n    const behaviorNames = eventsContext\n      .getBehaviorNamesOfObjectOrGroup(objectOrGroupName)\n      .toNewVectorString()\n      .toJSArray();\n\n    if (behaviorNames.length) {\n      objectOrGroupBehaviorNames[objectOrGroupName] = behaviorNames;\n    }\n  });\n\n  return {\n    objectsNames,\n    objectOrGroupNames,\n    objectOrGroupBehaviorNames,\n  };\n};\n\ntype Props = {|\n  onClose: () => void,\n  eventsContextResult: EventsContextResult,\n|};\n\nexport default class EventsContextAnalyzerDialog extends React.Component<\n  Props,\n  {}\n> {\n  render() {\n    const { onClose, eventsContextResult } = this.props;\n    const actions = [\n      <FlatButton\n        label={<Trans>Close</Trans>}\n        primary={true}\n        onClick={this.props.onClose}\n      />,\n    ];\n\n    return (\n      <Dialog actions={actions} open onRequestClose={onClose}>\n        <p>\n          <Trans>\n            Objects or groups being directly referenced in the events:{' '}\n            {eventsContextResult.objectOrGroupNames.join(', ')}\n          </Trans>\n        </p>\n        <p>\n          <Trans>\n            All objects potentially used in events:{' '}\n            {eventsContextResult.objectsNames.join(', ')}\n          </Trans>\n        </p>\n        <p>\n          <Trans>All behaviors being directly referenced in the events:</Trans>{' '}\n          {Object.keys(eventsContextResult.objectOrGroupBehaviorNames).map(\n            objectOrGroupName => {\n              return (\n                <Trans key={objectOrGroupName}>\n                  Behaviors of {objectOrGroupName}:{' '}\n                  {eventsContextResult.objectOrGroupBehaviorNames[\n                    objectOrGroupName\n                  ].join(', ')}\n                  ;{' '}\n                </Trans>\n              );\n            }\n          )}\n        </p>\n      </Dialog>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport React, { PureComponent } from 'react';\nimport Paper from 'material-ui/Paper';\nimport TextField from 'material-ui/TextField';\nimport { Line, Column } from '../UI/Grid';\nimport FlatButton from 'material-ui/FlatButton';\nimport ChevronLeft from 'material-ui/svg-icons/navigation/chevron-left';\nimport ChevronRight from 'material-ui/svg-icons/navigation/chevron-right';\nimport IconButton from 'material-ui/IconButton';\nimport InlineCheckbox from '../UI/InlineCheckbox';\nimport {\n  type SearchInEventsInputs,\n  type ReplaceInEventsInputs,\n} from './EventsSearcher';\n\ntype Props = {|\n  onSearchInEvents: SearchInEventsInputs => void,\n  onReplaceInEvents: ReplaceInEventsInputs => void,\n  resultsCount: ?number,\n  hasEventSelected: boolean,\n  onGoToPreviousSearchResult: () => ?gdBaseEvent,\n  onGoToNextSearchResult: () => ?gdBaseEvent,\n|};\ntype State = {|\n  searchText: string,\n  replaceText: string,\n  matchCase: boolean,\n  searchInActions: boolean,\n  searchInConditions: boolean,\n  searchInSelection: boolean,\n|};\n\nexport default class SearchPanel extends PureComponent<Props, State> {\n  searchTextField: ?TextField;\n  state = {\n    searchText: '',\n    replaceText: '',\n    matchCase: false,\n    searchInActions: true,\n    searchInConditions: true,\n    searchInSelection: false,\n  };\n\n  focus = () => {\n    if (this.searchTextField) {\n      this.searchTextField.focus();\n    }\n  };\n\n  launchSearch = () => {\n    const {\n      searchText,\n      searchInSelection,\n      matchCase,\n      searchInActions,\n      searchInConditions,\n    } = this.state;\n    this.props.onSearchInEvents({\n      searchInSelection,\n      searchText,\n      matchCase,\n      searchInActions,\n      searchInConditions,\n    });\n  };\n\n  launchReplace = () => {\n    const {\n      searchText,\n      replaceText,\n      searchInSelection,\n      matchCase,\n      searchInActions,\n      searchInConditions,\n    } = this.state;\n\n    this.launchSearch();\n\n    this.props.onReplaceInEvents({\n      searchInSelection,\n      searchText,\n      replaceText,\n      matchCase,\n      searchInActions,\n      searchInConditions,\n    });\n  };\n\n  render() {\n    const {\n      resultsCount,\n      hasEventSelected,\n      onGoToPreviousSearchResult,\n      onGoToNextSearchResult,\n    } = this.props;\n    const { searchText, replaceText, searchInSelection } = this.state;\n\n    return (\n      <Paper>\n        <Column>\n          <Line alignItems=\"baseline\">\n            <TextField\n              ref={_searchTextField =>\n                (this.searchTextField = _searchTextField)\n              }\n              hintText={<Trans>Text to search</Trans>}\n              onChange={(e, searchText) => this.setState({ searchText })}\n              value={searchText}\n              fullWidth\n            />\n            <FlatButton\n              disabled={!searchText}\n              primary\n              label={<Trans>Search</Trans>}\n              onClick={this.launchSearch}\n            />\n          </Line>\n          <Line alignItems=\"baseline\">\n            <TextField\n              hintText={<Trans>Text to replace</Trans>}\n              onChange={(e, replaceText) => this.setState({ replaceText })}\n              value={replaceText}\n              fullWidth\n            />\n            <FlatButton\n              disabled={\n                !replaceText ||\n                !searchText ||\n                (!hasEventSelected && searchInSelection)\n              }\n              label={<Trans>Replace</Trans>}\n              onClick={this.launchReplace}\n            />\n          </Line>\n          <Line noMargin alignItems=\"center\" justifyContent=\"space-between\">\n            <Line noMargin alignItems=\"center\">\n              <InlineCheckbox\n                label={<Trans>Case insensitive</Trans>}\n                checked={!this.state.matchCase}\n                onCheck={(e, checked) => this.setState({ matchCase: !checked })}\n              />\n              <p>\n                <Trans>Filter by</Trans>\n              </p>\n              <InlineCheckbox\n                label={<Trans>Conditions</Trans>}\n                checked={this.state.searchInConditions}\n                onCheck={(e, checked) =>\n                  this.setState({ searchInConditions: checked })\n                }\n              />\n              <InlineCheckbox\n                label={<Trans>Actions</Trans>}\n                checked={this.state.searchInActions}\n                onCheck={(e, checked) =>\n                  this.setState({ searchInActions: checked })\n                }\n              />\n              {/* <InlineCheckbox //TODO: Implement search/replace in selection\n                label={<Trans>Replace in selection</Trans>}\n                checked={this.state.searchInSelection}\n                onCheck={(e, checked) =>\n                  this.setState({ searchInSelection: checked })}\n              /> */}\n            </Line>\n            <Line noMargin alignItems=\"center\">\n              <p>\n                {resultsCount === null || resultsCount === undefined\n                  ? ''\n                  : resultsCount !== 0\n                  ? `${resultsCount} results`\n                  : `No results`}\n              </p>\n              <IconButton\n                disabled={!resultsCount}\n                onClick={() => onGoToPreviousSearchResult()}\n              >\n                <ChevronLeft />\n              </IconButton>\n              <IconButton\n                disabled={!resultsCount}\n                onClick={() => onGoToNextSearchResult()}\n              >\n                <ChevronRight />\n              </IconButton>\n            </Line>\n          </Line>\n        </Column>\n      </Paper>\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport { type SelectionState } from './SelectionHandler';\nimport { mapFor } from '../Utils/MapFor';\nimport uniqBy from 'lodash/uniqBy';\nconst gd = global.gd;\n\nexport type SearchInEventsInputs = {|\n  searchInSelection: boolean,\n  searchText: string,\n  matchCase: boolean,\n  searchInConditions: boolean,\n  searchInActions: boolean,\n|};\n\nexport type ReplaceInEventsInputs = {|\n  searchInSelection: boolean,\n  searchText: string,\n  replaceText: ?string,\n  matchCase: boolean,\n  searchInConditions: boolean,\n  searchInActions: boolean,\n|};\n\ntype State = {|\n  eventsSearchResults: ?gdVectorEventsSearchResult,\n  searchFocusOffset: ?number,\n|};\n\ntype Props = {|\n  globalObjectsContainer: gdProject,\n  objectsContainer: gdLayout,\n  events: gdEventsList,\n  selection: SelectionState,\n  children: (props: {|\n    eventsSearchResultEvents: ?Array<gdBaseEvent>,\n    searchFocusOffset: ?number,\n    searchInEvents: (SearchInEventsInputs, cb: () => void) => void,\n    replaceInEvents: ReplaceInEventsInputs => void,\n    goToNextSearchResult: () => ?gdBaseEvent,\n    goToPreviousSearchResult: () => ?gdBaseEvent,\n  |}) => React.Node,\n|};\n\n/**\n * Component allowing to do search in events and pass the results\n * to its children components, as well as methods to browse the results.\n */\nexport default class EventsSearcher extends React.Component<Props, State> {\n  state = {\n    eventsSearchResults: null, // The list of results\n    searchFocusOffset: null,\n  };\n\n  // The list containing the raw events results. Should be derived from this.state.eventsSearchResults using\n  // this._updateListOfResultEvents before being used.\n  _resultEvents: ?Array<gdBaseEvent> = null;\n\n  componentWillUnmount() {\n    if (this.state.eventsSearchResults) this.state.eventsSearchResults.delete();\n  }\n\n  reset() {\n    if (this.state.eventsSearchResults) this.state.eventsSearchResults.delete();\n\n    this._resultEvents = null;\n    this.setState({\n      eventsSearchResults: null,\n      searchFocusOffset: null,\n    });\n  }\n\n  _doReplaceInEvents = ({\n    searchInSelection,\n    searchText,\n    replaceText,\n    matchCase,\n    searchInConditions,\n    searchInActions,\n  }: ReplaceInEventsInputs) => {\n    const { globalObjectsContainer, objectsContainer, events } = this.props;\n\n    if (searchInSelection) {\n      // Replace in selection is a bit tricky to implement as it requires to have a list\n      // of events (gd.EventsList) pointing to the same events. Need some workaround/helper\n      // function to be done in C++.\n      console.error('Replace in selection is not implemented yet');\n    }\n\n    gd.EventsRefactorer.replaceStringInEvents(\n      globalObjectsContainer,\n      objectsContainer,\n      events,\n      searchText,\n      replaceText,\n      matchCase,\n      searchInConditions,\n      searchInActions\n    );\n  };\n\n  _doSearchInEvents = (\n    {\n      searchInSelection,\n      searchText,\n      matchCase,\n      searchInConditions,\n      searchInActions,\n    }: SearchInEventsInputs,\n    cb: () => void\n  ) => {\n    const { globalObjectsContainer, objectsContainer, events } = this.props;\n\n    if (searchInSelection) {\n      // Search in selection is a bit tricky to implement as it requires to have a list\n      // of events (gd.EventsList) pointing to the same events. Need some workaround/helper\n      // function to be done in C++.\n      console.error('Search in selection is not implemented yet');\n    }\n\n    const newEventsSearchResults = gd.EventsRefactorer.searchInEvents(\n      globalObjectsContainer,\n      objectsContainer,\n      events,\n      searchText,\n      matchCase,\n      searchInConditions,\n      searchInActions\n    );\n\n    if (this.state.eventsSearchResults) {\n      this.state.eventsSearchResults.delete();\n    }\n    this.setState(\n      {\n        eventsSearchResults: newEventsSearchResults.clone(),\n        searchFocusOffset: null,\n      },\n      () => {\n        this._updateListOfResultEvents();\n        cb();\n      }\n    );\n  };\n\n  _updateListOfResultEvents = () => {\n    const { eventsSearchResults } = this.state;\n    if (!eventsSearchResults) {\n      this._resultEvents = null;\n      return;\n    }\n\n    const resultEventsWithDuplicates = mapFor(\n      0,\n      eventsSearchResults.size(),\n      i => {\n        const eventsSearchResult = eventsSearchResults.at(i);\n        return eventsSearchResult.isEventValid()\n          ? eventsSearchResult.getEvent()\n          : null;\n      }\n    ).filter(Boolean);\n\n    // Store a list of unique events, because browsing for results in the events\n    // tree is made event by event.\n    this._resultEvents = uniqBy(resultEventsWithDuplicates, event => event.ptr);\n  };\n\n  _goToSearchResults = (step: number): ?gdBaseEvent => {\n    this._updateListOfResultEvents();\n    if (!this._resultEvents || this._resultEvents.length === 0) {\n      this.setState({ searchFocusOffset: null });\n      return null;\n    }\n\n    let newSearchFocusOffset =\n      this.state.searchFocusOffset === null\n        ? 0\n        : ((this.state.searchFocusOffset || 0) + step) %\n          this._resultEvents.length;\n    if (newSearchFocusOffset < 0)\n      newSearchFocusOffset += this._resultEvents.length;\n\n    const event = this._resultEvents[newSearchFocusOffset];\n    setTimeout(\n      // Change the offset on next tick to give a chance to children to unfold events before focusing it.\n      () => this.setState({ searchFocusOffset: newSearchFocusOffset }),\n      0\n    );\n    return event;\n  };\n\n  _goToPreviousSearchResult = (): ?gdBaseEvent => {\n    return this._goToSearchResults(-1);\n  };\n\n  _goToNextSearchResult = (): ?gdBaseEvent => {\n    return this._goToSearchResults(+1);\n  };\n\n  render() {\n    return this.props.children({\n      eventsSearchResultEvents: this._resultEvents,\n      searchFocusOffset: this.state.searchFocusOffset,\n      searchInEvents: this._doSearchInEvents,\n      replaceInEvents: this._doReplaceInEvents,\n      goToNextSearchResult: this._goToNextSearchResult,\n      goToPreviousSearchResult: this._goToPreviousSearchResult,\n    });\n  }\n}\n","const gd = global.gd;\n\nexport const containsSubInstructions = (\n  instruction: gdInstruction,\n  instructionsList: gdInstructionsList\n) => {\n  const subInstructionsList = instruction.getSubInstructions();\n  if (gd.compare(subInstructionsList, instructionsList)) return true;\n\n  for (let i = 0; i < subInstructionsList.size(); ++i) {\n    const subInstruction = subInstructionsList.get(i);\n    if (containsSubInstructions(subInstruction, instructionsList)) return true;\n  }\n\n  return false;\n};\n","// @flow\n\nimport flatten from 'lodash/flatten';\nimport { mapFor } from '../Utils/MapFor';\nconst gd = global.gd;\n\nexport type EventMetadata = {|\n  type: string,\n  fullName: string,\n  description: string,\n|};\n\nexport const enumerateEventsMetadata = (): Array<EventMetadata> => {\n  const allExtensions = gd\n    .asPlatform(gd.JsPlatform.get())\n    .getAllPlatformExtensions();\n\n  return flatten(\n    mapFor(0, allExtensions.size(), i => {\n      const extension = allExtensions.get(i);\n      const extensionEvents = extension.getAllEvents();\n\n      return extensionEvents\n        .keys()\n        .toJSArray()\n        .map(type => {\n          const metadata = extensionEvents.get(type);\n          return {\n            type,\n            fullName: metadata.getFullName(),\n            description: metadata.getDescription(),\n          };\n        });\n    })\n  );\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport Dialog from '../../UI/Dialog';\nimport FlatButton from 'material-ui/FlatButton';\nimport { enumerateEventsFunctionsExtensions } from '../../ProjectManager/EnumerateProjectItems';\nimport { Line, Column, Spacer } from '../../UI/Grid';\nimport SemiControlledTextField from '../../UI/SemiControlledTextField';\nimport SelectField from 'material-ui/SelectField';\nimport MenuItem from 'material-ui/MenuItem';\nimport Divider from 'material-ui/Divider';\nimport {\n  setupFunctionFromEvents,\n  canCreateEventsFunction,\n  functionHasLotsOfParameters,\n  validateExtensionNameUniqueness,\n  validateExtensionName,\n  validateEventsFunctionNameUniqueness,\n  validateEventsFunctionName,\n} from '.';\nimport AlertMessage from '../../UI/AlertMessage';\nimport DismissableAlertMessage from '../../UI/DismissableAlertMessage';\nimport EventsFunctionParametersEditor from '../../EventsFunctionsExtensionEditor/EventsFunctionConfigurationEditor/EventsFunctionParametersEditor';\nimport EventsFunctionPropertiesEditor from '../../EventsFunctionsExtensionEditor/EventsFunctionConfigurationEditor/EventsFunctionPropertiesEditor';\nimport HelpButton from '../../UI/HelpButton';\nconst gd = global.gd;\n\ntype Props = {|\n  project: gdProject,\n  globalObjectsContainer: gdObjectsContainer,\n  objectsContainer: gdObjectsContainer,\n  serializedEvents: Object,\n  onClose: () => void,\n  onCreate: (extensionName: string, eventsFunction: gdEventsFunction) => void,\n|};\n\ntype State = {|\n  eventsFunction: ?gdEventsFunction,\n  extensionName: string,\n  createNewExtension: boolean,\n|};\n\nconst CREATE_NEW_EXTENSION_PLACEHOLDER = '<create a new extension>';\n\nexport default class EventsFunctionExtractorDialog extends React.Component<\n  Props,\n  State\n> {\n  state = {\n    eventsFunction: null,\n    extensionName: '',\n    createNewExtension: false,\n  };\n\n  componentDidMount() {\n    const {\n      project,\n      globalObjectsContainer,\n      objectsContainer,\n      serializedEvents,\n    } = this.props;\n\n    // Set up the function\n    const eventsFunction = new gd.EventsFunction();\n    setupFunctionFromEvents({\n      project,\n      globalObjectsContainer,\n      objectsContainer,\n      serializedEvents,\n      eventsFunction,\n    });\n    this.setState({\n      eventsFunction,\n    });\n\n    // Prepopulate the form\n    const eventsFunctionsExtensions = enumerateEventsFunctionsExtensions(\n      project\n    );\n    if (eventsFunctionsExtensions.length === 0) {\n      this.setState({\n        createNewExtension: true,\n      });\n    }\n  }\n\n  componentWillUnmount() {\n    const { eventsFunction } = this.state;\n    if (eventsFunction) eventsFunction.delete();\n  }\n\n  render() {\n    const { project, onClose, onCreate } = this.props;\n    const { eventsFunction, extensionName, createNewExtension } = this.state;\n    if (!eventsFunction) return null;\n\n    const eventsFunctionsExtensions = enumerateEventsFunctionsExtensions(\n      project\n    );\n    const hasLotsOfParameters = functionHasLotsOfParameters(eventsFunction);\n\n    return (\n      <Dialog\n        title={<Trans>Extract the events in a function</Trans>}\n        secondaryActions={\n          <HelpButton helpPagePath=\"/events/functions/extract-events\" />\n        }\n        actions={[\n          <FlatButton\n            key=\"cancel\"\n            label={<Trans>Cancel</Trans>}\n            onClick={onClose}\n          />,\n          <FlatButton\n            key=\"create\"\n            label={<Trans>Create</Trans>}\n            primary\n            disabled={\n              !canCreateEventsFunction(project, extensionName, eventsFunction)\n            }\n            onClick={() => onCreate(extensionName, eventsFunction)}\n          />,\n        ]}\n        open\n        onRequestClose={onClose}\n        autoScrollBodyContent\n        noMargin\n      >\n        <Column noMargin>\n          <Column>\n            <DismissableAlertMessage\n              identifier=\"function-extractor-explanation\"\n              kind=\"info\"\n            >\n              After creating a function, it will be usable in the events sheet.\n              Functions are grouped by extensions. Choose, or enter the name of\n              a new extension, and a function name, then configure the function\n              and its parameters.\n            </DismissableAlertMessage>\n            <Line noMargin>\n              <Column noMargin expand>\n                <SelectField\n                  floatingLabelText={\n                    <Trans>Extension (storing the function)</Trans>\n                  }\n                  value={\n                    createNewExtension\n                      ? CREATE_NEW_EXTENSION_PLACEHOLDER\n                      : extensionName\n                  }\n                  onChange={(e, index, extensionName) => {\n                    if (extensionName === CREATE_NEW_EXTENSION_PLACEHOLDER) {\n                      this.setState({\n                        createNewExtension: true,\n                        extensionName: '',\n                      });\n                    } else {\n                      this.setState({\n                        createNewExtension: false,\n                        extensionName,\n                      });\n                    }\n                  }}\n                  fullWidth\n                >\n                  {eventsFunctionsExtensions.map(eventsFunctionsExtension => (\n                    <MenuItem\n                      key={eventsFunctionsExtension.getName()}\n                      value={eventsFunctionsExtension.getName()}\n                      primaryText={eventsFunctionsExtension.getFullName()}\n                    />\n                  ))}\n                  <Divider />\n                  <MenuItem\n                    value={CREATE_NEW_EXTENSION_PLACEHOLDER}\n                    primaryText={<Trans>&lt;Create a New Extension&gt;</Trans>}\n                  />\n                </SelectField>\n              </Column>\n              {createNewExtension ? (\n                <Column noMargin expand>\n                  <SemiControlledTextField\n                    commitOnBlur\n                    value={extensionName}\n                    floatingLabelText={<Trans>New extension name</Trans>}\n                    onChange={(extensionName: string) =>\n                      this.setState({ extensionName })\n                    }\n                    fullWidth\n                    errorText={\n                      !validateExtensionNameUniqueness(\n                        project,\n                        extensionName\n                      ) ? (\n                        <Trans>\n                          This name is already taken by another extension.\n                        </Trans>\n                      ) : !validateExtensionName(extensionName) ? (\n                        <Trans>\n                          This name is not valid. Only use alphanumeric\n                          characters (0-9, a-z) and underscores.\n                        </Trans>\n                      ) : (\n                        undefined\n                      )\n                    }\n                  />\n                </Column>\n              ) : null}\n            </Line>\n            <Line>\n              <SemiControlledTextField\n                commitOnBlur\n                value={eventsFunction.getName()}\n                floatingLabelText={<Trans>Function name</Trans>}\n                onChange={(functionName: string) => {\n                  eventsFunction.setName(functionName);\n                  this.forceUpdate();\n                }}\n                fullWidth\n                errorText={\n                  !validateEventsFunctionNameUniqueness(\n                    project,\n                    extensionName,\n                    eventsFunction\n                  ) ? (\n                    <Trans>\n                      This name is already taken by another function. Choose\n                      another name.\n                    </Trans>\n                  ) : !validateEventsFunctionName(eventsFunction.getName()) ? (\n                    <Trans>\n                      This name is not valid. Only use alphanumeric characters\n                      (0-9, a-z) and underscores.\n                    </Trans>\n                  ) : (\n                    undefined\n                  )\n                }\n              />\n            </Line>\n            {hasLotsOfParameters ? (\n              <Line>\n                <AlertMessage kind=\"warning\">\n                  <Trans>\n                    This function will have a lot of parameters. Consider\n                    creating groups or functions for a smaller set of objects so\n                    that the function is easier to reuse.\n                  </Trans>\n                </AlertMessage>\n              </Line>\n            ) : null}\n          </Column>\n          <EventsFunctionPropertiesEditor\n            eventsFunction={eventsFunction}\n            eventsBasedBehavior={null}\n            onConfigurationUpdated={() => {\n              // Force re-running logic to see if Create button is disabled.\n              this.forceUpdate();\n            }}\n            freezeEventsFunctionType\n          />\n          <Spacer />\n          <EventsFunctionParametersEditor\n            project={project}\n            eventsFunction={eventsFunction}\n            eventsBasedBehavior={null}\n            onParametersUpdated={() => {\n              // Force the dialog to adapt its size\n              this.forceUpdate();\n            }}\n            freezeParameters\n          />\n        </Column>\n      </Dialog>\n    );\n  }\n}\n","// @flow\n\nexport default function getObjectGroupByName(\n  globalObjectsContainer: gdObjectsContainer,\n  objectsContainer: gdObjectsContainer,\n  objectGroupName: string\n): ?gdObjectGroup {\n  if (objectsContainer.getObjectGroups().has(objectGroupName)) {\n    return objectsContainer.getObjectGroups().get(objectGroupName);\n  } else if (globalObjectsContainer.getObjectGroups().has(objectGroupName)) {\n    return globalObjectsContainer.getObjectGroups().get(objectGroupName);\n  }\n\n  return null;\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport * as React from 'react';\nimport SelectField from 'material-ui/SelectField';\nimport MenuItem from 'material-ui/MenuItem';\nimport {\n  type EnumeratedBehaviorMetadata,\n  enumerateBehaviorsMetadata,\n} from '../BehaviorsEditor/EnumerateBehaviorsMetadata';\n\ntype Props = {|\n  project: gdProject,\n  value: string,\n  onChange: string => void,\n  disabled?: boolean,\n|};\ntype State = {|\n  behaviorMetadata: Array<EnumeratedBehaviorMetadata>,\n|};\n\nexport default class BehaviorTypeSelector extends React.Component<\n  Props,\n  State\n> {\n  state = {\n    behaviorMetadata: enumerateBehaviorsMetadata(\n      this.props.project.getCurrentPlatform(),\n      this.props.project\n    ),\n  };\n\n  render() {\n    const { disabled, value, onChange } = this.props;\n    const { behaviorMetadata } = this.state;\n\n    // If the behavior type is not in the list, we'll still\n    // add a menu item for it so that the value is displayed\n    // on screen.\n    const valueIsListed = !!behaviorMetadata.find(({ type }) => type === value);\n\n    return (\n      <SelectField\n        floatingLabelText={<Trans>Behavior type</Trans>}\n        floatingLabelFixed\n        value={value}\n        onChange={(e, i, value) => {\n          onChange(value);\n        }}\n        disabled={disabled}\n        fullWidth\n      >\n        {behaviorMetadata.map((metadata: EnumeratedBehaviorMetadata) => (\n          <MenuItem\n            key={metadata.type}\n            value={metadata.type}\n            primaryText={metadata.fullName}\n          />\n        ))}\n        {!valueIsListed && value && (\n          <MenuItem value={value} primaryText={value} />\n        )}\n      </SelectField>\n    );\n  }\n}\n","import React from 'react';\nconst marginsSize = 4;\n\nexport const Line = props => (\n  <div\n    style={{\n      display: 'flex',\n      marginTop: props.noMargin ? 0 : marginsSize,\n      marginBottom: props.noMargin ? 0 : marginsSize,\n      alignItems: props.alignItems,\n      justifyContent: props.justifyContent,\n      flex: props.expand ? 1 : undefined,\n    }}\n  >\n    {props.children}\n  </div>\n);\n\nexport const Column = props => (\n  <div\n    style={{\n      display: 'flex',\n      marginLeft: props.noMargin ? 0 : marginsSize * 2,\n      marginRight: props.noMargin ? 0 : marginsSize * 2,\n      flexDirection: 'column',\n      alignItems: props.alignItems || 'stretch',\n      flex: props.expand ? 1 : undefined,\n    }}\n  >\n    {props.children}\n  </div>\n);\n\nexport const Spacer = props => (\n  <span\n    style={{\n      width: props.expand ? '100%' : marginsSize,\n      height: marginsSize,\n    }}\n  />\n);\n","import React from 'react';\nimport Dialog from 'material-ui/Dialog';\n\nconst styles = {\n  defaultBody: {\n    overflowX: 'hidden',\n  },\n  noMarginBody: {\n    padding: 0,\n    overflowX: 'hidden',\n  },\n  actionsContainer: {},\n  actionsContainerWithSecondaryActions: {\n    display: 'flex',\n    justifyContent: 'space-between',\n  },\n};\n\n/**\n * A enhanced material-ui Dialog that can have optional secondary actions\n * and no margins if required.\n */\nexport default props => {\n  const { secondaryActions, actions, noMargin, title, ...otherProps } = props;\n  const dialogActions = secondaryActions\n    ? [\n        <div key=\"secondary-actions\">{secondaryActions}</div>,\n        <div key=\"actions\">{actions}</div>,\n      ]\n    : actions;\n\n  return (\n    <Dialog\n      bodyStyle={noMargin ? styles.noMarginBody : styles.defaultBody}\n      actionsContainerStyle={\n        secondaryActions\n          ? styles.actionsContainerWithSecondaryActions\n          : styles.actionsContainer\n      }\n      actions={dialogActions}\n      title={title ? <h3>{title}</h3> : null} // Explictly pass a h3 like done in default implementation https://github.com/mui-org/material-ui/blob/v0.x/src/Dialog/Dialog.js#L315\n      // This is done to support passing translated strings (<Trans>) as title\n      {...otherProps}\n    />\n  );\n};\n","// @flow\n// Note: this file does not use export/imports and use Flow comments to allow its usage from Node.js\n\nconst mapFor = /*:: <T>*/ (\n  start /*: number */,\n  end /*: number */,\n  func /*: (number) => T */\n) /*:Array<T> */ => {\n  const result = [];\n  for (let i = start; i < end; i++) {\n    result.push(func(i));\n  }\n  return result;\n};\n\nconst mapReverseFor = /*:: <T>*/ (\n  start /*: number */,\n  end /*: number */,\n  func /*: (number) => T */\n) /*:Array<T> */ => {\n  const result = [];\n  for (let i = end - 1; i >= start; i--) {\n    result.push(func(i));\n  }\n  return result;\n};\n\n/*flow-include\ntype CppVector<T> = {\n  size: () => number,\n  at: (number) => T,\n}\n*/\n\nconst mapVector = /*:: <T, U>*/ (\n  cppVector /*: CppVector<T> */,\n  func /*: (T, number) => U */\n) /*:Array<U> */ => {\n  return mapFor(0, cppVector.size(), i => func(cppVector.at(i), i));\n};\n\nmodule.exports = {\n  mapFor,\n  mapReverseFor,\n  mapVector,\n};\n","// @flow\nimport * as React from 'react';\nimport ThemeConsumer from './Theme/ThemeConsumer';\nimport BackgroundText from './BackgroundText';\n// No i18n in this file\n\nconst styles = {\n  containerStyle: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    flex: 1,\n    padding: 10,\n  },\n};\n\ntype Props = {|\n  style?: Object,\n  messageStyle?: Object,\n  children: ?React.Node,\n|};\n\nconst EmptyMessage = (props: Props) => (\n  <ThemeConsumer>\n    {muiTheme => (\n      <div style={{ ...styles.containerStyle, ...props.style }}>\n        <BackgroundText style={props.messageStyle}>\n          {props.children}\n        </BackgroundText>\n      </div>\n    )}\n  </ThemeConsumer>\n);\n\nexport default EmptyMessage;\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport { t } from '@lingui/macro';\nimport { I18n } from '@lingui/react';\nimport { type I18n as I18nType } from '@lingui/core';\n\nimport * as React from 'react';\nimport EventsSheet from '../EventsSheet';\nimport EditorMosaic, { MosaicWindow } from '../UI/EditorMosaic';\nimport EmptyMessage from '../UI/EmptyMessage';\nimport EventsFunctionConfigurationEditor from './EventsFunctionConfigurationEditor';\nimport EventsFunctionsList from '../EventsFunctionsList';\nimport EventsBasedBehaviorsList from '../EventsBasedBehaviorsList';\nimport Background from '../UI/Background';\nimport OptionsEditorDialog from './OptionsEditorDialog';\nimport { showWarningBox } from '../UI/Messages/MessageBox';\nimport EventsBasedBehaviorEditorDialog from '../EventsBasedBehaviorEditor/EventsBasedBehaviorEditorDialog';\nimport {\n  type ResourceSource,\n  type ChooseResourceFunction,\n} from '../ResourcesList/ResourceSource.flow';\nimport { type ResourceExternalEditor } from '../ResourcesList/ResourceExternalEditor.flow';\nimport BehaviorMethodSelectorDialog from './BehaviorMethodSelectorDialog';\nimport { isBehaviorLifecycleFunction } from '../EventsFunctionsExtensionsLoader/MetadataDeclarationHelpers';\nimport FlatButton from 'material-ui/FlatButton';\nimport { Line } from '../UI/Grid';\nimport Divider from 'material-ui/Divider';\nconst gd = global.gd;\n\ntype Props = {|\n  project: gdProject,\n  eventsFunctionsExtension: gdEventsFunctionsExtension,\n  setToolbar: (?React.Node) => void,\n  resourceSources: Array<ResourceSource>,\n  onChooseResource: ChooseResourceFunction,\n  resourceExternalEditors: Array<ResourceExternalEditor>,\n  openInstructionOrExpression: (\n    extension: gdPlatformExtension,\n    type: string\n  ) => void,\n  onCreateEventsFunction: (\n    extensionName: string,\n    eventsFunction: gdEventsFunction\n  ) => void,\n  onBehaviorEdited?: () => void,\n  initiallyFocusedFunctionName: ?string,\n  initiallyFocusedBehaviorName: ?string,\n|};\n\ntype State = {|\n  selectedEventsFunction: ?gdEventsFunction,\n  selectedEventsBasedBehavior: ?gdEventsBasedBehavior,\n  editedEventsBasedBehavior: ?gdEventsBasedBehavior,\n  editOptionsDialogOpen: boolean,\n  behaviorMethodSelectorDialogOpen: boolean,\n  onAddEventsFunctionCb: ?(doAdd: boolean, name: ?string) => void,\n|};\n\nexport default class EventsFunctionsExtensionEditor extends React.Component<\n  Props,\n  State\n> {\n  state = {\n    selectedEventsFunction: null,\n    selectedEventsBasedBehavior: null,\n    editedEventsBasedBehavior: null,\n    editOptionsDialogOpen: false,\n    behaviorMethodSelectorDialogOpen: false,\n    onAddEventsFunctionCb: null,\n  };\n  editor: ?EventsSheet;\n  _editors: ?EditorMosaic;\n  _globalObjectsContainer: ?gdObjectsContainer;\n  _objectsContainer: ?gdObjectsContainer;\n\n  componentDidMount() {\n    if (this.props.initiallyFocusedFunctionName) {\n      this.selectEventsFunctionByName(\n        this.props.initiallyFocusedFunctionName,\n        this.props.initiallyFocusedBehaviorName\n      );\n    }\n  }\n\n  componentWillUnmount() {\n    if (this._globalObjectsContainer) this._globalObjectsContainer.delete();\n    if (this._objectsContainer) this._objectsContainer.delete();\n  }\n\n  _loadEventsFunctionFrom = (\n    project: gdProject,\n    eventsFunction: gdEventsFunction\n  ) => {\n    // Create an empty \"context\" of objects.\n    // Avoid recreating containers if they were already created, so that\n    // we keep the same objects in memory and avoid remounting components\n    // (like ObjectGroupsList) because objects \"ptr\" changed.\n    if (!this._globalObjectsContainer) {\n      this._globalObjectsContainer = new gd.ObjectsContainer();\n    }\n\n    if (!this._objectsContainer) {\n      this._objectsContainer = new gd.ObjectsContainer();\n    }\n\n    // Initialize this \"context\" of objects with the function\n    // (as done during code generation).\n    gd.EventsFunctionTools.eventsFunctionToObjectsContainer(\n      project,\n      eventsFunction,\n      this._globalObjectsContainer,\n      this._objectsContainer\n    );\n  };\n\n  updateToolbar() {\n    if (this.editor) {\n      this.editor.updateToolbar();\n    } else {\n      this.props.setToolbar(<div />);\n    }\n  }\n\n  selectEventsFunctionByName = (\n    functionName: string,\n    behaviorName: ?string\n  ) => {\n    const { eventsFunctionsExtension } = this.props;\n\n    if (behaviorName) {\n      // Behavior function\n      const eventsBasedBehaviors = eventsFunctionsExtension.getEventsBasedBehaviors();\n      if (eventsBasedBehaviors.has(behaviorName)) {\n        const eventsBasedBehavior = eventsBasedBehaviors.get(behaviorName);\n        const behaviorEventsFunctions = eventsBasedBehavior.getEventsFunctions();\n        if (behaviorEventsFunctions.hasEventsFunctionNamed(functionName)) {\n          this._selectEventsFunction(\n            behaviorEventsFunctions.getEventsFunction(functionName),\n            eventsBasedBehavior\n          );\n        }\n      }\n    } else {\n      // Free function\n      if (eventsFunctionsExtension.hasEventsFunctionNamed(functionName)) {\n        this._selectEventsFunction(\n          eventsFunctionsExtension.getEventsFunction(functionName),\n          null\n        );\n      }\n    }\n  };\n\n  _selectEventsFunction = (\n    selectedEventsFunction: ?gdEventsFunction,\n    selectedEventsBasedBehavior: ?gdEventsBasedBehavior\n  ) => {\n    if (!selectedEventsFunction) {\n      this.setState(\n        {\n          selectedEventsFunction: null,\n          selectedEventsBasedBehavior,\n        },\n        () => this.updateToolbar()\n      );\n      return;\n    }\n\n    this._loadEventsFunctionFrom(this.props.project, selectedEventsFunction);\n    this.setState(\n      {\n        selectedEventsFunction,\n        selectedEventsBasedBehavior,\n      },\n      () => this.updateToolbar()\n    );\n  };\n\n  _makeRenameFreeEventsFunction = (i18n: I18nType) => (\n    eventsFunction: gdEventsFunction,\n    newName: string,\n    done: boolean => void\n  ) => {\n    if (!gd.Project.validateObjectName(newName)) {\n      showWarningBox(\n        i18n._(\n          t`This name contains forbidden characters: please only use alphanumeric characters (0-9, a-z) and underscores in your function name.`\n        )\n      );\n      return;\n    }\n\n    const { project, eventsFunctionsExtension } = this.props;\n    gd.WholeProjectRefactorer.renameEventsFunction(\n      project,\n      eventsFunctionsExtension,\n      eventsFunction.getName(),\n      newName\n    );\n\n    done(true);\n  };\n\n  _makeRenameBehaviorEventsFunction = (i18n: I18nType) => (\n    eventsBasedBehavior: gdEventsBasedBehavior,\n    eventsFunction: gdEventsFunction,\n    newName: string,\n    done: boolean => void\n  ) => {\n    if (!gd.Project.validateObjectName(newName)) {\n      showWarningBox(\n        i18n._(\n          t`This name contains forbidden characters: please only use alphanumeric characters (0-9, a-z) and underscores in your function name.`\n        )\n      );\n      return done(false);\n    }\n    if (isBehaviorLifecycleFunction(newName)) {\n      showWarningBox(\n        i18n._(\n          t`This name is reserved for a lifecycle method of the behavior. Choose another name for your custom function.`\n        )\n      );\n      return done(false);\n    }\n\n    const { project, eventsFunctionsExtension } = this.props;\n    gd.WholeProjectRefactorer.renameBehaviorEventsFunction(\n      project,\n      eventsFunctionsExtension,\n      eventsBasedBehavior,\n      eventsFunction.getName(),\n      newName\n    );\n\n    done(true);\n  };\n\n  _onDeleteEventsFunction = (\n    eventsFunction: gdEventsFunction,\n    cb: boolean => void\n  ) => {\n    if (\n      this.state.selectedEventsFunction &&\n      gd.compare(eventsFunction, this.state.selectedEventsFunction)\n    ) {\n      this._selectEventsFunction(null, this.state.selectedEventsBasedBehavior);\n    }\n\n    cb(true);\n  };\n\n  _selectEventsBasedBehavior = (\n    selectedEventsBasedBehavior: ?gdEventsBasedBehavior\n  ) => {\n    this.setState(\n      {\n        selectedEventsBasedBehavior,\n        selectedEventsFunction: null,\n      },\n      () => {\n        this.updateToolbar();\n        if (selectedEventsBasedBehavior) {\n          if (this._editors)\n            this._editors.openEditor('behavior-functions-list');\n        }\n      }\n    );\n  };\n\n  _makeRenameEventsBasedBehavior = (i18n: I18nType) => (\n    eventsBasedBehavior: gdEventsBasedBehavior,\n    newName: string,\n    done: boolean => void\n  ) => {\n    if (!gd.Project.validateObjectName(newName)) {\n      showWarningBox(\n        i18n._(\n          t`This name contains forbidden characters: please only use alphanumeric characters (0-9, a-z) and underscores in your function name.`\n        )\n      );\n      return;\n    }\n\n    const { project, eventsFunctionsExtension } = this.props;\n    gd.WholeProjectRefactorer.renameEventsBasedBehavior(\n      project,\n      eventsFunctionsExtension,\n      eventsBasedBehavior.getName(),\n      newName\n    );\n\n    done(true);\n  };\n\n  _onEventsBasedBehaviorRenamed = () => {\n    // Name of a behavior changed, so notify parent\n    // that a behavior was edited (to trigger reload of extensions)\n    if (this.props.onBehaviorEdited) this.props.onBehaviorEdited();\n\n    // Reload the selected events function, if any, as the behavior was\n    // changed so objects containers need to be re-created (otherwise,\n    // objects from objects containers will still refer to the old behavior name,\n    // done before the call to gd.WholeProjectRefactorer.renameEventsBasedBehavior).\n    if (this.state.selectedEventsFunction) {\n      this._loadEventsFunctionFrom(\n        this.props.project,\n        this.state.selectedEventsFunction\n      );\n    }\n  };\n\n  _onDeleteEventsBasedBehavior = (\n    eventsBasedBehavior: gdEventsBasedBehavior,\n    cb: boolean => void\n  ) => {\n    if (\n      this.state.selectedEventsBasedBehavior &&\n      gd.compare(eventsBasedBehavior, this.state.selectedEventsBasedBehavior)\n    ) {\n      this._selectEventsBasedBehavior(null);\n    }\n\n    cb(true);\n  };\n\n  _onAddFreeEventsFunction = (cb: (doAdd: boolean, name: ?string) => void) => {\n    cb(true, null); // Proceed with the an autogenerated name\n  };\n\n  _onAddBehaviorEventsFunction = (\n    onAddEventsFunctionCb: (doAdd: boolean, name: ?string) => void\n  ) => {\n    this.setState({\n      behaviorMethodSelectorDialogOpen: true,\n      onAddEventsFunctionCb,\n    });\n  };\n\n  _onCloseBehaviorMethodSelectorDialog = (doAdd: boolean, name: ?string) => {\n    const { onAddEventsFunctionCb } = this.state;\n    this.setState(\n      {\n        behaviorMethodSelectorDialogOpen: false,\n        onAddEventsFunctionCb: null,\n      },\n      () => {\n        if (onAddEventsFunctionCb) onAddEventsFunctionCb(doAdd, name);\n      }\n    );\n  };\n\n  _onBehaviorEventsFunctionAdded = (\n    eventsBasedBehavior: gdEventsBasedBehavior,\n    eventsFunction: gdEventsFunction\n  ) => {\n    // This will create the mandatory parameters for the newly added function.\n    gd.WholeProjectRefactorer.ensureBehaviorEventsFunctionsProperParameters(\n      this.props.eventsFunctionsExtension,\n      eventsBasedBehavior\n    );\n  };\n\n  _onBehaviorPropertyRenamed = (\n    eventsBasedBehavior: gdEventsBasedBehavior,\n    oldName: string,\n    newName: string\n  ) => {\n    const { project, eventsFunctionsExtension } = this.props;\n    gd.WholeProjectRefactorer.renameBehaviorProperty(\n      project,\n      eventsFunctionsExtension,\n      eventsBasedBehavior,\n      oldName,\n      newName\n    );\n  };\n\n  _editOptions = (open: boolean = true) => {\n    this.setState({\n      editOptionsDialogOpen: open,\n    });\n  };\n\n  _editBehavior = (editedEventsBasedBehavior: ?gdEventsBasedBehavior) => {\n    this.setState(\n      state => {\n        // If we're closing the properties of a behavior, ensure parameters\n        // are up-to-date in all event functions of the behavior (the object\n        // type might have changed).\n        if (state.editedEventsBasedBehavior && !editedEventsBasedBehavior) {\n          gd.WholeProjectRefactorer.ensureBehaviorEventsFunctionsProperParameters(\n            this.props.eventsFunctionsExtension,\n            state.editedEventsBasedBehavior\n          );\n        }\n\n        return {\n          editedEventsBasedBehavior,\n        };\n      },\n      () => {\n        // If we're closing the properties of a behavior, notify parent\n        // that a behavior was edited (to trigger reload of extensions)\n        if (!editedEventsBasedBehavior && this.props.onBehaviorEdited)\n          this.props.onBehaviorEdited();\n      }\n    );\n  };\n\n  render() {\n    const { project, eventsFunctionsExtension } = this.props;\n    const {\n      selectedEventsFunction,\n      selectedEventsBasedBehavior,\n      editOptionsDialogOpen,\n      behaviorMethodSelectorDialogOpen,\n      editedEventsBasedBehavior,\n    } = this.state;\n\n    return (\n      <I18n>\n        {({ i18n }) => (\n          <React.Fragment>\n            <EditorMosaic\n              ref={editors => (this._editors = editors)}\n              editors={{\n                parameters: (\n                  <MosaicWindow\n                    title={<Trans>Function Configuration</Trans>}\n                    toolbarControls={[]}\n                    // /!\\ Force re-rendering if selectedEventsFunction, globalObjectsContainer\n                    // or objectsContainer change,\n                    // otherwise we risk using deleted objects (because of the shouldComponentUpdate\n                    // optimization in MosaicWindow).\n                    selectedEventsFunction={selectedEventsFunction}\n                    selectedEventsBasedBehavior={selectedEventsBasedBehavior}\n                    globalObjectsContainer={this._globalObjectsContainer}\n                    objectsContainer={this._objectsContainer}\n                  >\n                    <Background>\n                      {selectedEventsFunction &&\n                      this._globalObjectsContainer &&\n                      this._objectsContainer ? (\n                        <EventsFunctionConfigurationEditor\n                          project={project}\n                          eventsFunction={selectedEventsFunction}\n                          eventsBasedBehavior={selectedEventsBasedBehavior}\n                          globalObjectsContainer={this._globalObjectsContainer}\n                          objectsContainer={this._objectsContainer}\n                          helpPagePath={\n                            !!selectedEventsBasedBehavior\n                              ? '/behaviors/events-based-behaviors'\n                              : '/events/functions'\n                          }\n                          onParametersOrGroupsUpdated={() => {\n                            this._loadEventsFunctionFrom(\n                              project,\n                              selectedEventsFunction\n                            );\n                            this.forceUpdate();\n                          }}\n                        />\n                      ) : (\n                        <EmptyMessage>\n                          <Trans>\n                            Choose a function, or a function of a behavior, to\n                            set the parameters that it accepts.\n                          </Trans>\n                        </EmptyMessage>\n                      )}\n                    </Background>\n                  </MosaicWindow>\n                ),\n                'events-sheet':\n                  selectedEventsFunction &&\n                  this._globalObjectsContainer &&\n                  this._objectsContainer ? (\n                    <EventsSheet\n                      key={selectedEventsFunction.ptr}\n                      ref={editor => (this.editor = editor)}\n                      project={project}\n                      scope={{\n                        layout: null,\n                        eventsFunctionsExtension,\n                        eventsBasedBehavior: selectedEventsBasedBehavior,\n                        eventsFunction: selectedEventsFunction,\n                      }}\n                      globalObjectsContainer={this._globalObjectsContainer}\n                      objectsContainer={this._objectsContainer}\n                      events={selectedEventsFunction.getEvents()}\n                      showPreviewButton={false}\n                      onPreview={options => {}}\n                      showNetworkPreviewButton={false}\n                      onOpenExternalEvents={() => {}}\n                      onOpenLayout={() => {}}\n                      resourceSources={this.props.resourceSources}\n                      onChooseResource={this.props.onChooseResource}\n                      resourceExternalEditors={\n                        this.props.resourceExternalEditors\n                      }\n                      openInstructionOrExpression={\n                        this.props.openInstructionOrExpression\n                      }\n                      setToolbar={this.props.setToolbar}\n                      onOpenDebugger={() => {}}\n                      onCreateEventsFunction={this.props.onCreateEventsFunction}\n                      onOpenSettings={this._editOptions} //TODO: Move this extra toolbar outside of EventsSheet toolbar\n                    />\n                  ) : (\n                    <Background>\n                      <EmptyMessage>\n                        <Trans>\n                          Choose a function, or a function of a behavior, to\n                          edit its events.\n                        </Trans>\n                      </EmptyMessage>\n                    </Background>\n                  ),\n                'free-functions-list': (\n                  <MosaicWindow\n                    title={<Trans>Functions</Trans>}\n                    toolbarControls={[]}\n                    selectedEventsFunction={selectedEventsFunction}\n                  >\n                    <EventsFunctionsList\n                      project={project}\n                      eventsFunctionsContainer={eventsFunctionsExtension}\n                      selectedEventsFunction={selectedEventsFunction}\n                      onSelectEventsFunction={selectedEventsFunction =>\n                        this._selectEventsFunction(selectedEventsFunction, null)\n                      }\n                      onDeleteEventsFunction={this._onDeleteEventsFunction}\n                      canRename={() => true}\n                      onRenameEventsFunction={this._makeRenameFreeEventsFunction(\n                        i18n\n                      )}\n                      onAddEventsFunction={this._onAddFreeEventsFunction}\n                      onEventsFunctionAdded={() => {}}\n                      renderHeader={() => (\n                        <React.Fragment>\n                          <Line justifyContent=\"center\">\n                            <FlatButton\n                              label={<Trans>Edit extension options</Trans>}\n                              primary\n                              onClick={() => this._editOptions()}\n                            />\n                          </Line>\n                          <Divider />\n                        </React.Fragment>\n                      )}\n                    />\n                  </MosaicWindow>\n                ),\n                'behavior-functions-list': selectedEventsBasedBehavior ? (\n                  <MosaicWindow\n                    title={<Trans>Behavior functions</Trans>}\n                    selectedEventsBasedBehavior={selectedEventsBasedBehavior}\n                    selectedEventsFunction={selectedEventsFunction}\n                  >\n                    <EventsFunctionsList\n                      project={project}\n                      eventsFunctionsContainer={selectedEventsBasedBehavior.getEventsFunctions()}\n                      selectedEventsFunction={selectedEventsFunction}\n                      onSelectEventsFunction={selectedEventsFunction =>\n                        this._selectEventsFunction(\n                          selectedEventsFunction,\n                          selectedEventsBasedBehavior\n                        )\n                      }\n                      onDeleteEventsFunction={this._onDeleteEventsFunction}\n                      canRename={(eventsFunction: gdEventsFunction) => {\n                        return !isBehaviorLifecycleFunction(\n                          eventsFunction.getName()\n                        );\n                      }}\n                      onRenameEventsFunction={(\n                        eventsFunction: gdEventsFunction,\n                        newName: string,\n                        done: boolean => void\n                      ) =>\n                        this._makeRenameBehaviorEventsFunction(i18n)(\n                          selectedEventsBasedBehavior,\n                          eventsFunction,\n                          newName,\n                          done\n                        )\n                      }\n                      onAddEventsFunction={this._onAddBehaviorEventsFunction}\n                      onEventsFunctionAdded={eventsFunction =>\n                        this._onBehaviorEventsFunctionAdded(\n                          selectedEventsBasedBehavior,\n                          eventsFunction\n                        )\n                      }\n                      renderHeader={() => (\n                        <React.Fragment>\n                          <Line justifyContent=\"center\">\n                            <FlatButton\n                              label={<Trans>Edit behavior properties</Trans>}\n                              primary\n                              onClick={() =>\n                                this._editBehavior(selectedEventsBasedBehavior)\n                              }\n                            />\n                          </Line>\n                          <Divider />\n                        </React.Fragment>\n                      )}\n                    />\n                  </MosaicWindow>\n                ) : (\n                  <Background>\n                    <EmptyMessage>\n                      <Trans>\n                        Select a behavior to display the functions inside this\n                        behavior.\n                      </Trans>\n                    </EmptyMessage>\n                  </Background>\n                ),\n\n                'behaviors-list': (\n                  <MosaicWindow\n                    title={<Trans>Behaviors</Trans>}\n                    toolbarControls={[]}\n                    selectedEventsBasedBehavior={selectedEventsBasedBehavior}\n                  >\n                    <EventsBasedBehaviorsList\n                      project={project}\n                      eventsBasedBehaviorsList={eventsFunctionsExtension.getEventsBasedBehaviors()}\n                      selectedEventsBasedBehavior={selectedEventsBasedBehavior}\n                      onSelectEventsBasedBehavior={\n                        this._selectEventsBasedBehavior\n                      }\n                      onDeleteEventsBasedBehavior={\n                        this._onDeleteEventsBasedBehavior\n                      }\n                      onRenameEventsBasedBehavior={this._makeRenameEventsBasedBehavior(\n                        i18n\n                      )}\n                      onEventsBasedBehaviorRenamed={\n                        this._onEventsBasedBehaviorRenamed\n                      }\n                      onEditProperties={this._editBehavior}\n                    />\n                  </MosaicWindow>\n                ),\n              }}\n              initialNodes={{\n                direction: 'row',\n                first: {\n                  direction: 'column',\n                  first: 'free-functions-list',\n                  second: 'behaviors-list',\n                  splitPercentage: 50,\n                },\n                second: {\n                  direction: 'column',\n                  first: 'parameters',\n                  second: 'events-sheet',\n                  splitPercentage: 25,\n                },\n                splitPercentage: 25,\n              }}\n            />\n            {editOptionsDialogOpen && (\n              <OptionsEditorDialog\n                eventsFunctionsExtension={eventsFunctionsExtension}\n                open\n                onClose={() => this._editOptions(false)}\n              />\n            )}\n            {behaviorMethodSelectorDialogOpen &&\n              selectedEventsBasedBehavior && (\n                <BehaviorMethodSelectorDialog\n                  eventsBasedBehavior={selectedEventsBasedBehavior}\n                  onCancel={() =>\n                    this._onCloseBehaviorMethodSelectorDialog(false, null)\n                  }\n                  onChoose={name =>\n                    this._onCloseBehaviorMethodSelectorDialog(true, name)\n                  }\n                />\n              )}\n            {editedEventsBasedBehavior && (\n              <EventsBasedBehaviorEditorDialog\n                project={project}\n                eventsFunctionsExtension={eventsFunctionsExtension}\n                eventsBasedBehavior={editedEventsBasedBehavior}\n                onApply={() => this._editBehavior(null)}\n                onRenameProperty={(oldName, newName) =>\n                  this._onBehaviorPropertyRenamed(\n                    editedEventsBasedBehavior,\n                    oldName,\n                    newName\n                  )\n                }\n              />\n            )}\n          </React.Fragment>\n        )}\n      </I18n>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport { List, ListItem } from 'material-ui/List';\nimport IconButton from 'material-ui/IconButton';\nimport Remove from 'material-ui/svg-icons/content/remove';\nimport ObjectSelector from '../ObjectsList/ObjectSelector';\nimport EmptyMessage from '../UI/EmptyMessage';\nimport { Column } from '../UI/Grid';\nconst gd = global.gd;\n\ntype Props = {|\n  group: gdObjectGroup,\n  globalObjectsContainer: gdObjectsContainer,\n  objectsContainer: gdObjectsContainer,\n  onSizeUpdated?: () => void,\n|};\n\ntype State = {|\n  newObjectName: string,\n|};\n\nexport default class ObjectGroupEditor extends React.Component<Props, State> {\n  state = {\n    newObjectName: '',\n  };\n\n  removeObject = (objectName: string) => {\n    const { group, onSizeUpdated } = this.props;\n\n    group.removeObject(objectName);\n\n    this.forceUpdate();\n    if (onSizeUpdated) onSizeUpdated();\n  };\n\n  addObject = (objectName: string) => {\n    const { group, onSizeUpdated } = this.props;\n\n    group.addObject(objectName);\n    this.setState({\n      newObjectName: '',\n    });\n    if (onSizeUpdated) onSizeUpdated();\n  };\n\n  _renderExplanation() {\n    const { group, globalObjectsContainer, objectsContainer } = this.props;\n\n    let type = undefined;\n    group\n      .getAllObjectsNames()\n      .toJSArray()\n      .forEach(objectName => {\n        const objectType = gd.getTypeOfObject(\n          globalObjectsContainer,\n          objectsContainer,\n          objectName,\n          false\n        );\n        if (type === undefined || objectType === type) type = objectType;\n        else type = '';\n      });\n\n    let message = '';\n    if (type === undefined) {\n      message = 'This group is empty';\n    } else if (type === '') {\n      message =\n        \"This group contains objects of different kinds. You'll only be able to use actions and conditions common to all objects with this group.\";\n    } else {\n      message = `This group contains objects of the same kind (${type}). You can use actions and conditions related to this kind of objects in events with this group.`;\n    }\n\n    return <EmptyMessage>{message}</EmptyMessage>;\n  }\n\n  render() {\n    const { group, globalObjectsContainer, objectsContainer } = this.props;\n\n    return (\n      <div>\n        {this._renderExplanation()}\n        <List>\n          {group\n            .getAllObjectsNames()\n            .toJSArray()\n            .map(objectName => {\n              return (\n                <ListItem\n                  key={objectName}\n                  primaryText={objectName}\n                  rightIconButton={\n                    <IconButton onClick={() => this.removeObject(objectName)}>\n                      <Remove />\n                    </IconButton>\n                  }\n                />\n              );\n            })}\n        </List>\n        <Column>\n          <ObjectSelector\n            globalObjectsContainer={globalObjectsContainer}\n            objectsContainer={objectsContainer}\n            value={this.state.newObjectName}\n            onChange={name => this.setState({ newObjectName: name })}\n            onChoose={this.addObject}\n            openOnFocus\n            noGroups\n            hintText={<Trans>Choose an object to add to the group</Trans>}\n            fullWidth\n          />\n        </Column>\n      </div>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport FlatButton from 'material-ui/FlatButton';\nimport TextField from 'material-ui/TextField';\nimport CloudUpload from 'material-ui/svg-icons/file/cloud-upload';\nimport { Column, Line } from '../UI/Grid';\nimport Dialog from '../UI/Dialog';\nimport HelpButton from '../UI/HelpButton';\nimport EventsFunctionsExtensionsContext, {\n  type EventsFunctionsExtensionsState,\n} from '../EventsFunctionsExtensionsLoader/EventsFunctionsExtensionsContext';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport Window from '../Utils/Window';\n\ntype Props = {|\n  eventsFunctionsExtension: gdEventsFunctionsExtension,\n  onClose: () => void,\n  open: boolean,\n|};\ntype State = {|\n  exportDialogOpen: boolean,\n|};\n\nconst exportExtension = (\n  eventsFunctionsExtensionsState: EventsFunctionsExtensionsState,\n  eventsFunctionsExtension: gdEventsFunctionsExtension\n) => {\n  const eventsFunctionsExtensionWriter = eventsFunctionsExtensionsState.getEventsFunctionsExtensionWriter();\n  if (!eventsFunctionsExtensionWriter)\n    return Promise.reject(new Error('Not supported'));\n\n  return eventsFunctionsExtensionWriter\n    .chooseEventsFunctionExtensionFile()\n    .then(pathOrUrl => {\n      if (!pathOrUrl) return;\n\n      eventsFunctionsExtensionWriter\n        .writeEventsFunctionsExtension(eventsFunctionsExtension, pathOrUrl)\n        .then();\n    });\n};\n\nconst openGitHubIssue = () => {\n  const body = `\n** Please edit and complete this before submitting your extension:**\n\n## Describe the extension\nA clear and concise description of what the extension is, how useful it is.\n\n## Checklist\n\n- [ ] Extension has a proper name and description.\n- [ ] Extension has tags (for example: \"platform, brick, breakable\").\n- [ ] All behaviors have a description.\n- [ ] All functions (actions, conditions, expressions) have descriptions.\n- [ ] I confirm that this extension can be intergrated to this GitHub repository, distributed and MIT licensed.\n\n## Extension file\n\nFinally, attach the .json file of your extension here.\n\nYou also may have to create an account on GitHub before posting.\nIf your extension is high quality and useful, it will be added to the list of GDevelop community extensions.\nWhen you're ready, remove this last paragraph and click on \"Submit new issue\". Thanks `;\n  Window.openExternalURL(\n    `https://github.com/4ian/GDevelop-extensions/issues/new?body=${encodeURIComponent(\n      body\n    )}&title=New%20extension`\n  );\n};\n\nexport default class OptionsEditorDialog extends React.Component<Props, State> {\n  state = {\n    exportDialogOpen: false,\n  };\n\n  render() {\n    const { eventsFunctionsExtension } = this.props;\n    const { exportDialogOpen } = this.state;\n\n    return (\n      <EventsFunctionsExtensionsContext.Consumer>\n        {eventsFunctionsExtensionsState => {\n          const eventsFunctionsExtensionWriter = eventsFunctionsExtensionsState.getEventsFunctionsExtensionWriter();\n          return (\n            <Dialog\n              secondaryActions={[\n                <HelpButton key=\"help\" helpPagePath=\"/extensions/create\" />,\n                eventsFunctionsExtensionWriter ? (\n                  <FlatButton\n                    icon={<CloudUpload />}\n                    key=\"export\"\n                    label={<Trans>Export extension</Trans>}\n                    onClick={() => this.setState({ exportDialogOpen: true })}\n                  />\n                ) : null,\n              ]}\n              actions={[\n                <FlatButton\n                  label={<Trans>Close</Trans>}\n                  primary={true}\n                  keyboardFocused={true}\n                  onClick={() => this.props.onClose()}\n                  key={'close'}\n                />,\n              ]}\n              open={this.props.open}\n              title={<Trans>Edit Extension Options</Trans>}\n              onRequestClose={this.props.onClose}\n              autoScrollBodyContent={true}\n            >\n              <Column>\n                <TextField\n                  floatingLabelText={<Trans>Name</Trans>}\n                  value={eventsFunctionsExtension.getName()}\n                  disabled\n                  fullWidth\n                />\n                <TextField\n                  floatingLabelText={<Trans>Name displayed in editor</Trans>}\n                  value={eventsFunctionsExtension.getFullName()}\n                  onChange={(e, text) => {\n                    eventsFunctionsExtension.setFullName(text);\n                    this.forceUpdate();\n                  }}\n                  fullWidth\n                />\n                <TextField\n                  floatingLabelText={<Trans>Short description</Trans>}\n                  value={eventsFunctionsExtension.getShortDescription()}\n                  onChange={(e, text) => {\n                    eventsFunctionsExtension.setShortDescription(text);\n                    this.forceUpdate();\n                  }}\n                  multiLine\n                  fullWidth\n                  rows={2}\n                  rowsMax={2}\n                />\n                <TextField\n                  floatingLabelText={\n                    <Trans>Description (markdown supported)</Trans>\n                  }\n                  value={eventsFunctionsExtension.getDescription()}\n                  onChange={(e, text) => {\n                    eventsFunctionsExtension.setDescription(text);\n                    this.forceUpdate();\n                  }}\n                  multiLine\n                  fullWidth\n                  rows={5}\n                  rowsMax={5}\n                />\n                <TextField\n                  floatingLabelText={<Trans>Version</Trans>}\n                  value={eventsFunctionsExtension.getVersion()}\n                  onChange={(e, text) => {\n                    eventsFunctionsExtension.setVersion(text);\n                    this.forceUpdate();\n                  }}\n                  fullWidth\n                />\n                <TextField\n                  floatingLabelText={<Trans>Tags (comma separated)</Trans>}\n                  value={eventsFunctionsExtension.getTags()}\n                  onChange={(e, text) => {\n                    eventsFunctionsExtension.setTags(text);\n                    this.forceUpdate();\n                  }}\n                  fullWidth\n                />\n                <TextField\n                  floatingLabelText={\n                    <Trans>Author (Name, email or GitHub handle)</Trans>\n                  }\n                  value={eventsFunctionsExtension.getAuthor()}\n                  onChange={(e, text) => {\n                    eventsFunctionsExtension.setAuthor(text);\n                    this.forceUpdate();\n                  }}\n                  fullWidth\n                />\n              </Column>\n              {exportDialogOpen && (\n                <Dialog\n                  secondaryActions={[\n                    <HelpButton key=\"help\" helpPagePath=\"/extensions/share\" />,\n                  ]}\n                  actions={[\n                    <FlatButton\n                      label={<Trans>Close</Trans>}\n                      keyboardFocused={true}\n                      onClick={() => this.setState({ exportDialogOpen: false })}\n                      key={'close'}\n                    />,\n                  ]}\n                  open\n                  onRequestClose={() =>\n                    this.setState({ exportDialogOpen: false })\n                  }\n                >\n                  <Column expand>\n                    <Line>\n                      <p>\n                        <Trans>\n                          You can export the extension to a file to easily\n                          import it in another project. If your extension is\n                          providing useful and reusable functions or behaviors,\n                          consider sharing it with the GDevelop community!\n                        </Trans>\n                      </p>\n                    </Line>\n                    <Line>\n                      <RaisedButton\n                        icon={<CloudUpload />}\n                        primary\n                        label={<Trans>Export to a file</Trans>}\n                        onClick={() =>\n                          exportExtension(\n                            eventsFunctionsExtensionsState,\n                            eventsFunctionsExtension\n                          )\n                        }\n                      />\n                      <FlatButton\n                        label={<Trans>Submit extension to the community</Trans>}\n                        onClick={openGitHubIssue}\n                      />\n                    </Line>\n                  </Column>\n                </Dialog>\n              )}\n            </Dialog>\n          );\n        }}\n      </EventsFunctionsExtensionsContext.Consumer>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport * as React from 'react';\nimport FlatButton from 'material-ui/FlatButton';\nimport Dialog from '../UI/Dialog';\nimport EventsBasedBehaviorEditor from './index';\nimport HelpButton from '../UI/HelpButton';\n\ntype Props = {|\n  onApply: () => void,\n  project: gdProject,\n  eventsFunctionsExtension: gdEventsFunctionsExtension,\n  eventsBasedBehavior: gdEventsBasedBehavior,\n  onRenameProperty: (oldName: string, newName: string) => void,\n|};\n\nexport default class EventsBasedBehaviorEditorDialog extends React.Component<\n  Props,\n  {||}\n> {\n  render() {\n    const {\n      onApply,\n      eventsBasedBehavior,\n      eventsFunctionsExtension,\n      project,\n    } = this.props;\n\n    return (\n      <Dialog\n        noMargin\n        secondaryActions={[\n          <HelpButton\n            key=\"help\"\n            helpPagePath=\"/behaviors/events-based-behaviors\"\n          />,\n        ]}\n        actions={[\n          <FlatButton\n            label={<Trans>Apply</Trans>}\n            primary\n            keyboardFocused\n            onClick={onApply}\n            key={'Apply'}\n          />,\n        ]}\n        modal\n        open\n        onRequestClose={onApply}\n        autoScrollBodyContent\n        title={<Trans>Edit the behavior</Trans>}\n      >\n        <EventsBasedBehaviorEditor\n          project={project}\n          eventsFunctionsExtension={eventsFunctionsExtension}\n          eventsBasedBehavior={eventsBasedBehavior}\n          onTabChanged={\n            () =>\n              this.forceUpdate() /*Force update to ensure dialog is properly positioned*/\n          }\n          onPropertiesUpdated={\n            () =>\n              this.forceUpdate() /*Force update to ensure dialog is properly positioned*/\n          }\n          onRenameProperty={this.props.onRenameProperty}\n        />\n      </Dialog>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport TextField from 'material-ui/TextField';\nimport { Column, Spacer } from '../UI/Grid';\nimport SemiControlledTextField from '../UI/SemiControlledTextField';\nimport ObjectTypeSelector from '../ObjectTypeSelector';\nimport { Tabs, Tab } from 'material-ui/Tabs';\nimport DismissableAlertMessage from '../UI/DismissableAlertMessage';\nimport AlertMessage from '../UI/AlertMessage';\nimport EventsBasedBehaviorPropertiesEditor from './EventsBasedBehaviorPropertiesEditor';\nconst gd = global.gd;\n\ntype TabName = 'configuration' | 'properties';\n\ntype Props = {|\n  project: gdProject,\n  eventsFunctionsExtension: gdEventsFunctionsExtension,\n  eventsBasedBehavior: gdEventsBasedBehavior,\n  onPropertiesUpdated: () => void,\n  onRenameProperty: (oldName: string, newName: string) => void,\n  onTabChanged: () => void,\n|};\n\ntype State = {|\n  currentTab: TabName,\n|};\n\nexport default class EventsBasedBehaviorEditor extends React.Component<\n  Props,\n  State\n> {\n  state = {\n    currentTab: 'configuration',\n  };\n\n  // An array containing all the object types that are using the behavior\n  _allObjectTypes: Array<string> = gd.WholeProjectRefactorer.getAllObjectTypesUsingEventsBasedBehavior(\n    this.props.project,\n    this.props.eventsFunctionsExtension,\n    this.props.eventsBasedBehavior\n  )\n    .toNewVectorString()\n    .toJSArray();\n\n  _changeTab = (newTab: TabName) =>\n    this.setState(\n      {\n        currentTab: newTab,\n      },\n      () => this.props.onTabChanged()\n    );\n\n  render() {\n    const { currentTab } = this.state;\n    const { eventsBasedBehavior, project } = this.props;\n\n    return (\n      <Tabs value={currentTab} onChange={this._changeTab}>\n        <Tab label={<Trans>Configuration</Trans>} value=\"configuration\">\n          <Column>\n            <DismissableAlertMessage\n              identifier=\"events-based-behavior-explanation\"\n              kind=\"info\"\n            >\n              This is the configuration of your behavior. Make sure to choose a\n              proper internal name as it's hard to change it later. Enter a\n              description explaining what the behavior is doing to the object.\n            </DismissableAlertMessage>\n            <TextField\n              floatingLabelText={<Trans>Internal Name</Trans>}\n              value={eventsBasedBehavior.getName()}\n              disabled\n              fullWidth\n            />\n            <SemiControlledTextField\n              commitOnBlur\n              floatingLabelText={<Trans>Name displayed in editor</Trans>}\n              value={eventsBasedBehavior.getFullName()}\n              onChange={text => {\n                eventsBasedBehavior.setFullName(text);\n                this.forceUpdate();\n              }}\n              fullWidth\n            />\n            <SemiControlledTextField\n              commitOnBlur\n              floatingLabelText={<Trans>Description</Trans>}\n              floatingLabelFixed\n              hintText={\n                <Trans>\n                  The description of the behavior should explain what the\n                  behavior is doing to the object, and, briefly, how to use it.\n                </Trans>\n              }\n              value={eventsBasedBehavior.getDescription()}\n              onChange={text => {\n                eventsBasedBehavior.setDescription(text);\n                this.forceUpdate();\n              }}\n              multiLine\n              fullWidth\n              rows={3}\n            />\n            <ObjectTypeSelector\n              floatingLabelText={\n                <Trans>Object on which this behavior can be used</Trans>\n              }\n              project={project}\n              value={eventsBasedBehavior.getObjectType()}\n              onChange={(objectType: string) => {\n                eventsBasedBehavior.setObjectType(objectType);\n                this.forceUpdate();\n              }}\n              allowedObjectTypes={\n                this._allObjectTypes.length === 0\n                  ? undefined /* Allow anything as the behavior is not used */\n                  : this._allObjectTypes.length === 1\n                  ? [\n                      '',\n                      this._allObjectTypes[0],\n                    ] /* Allow only the type of the objects using the behavior */\n                  : [\n                      '',\n                    ] /* More than one type of object are using the behavior. Only \"any object\" can be used on this behavior */\n              }\n            />\n            {this._allObjectTypes.length > 1 && (\n              <AlertMessage kind=\"info\">\n                <Trans>\n                  This behavior is being used by multiple types of objects.\n                  Thus, you can't restrict its usage to any particular object\n                  type. All the object types using this behavior are listed\n                  here:\n                  {this._allObjectTypes.join(', ')}\n                </Trans>\n              </AlertMessage>\n            )}\n            {eventsBasedBehavior\n              .getEventsFunctions()\n              .getEventsFunctionsCount() === 0 && (\n              <DismissableAlertMessage\n                identifier=\"empty-events-based-behavior-explanation\"\n                kind=\"info\"\n              >\n                <Trans>\n                  Once you're done, close this dialog and start adding some\n                  functions to the behavior. Then, test the behavior by adding\n                  it to an object in a scene.\n                </Trans>\n              </DismissableAlertMessage>\n            )}\n            <Spacer />\n          </Column>\n        </Tab>\n        <Tab label={<Trans>Properties</Trans>} value=\"properties\">\n          <EventsBasedBehaviorPropertiesEditor\n            project={project}\n            eventsBasedBehavior={eventsBasedBehavior}\n            onPropertiesUpdated={this.props.onPropertiesUpdated}\n            onRenameProperty={this.props.onRenameProperty}\n          />\n        </Tab>\n      </Tabs>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport { t } from '@lingui/macro';\nimport { I18n } from '@lingui/react';\nimport { type I18n as I18nType } from '@lingui/core';\nimport * as React from 'react';\nimport { Column, Line } from '../UI/Grid';\nimport SelectField from 'material-ui/SelectField';\nimport MenuItem from 'material-ui/MenuItem';\nimport { mapVector } from '../Utils/MapFor';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport IconButton from 'material-ui/IconButton';\nimport EmptyMessage from '../UI/EmptyMessage';\nimport IconMenu from '../UI/Menu/IconMenu';\nimport MoreVertIcon from 'material-ui/svg-icons/navigation/more-vert';\nimport SemiControlledTextField from '../UI/SemiControlledTextField';\nimport MiniToolbar from '../UI/MiniToolbar';\nimport { showWarningBox } from '../UI/Messages/MessageBox';\nimport newNameGenerator from '../Utils/NewNameGenerator';\nimport InlineCheckbox from '../UI/InlineCheckbox';\nimport Visibility from 'material-ui/svg-icons/action/visibility';\nimport VisibilityOff from 'material-ui/svg-icons/action/visibility-off';\n\nconst gd = global.gd;\n\ntype Props = {|\n  project: gdProject,\n  eventsBasedBehavior: gdEventsBasedBehavior,\n  onPropertiesUpdated: () => void,\n  onRenameProperty: (oldName: string, newName: string) => void,\n|};\n\nconst styles = {\n  propertiesContainer: {\n    flex: 1,\n  },\n};\n\nconst validatePropertyName = (\n  i18n: I18nType,\n  properties: gdNamedPropertyDescriptorsList,\n  newName: string\n) => {\n  if (!newName) {\n    showWarningBox(i18n._(t`The name of a property cannot be empty.`));\n    return false;\n  }\n  if (newName === 'name' || newName === 'type') {\n    showWarningBox(\n      i18n._(\n        t`The name of a property cannot be \"name\" or \"type\", as they are used by GDevelop internally.`\n      )\n    );\n    return false;\n  }\n  if (properties.has(newName)) {\n    showWarningBox(\n      i18n._(\n        t`This name is already used by another property. Choose a unique name for each property.`\n      )\n    );\n    return false;\n  }\n  if (!gd.Project.validateObjectName(newName)) {\n    showWarningBox(\n      i18n._(\n        t`This name contains forbidden characters: please only use alphanumeric characters (0-9, a-z) and underscores in your parameter name.`\n      )\n    );\n    return false;\n  }\n\n  return true;\n};\n\nexport default class EventsBasedBehaviorPropertiesEditor extends React.Component<\n  Props,\n  {||}\n> {\n  _addProperty = () => {\n    const { eventsBasedBehavior } = this.props;\n    const properties = eventsBasedBehavior.getPropertyDescriptors();\n\n    const newName = newNameGenerator('Property', name => properties.has(name));\n    const property = properties.insertNew(newName, properties.getCount());\n    property.setType('Number');\n    this.forceUpdate();\n    this.props.onPropertiesUpdated();\n  };\n\n  _removeProperty = (name: string) => {\n    const { eventsBasedBehavior } = this.props;\n    const properties = eventsBasedBehavior.getPropertyDescriptors();\n\n    properties.remove(name);\n    this.forceUpdate();\n    this.props.onPropertiesUpdated();\n  };\n\n  _moveProperty = (oldIndex: number, newIndex: number) => {\n    const { eventsBasedBehavior } = this.props;\n    const properties = eventsBasedBehavior.getPropertyDescriptors();\n\n    properties.move(oldIndex, newIndex);\n    this.forceUpdate();\n    this.props.onPropertiesUpdated();\n  };\n\n  render() {\n    const { eventsBasedBehavior } = this.props;\n\n    const properties = eventsBasedBehavior.getPropertyDescriptors();\n\n    return (\n      <I18n>\n        {({ i18n }) => (\n          <Column noMargin>\n            <Line noMargin>\n              <div style={styles.propertiesContainer}>\n                {mapVector(\n                  properties,\n                  (property: gdNamedPropertyDescriptor, i: number) => (\n                    <React.Fragment key={i}>\n                      <MiniToolbar>\n                        <Column expand noMargin>\n                          <SemiControlledTextField\n                            commitOnBlur\n                            hintText={<Trans>Enter the property name</Trans>}\n                            value={property.getName()}\n                            onChange={newName => {\n                              if (newName === property.getName()) return;\n                              if (\n                                !validatePropertyName(i18n, properties, newName)\n                              )\n                                return;\n\n                              this.props.onRenameProperty(\n                                property.getName(),\n                                newName\n                              );\n\n                              property.setName(newName);\n                              this.forceUpdate();\n                              this.props.onPropertiesUpdated();\n                            }}\n                            fullWidth\n                          />\n                        </Column>\n                        <InlineCheckbox\n                          label={\n                            property.isHidden() ? (\n                              <Trans>Hidden</Trans>\n                            ) : (\n                              <Trans>Visible in editor</Trans>\n                            )\n                          }\n                          checked={!property.isHidden()}\n                          onCheck={(e, checked) => {\n                            property.setHidden(!checked);\n                            this.forceUpdate();\n                            this.props.onPropertiesUpdated();\n                          }}\n                          checkedIcon={<Visibility />}\n                          uncheckedIcon={<VisibilityOff />}\n                        />\n                        <IconMenu\n                          iconButtonElement={\n                            <IconButton>\n                              <MoreVertIcon />\n                            </IconButton>\n                          }\n                          buildMenuTemplate={() => [\n                            {\n                              label: i18n._(t`Delete`),\n                              click: () =>\n                                this._removeProperty(property.getName()),\n                            },\n                            { type: 'separator' },\n                            {\n                              label: i18n._(t`Move up`),\n                              click: () => this._moveProperty(i, i - 1),\n                              enabled: i - 1 >= 0,\n                            },\n                            {\n                              label: i18n._(t`Move down`),\n                              click: () => this._moveProperty(i, i + 1),\n                              enabled: i + 1 < properties.getCount(),\n                            },\n                          ]}\n                        />\n                      </MiniToolbar>\n                      <Line expand noMargin>\n                        <Column expand>\n                          <SelectField\n                            floatingLabelText={<Trans>Type</Trans>}\n                            value={property.getType()}\n                            onChange={(e, i, value) => {\n                              property.setType(value);\n                              this.forceUpdate();\n                              this.props.onPropertiesUpdated();\n                            }}\n                            fullWidth\n                          >\n                            <MenuItem\n                              value=\"Number\"\n                              primaryText={<Trans>Number</Trans>}\n                            />\n                            <MenuItem\n                              value=\"String\"\n                              primaryText={<Trans>String</Trans>}\n                            />\n                            <MenuItem\n                              value=\"Boolean\"\n                              primaryText={<Trans>Boolean (checkbox)</Trans>}\n                            />\n                          </SelectField>\n                        </Column>\n                        <Column expand>\n                          {(property.getType() === 'String' ||\n                            property.getType() === 'Number') && (\n                            <SemiControlledTextField\n                              commitOnBlur\n                              floatingLabelText={<Trans>Default value</Trans>}\n                              hintText={\n                                property.getType() === 'Number' ? '123' : 'ABC'\n                              }\n                              value={property.getValue()}\n                              onChange={newValue => {\n                                property.setValue(newValue);\n                                this.forceUpdate();\n                                this.props.onPropertiesUpdated();\n                              }}\n                              fullWidth\n                            />\n                          )}\n                          {property.getType() === 'Boolean' && (\n                            <SelectField\n                              floatingLabelText={<Trans>Default value</Trans>}\n                              value={\n                                property.getValue() === 'true'\n                                  ? 'true'\n                                  : 'false'\n                              }\n                              onChange={(e, i, value) => {\n                                property.setValue(value);\n                                this.forceUpdate();\n                                this.props.onPropertiesUpdated();\n                              }}\n                              fullWidth\n                            >\n                              <MenuItem\n                                value=\"true\"\n                                primaryText={<Trans>True (checked)</Trans>}\n                              />\n                              <MenuItem\n                                value=\"false\"\n                                primaryText={<Trans>False (not checked)</Trans>}\n                              />\n                            </SelectField>\n                          )}\n                        </Column>\n                      </Line>\n                      <Line expand noMargin>\n                        <Column expand>\n                          <SemiControlledTextField\n                            commitOnBlur\n                            floatingLabelText={\n                              <Trans>Label, shown in the editor</Trans>\n                            }\n                            hintText={\n                              <Trans>\n                                This should make the purpose of the property\n                                easy to understand\n                              </Trans>\n                            }\n                            floatingLabelFixed\n                            value={property.getLabel()}\n                            onChange={text => {\n                              property.setLabel(text);\n                              this.forceUpdate();\n                            }}\n                            fullWidth\n                          />\n                        </Column>\n                      </Line>\n                    </React.Fragment>\n                  )\n                )}\n                {properties.getCount() === 0 ? (\n                  <EmptyMessage>\n                    <Trans>\n                      No properties for this behavior. Add one to store data\n                      inside this behavior (for example: health, ammo, speed,\n                      etc...)\n                    </Trans>\n                  </EmptyMessage>\n                ) : null}\n                <Line justifyContent=\"center\">\n                  <RaisedButton\n                    primary\n                    label={<Trans>Add a property</Trans>}\n                    onClick={this._addProperty}\n                  />\n                </Line>\n              </div>\n            </Line>\n          </Column>\n        )}\n      </I18n>\n    );\n  }\n}\n","import gesture from 'pixi-simple-gesture';\nimport ObjectsRenderingService from '../../ObjectsRendering/ObjectsRenderingService';\nimport getObjectByName from '../../Utils/GetObjectByName';\n\nimport * as PIXI from 'pixi.js';\nconst gd = global.gd;\n\nexport default class LayerRenderer {\n  constructor({\n    project,\n    layout,\n    layer,\n    viewPosition,\n    instances,\n    onInstanceClicked,\n    onOverInstance,\n    onOutInstance,\n    onMoveInstance,\n    onMoveInstanceEnd,\n    onDownInstance,\n  }) {\n    this.project = project;\n    this.instances = instances;\n    this.layout = layout;\n    this.layer = layer; // /!\\ Don't store any other reference.\n    // `layer` can be changed at any moment (see InstancesRenderer).\n    this.viewPosition = viewPosition;\n    this.onInstanceClicked = onInstanceClicked;\n    this.onOverInstance = onOverInstance;\n    this.onOutInstance = onOutInstance;\n    this.onMoveInstance = onMoveInstance;\n    this.onMoveInstanceEnd = onMoveInstanceEnd;\n    this.onDownInstance = onDownInstance;\n\n    this.viewTopLeft = [0, 0]; // Used for instances culling on rendering\n    this.viewBottomRight = [0, 0]; // Used for instances culling on rendering\n\n    this.renderedInstances = {};\n    this.pixiContainer = new PIXI.Container();\n\n    // Functor used to render an instance\n    this.instancesRenderer = new gd.InitialInstanceJSFunctor();\n    this.instancesRenderer.invoke = instancePtr => {\n      const instance = gd.wrapPointer(instancePtr, gd.InitialInstance);\n\n      //Get the \"RendereredInstance\" object associated to the instance and tell it to update.\n      var renderedInstance = this.getRendererOfInstance(instance);\n      if (!renderedInstance) return;\n\n      const pixiObject = renderedInstance.getPixiObject();\n      if (pixiObject) pixiObject.zOrder = instance.getZOrder();\n      if (pixiObject) pixiObject.interactive = !instance.isLocked();\n\n      // \"Culling\" improves rendering performance of large levels\n      const isVisible = this._isInstanceVisible(instance);\n      if (pixiObject) pixiObject.visible = isVisible;\n      if (isVisible) renderedInstance.update();\n\n      renderedInstance.wasUsed = true;\n    };\n  }\n\n  getPixiContainer() {\n    return this.pixiContainer;\n  }\n\n  getInstanceLeft = instance => {\n    return (\n      instance.getX() -\n      (this.renderedInstances[instance.ptr]\n        ? this.renderedInstances[instance.ptr].getOriginX()\n        : 0)\n    );\n  };\n\n  getInstanceTop = instance => {\n    return (\n      instance.getY() -\n      (this.renderedInstances[instance.ptr]\n        ? this.renderedInstances[instance.ptr].getOriginY()\n        : 0)\n    );\n  };\n\n  getInstanceWidth = instance => {\n    if (instance.hasCustomSize()) return instance.getCustomWidth();\n\n    return this.renderedInstances[instance.ptr]\n      ? this.renderedInstances[instance.ptr].getDefaultWidth()\n      : 0;\n  };\n\n  getInstanceHeight = instance => {\n    if (instance.hasCustomSize()) return instance.getCustomHeight();\n\n    return this.renderedInstances[instance.ptr]\n      ? this.renderedInstances[instance.ptr].getDefaultHeight()\n      : 0;\n  };\n\n  getRendererOfInstance = instance => {\n    var renderedInstance = this.renderedInstances[instance.ptr];\n    if (renderedInstance === undefined) {\n      //No renderer associated yet, the instance must have been just created!...\n      const associatedObjectName = instance.getObjectName();\n      const associatedObject = getObjectByName(\n        this.project,\n        this.layout,\n        associatedObjectName\n      );\n      if (!associatedObject) return;\n\n      //...so let's create a renderer.\n      renderedInstance = this.renderedInstances[\n        instance.ptr\n      ] = ObjectsRenderingService.createNewInstanceRenderer(\n        this.project,\n        this.layout,\n        instance,\n        associatedObject,\n        this.pixiContainer\n      );\n\n      renderedInstance._pixiObject.interactive = true;\n      gesture.panable(renderedInstance._pixiObject);\n      renderedInstance._pixiObject.on('click', () => {\n        this.onInstanceClicked(instance);\n      });\n      renderedInstance._pixiObject.on('mouseover', () => {\n        this.onOverInstance(instance);\n      });\n      renderedInstance._pixiObject.on('mousedown', () => {\n        this.onDownInstance(instance);\n      });\n      renderedInstance._pixiObject.on('touchstart', () => {\n        this.onDownInstance(instance);\n      });\n      renderedInstance._pixiObject.on('mouseout', () => {\n        this.onOutInstance(instance);\n      });\n      renderedInstance._pixiObject.on('panmove', event => {\n        this.onMoveInstance(instance, event.deltaX, event.deltaY);\n      });\n      renderedInstance._pixiObject.on('panend', event => {\n        this.onMoveInstanceEnd();\n      });\n    }\n\n    return renderedInstance;\n  };\n\n  /**\n   * This returns true if an instance is visible according to the viewPosition.\n   * The approach is a naive bounding box testing but save rendering time on large\n   * levels.\n   * @param {*} instance\n   */\n  _isInstanceVisible(instance) {\n    //TODO: Properly handle rotation\n    const left = this.getInstanceLeft(instance);\n    const top = this.getInstanceTop(instance);\n    if (\n      left + this.getInstanceWidth(instance) < this.viewTopLeft[0] ||\n      top + this.getInstanceHeight(instance) < this.viewTopLeft[1] ||\n      left > this.viewBottomRight[0] ||\n      top > this.viewBottomRight[1]\n    )\n      return false;\n\n    return true;\n  }\n\n  _computeViewBounds() {\n    // Add a margin of 100 pixels around the view. Culling will hide PIXI objects,\n    // and hidden objects won't respond to events. Hence, a margin allow the cursor to go\n    // slightly out of the canvas when moving an instance, and still have the instance\n    // to follow the cursor.\n    const margin = 100;\n    this.viewTopLeft = this.viewPosition.toSceneCoordinates(-margin, -margin);\n    this.viewBottomRight = this.viewPosition.toSceneCoordinates(\n      this.viewPosition.getWidth() + margin,\n      this.viewPosition.getHeight() + margin\n    );\n  }\n\n  render() {\n    this._computeViewBounds();\n    this.instances.iterateOverInstancesWithZOrdering(\n      this.instancesRenderer,\n      this.layer.getName()\n    );\n    this._updatePixiObjectsZOrder();\n    this._updateVisibility();\n    this._cleanRenderers();\n  }\n\n  _updatePixiObjectsZOrder() {\n    this.pixiContainer.children.sort((a, b) => {\n      a.zOrder = a.zOrder || 0;\n      b.zOrder = b.zOrder || 0;\n      return a.zOrder - b.zOrder;\n    });\n  }\n\n  _updateVisibility() {\n    this.pixiContainer.visible = this.layer.getVisibility();\n  }\n\n  /**\n   * Delete instance renderers of the specified objects, which will then be recreated during\n   * the next render.\n   * @param {string} objectName The name of the object for which instance must be re-rendered.\n   */\n  resetRenderersFor(objectName) {\n    for (let i in this.renderedInstances) {\n      if (this.renderedInstances.hasOwnProperty(i)) {\n        const renderedInstance = this.renderedInstances[i];\n        if (renderedInstance.getInstance().getObjectName() === objectName) {\n          renderedInstance.instanceRemovedFromScene();\n          delete this.renderedInstances[i];\n        }\n      }\n    }\n  }\n\n  /**\n   * Clean up rendered instances that are not associated to any instance anymore\n   * (this can happen after an instance has been deleted).\n   */\n  _cleanRenderers() {\n    for (let i in this.renderedInstances) {\n      if (this.renderedInstances.hasOwnProperty(i)) {\n        const renderedInstance = this.renderedInstances[i];\n        if (!renderedInstance.wasUsed) {\n          renderedInstance.instanceRemovedFromScene();\n          delete this.renderedInstances[i];\n        } else renderedInstance.wasUsed = false;\n      }\n    }\n  }\n\n  delete() {\n    this.instancesRenderer.delete();\n  }\n}\n","import * as PIXI from 'pixi.js';\nconst gd = global.gd;\n\nexport default class SelectionRectangle {\n  constructor({\n    instances,\n    instanceMeasurer,\n    toSceneCoordinates,\n    toCanvasCoordinates,\n  }) {\n    this.instances = instances;\n    this.instanceMeasurer = instanceMeasurer;\n    this.toSceneCoordinates = toSceneCoordinates;\n\n    this.pixiRectangle = new PIXI.Graphics();\n    this.pixiRectangle.hitArea = new PIXI.Rectangle(0, 0, 0, 0);\n    this.selectionRectangleStart = null;\n    this.selectionRectangleEnd = null;\n    this._instancesInSelectionRectangle = [];\n\n    this.selector = new gd.InitialInstanceJSFunctor();\n    this.selector.invoke = instancePtr => {\n      const instance = gd.wrapPointer(instancePtr, gd.InitialInstance);\n      const x = this.instanceMeasurer.getInstanceLeft(instance);\n      const y = this.instanceMeasurer.getInstanceTop(instance);\n      const instanceHeight = this.instanceMeasurer.getInstanceHeight(instance);\n      const instanceWidth = this.instanceMeasurer.getInstanceWidth(instance);\n\n      if (!this.selectionRectangleStart || !this.selectionRectangleEnd) return;\n\n      const selectionSceneStart = toSceneCoordinates(\n        this.selectionRectangleStart.x,\n        this.selectionRectangleStart.y\n      );\n      const selectionSceneEnd = toSceneCoordinates(\n        this.selectionRectangleEnd.x,\n        this.selectionRectangleEnd.y\n      );\n\n      if (\n        selectionSceneStart[0] <= x &&\n        x + instanceWidth <= selectionSceneEnd[0] &&\n        selectionSceneStart[1] <= y &&\n        y + instanceHeight <= selectionSceneEnd[1]\n      ) {\n        this._instancesInSelectionRectangle.push(instance);\n      }\n    };\n  }\n\n  hasStartedSelectionRectangle() {\n    return this.selectionRectangleStart;\n  }\n\n  makeSelectionRectangle = (lastX, lastY) => {\n    if (!this.selectionRectangleStart)\n      this.selectionRectangleStart = { x: lastX, y: lastY };\n\n    this.selectionRectangleEnd = { x: lastX, y: lastY };\n  };\n\n  endSelectionRectangle = () => {\n    if (!this.selectionRectangleStart) return [];\n\n    this._instancesInSelectionRectangle.length = 0;\n    if (this.selectionRectangleStart.x > this.selectionRectangleEnd.x) {\n      const tmp = this.selectionRectangleStart.x;\n      this.selectionRectangleStart.x = this.selectionRectangleEnd.x;\n      this.selectionRectangleEnd.x = tmp;\n    }\n    if (this.selectionRectangleStart.y > this.selectionRectangleEnd.y) {\n      const tmp = this.selectionRectangleStart.y;\n      this.selectionRectangleStart.y = this.selectionRectangleEnd.y;\n      this.selectionRectangleEnd.y = tmp;\n    }\n\n    this.instances.iterateOverInstances(this.selector);\n\n    this.selectionRectangleStart = null;\n    return this._instancesInSelectionRectangle;\n  };\n\n  getPixiObject() {\n    return this.pixiRectangle;\n  }\n\n  render() {\n    if (!this.selectionRectangleStart) {\n      this.pixiRectangle.visible = false;\n      return;\n    }\n\n    let x1 = this.selectionRectangleStart.x;\n    let y1 = this.selectionRectangleStart.y;\n    let x2 = this.selectionRectangleEnd.x;\n    let y2 = this.selectionRectangleEnd.y;\n\n    this.pixiRectangle.visible = true;\n    this.pixiRectangle.clear();\n    this.pixiRectangle.beginFill(0x6868e8);\n    this.pixiRectangle.lineStyle(1, 0x6868e8, 1);\n    this.pixiRectangle.fillAlpha = 0.1;\n    this.pixiRectangle.alpha = 0.8;\n    this.pixiRectangle.drawRect(\n      Math.min(x1, x2),\n      Math.min(y1, y2),\n      Math.abs(x2 - x1),\n      Math.abs(y2 - y1)\n    );\n    this.pixiRectangle.endFill();\n  }\n\n  delete() {\n    this.selector.delete();\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport * as React from 'react';\nimport Background from '../../UI/Background';\nimport enumerateLayers from '../../LayersList/EnumerateLayers';\nimport EmptyMessage from '../../UI/EmptyMessage';\nimport PropertiesEditor from '../../PropertiesEditor';\nimport propertiesMapToSchema from '../../PropertiesEditor/PropertiesMapToSchema';\nimport { type Schema } from '../../PropertiesEditor';\nimport VariablesList from '../../VariablesList';\nimport getObjectByName from '../../Utils/GetObjectByName';\nimport IconButton from 'material-ui/IconButton';\nimport { Line, Column } from '../../UI/Grid';\n\nimport OpenInNew from 'material-ui/svg-icons/action/open-in-new';\n\ntype Props = {|\n  project: gdProject,\n  layout: gdLayout,\n  instances: Array<gdInitialInstance>,\n  onEditObjectByName: string => void,\n  editObjectVariables: (?gdObject) => void,\n  editInstanceVariables: gdInitialInstance => void,\n|};\n\nexport default class InstancePropertiesEditor extends React.Component<Props> {\n  _instanceVariablesList: { current: null | VariablesList } = React.createRef();\n  schema: Schema = [\n    {\n      name: 'Object name',\n      valueType: 'string',\n      disabled: true,\n      getValue: (instance: gdInitialInstance) => instance.getObjectName(),\n      setValue: (instance: gdInitialInstance, newValue: string) =>\n        instance.setObjectName(newValue),\n      onEditButtonClick: (instance: gdInitialInstance) =>\n        this.props.onEditObjectByName(instance.getObjectName()),\n    },\n    {\n      name: 'Position',\n      type: 'row',\n      children: [\n        {\n          name: 'X',\n          valueType: 'number',\n          getValue: (instance: gdInitialInstance) => instance.getX(),\n          setValue: (instance: gdInitialInstance, newValue: number) =>\n            instance.setX(newValue),\n        },\n        {\n          name: 'Y',\n          valueType: 'number',\n          getValue: (instance: gdInitialInstance) => instance.getY(),\n          setValue: (instance: gdInitialInstance, newValue: number) =>\n            instance.setY(newValue),\n        },\n      ],\n    },\n    {\n      name: 'Angle',\n      valueType: 'number',\n      getValue: (instance: gdInitialInstance) => instance.getAngle(),\n      setValue: (instance: gdInitialInstance, newValue: number) =>\n        instance.setAngle(newValue),\n    },\n    {\n      name: 'Lock position/angle in the editor',\n      valueType: 'boolean',\n      getValue: (instance: gdInitialInstance) => instance.isLocked(),\n      setValue: (instance: gdInitialInstance, newValue: boolean) =>\n        instance.setLocked(newValue),\n    },\n    {\n      name: 'Z Order',\n      valueType: 'number',\n      getValue: (instance: gdInitialInstance) => instance.getZOrder(),\n      setValue: (instance: gdInitialInstance, newValue: number) =>\n        instance.setZOrder(newValue),\n    },\n    {\n      name: 'Layer',\n      valueType: 'string',\n      getChoices: () => enumerateLayers(this.props.layout),\n      getValue: (instance: gdInitialInstance) => instance.getLayer(),\n      setValue: (instance: gdInitialInstance, newValue: string) =>\n        instance.setLayer(newValue),\n    },\n    {\n      name: 'Custom size',\n      type: 'row',\n      children: [\n        {\n          name: 'Width',\n          valueType: 'number',\n          getValue: (instance: gdInitialInstance) => instance.getCustomWidth(),\n          setValue: (instance: gdInitialInstance, newValue: number) =>\n            instance.setCustomWidth(newValue),\n        },\n        {\n          name: 'Height',\n          valueType: 'number',\n          getValue: (instance: gdInitialInstance) => instance.getCustomHeight(),\n          setValue: (instance: gdInitialInstance, newValue: number) =>\n            instance.setCustomHeight(newValue),\n        },\n      ],\n    },\n    {\n      name: 'Custom size?',\n      valueType: 'boolean',\n      getValue: (instance: gdInitialInstance) => instance.hasCustomSize(),\n      setValue: (instance: gdInitialInstance, newValue: boolean) =>\n        instance.setHasCustomSize(newValue),\n    },\n  ];\n\n  _renderEmpty() {\n    return (\n      <EmptyMessage>\n        <Trans>\n          Click on an instance in the scene to display its properties\n        </Trans>\n      </EmptyMessage>\n    );\n  }\n\n  _renderInstancesProperties() {\n    const { project, layout, instances } = this.props;\n    const instance = instances[0];\n    const associatedObjectName = instance.getObjectName();\n    const object = getObjectByName(project, layout, associatedObjectName);\n    //TODO: multiple instances support\n    const properties = instance.getCustomProperties(project, layout);\n    const instanceSchema = propertiesMapToSchema(\n      properties,\n      (instance: gdInitialInstance) =>\n        instance.getCustomProperties(project, layout),\n      (instance: gdInitialInstance, name, value) =>\n        instance.updateCustomProperty(name, value, project, layout)\n    );\n\n    return (\n      <div\n        style={{ overflowY: 'scroll', overflowX: 'hidden' }}\n        key={instances\n          .map((instance: gdInitialInstance) => '' + instance.ptr)\n          .join(';')}\n      >\n        <Column>\n          <PropertiesEditor\n            schema={this.schema.concat(instanceSchema)}\n            instances={instances}\n          />\n          <Line alignItems=\"center\">\n            <Trans>Instance Variables</Trans>\n            <IconButton\n              onClick={() => {\n                this.props.editInstanceVariables(instance);\n              }}\n            >\n              <OpenInNew />\n            </IconButton>\n          </Line>\n        </Column>\n        <VariablesList\n          inheritedVariablesContainer={object ? object.getVariables() : null}\n          variablesContainer={instance.getVariables()}\n          onSizeUpdated={\n            () =>\n              this.forceUpdate() /*Force update to ensure dialog is properly positionned*/\n          }\n          ref={this._instanceVariablesList}\n        />\n      </div>\n    );\n  }\n\n  render() {\n    const { instances } = this.props;\n\n    return (\n      <Background>\n        {!instances || !instances.length\n          ? this._renderEmpty()\n          : this._renderInstancesProperties()}\n      </Background>\n    );\n  }\n}\n","import { Trans } from '@lingui/macro';\nimport React, { Component } from 'react';\nimport { AutoSizer, Table, Column } from 'react-virtualized';\nimport ThemeConsumer from '../../UI/Theme/ThemeConsumer';\nconst gd = global.gd;\n\nexport default class InstancesList extends Component {\n  shouldComponentUpdate(nextProps) {\n    // Rendering the component is costly as it iterates over\n    // every instances, so the prop freezeUpdate allows to ask the component to stop\n    // updating, for example when hidden.\n    return !nextProps.freezeUpdate;\n  }\n\n  componentWillReceiveProps(nextProps) {\n    // If the component was frozen and is now allowed to update,\n    // force the table to be refreshed to reflect changes (new instances,\n    // or selection changes).\n    if (!nextProps.freezeUpdate && this.props.freezeUpdate) {\n      if (this.table) this.table.forceUpdateGrid();\n    }\n  }\n\n  componentWillMount() {\n    this.renderedRows = [];\n\n    // Functor used to display an instance row\n    this.instanceRowRenderer = new gd.InitialInstanceJSFunctor();\n    this.instanceRowRenderer.invoke = instancePtr => {\n      const instance = gd.wrapPointer(instancePtr, gd.InitialInstance);\n\n      this.renderedRows.push({\n        instance,\n        name: instance.getObjectName(),\n        locked: instance.isLocked() ? '' : '',\n        x: instance.getX().toFixed(2),\n        y: instance.getY().toFixed(2),\n        angle: instance.getAngle().toFixed(2),\n        layer: instance.getLayer(),\n        zOrder: instance.getZOrder(),\n      });\n    };\n  }\n\n  componentWillUnmount() {\n    this.instanceRowRenderer.delete();\n  }\n\n  _onRowClick = ({ index }) => {\n    if (!this.renderedRows[index]) return;\n    this.props.onSelectInstances([this.renderedRows[index].instance]);\n  };\n\n  _rowGetter = ({ index }) => {\n    return this.renderedRows[index];\n  };\n\n  _rowClassName = ({ index }) => {\n    if (index < 0) {\n      return 'tableHeaderRow';\n    } else {\n      const row = this.renderedRows[index];\n      if (row && this.props.selectedInstances.indexOf(row.instance) !== -1)\n        return 'tableSelectedRow';\n\n      return index % 2 === 0 ? 'tableEvenRow' : 'tableOddRow';\n    }\n  };\n\n  render() {\n    const { instances } = this.props;\n\n    this.renderedRows.length = 0;\n    instances.iterateOverInstances(this.instanceRowRenderer);\n\n    // Force Table component to be mounted again if instances\n    // has been changed. Avoid accessing to invalid objects that could\n    // crash the app.\n    const tableKey = instances.ptr;\n\n    return (\n      <ThemeConsumer>\n        {muiTheme => (\n          <AutoSizer>\n            {({ height, width }) => (\n              <Table\n                ref={table => (this.table = table)}\n                key={tableKey}\n                headerHeight={30}\n                height={height}\n                className={muiTheme.tableRootClassName}\n                headerClassName={'tableHeaderColumn'}\n                rowCount={this.renderedRows.length}\n                rowGetter={this._rowGetter}\n                rowHeight={35}\n                onRowClick={this._onRowClick}\n                rowClassName={this._rowClassName}\n                width={width}\n              >\n                <Column\n                  label={<Trans>Object name</Trans>}\n                  dataKey=\"name\"\n                  width={width * 0.35}\n                  className={'tableColumn'}\n                />\n                <Column\n                  label=\"\"\n                  dataKey=\"locked\"\n                  width={width * 0.05}\n                  className={'tableColumn'}\n                />\n                <Column\n                  label={<Trans>X</Trans>}\n                  dataKey=\"x\"\n                  width={width * 0.1}\n                  className={'tableColumn'}\n                />\n                <Column\n                  label={<Trans>Y</Trans>}\n                  dataKey=\"y\"\n                  width={width * 0.1}\n                  className={'tableColumn'}\n                />\n                <Column\n                  label={<Trans>Angle</Trans>}\n                  dataKey=\"angle\"\n                  width={width * 0.1}\n                  className={'tableColumn'}\n                />\n                <Column\n                  label={<Trans>Layer</Trans>}\n                  dataKey=\"layer\"\n                  width={width * 0.2}\n                  className={'tableColumn'}\n                />\n                <Column\n                  label={<Trans>Z Order</Trans>}\n                  dataKey=\"zOrder\"\n                  width={width * 0.1}\n                  className={'tableColumn'}\n                />\n              </Table>\n            )}\n          </AutoSizer>\n        )}\n      </ThemeConsumer>\n    );\n  }\n}\n","import { Trans } from '@lingui/macro';\nimport React, { Component } from 'react';\nimport FlatButton from 'material-ui/FlatButton';\nimport Dialog from '../UI/Dialog';\nimport SelectField from 'material-ui/SelectField';\nimport MenuItem from 'material-ui/MenuItem';\nimport enumerateLayers from './EnumerateLayers';\n\nexport default class VariablesEditorDialog extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      selectedLayer: '',\n    };\n  }\n\n  componentWillReceiveProps(newProps) {\n    if (!this.props.open && newProps.open) {\n      this.setState({\n        selectedLayer: '',\n      });\n    }\n  }\n\n  render() {\n    if (!this.props.layersContainer || !this.props.open) return null;\n\n    const actions = [\n      <FlatButton\n        label={<Trans>Cancel</Trans>}\n        secondary={true}\n        keyboardFocused={true}\n        onClick={() => this.props.onClose(false)}\n      />,\n      <FlatButton\n        label={<Trans>Remove objects</Trans>}\n        secondary={true}\n        onClick={() => this.props.onClose(true, null)}\n      />,\n      <FlatButton\n        label={<Trans>Move objects</Trans>}\n        primary={true}\n        onClick={() => this.props.onClose(true, this.state.selectedLayer)}\n      />,\n    ];\n\n    const layers = enumerateLayers(this.props.layersContainer);\n    const choices = layers\n      .filter(({ value }) => {\n        return value !== this.props.layerRemoved;\n      })\n      .map(({ value, label }) => (\n        <MenuItem key={value} value={value} primaryText={label} />\n      ));\n\n    return (\n      <Dialog\n        title={<Trans>Objects on {this.props.layerRemoved}</Trans>}\n        actions={actions}\n        modal={true}\n        open={this.props.open}\n        onRequestClose={this.props.onCancel}\n      >\n        <div>\n          <Trans>Move objects on layer {this.props.layerRemoved} to:</Trans>\n        </div>\n        <SelectField\n          value={this.state.selectedLayer}\n          onChange={(event, index, newValue) => {\n            this.setState({ selectedLayer: newValue });\n          }}\n        >\n          {choices}\n        </SelectField>\n      </Dialog>\n    );\n  }\n}\n","// @flow weak\nimport { Trans } from '@lingui/macro';\nimport React, { Component } from 'react';\nimport FlatButton from 'material-ui/FlatButton';\nimport ObjectsEditorService from './ObjectsEditorService';\nimport Dialog from '../UI/Dialog';\nimport HelpButton from '../UI/HelpButton';\nimport BehaviorsEditor from '../BehaviorsEditor';\nimport { Tabs, Tab } from 'material-ui/Tabs';\nimport { withSerializableObject } from '../Utils/SerializableObjectEditorContainer';\n\nimport { Column, Line } from '../UI/Grid';\nimport SemiControlledTextField from '../UI/SemiControlledTextField';\n\nconst styles = {\n  titleContainer: {\n    padding: 0,\n  },\n};\n\ntype StateType = {|\n  currentTab: string,\n  newObjectName: string,\n|};\n\nexport class ObjectEditorDialog extends Component<*, StateType> {\n  state = {\n    currentTab: 'properties',\n    newObjectName: this.props.objectName,\n  };\n\n  _onChangeTab = (value: string) => {\n    this.setState({\n      currentTab: value,\n    });\n  };\n\n  render() {\n    const actions = [\n      <FlatButton\n        key=\"cancel\"\n        label={<Trans>Cancel</Trans>}\n        onClick={this.props.onCancel}\n      />,\n      <FlatButton\n        key=\"apply\"\n        label={<Trans>Apply</Trans>}\n        primary\n        keyboardFocused\n        onClick={() => {\n          this.props.onApply();\n          // Do the renaming *after* applying changes, as \"withSerializableObject\"\n          // HOC will unserialize the object to apply modifications, which will\n          // override the name.\n          this.props.onRename(this.state.newObjectName);\n        }}\n      />,\n    ];\n\n    const EditorComponent = this.props.editorComponent;\n    const { currentTab } = this.state;\n\n    return (\n      <Dialog\n        key={this.props.object && this.props.object.ptr}\n        secondaryActions={<HelpButton helpPagePath={this.props.helpPagePath} />}\n        actions={actions}\n        autoScrollBodyContent\n        noMargin\n        modal\n        onRequestClose={this.props.onCancel}\n        open={this.props.open}\n        title={\n          <div>\n            <Tabs value={currentTab} onChange={this._onChangeTab}>\n              <Tab\n                label={<Trans>Properties</Trans>}\n                value={'properties'}\n                key={'properties'}\n              />\n              <Tab\n                label={<Trans>Behaviors</Trans>}\n                value={'behaviors'}\n                key={'behaviors'}\n              />\n            </Tabs>\n          </div>\n        }\n        titleStyle={styles.titleContainer}\n      >\n        <Line alignItems=\"baseline\">\n          <Column>Object Name:</Column>\n          <Column expand>\n            <SemiControlledTextField\n              fullWidth\n              commitOnBlur\n              value={this.state.newObjectName}\n              hintText={<Trans>Object Name</Trans>}\n              onChange={text => {\n                if (this.props.canRenameObject(text)) {\n                  this.setState({ newObjectName: text });\n                }\n              }}\n            />\n          </Column>\n        </Line>\n        {currentTab === 'properties' && EditorComponent && (\n          <EditorComponent\n            object={this.props.object}\n            project={this.props.project}\n            resourceSources={this.props.resourceSources}\n            onChooseResource={this.props.onChooseResource}\n            resourceExternalEditors={this.props.resourceExternalEditors}\n            onSizeUpdated={\n              () =>\n                this.forceUpdate() /*Force update to ensure dialog is properly positionned*/\n            }\n            objectName={this.props.objectName}\n          />\n        )}\n        {currentTab === 'behaviors' && (\n          <BehaviorsEditor\n            object={this.props.object}\n            project={this.props.project}\n            resourceSources={this.props.resourceSources}\n            onChooseResource={this.props.onChooseResource}\n            resourceExternalEditors={this.props.resourceExternalEditors}\n            onSizeUpdated={\n              () =>\n                this.forceUpdate() /*Force update to ensure dialog is properly positionned*/\n            }\n          />\n        )}\n      </Dialog>\n    );\n  }\n}\n\ntype ContainerStateType = {|\n  dialogComponent: ?Class<*>,\n  editorComponent: ?Class<*>,\n  castToObjectType: ?Function,\n  helpPagePath: ?string,\n  objectName: string,\n|};\n\nexport default class ObjectEditorDialogContainer extends Component<*, *> {\n  state: ContainerStateType = {\n    dialogComponent: null,\n    editorComponent: null,\n    castToObjectType: null,\n    helpPagePath: null,\n    objectName: '',\n  };\n\n  componentWillMount() {\n    this._loadFrom(this.props.object);\n  }\n\n  componentWillReceiveProps(newProps) {\n    if (\n      (!this.props.open && newProps.open) ||\n      (newProps.open && this.props.object !== newProps.object)\n    ) {\n      this._loadFrom(newProps.object);\n    }\n  }\n\n  _loadFrom(object) {\n    if (!object) return;\n\n    const editorConfiguration = ObjectsEditorService.getEditorConfiguration(\n      object.getType()\n    );\n    if (!editorConfiguration) {\n      return this.setState({\n        dialogComponent: null,\n        editorComponent: null,\n        castToObjectType: null,\n      });\n    }\n\n    this.setState({\n      dialogComponent: withSerializableObject(ObjectEditorDialog, {\n        propName: 'object',\n        newObjectCreator: () => editorConfiguration.createNewObject(object),\n        useProjectToUnserialize: true,\n      }),\n      editorComponent: editorConfiguration.component,\n      helpPagePath: editorConfiguration.helpPagePath,\n      castToObjectType: editorConfiguration.castToObjectType,\n      objectName: object.getName(),\n    });\n  }\n\n  render() {\n    if (\n      !this.props.object ||\n      !this.state.dialogComponent ||\n      !this.state.castToObjectType\n    )\n      return null;\n\n    const EditorDialog: Class<*> = this.state.dialogComponent;\n    const { editorComponent, castToObjectType, helpPagePath } = this.state;\n\n    return (\n      <EditorDialog\n        editorComponent={editorComponent}\n        key={this.props.object && this.props.object.ptr}\n        helpPagePath={helpPagePath}\n        {...this.props}\n        object={castToObjectType(this.props.object)}\n        objectName={this.state.objectName}\n      />\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport Checkbox from 'material-ui/Checkbox';\nimport TextField from 'material-ui/TextField';\nimport { Line, Column } from '../../UI/Grid';\nimport ColorPicker from '../../UI/ColorField/ColorPicker';\nimport MiniToolbar, { MiniToolbarText } from '../../UI/MiniToolbar';\nimport ResourceSelector from '../../ResourcesList/ResourceSelector';\nimport ResourcesLoader from '../../ResourcesLoader';\nimport { type EditorProps } from './EditorProps.flow';\nconst gd = global.gd;\n\nconst toolbarItemStyle = {\n  marginRight: 10,\n};\n\nconst styles = {\n  sizeTextField: {\n    width: 90,\n    ...toolbarItemStyle,\n  },\n  toolbarItem: toolbarItemStyle,\n  checkbox: {\n    width: 'auto',\n    ...toolbarItemStyle,\n  },\n};\n\nexport default class TextEditor extends React.Component<EditorProps, void> {\n  render() {\n    const {\n      object,\n      project,\n      resourceSources,\n      onChooseResource,\n      resourceExternalEditors,\n    } = this.props;\n    const textObject = gd.asTextObject(object);\n\n    return (\n      <Column noMargin>\n        <MiniToolbar>\n          <MiniToolbarText>\n            <Trans>Size:</Trans>\n          </MiniToolbarText>\n          <TextField\n            type=\"number\"\n            style={styles.sizeTextField}\n            value={textObject.getCharacterSize()}\n            onChange={(e, value) => {\n              textObject.setCharacterSize(parseInt(value, 10));\n              this.forceUpdate();\n            }}\n          />\n          <MiniToolbarText>\n            <Trans>Color:</Trans>\n          </MiniToolbarText>\n          <ColorPicker\n            style={styles.sizeTextField}\n            disableAlpha\n            color={{\n              r: textObject.getColorR(),\n              g: textObject.getColorG(),\n              b: textObject.getColorB(),\n              a: 255,\n            }}\n            onChangeComplete={color => {\n              textObject.setColor(color.rgb.r, color.rgb.g, color.rgb.b);\n              this.forceUpdate();\n            }}\n          />\n          <Checkbox\n            label={<Trans>Bold</Trans>}\n            checked={textObject.isBold()}\n            onCheck={(e, checked) => {\n              textObject.setBold(checked);\n              this.forceUpdate();\n            }}\n            style={styles.checkbox}\n          />\n          <Checkbox\n            label={<Trans>Italic</Trans>}\n            checked={textObject.isItalic()}\n            onCheck={(e, checked) => {\n              textObject.setItalic(checked);\n              this.forceUpdate();\n            }}\n            style={styles.checkbox}\n          />\n          <ResourceSelector\n            project={project}\n            resourceSources={resourceSources}\n            onChooseResource={onChooseResource}\n            resourceExternalEditors={resourceExternalEditors}\n            resourcesLoader={ResourcesLoader}\n            resourceKind=\"font\"\n            fullWidth\n            initialResourceName={textObject.getFontName()}\n            onChange={resourceName => {\n              textObject.setFontName(resourceName);\n              this.forceUpdate();\n            }}\n            hintText={<Trans>Choose a font</Trans>}\n          />\n        </MiniToolbar>\n        <Line noMargin>\n          <Column expand>\n            <Line>\n              <TextField\n                hintText={\n                  <Trans>Enter the text to be displayed by the object</Trans>\n                }\n                fullWidth\n                multiLine\n                rows={8}\n                rowsMax={8}\n                value={textObject.getString()}\n                onChange={(e, value) => {\n                  textObject.setString(value);\n                  this.forceUpdate();\n                  this.props.onSizeUpdated();\n                }}\n              />\n            </Line>\n          </Column>\n        </Line>\n      </Column>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport SemiControlledTextField from '../../UI/SemiControlledTextField';\nimport { Line, Column } from '../../UI/Grid';\nimport ResourceSelectorWithThumbnail from '../../ResourcesList/ResourceSelectorWithThumbnail';\nimport { type EditorProps } from './EditorProps.flow';\nconst gd = global.gd;\n\nexport default class TiledSpriteEditor extends React.Component<\n  EditorProps,\n  void\n> {\n  render() {\n    const {\n      object,\n      project,\n      resourceSources,\n      onChooseResource,\n      resourceExternalEditors,\n    } = this.props;\n    const tiledSpriteObject = gd.asTiledSpriteObject(object);\n\n    return (\n      <Column>\n        <Line>\n          <ResourceSelectorWithThumbnail\n            project={project}\n            resourceSources={resourceSources}\n            onChooseResource={onChooseResource}\n            resourceKind=\"image\"\n            resourceName={tiledSpriteObject.getTexture()}\n            resourceExternalEditors={resourceExternalEditors}\n            onChange={resourceName => {\n              tiledSpriteObject.setTexture(resourceName);\n              this.forceUpdate();\n            }}\n            floatingLabelText={<Trans>Select an image</Trans>}\n          />\n        </Line>\n        <Line>\n          <SemiControlledTextField\n            floatingLabelText={<Trans>Default width (in pixels)</Trans>}\n            fullWidth\n            type=\"number\"\n            value={tiledSpriteObject.getWidth()}\n            onChange={value => {\n              tiledSpriteObject.setWidth(parseInt(value, 10));\n              this.forceUpdate();\n            }}\n          />\n          <SemiControlledTextField\n            floatingLabelText={<Trans>Default height (in pixels)</Trans>}\n            fullWidth\n            type=\"number\"\n            value={tiledSpriteObject.getHeight()}\n            onChange={value => {\n              tiledSpriteObject.setHeight(parseInt(value, 10));\n              this.forceUpdate();\n            }}\n          />\n        </Line>\n      </Column>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport TextField from 'material-ui/TextField';\nimport Checkbox from 'material-ui/Checkbox';\nimport { Line, Column } from '../../UI/Grid';\nimport ResourceSelectorWithThumbnail from '../../ResourcesList/ResourceSelectorWithThumbnail';\nimport { type EditorProps } from './EditorProps.flow';\nconst gd = global.gd;\n\nexport default class PanelSpriteEditor extends React.Component<\n  EditorProps,\n  void\n> {\n  render() {\n    const {\n      object,\n      project,\n      resourceSources,\n      onChooseResource,\n      resourceExternalEditors,\n    } = this.props;\n    const panelSpriteObject = gd.asPanelSpriteObject(object);\n\n    return (\n      <Column>\n        <Line>\n          <ResourceSelectorWithThumbnail\n            project={project}\n            resourceSources={resourceSources}\n            onChooseResource={onChooseResource}\n            resourceExternalEditors={resourceExternalEditors}\n            resourceKind=\"image\"\n            resourceName={panelSpriteObject.getTexture()}\n            onChange={resourceName => {\n              panelSpriteObject.setTexture(resourceName);\n              this.forceUpdate();\n            }}\n            floatingLabelText={<Trans>Select an image</Trans>}\n          />\n        </Line>\n        <Line>\n          <Checkbox\n            label={\n              <Trans>\n                Repeat borders and center textures (instead of stretching them)\n              </Trans>\n            }\n            checked={panelSpriteObject.isTiled()}\n            onCheck={(e, checked) => {\n              panelSpriteObject.setTiled(checked);\n              this.forceUpdate();\n            }}\n          />\n        </Line>\n        <Line>\n          <TextField\n            floatingLabelText={<Trans>Top margin</Trans>}\n            fullWidth\n            type=\"number\"\n            value={panelSpriteObject.getTopMargin()}\n            onChange={(e, value) => {\n              panelSpriteObject.setTopMargin(parseInt(value, 10));\n              this.forceUpdate();\n            }}\n          />\n          <TextField\n            floatingLabelText={<Trans>Bottom margin</Trans>}\n            fullWidth\n            type=\"number\"\n            value={panelSpriteObject.getBottomMargin()}\n            onChange={(e, value) => {\n              panelSpriteObject.setBottomMargin(parseInt(value, 10));\n              this.forceUpdate();\n            }}\n          />\n        </Line>\n        <Line>\n          <TextField\n            floatingLabelText={<Trans>Left margin</Trans>}\n            fullWidth\n            type=\"number\"\n            value={panelSpriteObject.getLeftMargin()}\n            onChange={(e, value) => {\n              panelSpriteObject.setLeftMargin(parseInt(value, 10));\n              this.forceUpdate();\n            }}\n          />\n          <TextField\n            floatingLabelText={<Trans>Right margin</Trans>}\n            fullWidth\n            type=\"number\"\n            value={panelSpriteObject.getRightMargin()}\n            onChange={(e, value) => {\n              panelSpriteObject.setRightMargin(parseInt(value, 10));\n              this.forceUpdate();\n            }}\n          />\n        </Line>\n        <Line>\n          <TextField\n            floatingLabelText={<Trans>Default width (in pixels)</Trans>}\n            fullWidth\n            type=\"number\"\n            value={panelSpriteObject.getWidth()}\n            onChange={(e, value) => {\n              panelSpriteObject.setWidth(parseInt(value, 10));\n              this.forceUpdate();\n            }}\n          />\n          <TextField\n            floatingLabelText={<Trans>Default height (in pixels)</Trans>}\n            fullWidth\n            type=\"number\"\n            value={panelSpriteObject.getHeight()}\n            onChange={(e, value) => {\n              panelSpriteObject.setHeight(parseInt(value, 10));\n              this.forceUpdate();\n            }}\n          />\n        </Line>\n      </Column>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport { GridList, GridTile } from 'material-ui/GridList';\nimport { SortableContainer, SortableElement } from 'react-sortable-hoc';\nimport SpritesList from './SpritesList';\nimport Add from 'material-ui/svg-icons/content/add';\nimport Delete from 'material-ui/svg-icons/action/delete';\nimport IconButton from 'material-ui/IconButton';\nimport FlatButton from 'material-ui/FlatButton';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport { mapFor } from '../../../Utils/MapFor';\nimport SemiControlledTextField from '../../../UI/SemiControlledTextField';\nimport Dialog from '../../../UI/Dialog';\nimport EmptyMessage from '../../../UI/EmptyMessage';\nimport MiniToolbar from '../../../UI/MiniToolbar';\nimport DragHandle from '../../../UI/DragHandle';\nimport ContextMenu from '../../../UI/Menu/ContextMenu';\nimport { showWarningBox } from '../../../UI/Messages/MessageBox';\nimport ResourcesLoader from '../../../ResourcesLoader';\nimport PointsEditor from './PointsEditor';\nimport CollisionMasksEditor from './CollisionMasksEditor';\nimport {\n  deleteSpritesFromAnimation,\n  duplicateSpritesInAnimation,\n} from './Utils/SpriteObjectHelper';\nimport { type EditorProps } from '../EditorProps.flow';\nimport {\n  type ResourceSource,\n  type ChooseResourceFunction,\n} from '../../../ResourcesList/ResourceSource.flow';\nimport { type ResourceExternalEditor } from '../../../ResourcesList/ResourceExternalEditor.flow';\n\nconst gd = global.gd;\n\nconst styles = {\n  gridList: {\n    overflowY: 'auto',\n  },\n  animationTitle: {\n    flex: 1,\n  },\n  animationTools: {\n    flexShrink: 0,\n  },\n  lastLine: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  addAnimation: {\n    display: 'flex',\n  },\n  addAnimationText: {\n    justifyContent: 'flex-end',\n  },\n};\n\nconst AddAnimationLine = ({ onAdd, extraTools }) => (\n  <div style={styles.lastLine}>\n    {extraTools}\n    <div style={styles.addAnimation}>\n      <EmptyMessage style={styles.addAnimationText}>\n        Click to add an animation:\n      </EmptyMessage>\n      <IconButton onClick={onAdd}>\n        <Add />\n      </IconButton>\n    </div>\n  </div>\n);\n\ntype AnimationProps = {|\n  animation: gdAnimation,\n  id: number,\n  project: gdProject,\n  resourceSources: Array<ResourceSource>,\n  onChooseResource: ChooseResourceFunction,\n  resourceExternalEditors: Array<ResourceExternalEditor>,\n  onRemove: () => void,\n  resourcesLoader: typeof ResourcesLoader,\n  onSpriteContextMenu: (x: number, y: number, sprite: gdSprite) => void,\n  selectedSprites: {\n    [number]: boolean,\n  },\n  onSelectSprite: (sprite: gdSprite, selected: boolean) => void,\n  onReplaceDirection: (\n    directionIndex: number,\n    newDirection: gdDirection\n  ) => void,\n  objectName: string,\n  onChangeName: string => void,\n|};\n\nclass Animation extends React.Component<AnimationProps, void> {\n  render() {\n    const {\n      animation,\n      id,\n      project,\n      resourceSources,\n      onRemove,\n      onChooseResource,\n      resourceExternalEditors,\n      resourcesLoader,\n      onSpriteContextMenu,\n      selectedSprites,\n      onSelectSprite,\n      onReplaceDirection,\n      objectName,\n      onChangeName,\n    } = this.props;\n\n    const animationName = animation.getName();\n    return (\n      <GridTile>\n        <MiniToolbar smallest>\n          <DragHandle />\n          <span style={styles.animationTitle}>\n            Animation #{id}{' '}\n            <SemiControlledTextField\n              commitOnBlur\n              value={animation.getName()}\n              hintText={<Trans>Optional animation name</Trans>}\n              onChange={text => onChangeName(text)}\n            />\n          </span>\n          <span style={styles.animationTools}>\n            <IconButton onClick={onRemove}>\n              <Delete />\n            </IconButton>\n          </span>\n        </MiniToolbar>\n        {mapFor(0, animation.getDirectionsCount(), i => {\n          const direction = animation.getDirection(i);\n          return (\n            <SpritesList\n              direction={direction}\n              key={i}\n              project={project}\n              resourcesLoader={resourcesLoader}\n              resourceSources={resourceSources}\n              onChooseResource={onChooseResource}\n              resourceExternalEditors={resourceExternalEditors}\n              onSpriteContextMenu={onSpriteContextMenu}\n              selectedSprites={selectedSprites}\n              onSelectSprite={onSelectSprite}\n              onReplaceByDirection={newDirection =>\n                onReplaceDirection(i, newDirection)\n              }\n              objectName={objectName}\n              animationName={animationName}\n              onChangeName={onChangeName}\n            />\n          );\n        })}\n      </GridTile>\n    );\n  }\n}\n\nconst SortableAnimation = SortableElement(Animation);\n\nconst SortableAnimationsList = SortableContainer(\n  ({\n    spriteObject,\n    objectName,\n    onAddAnimation,\n    onRemoveAnimation,\n    onChangeAnimationName,\n    project,\n    resourcesLoader,\n    resourceSources,\n    onChooseResource,\n    resourceExternalEditors,\n    extraBottomTools,\n    onSpriteContextMenu,\n    selectedSprites,\n    onSelectSprite,\n    onReplaceDirection,\n  }) => {\n    return (\n      <GridList style={styles.gridList} cellHeight=\"auto\" cols={1}>\n        {[\n          ...mapFor(0, spriteObject.getAnimationsCount(), i => {\n            const animation = spriteObject.getAnimation(i);\n            return (\n              <SortableAnimation\n                key={i}\n                index={i}\n                id={i}\n                animation={animation}\n                project={project}\n                resourcesLoader={resourcesLoader}\n                resourceSources={resourceSources}\n                onChooseResource={onChooseResource}\n                resourceExternalEditors={resourceExternalEditors}\n                onRemove={() => onRemoveAnimation(i)}\n                onChangeName={newName => onChangeAnimationName(i, newName)}\n                onSpriteContextMenu={onSpriteContextMenu}\n                selectedSprites={selectedSprites}\n                onSelectSprite={onSelectSprite}\n                onReplaceDirection={(directionId, newDirection) =>\n                  onReplaceDirection(i, directionId, newDirection)\n                }\n                objectName={objectName}\n              />\n            );\n          }),\n          <AddAnimationLine\n            onAdd={onAddAnimation}\n            key=\"add-animation-line\"\n            disabled\n            index={spriteObject.getAnimationsCount()}\n            extraTools={extraBottomTools}\n          />,\n        ]}\n      </GridList>\n    );\n  }\n);\n\ntype AnimationsListContainerProps = {|\n  spriteObject: gdSpriteObject,\n  project: gdProject,\n  resourceSources: Array<ResourceSource>,\n  onChooseResource: ChooseResourceFunction,\n  resourceExternalEditors: Array<ResourceExternalEditor>,\n  resourcesLoader: typeof ResourcesLoader,\n  extraBottomTools: React.Node,\n  onSizeUpdated: () => void,\n  objectName: string,\n|};\n\ntype AnimationsListContainerState = {|\n  selectedSprites: {\n    [number]: boolean,\n  },\n|};\n\nclass AnimationsListContainer extends React.Component<\n  AnimationsListContainerProps,\n  AnimationsListContainerState\n> {\n  state = {\n    selectedSprites: {},\n  };\n  spriteContextMenu: ?ContextMenu;\n\n  onSortEnd = ({ oldIndex, newIndex }) => {\n    this.props.spriteObject.moveAnimation(oldIndex, newIndex);\n    this.forceUpdate();\n  };\n\n  addAnimation = () => {\n    const emptyAnimation = new gd.Animation();\n    emptyAnimation.setDirectionsCount(1);\n    this.props.spriteObject.addAnimation(emptyAnimation);\n    this.forceUpdate();\n    this.props.onSizeUpdated();\n  };\n\n  removeAnimation = i => {\n    //eslint-disable-next-line\n    const answer = confirm('Are you sure you want to remove this animation?');\n\n    if (answer) {\n      this.props.spriteObject.removeAnimation(i);\n      this.forceUpdate();\n      this.props.onSizeUpdated();\n    }\n  };\n\n  changeAnimationName = (i, newName) => {\n    const { spriteObject } = this.props;\n\n    const otherNames = mapFor(0, spriteObject.getAnimationsCount(), index => {\n      return index === i\n        ? undefined // Don't check the current animation name as we're changing it.\n        : spriteObject.getAnimation(index).getName();\n    });\n\n    if (newName !== '' && otherNames.filter(name => name === newName).length) {\n      showWarningBox(\n        'Another animation with this name already exists. Please use another name.'\n      );\n      return;\n    }\n\n    spriteObject.getAnimation(i).setName(newName);\n    this.forceUpdate();\n  };\n\n  deleteSelection = () => {\n    const { spriteObject } = this.props;\n\n    mapFor(0, spriteObject.getAnimationsCount(), index => {\n      const animation = spriteObject.getAnimation(index);\n      deleteSpritesFromAnimation(animation, this.state.selectedSprites);\n    });\n\n    this.setState({\n      selectedSprites: {},\n    });\n  };\n\n  duplicateSelection = () => {\n    const { spriteObject } = this.props;\n\n    mapFor(0, spriteObject.getAnimationsCount(), index => {\n      const animation = spriteObject.getAnimation(index);\n      duplicateSpritesInAnimation(animation, this.state.selectedSprites);\n    });\n\n    this.setState({\n      selectedSprites: {},\n    });\n  };\n\n  openSpriteContextMenu = (x, y, sprite, index) => {\n    this.selectSprite(sprite, true);\n    if (this.spriteContextMenu) this.spriteContextMenu.open(x, y);\n  };\n\n  selectSprite = (sprite, selected) => {\n    this.setState({\n      selectedSprites: {\n        ...this.state.selectedSprites,\n        [sprite.ptr]: selected,\n      },\n    });\n  };\n\n  replaceDirection = (animationId, directionId, newDirection) => {\n    this.props.spriteObject\n      .getAnimation(animationId)\n      .setDirection(newDirection, directionId);\n    this.forceUpdate();\n  };\n\n  render() {\n    return (\n      <div>\n        <SortableAnimationsList\n          spriteObject={this.props.spriteObject}\n          objectName={this.props.objectName}\n          helperClass=\"sortable-helper\"\n          project={this.props.project}\n          onSortEnd={this.onSortEnd}\n          onAddAnimation={this.addAnimation}\n          onChangeAnimationName={this.changeAnimationName}\n          onRemoveAnimation={this.removeAnimation}\n          onReplaceDirection={this.replaceDirection}\n          onSpriteContextMenu={this.openSpriteContextMenu}\n          selectedSprites={this.state.selectedSprites}\n          onSelectSprite={this.selectSprite}\n          resourcesLoader={this.props.resourcesLoader}\n          resourceSources={this.props.resourceSources}\n          resourceExternalEditors={this.props.resourceExternalEditors}\n          onChooseResource={this.props.onChooseResource}\n          extraBottomTools={this.props.extraBottomTools}\n          useDragHandle\n          lockAxis=\"y\"\n          axis=\"y\"\n        />\n        <ContextMenu\n          ref={spriteContextMenu =>\n            (this.spriteContextMenu = spriteContextMenu)\n          }\n          buildMenuTemplate={() => [\n            {\n              label: 'Delete selection',\n              click: () => this.deleteSelection(),\n            },\n            {\n              label: 'Duplicate selection',\n              click: () => this.duplicateSelection(),\n            },\n          ]}\n        />\n      </div>\n    );\n  }\n}\n\ntype State = {|\n  pointsEditorOpen: boolean,\n  collisionMasksEditorOpen: boolean,\n|};\n\nexport default class SpriteEditor extends React.Component<EditorProps, State> {\n  state = {\n    pointsEditorOpen: false,\n    collisionMasksEditorOpen: false,\n  };\n\n  resourcesLoader: typeof ResourcesLoader;\n\n  constructor(props: EditorProps) {\n    super(props);\n\n    this.resourcesLoader = ResourcesLoader;\n  }\n\n  openPointsEditor = (open: boolean = true) => {\n    this.setState({\n      pointsEditorOpen: open,\n    });\n  };\n\n  openCollisionMasksEditor = (open: boolean = true) => {\n    this.setState({\n      collisionMasksEditorOpen: open,\n    });\n  };\n\n  render() {\n    const {\n      object,\n      project,\n      resourceSources,\n      onChooseResource,\n      resourceExternalEditors,\n      onSizeUpdated,\n      objectName,\n    } = this.props;\n    const spriteObject = gd.asSpriteObject(object);\n\n    return (\n      <div>\n        <AnimationsListContainer\n          spriteObject={spriteObject}\n          resourcesLoader={this.resourcesLoader}\n          resourceSources={resourceSources}\n          onChooseResource={onChooseResource}\n          resourceExternalEditors={resourceExternalEditors}\n          project={project}\n          objectName={objectName}\n          onSizeUpdated={onSizeUpdated}\n          extraBottomTools={\n            <div>\n              <RaisedButton\n                label={<Trans>Edit hitboxes</Trans>}\n                primary={false}\n                onClick={() => this.openCollisionMasksEditor(true)}\n                disabled={spriteObject.getAnimationsCount() === 0}\n              />\n              <RaisedButton\n                label={<Trans>Edit points</Trans>}\n                primary={false}\n                onClick={() => this.openPointsEditor(true)}\n                disabled={spriteObject.getAnimationsCount() === 0}\n              />\n            </div>\n          }\n        />\n        {this.state.pointsEditorOpen && (\n          <Dialog\n            actions={\n              <FlatButton\n                label={<Trans>Close</Trans>}\n                primary\n                onClick={() => this.openPointsEditor(false)}\n              />\n            }\n            autoScrollBodyContent\n            noMargin\n            modal\n            onRequestClose={() => this.openPointsEditor(false)}\n            open={this.state.pointsEditorOpen}\n          >\n            <PointsEditor\n              object={spriteObject}\n              resourcesLoader={this.resourcesLoader}\n              project={project}\n              onPointsUpdated={\n                () =>\n                  this.forceUpdate() /*Force update to ensure dialog is properly positioned*/\n              }\n            />\n          </Dialog>\n        )}\n        {this.state.collisionMasksEditorOpen && (\n          <Dialog\n            actions={\n              <FlatButton\n                label={<Trans>Close</Trans>}\n                primary\n                onClick={() => this.openCollisionMasksEditor(false)}\n              />\n            }\n            autoScrollBodyContent\n            noMargin\n            modal\n            onRequestClose={() => this.openCollisionMasksEditor(false)}\n            open={this.state.collisionMasksEditorOpen}\n          >\n            <CollisionMasksEditor\n              object={spriteObject}\n              resourcesLoader={this.resourcesLoader}\n              project={project}\n              onCollisionMasksUpdated={\n                () =>\n                  this.forceUpdate() /*Force update to ensure dialog is properly positioned*/\n              }\n            />\n          </Dialog>\n        )}\n      </div>\n    );\n  }\n}\n","// @flow\r\nimport React, { Component } from 'react';\r\nimport { SortableContainer, SortableElement } from 'react-sortable-hoc';\r\nimport { mapFor } from '../../../Utils/MapFor';\r\nimport Add from 'material-ui/svg-icons/content/add';\r\nimport IconButton from 'material-ui/IconButton';\r\nimport DirectionTools from './DirectionTools';\r\nimport MiniToolbar from '../../../UI/MiniToolbar';\r\nimport ImageThumbnail, {\r\n  thumbnailContainerStyle,\r\n} from '../../../ResourcesList/ResourceThumbnail/ImageThumbnail';\r\nimport {\r\n  copySpritePoints,\r\n  copySpritePolygons,\r\n  allDirectionSpritesHaveSamePointsAs,\r\n  allDirectionSpritesHaveSameCollisionMasksAs,\r\n} from './Utils/SpriteObjectHelper';\r\nimport ResourcesLoader from '../../../ResourcesLoader';\r\nimport {\r\n  type ResourceSource,\r\n  type ChooseResourceFunction,\r\n} from '../../../ResourcesList/ResourceSource.flow';\r\nimport { type ResourceExternalEditor } from '../../../ResourcesList/ResourceExternalEditor.flow';\r\nimport { applyResourceDefaults } from '../../../ResourcesList/ResourceUtils';\r\nconst gd = global.gd;\r\nconst path = require('path');\r\n\r\nconst SPRITE_SIZE = 100; //TODO: Factor with Thumbnail\r\n\r\nconst styles = {\r\n  spritesList: {\r\n    whiteSpace: 'nowrap',\r\n    overflowY: 'hidden',\r\n  },\r\n  thumbnailExtraStyle: {\r\n    marginRight: 10,\r\n  },\r\n  addSpriteButton: {\r\n    ...thumbnailContainerStyle,\r\n    background: '#FFF',\r\n  },\r\n  spriteThumbnailImage: {\r\n    maxWidth: SPRITE_SIZE,\r\n    maxHeight: SPRITE_SIZE,\r\n    verticalAlign: 'middle',\r\n  },\r\n};\r\n\r\nconst AddSpriteButton = SortableElement(({ displayHint, onAdd }) => {\r\n  return (\r\n    <div style={styles.addSpriteButton}>\r\n      <IconButton onClick={onAdd} style={styles.spriteThumbnailImage}>\r\n        <Add />\r\n      </IconButton>\r\n    </div>\r\n  );\r\n});\r\n\r\nconst SortableSpriteThumbnail = SortableElement(\r\n  ({ sprite, project, resourcesLoader, selected, onSelect, onContextMenu }) => {\r\n    return (\r\n      <ImageThumbnail\r\n        selectable\r\n        selected={selected}\r\n        onSelect={onSelect}\r\n        onContextMenu={onContextMenu}\r\n        resourceName={sprite.getImageName()}\r\n        resourcesLoader={resourcesLoader}\r\n        project={project}\r\n        style={styles.thumbnailExtraStyle}\r\n      />\r\n    );\r\n  }\r\n);\r\n\r\nconst SortableList = SortableContainer(\r\n  ({\r\n    direction,\r\n    project,\r\n    resourcesLoader,\r\n    onAddSprite,\r\n    selectedSprites,\r\n    onSelectSprite,\r\n    onSpriteContextMenu,\r\n  }) => {\r\n    const spritesCount = direction.getSpritesCount();\r\n    return (\r\n      <div style={styles.spritesList}>\r\n        {[\r\n          ...mapFor(0, spritesCount, i => {\r\n            const sprite = direction.getSprite(i);\r\n            return (\r\n              <SortableSpriteThumbnail\r\n                sprite={sprite}\r\n                key={sprite.ptr}\r\n                index={i}\r\n                selected={!!selectedSprites[sprite.ptr]}\r\n                onContextMenu={(x, y) => onSpriteContextMenu(x, y, sprite)}\r\n                onSelect={selected => onSelectSprite(sprite, selected)}\r\n                resourcesLoader={resourcesLoader}\r\n                project={project}\r\n              />\r\n            );\r\n          }),\r\n          <AddSpriteButton\r\n            displayHint={!direction.getSpritesCount()}\r\n            key=\"add-sprite-button\"\r\n            disabled\r\n            index={spritesCount}\r\n            onAdd={onAddSprite}\r\n          />,\r\n        ]}\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\n/**\r\n * Check if all sprites of the given direction have the same points and collision masks\r\n */\r\nconst checkDirectionPointsAndCollisionsMasks = (direction: gdDirection) => {\r\n  let allDirectionSpritesHaveSamePoints = false;\r\n  let allDirectionSpritesHaveSameCollisionMasks = false;\r\n  if (direction.getSpritesCount() !== 0) {\r\n    allDirectionSpritesHaveSamePoints = allDirectionSpritesHaveSamePointsAs(\r\n      direction.getSprite(0),\r\n      direction\r\n    );\r\n    allDirectionSpritesHaveSameCollisionMasks = allDirectionSpritesHaveSameCollisionMasksAs(\r\n      direction.getSprite(0),\r\n      direction\r\n    );\r\n  }\r\n\r\n  return {\r\n    allDirectionSpritesHaveSamePoints,\r\n    allDirectionSpritesHaveSameCollisionMasks,\r\n  };\r\n};\r\n\r\ntype Props = {|\r\n  direction: gdDirection,\r\n  project: gdProject,\r\n  resourcesLoader: typeof ResourcesLoader,\r\n  resourceSources: Array<ResourceSource>,\r\n  resourceExternalEditors: Array<ResourceExternalEditor>,\r\n  onChooseResource: ChooseResourceFunction,\r\n  onSpriteContextMenu: (x: number, y: number, sprite: gdSprite) => void,\r\n  selectedSprites: {\r\n    [number]: boolean,\r\n  },\r\n  onSelectSprite: (sprite: gdSprite, selected: boolean) => void,\r\n  onReplaceByDirection: (newDirection: gdDirection) => void,\r\n  onChangeName: (newAnimationName: string) => void, // Used by piskel to set the name, if there is no name\r\n  objectName: string, // This is used for the default name of images created with Piskel.\r\n  animationName: string, // This is used for the default name of images created with Piskel.\r\n|};\r\n\r\nexport default class SpritesList extends Component<Props, void> {\r\n  onSortEnd = ({\r\n    oldIndex,\r\n    newIndex,\r\n  }: {\r\n    oldIndex: number,\r\n    newIndex: number,\r\n  }) => {\r\n    this.props.direction.moveSprite(oldIndex, newIndex);\r\n    this.forceUpdate();\r\n  };\r\n\r\n  onAddSprite = () => {\r\n    const {\r\n      resourceSources,\r\n      onChooseResource,\r\n      project,\r\n      direction,\r\n    } = this.props;\r\n    if (!resourceSources) return;\r\n    const sources = resourceSources.filter(source => source.kind === 'image');\r\n    if (!sources.length) return;\r\n\r\n    const {\r\n      allDirectionSpritesHaveSameCollisionMasks,\r\n      allDirectionSpritesHaveSamePoints,\r\n    } = checkDirectionPointsAndCollisionsMasks(direction);\r\n\r\n    onChooseResource(sources[0].name).then(resources => {\r\n      resources.forEach(resource => {\r\n        applyResourceDefaults(project, resource);\r\n        project.getResourcesManager().addResource(resource);\r\n\r\n        const sprite = new gd.Sprite();\r\n        sprite.setImageName(resource.getName());\r\n        if (allDirectionSpritesHaveSamePoints) {\r\n          copySpritePoints(direction.getSprite(0), sprite);\r\n        }\r\n        if (allDirectionSpritesHaveSameCollisionMasks) {\r\n          copySpritePolygons(direction.getSprite(0), sprite);\r\n        }\r\n        direction.addSprite(sprite);\r\n      });\r\n\r\n      // Important, we are responsible for deleting the resources that were given to us.\r\n      // Otherwise we have a memory leak, as calling addResource is making a copy of the resource.\r\n      resources.forEach(resource => resource.delete());\r\n\r\n      this.forceUpdate();\r\n    });\r\n  };\r\n\r\n  editWith = (externalEditor: ResourceExternalEditor) => {\r\n    const {\r\n      project,\r\n      direction,\r\n      resourcesLoader,\r\n      onReplaceByDirection,\r\n      onChangeName,\r\n      objectName,\r\n      animationName,\r\n    } = this.props;\r\n    const resourceNames = mapFor(0, direction.getSpritesCount(), i => {\r\n      return direction.getSprite(i).getImageName();\r\n    });\r\n\r\n    const {\r\n      allDirectionSpritesHaveSameCollisionMasks,\r\n      allDirectionSpritesHaveSamePoints,\r\n    } = checkDirectionPointsAndCollisionsMasks(direction);\r\n\r\n    let externalEditorData = {};\r\n    const metadataRaw = direction.getMetadata();\r\n    if (metadataRaw) {\r\n      try {\r\n        externalEditorData = JSON.parse(metadataRaw);\r\n      } catch (e) {\r\n        console.error('Malformed metadata', e);\r\n      }\r\n    }\r\n\r\n    externalEditor.edit({\r\n      project,\r\n      resourcesLoader,\r\n      singleFrame: false,\r\n      resourceNames,\r\n      extraOptions: {\r\n        fps:\r\n          direction.getTimeBetweenFrames() > 0\r\n            ? 1 / direction.getTimeBetweenFrames()\r\n            : 1,\r\n        name:\r\n          animationName ||\r\n          (resourceNames.length > 0\r\n            ? path.basename(resourceNames[0], path.extname(resourceNames[0]))\r\n            : objectName),\r\n        isLooping: direction.isLooping(),\r\n        externalEditorData,\r\n      },\r\n      onChangesSaved: (resources, newAnimationName, metadata) => {\r\n        const newDirection = new gd.Direction();\r\n        newDirection.setTimeBetweenFrames(direction.getTimeBetweenFrames());\r\n        newDirection.setLoop(direction.isLooping());\r\n        resources.forEach(resource => {\r\n          const sprite = new gd.Sprite();\r\n          sprite.setImageName(resource.name);\r\n          // Restore collision masks and points\r\n          if (resource.originalIndex !== undefined) {\r\n            const originalSprite = direction.getSprite(resource.originalIndex);\r\n            copySpritePoints(originalSprite, sprite);\r\n            copySpritePolygons(originalSprite, sprite);\r\n          } else {\r\n            if (allDirectionSpritesHaveSamePoints) {\r\n              copySpritePoints(direction.getSprite(0), sprite);\r\n            }\r\n            if (allDirectionSpritesHaveSameCollisionMasks) {\r\n              copySpritePolygons(direction.getSprite(0), sprite);\r\n            }\r\n          }\r\n          newDirection.addSprite(sprite);\r\n          sprite.delete();\r\n        });\r\n\r\n        // set metadata if there is such on the direction\r\n        if (metadata) {\r\n          newDirection.setMetadata(JSON.stringify(metadata));\r\n        }\r\n\r\n        // Burst the ResourcesLoader cache to force images to be reloaded (and not cached by the browser).\r\n        resourcesLoader.burstUrlsCacheForResources(project, resourceNames);\r\n        onReplaceByDirection(newDirection);\r\n        // Set optional animation name if the user hasn't done so\r\n        if (animationName.length === 0) {\r\n          onChangeName(newAnimationName);\r\n        }\r\n        newDirection.delete();\r\n      },\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <MiniToolbar justifyContent=\"flex-end\" smallest>\r\n          <DirectionTools\r\n            direction={this.props.direction}\r\n            resourcesLoader={this.props.resourcesLoader}\r\n            project={this.props.project}\r\n            resourceExternalEditors={this.props.resourceExternalEditors}\r\n            onEditWith={this.editWith}\r\n          />\r\n        </MiniToolbar>\r\n        <SortableList\r\n          resourcesLoader={this.props.resourcesLoader}\r\n          direction={this.props.direction}\r\n          project={this.props.project}\r\n          onSortEnd={this.onSortEnd}\r\n          onAddSprite={this.onAddSprite}\r\n          selectedSprites={this.props.selectedSprites}\r\n          onSelectSprite={this.props.onSelectSprite}\r\n          onSpriteContextMenu={this.props.onSpriteContextMenu}\r\n          helperClass=\"sortable-helper\"\r\n          lockAxis=\"x\"\r\n          axis=\"x\"\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import { Trans } from '@lingui/macro';\nimport React, { Component } from 'react';\nimport EmptyMessage from '../../../../UI/EmptyMessage';\nimport { Line, Column } from '../../../../UI/Grid';\nimport { mapFor } from '../../../../Utils/MapFor';\nimport PointsList from './PointsList';\nimport PointsPreview from './PointsPreview';\nimport ImagePreview from '../../../../ResourcesList/ResourcePreview/ImagePreview';\nimport {\n  getCurrentElements,\n  allSpritesHaveSamePointsAs,\n  copyAnimationsSpritePoints,\n} from '../Utils/SpriteObjectHelper';\nimport SpriteSelector from '../Utils/SpriteSelector';\nimport every from 'lodash/every';\nconst gd = global.gd;\n\nexport default class PointsEditor extends Component {\n  state = {\n    animationIndex: 0,\n    directionIndex: 0,\n    spriteIndex: 0,\n    samePointsForAnimations: true,\n    samePointsForSprites: true,\n  };\n\n  componentDidMount() {\n    this._updateSamePointsToggles();\n  }\n\n  _updatePoints = () => {\n    const { object } = this.props;\n    const { animationIndex, directionIndex, spriteIndex } = this.state;\n    const spriteObject = gd.asSpriteObject(object);\n\n    const { animation, sprite } = getCurrentElements(\n      spriteObject,\n      animationIndex,\n      directionIndex,\n      spriteIndex\n    );\n\n    if (animation && sprite) {\n      if (this.state.samePointsForAnimations) {\n        mapFor(0, spriteObject.getAnimationsCount(), i => {\n          const otherAnimation = spriteObject.getAnimation(i);\n          copyAnimationsSpritePoints(sprite, otherAnimation);\n        });\n      } else if (this.state.samePointsForSprites) {\n        copyAnimationsSpritePoints(sprite, animation);\n      }\n    }\n\n    this.forceUpdate(); // Refresh the preview\n    if (this.props.onPointsUpdated) this.props.onPointsUpdated();\n  };\n\n  chooseAnimation = index => {\n    this.setState(\n      {\n        animationIndex: index,\n        directionIndex: 0,\n        spriteIndex: 0,\n      },\n      () => this._updateSamePointsToggles()\n    );\n  };\n\n  chooseDirection = index => {\n    this.setState({\n      directionIndex: index,\n      spriteIndex: 0,\n    });\n  };\n\n  chooseSprite = index => {\n    this.setState({\n      spriteIndex: index,\n    });\n  };\n\n  _updateSamePointsToggles = () => {\n    const { object } = this.props;\n    const { animationIndex, directionIndex, spriteIndex } = this.state;\n    const spriteObject = gd.asSpriteObject(object);\n\n    const { animation, sprite } = getCurrentElements(\n      spriteObject,\n      animationIndex,\n      directionIndex,\n      spriteIndex\n    );\n    if (!animation || !sprite) return;\n\n    this.setState({\n      samePointsForAnimations: every(\n        mapFor(0, spriteObject.getAnimationsCount(), i => {\n          const otherAnimation = spriteObject.getAnimation(i);\n          return allSpritesHaveSamePointsAs(sprite, otherAnimation);\n        })\n      ),\n      samePointsForSprites: allSpritesHaveSamePointsAs(sprite, animation),\n    });\n  };\n\n  _setSamePointsForAllAnimations = enable => {\n    if (enable) {\n      // eslint-disable-next-line\n      const answer = confirm(\n        \"Having the same points for all animations will erase and reset all the other animations points. This can't be undone. Are you sure you want to share these points amongst all the animations of the object?\"\n      );\n      if (!answer) return;\n    }\n\n    this.setState(\n      {\n        samePointsForAnimations: enable,\n        samePointsForSprites: enable ? true : this.state.samePointsForSprites,\n      },\n      () => {\n        this._updatePoints();\n      }\n    );\n  };\n\n  _setSamePointsForAllSprites = enable => {\n    if (enable) {\n      // eslint-disable-next-line\n      const answer = confirm(\n        \"Having the same points for all frames will erase and reset all the other frames points. This can't be undone. Are you sure you want to share these points amongst all the frames of the animation?\"\n      );\n      if (!answer) return;\n    }\n\n    this.setState(\n      {\n        samePointsForAnimations: enable\n          ? this.state.samePointsForAnimations\n          : false,\n        samePointsForSprites: enable,\n      },\n      () => {\n        this._updatePoints();\n      }\n    );\n  };\n\n  render() {\n    const { object, resourcesLoader, project } = this.props;\n    const {\n      samePointsForAnimations,\n      samePointsForSprites,\n      animationIndex,\n      directionIndex,\n      spriteIndex,\n    } = this.state;\n    const spriteObject = gd.asSpriteObject(object);\n\n    if (!object.getAnimationsCount()) return null;\n    const { hasValidSprite, sprite } = getCurrentElements(\n      spriteObject,\n      animationIndex,\n      directionIndex,\n      spriteIndex\n    );\n\n    return (\n      <div>\n        <ImagePreview\n          resourceName={hasValidSprite ? sprite.getImageName() : ''}\n          resourcesLoader={resourcesLoader}\n          project={project}\n        >\n          {hasValidSprite && (\n            <PointsPreview\n              pointsContainer={sprite}\n              onPointsUpdated={this._updatePoints}\n            />\n          )}\n        </ImagePreview>\n        <Line>\n          <Column expand>\n            <SpriteSelector\n              spriteObject={spriteObject}\n              animationIndex={animationIndex}\n              directionIndex={directionIndex}\n              spriteIndex={spriteIndex}\n              chooseAnimation={this.chooseAnimation}\n              chooseDirection={this.chooseDirection}\n              chooseSprite={this.chooseSprite}\n              sameForAllAnimations={samePointsForAnimations}\n              sameForAllSprites={samePointsForSprites}\n              setSameForAllAnimations={this._setSamePointsForAllAnimations}\n              setSameForAllSprites={this._setSamePointsForAllSprites}\n              setSameForAllAnimationsLabel={\n                <Trans>Share same points for all animations</Trans>\n              }\n              setSameForAllSpritesLabel={\n                <Trans>\n                  Share same points for all sprites of this animation\n                </Trans>\n              }\n            />\n          </Column>\n        </Line>\n        {!!sprite && (\n          <PointsList\n            pointsContainer={sprite}\n            onPointsUpdated={this._updatePoints}\n          />\n        )}\n        {!sprite && (\n          <EmptyMessage>\n            <Trans>Choose an animation and frame to edit the points</Trans>\n          </EmptyMessage>\n        )}\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport {\n  Table,\n  TableBody,\n  TableHeader,\n  TableHeaderColumn,\n  TableRow,\n  TableRowColumn,\n} from 'material-ui/Table';\nimport { SortableContainer, SortableElement } from 'react-sortable-hoc';\nimport newNameGenerator from '../../../../Utils/NewNameGenerator';\nimport { mapVector } from '../../../../Utils/MapFor';\nimport styles from './styles';\nimport PointRow from './PointRow';\nimport AddPointRow from './AddPointRow';\nconst gd = global.gd;\n\nconst SortableAddPointRow = SortableElement(AddPointRow);\nconst SortablePointRow = SortableElement(PointRow);\n\nclass PointsListBody extends Component {\n  state = {\n    nameErrors: {},\n  };\n\n  _onPointsUpdated() {\n    this.forceUpdate();\n    this.props.onPointsUpdated();\n  }\n\n  updateOriginPointX = newValue => {\n    this.props.pointsContainer.getOrigin().setX(newValue);\n    this._onPointsUpdated();\n  };\n\n  updateOriginPointY = newValue => {\n    this.props.pointsContainer.getOrigin().setY(newValue);\n    this._onPointsUpdated();\n  };\n\n  updateCenterPointX = newValue => {\n    this.props.pointsContainer.getCenter().setX(newValue);\n    this._onPointsUpdated();\n  };\n\n  updateCenterPointY = newValue => {\n    this.props.pointsContainer.getCenter().setY(newValue);\n    this._onPointsUpdated();\n  };\n\n  updatePointX = (point, newValue) => {\n    point.setX(newValue);\n    this._onPointsUpdated();\n  };\n\n  updatePointY = (point, newValue) => {\n    point.setY(newValue);\n    this._onPointsUpdated();\n  };\n\n  render() {\n    const { pointsContainer } = this.props;\n\n    const nonDefaultPoints = pointsContainer.getAllNonDefaultPoints();\n    const pointsRows = mapVector(nonDefaultPoints, (point, i) => {\n      const pointName = point.getName();\n\n      return (\n        <SortablePointRow\n          index={i}\n          disabled\n          key={'point-' + pointName}\n          pointX={point.getX()}\n          pointY={point.getY()}\n          onChangePointX={newValue => this.updatePointX(point, newValue)}\n          onChangePointY={newValue => this.updatePointY(point, newValue)}\n          pointName={pointName}\n          nameError={this.state.nameErrors[pointName]}\n          onBlur={event => {\n            const newName = event.target.value;\n            if (pointName === newName) return;\n\n            let success = true;\n            if (pointsContainer.hasPoint(newName)) {\n              success = false;\n            } else {\n              point.setName(newName);\n            }\n\n            this.setState({\n              nameErrors: {\n                ...this.state.nameErrors,\n                [pointName]: !success,\n              },\n            });\n          }}\n          onRemove={() => {\n            //eslint-disable-next-line\n            const answer = confirm(\n              \"Are you sure you want to remove this point? This can't be undone.\"\n            );\n            if (!answer) return;\n\n            pointsContainer.delPoint(pointName);\n            this._onPointsUpdated();\n          }}\n        />\n      );\n    });\n\n    const originPoint = pointsContainer.getOrigin();\n    const centerPoint = pointsContainer.getCenter();\n\n    const originRow = (\n      <SortablePointRow\n        index={0}\n        key={'origin-point-row'}\n        pointName=\"Origin\"\n        pointX={originPoint.getX()}\n        pointY={originPoint.getY()}\n        onChangePointX={this.updateOriginPointX}\n        onChangePointY={this.updateOriginPointY}\n        disabled\n      />\n    );\n    const centerRow = (\n      <SortablePointRow\n        index={1}\n        key={'center-point-row'}\n        pointName=\"Center\"\n        isAutomatic={pointsContainer.isDefaultCenterPoint()}\n        pointX={centerPoint.getX()}\n        pointY={centerPoint.getY()}\n        onChangePointX={this.updateCenterPointX}\n        onChangePointY={this.updateCenterPointY}\n        disabled\n        onEdit={\n          pointsContainer.isDefaultCenterPoint()\n            ? () => {\n                pointsContainer.setDefaultCenterPoint(false);\n                this._onPointsUpdated();\n              }\n            : null\n        }\n        onRemove={\n          !pointsContainer.isDefaultCenterPoint()\n            ? () => {\n                pointsContainer.setDefaultCenterPoint(true);\n                this._onPointsUpdated();\n              }\n            : null\n        }\n      />\n    );\n\n    const addRow = (\n      <SortableAddPointRow\n        index={0}\n        key={'add-point-row'}\n        disabled\n        onAdd={() => {\n          const name = newNameGenerator('Point', name =>\n            pointsContainer.hasPoint(name)\n          );\n          const point = new gd.Point(name);\n          pointsContainer.addPoint(point);\n          point.delete();\n          this._onPointsUpdated();\n        }}\n      />\n    );\n\n    return (\n      <TableBody\n        displayRowCheckbox={false}\n        deselectOnClickaway={true}\n        showRowHover={true}\n      >\n        {[originRow, centerRow, ...pointsRows, addRow]}\n      </TableBody>\n    );\n  }\n}\n\nconst SortablePointsListBody = SortableContainer(PointsListBody);\nSortablePointsListBody.muiName = 'TableBody';\n\nexport default class PointsList extends Component {\n  render() {\n    return (\n      <Table selectable={false}>\n        <TableHeader displaySelectAll={false} adjustForCheckbox={false}>\n          <TableRow>\n            <TableHeaderColumn style={styles.handleColumn} />\n            <TableHeaderColumn>Point name</TableHeaderColumn>\n            <TableHeaderColumn style={styles.coordinateColumn}>\n              X\n            </TableHeaderColumn>\n            <TableHeaderColumn style={styles.coordinateColumn}>\n              Y\n            </TableHeaderColumn>\n            <TableRowColumn style={styles.toolColumn} />\n          </TableRow>\n        </TableHeader>\n        <SortablePointsListBody\n          pointsContainer={this.props.pointsContainer}\n          onPointsUpdated={this.props.onPointsUpdated}\n          onSortEnd={({ oldIndex, newIndex }) => {\n            // Reordering points is not supported for now\n          }}\n          helperClass=\"sortable-helper\"\n          useDragHandle\n          lockToContainerEdges\n        />\n      </Table>\n    );\n  }\n}\n","import { Trans } from '@lingui/macro';\nimport React from 'react';\nimport { TableRow, TableRowColumn } from 'material-ui/Table';\nimport IconButton from 'material-ui/IconButton';\nimport Delete from 'material-ui/svg-icons/action/delete';\nimport ModeEdit from 'material-ui/svg-icons/editor/mode-edit';\nimport TextField from 'material-ui/TextField';\nimport muiThemeable from 'material-ui/styles/muiThemeable';\nimport styles from './styles';\n\nconst ThemablePointRow = ({\n  pointName,\n  nameError,\n  onBlur,\n  onRemove,\n  pointX,\n  pointY,\n  onChangePointX,\n  onChangePointY,\n  onEdit,\n  isAutomatic,\n  muiTheme,\n}) => (\n  <TableRow\n    style={{\n      backgroundColor: muiTheme.list.itemsBackgroundColor,\n    }}\n  >\n    <TableRowColumn style={styles.handleColumn}>\n      {/* <DragHandle /> Reordering point is not supported for now */}\n    </TableRowColumn>\n    <TableRowColumn>\n      <TextField\n        defaultValue={pointName || 'Base layer'}\n        id={pointName}\n        fullWidth\n        errorText={nameError ? 'This name is already taken' : undefined}\n        disabled={!onBlur}\n        onBlur={onBlur}\n      />\n    </TableRowColumn>\n    <TableRowColumn style={styles.coordinateColumn}>\n      {!isAutomatic ? (\n        <TextField\n          value={pointX}\n          type=\"number\"\n          id=\"point-x\"\n          onChange={(e, value) => onChangePointX(parseFloat(value || 0, 10))}\n        />\n      ) : (\n        <p>\n          <Trans>(auto)</Trans>\n        </p>\n      )}\n    </TableRowColumn>\n    <TableRowColumn style={styles.coordinateColumn}>\n      {!isAutomatic ? (\n        <TextField\n          value={pointY}\n          type=\"number\"\n          id=\"point-y\"\n          onChange={(e, value) => onChangePointY(parseFloat(value || 0, 10))}\n        />\n      ) : (\n        <p>\n          <Trans>(auto)</Trans>\n        </p>\n      )}\n    </TableRowColumn>\n    <TableRowColumn style={styles.toolColumn}>\n      {!!onRemove && (\n        <IconButton onClick={onRemove}>\n          <Delete />\n        </IconButton>\n      )}\n      {!!onEdit && (\n        <IconButton onClick={onEdit}>\n          <ModeEdit />\n        </IconButton>\n      )}\n    </TableRowColumn>\n  </TableRow>\n);\n\nconst PointRow = muiThemeable()(ThemablePointRow);\nexport default PointRow;\n","import React from 'react';\nimport { TableRow, TableRowColumn } from 'material-ui/Table';\nimport Add from 'material-ui/svg-icons/content/add';\nimport IconButton from 'material-ui/IconButton';\nimport styles from './styles';\n\nconst AddPointRow = ({ onAdd }) => (\n  <TableRow>\n    <TableRowColumn style={styles.handleColumn} />\n    <TableRowColumn />\n    <TableRowColumn style={styles.coordinateColumn} />\n    <TableRowColumn style={styles.coordinateColumn} />\n    <TableRowColumn style={styles.toolColumn}>\n      <IconButton onClick={onAdd}>\n        <Add />\n      </IconButton>\n    </TableRowColumn>\n  </TableRow>\n);\n\nexport default AddPointRow;\n","// @flow\nimport React from 'react';\nimport { mapVector } from '../../../../Utils/MapFor';\n\nconst styles = {\n  container: {\n    position: 'relative',\n    width: '100%',\n    height: '100%',\n  },\n};\n\nconst pointKindIdentifiers = {\n  NORMAL: 1,\n  ORIGIN: 2,\n  CENTER: 3,\n};\ntype PointKind = 1 | 2 | 3;\n\ntype Props = {|\n  pointsContainer: gdSprite, // Could potentially be generalized to other things than Sprite in the future.\n  imageWidth: number,\n  imageHeight: number,\n  onPointsUpdated: () => void,\n|};\n\ntype State = {|\n  draggedPoint: ?gdPoint,\n  draggedPointKind: ?PointKind,\n|};\n\nexport default class PointsPreview extends React.Component<Props, State> {\n  _container: ?any;\n  state = {\n    draggedPoint: null,\n    draggedPointKind: null,\n  };\n\n  _onStartDragPoint = (draggedPoint: gdPoint, draggedPointKind: PointKind) => {\n    if (this.state.draggedPoint) return;\n\n    this.setState({\n      draggedPoint,\n      draggedPointKind,\n    });\n  };\n\n  _onEndDragPoint = () => {\n    const draggingWasDone = !!this.state.draggedPoint;\n    this.setState(\n      {\n        draggedPoint: null,\n        draggedPointKind: null,\n      },\n      () => {\n        if (draggingWasDone) this.props.onPointsUpdated();\n      }\n    );\n  };\n\n  /**\n   * Move a point with the mouse. A similar dragging implementation is done in\n   * CollisionMasksPreview (but with svg elements).\n   *\n   * If custom zoom is added, this should be adapted to properly set point coordinates.\n   * TODO: This could be optimized by avoiding the forceUpdate (not sure if worth it though).\n   */\n  _onMouseMove = (event: any) => {\n    const { draggedPoint, draggedPointKind } = this.state;\n    if (!draggedPoint || !this._container) return;\n\n    const containerBoundingRect = this._container.getBoundingClientRect();\n    const xOnContainer = event.clientX - containerBoundingRect.left;\n    const yOnContainer = event.clientY - containerBoundingRect.top;\n\n    if (draggedPointKind === pointKindIdentifiers.CENTER) {\n      this.props.pointsContainer.setDefaultCenterPoint(false);\n    }\n    draggedPoint.setX(xOnContainer);\n    draggedPoint.setY(yOnContainer);\n    this.forceUpdate();\n  };\n\n  _renderPoint = (\n    name: string,\n    x: number,\n    y: number,\n    kind: PointKind,\n    point: gdPoint\n  ) => {\n    const imageSrc =\n      kind === pointKindIdentifiers.ORIGIN\n        ? 'res/originPoint.png'\n        : kind === pointKindIdentifiers.CENTER\n        ? 'res/centerPoint.png'\n        : 'res/point.png';\n    return (\n      <img\n        src={imageSrc}\n        style={{\n          position: 'absolute',\n          left: x,\n          top: y,\n          transform: 'translate(-6px, -5px)',\n          cursor: 'move',\n        }}\n        alt=\"\"\n        key={name}\n        onPointerDown={() => {\n          this._onStartDragPoint(point, kind);\n        }}\n      />\n    );\n  };\n\n  render() {\n    const { pointsContainer, imageWidth, imageHeight } = this.props;\n    const nonDefaultPoints = pointsContainer.getAllNonDefaultPoints();\n    const points = mapVector(nonDefaultPoints, (point, i) =>\n      this._renderPoint(\n        point.getName(),\n        point.getX(),\n        point.getY(),\n        pointKindIdentifiers.NORMAL,\n        point\n      )\n    );\n\n    const originPoint = pointsContainer.getOrigin();\n    const centerPoint = pointsContainer.getCenter();\n    const automaticCenterPosition = pointsContainer.isDefaultCenterPoint();\n\n    return (\n      <div\n        style={styles.container}\n        onPointerMove={this._onMouseMove}\n        onPointerUp={this._onEndDragPoint}\n        ref={container => (this._container = container)}\n      >\n        {points}\n        {this._renderPoint(\n          'Origin',\n          originPoint.getX(),\n          originPoint.getY(),\n          pointKindIdentifiers.ORIGIN,\n          originPoint\n        )}\n        {this._renderPoint(\n          'Center',\n          !automaticCenterPosition ? centerPoint.getX() : imageWidth / 2,\n          !automaticCenterPosition ? centerPoint.getY() : imageHeight / 2,\n          pointKindIdentifiers.CENTER,\n          centerPoint\n        )}\n      </div>\n    );\n  }\n}\n","import { Trans } from '@lingui/macro';\nimport React, { Component } from 'react';\nimport FlatButton from 'material-ui/FlatButton';\nimport EmptyMessage from '../../../../UI/EmptyMessage';\nimport { Line, Column } from '../../../../UI/Grid';\nimport { mapFor } from '../../../../Utils/MapFor';\nimport PolygonsList from './PolygonsList';\nimport CollisionMasksPreview from './CollisionMasksPreview';\nimport ImagePreview from '../../../../ResourcesList/ResourcePreview/ImagePreview';\nimport {\n  getCurrentElements,\n  allSpritesHaveSameCollisionMasksAs,\n  copyAnimationsSpriteCollisionMasks,\n} from '../Utils/SpriteObjectHelper';\nimport SpriteSelector from '../Utils/SpriteSelector';\nimport every from 'lodash/every';\nconst gd = global.gd;\n\nexport default class CollisionMasksEditor extends Component {\n  state = {\n    animationIndex: 0,\n    directionIndex: 0,\n    spriteIndex: 0,\n    sameCollisionMasksForAnimations: true,\n    sameCollisionMasksForSprites: true,\n    spriteWidth: 0,\n    spriteHeight: 0,\n  };\n\n  componentDidMount() {\n    this._updateSameCollisionMasksToggles();\n  }\n\n  _updateCollisionMasks = () => {\n    const { object } = this.props;\n    const { animationIndex, directionIndex, spriteIndex } = this.state;\n    const spriteObject = gd.asSpriteObject(object);\n\n    const { animation, sprite } = getCurrentElements(\n      spriteObject,\n      animationIndex,\n      directionIndex,\n      spriteIndex\n    );\n\n    if (animation && sprite) {\n      if (this.state.sameCollisionMasksForAnimations) {\n        mapFor(0, spriteObject.getAnimationsCount(), i => {\n          const otherAnimation = spriteObject.getAnimation(i);\n          copyAnimationsSpriteCollisionMasks(sprite, otherAnimation);\n        });\n      } else if (this.state.sameCollisionMasksForSprites) {\n        copyAnimationsSpriteCollisionMasks(sprite, animation);\n      }\n    }\n\n    this.forceUpdate(); // Refresh the preview and the list\n    if (this.props.onCollisionMasksUpdated)\n      this.props.onCollisionMasksUpdated();\n  };\n\n  chooseAnimation = index => {\n    this.setState(\n      {\n        animationIndex: index,\n        directionIndex: 0,\n        spriteIndex: 0,\n      },\n      () => this._updateSameCollisionMasksToggles()\n    );\n  };\n\n  chooseDirection = index => {\n    this.setState({\n      directionIndex: index,\n      spriteIndex: 0,\n    });\n  };\n\n  chooseSprite = index => {\n    this.setState({\n      spriteIndex: index,\n    });\n  };\n\n  _updateSameCollisionMasksToggles = () => {\n    const { object } = this.props;\n    const { animationIndex, directionIndex, spriteIndex } = this.state;\n    const spriteObject = gd.asSpriteObject(object);\n\n    const { animation, sprite } = getCurrentElements(\n      spriteObject,\n      animationIndex,\n      directionIndex,\n      spriteIndex\n    );\n    if (!animation || !sprite) return;\n\n    this.setState({\n      sameCollisionMasksForAnimations: every(\n        mapFor(0, spriteObject.getAnimationsCount(), i => {\n          const otherAnimation = spriteObject.getAnimation(i);\n          return allSpritesHaveSameCollisionMasksAs(sprite, otherAnimation);\n        })\n      ),\n      sameCollisionMasksForSprites: allSpritesHaveSameCollisionMasksAs(\n        sprite,\n        animation\n      ),\n    });\n  };\n\n  _onSetCollisionMaskAutomatic = (automatic: boolean = true) => {\n    const { object } = this.props;\n    const { animationIndex, directionIndex, spriteIndex } = this.state;\n    const spriteObject = gd.asSpriteObject(object);\n\n    const { sprite } = getCurrentElements(\n      spriteObject,\n      animationIndex,\n      directionIndex,\n      spriteIndex\n    );\n    if (!sprite) return;\n\n    sprite.setCollisionMaskAutomatic(automatic);\n    this._updateCollisionMasks();\n  };\n\n  _setSameCollisionMasksForAllAnimations = enable => {\n    if (enable) {\n      // eslint-disable-next-line\n      const answer = confirm(\n        \"Having the same collision masks for all animations will erase and reset all the other animations collision masks. This can't be undone. Are you sure you want to share these collision masks amongst all the animations of the object?\"\n      );\n      if (!answer) return;\n    }\n\n    this.setState(\n      {\n        sameCollisionMasksForAnimations: enable,\n        sameCollisionMasksForSprites: enable\n          ? true\n          : this.state.sameCollisionMasksForSprites,\n      },\n      () => {\n        this._updateCollisionMasks();\n      }\n    );\n  };\n\n  _setSameCollisionMasksForAllSprites = enable => {\n    if (enable) {\n      // eslint-disable-next-line\n      const answer = confirm(\n        \"Having the same collision masks for all frames will erase and reset all the other frames collision masks. This can't be undone. Are you sure you want to share these collision masks amongst all the frames of the animation?\"\n      );\n      if (!answer) return;\n    }\n\n    this.setState(\n      {\n        sameCollisionMasksForAnimations: enable\n          ? this.state.sameCollisionMasksForAnimations\n          : false,\n        sameCollisionMasksForSprites: enable,\n      },\n      () => {\n        this._updateCollisionMasks();\n      }\n    );\n  };\n\n  _setCurrentSpriteSize = (spriteWidth: number, spriteHeight: number) => {\n    this.setState({\n      spriteWidth,\n      spriteHeight,\n    });\n  };\n\n  render() {\n    const { object, resourcesLoader, project } = this.props;\n    const {\n      sameCollisionMasksForAnimations,\n      sameCollisionMasksForSprites,\n      animationIndex,\n      directionIndex,\n      spriteIndex,\n      spriteWidth,\n      spriteHeight,\n    } = this.state;\n    const spriteObject = gd.asSpriteObject(object);\n\n    if (!object.getAnimationsCount()) return null;\n    const { hasValidSprite, sprite } = getCurrentElements(\n      spriteObject,\n      animationIndex,\n      directionIndex,\n      spriteIndex\n    );\n\n    return (\n      <div>\n        <ImagePreview\n          resourceName={hasValidSprite ? sprite.getImageName() : ''}\n          resourcesLoader={resourcesLoader}\n          project={project}\n          onSize={this._setCurrentSpriteSize}\n        >\n          {hasValidSprite && (\n            <CollisionMasksPreview\n              isDefaultBoundingBox={sprite.isCollisionMaskAutomatic()}\n              polygons={sprite.getCustomCollisionMask()}\n              onPolygonsUpdated={this._updateCollisionMasks}\n            />\n          )}\n        </ImagePreview>\n        <Line>\n          <Column expand>\n            <SpriteSelector\n              spriteObject={spriteObject}\n              animationIndex={animationIndex}\n              directionIndex={directionIndex}\n              spriteIndex={spriteIndex}\n              chooseAnimation={this.chooseAnimation}\n              chooseDirection={this.chooseDirection}\n              chooseSprite={this.chooseSprite}\n              sameForAllAnimations={sameCollisionMasksForAnimations}\n              sameForAllSprites={sameCollisionMasksForSprites}\n              setSameForAllAnimations={\n                this._setSameCollisionMasksForAllAnimations\n              }\n              setSameForAllSprites={this._setSameCollisionMasksForAllSprites}\n              setSameForAllAnimationsLabel={\n                <Trans>Share same collision masks for all animations</Trans>\n              }\n              setSameForAllSpritesLabel={\n                <Trans>\n                  Share same collision masks for all sprites of this animation\n                </Trans>\n              }\n            />\n          </Column>\n        </Line>\n        {!!sprite && !sprite.isCollisionMaskAutomatic() && (\n          <React.Fragment>\n            <PolygonsList\n              polygons={sprite.getCustomCollisionMask()}\n              onPolygonsUpdated={this._updateCollisionMasks}\n              spriteWidth={spriteWidth}\n              spriteHeight={spriteHeight}\n            />\n            <Line justifyContent=\"center\">\n              <FlatButton\n                label={<Trans>Restore the default collision mask</Trans>}\n                primary={false}\n                onClick={() => this._onSetCollisionMaskAutomatic(true)}\n              />\n            </Line>\n          </React.Fragment>\n        )}\n        {!!sprite && sprite.isCollisionMaskAutomatic() && (\n          <React.Fragment>\n            <EmptyMessage>\n              <Trans>\n                This sprite uses the default collision mask, a rectangle that is\n                as large as the sprite.\n              </Trans>\n            </EmptyMessage>\n            <Line justifyContent=\"center\">\n              <FlatButton\n                label={<Trans>Use a custom collision mask</Trans>}\n                primary={false}\n                onClick={() => this._onSetCollisionMaskAutomatic(false)}\n              />\n            </Line>\n          </React.Fragment>\n        )}\n        {!sprite && (\n          <EmptyMessage>\n            <Trans>\n              Choose an animation and frame to edit the collision masks\n            </Trans>\n          </EmptyMessage>\n        )}\n      </div>\n    );\n  }\n}\n","// @flow\nimport React, { Component } from 'react';\nimport flatten from 'lodash/flatten';\nimport {\n  Table,\n  TableBody,\n  TableHeader,\n  TableHeaderColumn,\n  TableRow,\n  TableRowColumn,\n} from 'material-ui/Table';\nimport { SortableContainer, SortableElement } from 'react-sortable-hoc';\nimport { mapVector } from '../../../../Utils/MapFor';\nimport styles from './styles';\nimport VerticeRow from './VerticeRow';\nimport PolygonRow from './PolygonRow';\nimport AddVerticeRow from './AddVerticeRow';\nimport AddPolygonRow from './AddPolygonRow';\nconst gd = global.gd;\n\nconst SortableAddPolygonRow = SortableElement(AddPolygonRow);\nconst SortableAddVerticeRow = SortableElement(AddVerticeRow);\nconst SortableVerticeRow = SortableElement(VerticeRow);\nconst SortablePolygonRow = SortableElement(PolygonRow);\n\ntype PolygonsListBodyProps = {|\n  polygons: gdVectorPolygon2d,\n  onPolygonsUpdated: () => void,\n\n  // Sprite size is useful to make sure polygon vertices\n  // are not put outside the sprite bounding box, which is not supported:\n  spriteWidth: number,\n  spriteHeight: number,\n|};\n\nclass PolygonsListBody extends Component<PolygonsListBodyProps, void> {\n  _onPolygonUpdated() {\n    this.forceUpdate();\n    this.props.onPolygonsUpdated();\n  }\n\n  updateVerticeX = (vertice, newValue) => {\n    // Ensure vertice stays inside the sprite bounding box.\n    vertice.set_x(Math.min(this.props.spriteWidth, Math.max(newValue, 0)));\n    this._onPolygonUpdated();\n  };\n\n  updateVerticeY = (vertice, newValue) => {\n    // Ensure vertice stays inside the sprite bounding box.\n    vertice.set_y(Math.min(this.props.spriteHeight, Math.max(newValue, 0)));\n    this._onPolygonUpdated();\n  };\n\n  render() {\n    const { polygons } = this.props;\n\n    const polygonRows = flatten(\n      mapVector(polygons, (polygon, i) => {\n        const vertices = polygon.getVertices();\n        const isConvex = polygon.isConvex();\n\n        return [\n          <SortablePolygonRow\n            index={i}\n            disabled\n            key={'polygon-' + i}\n            polygon={polygon}\n            onRemove={() => {\n              gd.removeFromVectorPolygon2d(polygons, i);\n              this._onPolygonUpdated();\n            }}\n            isConvex={isConvex}\n            verticesCount={vertices.size()}\n          />,\n          mapVector(vertices, (vertice, j) => (\n            <SortableVerticeRow\n              index={i}\n              disabled\n              key={`polygon-${i}-vertice-${j}`}\n              verticeX={vertice.get_x()}\n              verticeY={vertice.get_y()}\n              onChangeVerticeX={newValue =>\n                this.updateVerticeX(vertice, newValue)\n              }\n              onChangeVerticeY={newValue =>\n                this.updateVerticeY(vertice, newValue)\n              }\n              onRemove={() => {\n                gd.removeFromVectorVector2f(polygon.getVertices(), j);\n                this._onPolygonUpdated();\n              }}\n              canRemove={vertices.size() > 3}\n              hasWarning={!isConvex}\n            />\n          )),\n          <SortableAddVerticeRow\n            index={0}\n            key={`polygon-${i}-add-vertice-row`}\n            disabled\n            onAdd={() => {\n              const newVertice = new gd.Vector2f();\n              polygon.getVertices().push_back(newVertice);\n              newVertice.delete();\n\n              this._onPolygonUpdated();\n            }}\n          />,\n        ];\n      })\n    );\n\n    const addRow = (\n      <SortableAddPolygonRow\n        index={0}\n        key={'add-polygon-row'}\n        disabled\n        onAdd={() => {\n          const newPolygon = gd.Polygon2d.createRectangle(32, 32);\n          newPolygon.move(\n            this.props.spriteWidth / 2,\n            this.props.spriteHeight / 2\n          );\n          polygons.push_back(newPolygon);\n\n          this._onPolygonUpdated();\n        }}\n      />\n    );\n\n    return (\n      <TableBody\n        displayRowCheckbox={false}\n        deselectOnClickaway={true}\n        showRowHover={true}\n      >\n        {[...polygonRows, addRow]}\n      </TableBody>\n    );\n  }\n}\n\nconst SortablePolygonsListBody = SortableContainer(PolygonsListBody);\nSortablePolygonsListBody.muiName = 'TableBody';\n\ntype Props = {|\n  polygons: gdVectorPolygon2d,\n  onPolygonsUpdated: () => void,\n  spriteWidth: number,\n  spriteHeight: number,\n|};\n\nexport default class PolygonsList extends Component<Props, void> {\n  render() {\n    return (\n      <Table selectable={false}>\n        <TableHeader displaySelectAll={false} adjustForCheckbox={false}>\n          <TableRow>\n            <TableHeaderColumn style={styles.handleColumn} />\n            <TableHeaderColumn>Polygon</TableHeaderColumn>\n            <TableHeaderColumn style={styles.coordinateColumn}>\n              X\n            </TableHeaderColumn>\n            <TableHeaderColumn style={styles.coordinateColumn}>\n              Y\n            </TableHeaderColumn>\n            <TableRowColumn style={styles.toolColumn} />\n          </TableRow>\n        </TableHeader>\n        <SortablePolygonsListBody\n          polygons={this.props.polygons}\n          onPolygonsUpdated={this.props.onPolygonsUpdated}\n          spriteWidth={this.props.spriteWidth}\n          spriteHeight={this.props.spriteHeight}\n          onSortEnd={({ oldIndex, newIndex }) => {\n            // Reordering polygons is not supported for now\n          }}\n          helperClass=\"sortable-helper\"\n          useDragHandle\n          lockToContainerEdges\n        />\n      </Table>\n    );\n  }\n}\n","import React from 'react';\nimport { TableRow, TableRowColumn } from 'material-ui/Table';\nimport IconButton from 'material-ui/IconButton';\nimport Delete from 'material-ui/svg-icons/action/delete';\nimport TextField from 'material-ui/TextField';\nimport Warning from 'material-ui/svg-icons/alert/warning';\nimport muiThemeable from 'material-ui/styles/muiThemeable';\nimport styles from './styles';\n\nconst ThemableVerticeRow = ({\n  hasWarning,\n  canRemove,\n  onRemove,\n  verticeX,\n  verticeY,\n  onChangeVerticeX,\n  onChangeVerticeY,\n  muiTheme,\n}) => (\n  <TableRow\n    style={{\n      backgroundColor: muiTheme.list.itemsBackgroundColor,\n    }}\n  >\n    <TableRowColumn style={styles.handleColumn}>\n      {/* <DragHandle /> Reordering vertices is not supported for now */}\n    </TableRowColumn>\n    <TableRowColumn>{hasWarning && <Warning />}</TableRowColumn>\n    <TableRowColumn style={styles.coordinateColumn}>\n      <TextField\n        value={verticeX}\n        type=\"number\"\n        id=\"vertice-x\"\n        onChange={(e, value) => onChangeVerticeX(parseFloat(value || 0, 10))}\n      />\n    </TableRowColumn>\n    <TableRowColumn style={styles.coordinateColumn}>\n      <TextField\n        value={verticeY}\n        type=\"number\"\n        id=\"vertice-y\"\n        onChange={(e, value) => onChangeVerticeY(parseFloat(value || 0, 10))}\n      />\n    </TableRowColumn>\n    <TableRowColumn style={styles.toolColumn}>\n      {!!onRemove && (\n        <IconButton onClick={onRemove} disabled={!canRemove}>\n          <Delete />\n        </IconButton>\n      )}\n    </TableRowColumn>\n  </TableRow>\n);\n\nconst PointRow = muiThemeable()(ThemableVerticeRow);\nexport default PointRow;\n","import React from 'react';\nimport { TableRow, TableRowColumn } from 'material-ui/Table';\nimport IconButton from 'material-ui/IconButton';\nimport Delete from 'material-ui/svg-icons/action/delete';\nimport muiThemeable from 'material-ui/styles/muiThemeable';\nimport styles from './styles';\n\nconst ThemablePolygonRow = ({\n  onRemove,\n  isConvex,\n  verticesCount,\n  muiTheme,\n}) => {\n  return (\n    <TableRow\n      style={{\n        backgroundColor: muiTheme.list.itemsBackgroundColor,\n      }}\n    >\n      <TableRowColumn style={styles.handleColumn}>\n        {/* <DragHandle /> Reordering polygons is not supported for now */}\n      </TableRowColumn>\n      {isConvex && (\n        <TableRowColumn>\n          {verticesCount === 3 && `Triangle`}\n          {verticesCount === 4 && `Quadrilateral`}\n          {verticesCount >= 5 && `Polygon with ${verticesCount} vertices`}\n        </TableRowColumn>\n      )}\n      {!isConvex && <TableRowColumn>Polygon is not convex!</TableRowColumn>}\n      <TableRowColumn style={styles.coordinateColumn} />\n      <TableRowColumn style={styles.coordinateColumn} />\n      <TableRowColumn style={styles.toolColumn}>\n        {!!onRemove && (\n          <IconButton onClick={onRemove}>\n            <Delete />\n          </IconButton>\n        )}\n      </TableRowColumn>\n    </TableRow>\n  );\n};\n\nconst PointRow = muiThemeable()(ThemablePolygonRow);\nexport default PointRow;\n","import React from 'react';\nimport { TableRow, TableRowColumn } from 'material-ui/Table';\nimport AddCircle from 'material-ui/svg-icons/content/add-circle';\nimport IconButton from 'material-ui/IconButton';\nimport styles from './styles';\n\nconst AddVerticeRow = ({ onAdd }) => (\n  <TableRow>\n    <TableRowColumn style={styles.handleColumn} />\n    <TableRowColumn />\n    <TableRowColumn style={styles.coordinateColumn} />\n    <TableRowColumn style={styles.coordinateColumn} />\n    <TableRowColumn style={styles.toolColumn}>\n      <IconButton onClick={onAdd}>\n        <AddCircle />\n      </IconButton>\n    </TableRowColumn>\n  </TableRow>\n);\n\nexport default AddVerticeRow;\n","import React from 'react';\nimport { TableRow, TableRowColumn } from 'material-ui/Table';\nimport Add from 'material-ui/svg-icons/content/add';\nimport IconButton from 'material-ui/IconButton';\nimport styles from './styles';\n\nconst AddPolygonRow = ({ onAdd }) => (\n  <TableRow>\n    <TableRowColumn style={styles.handleColumn} />\n    <TableRowColumn />\n    <TableRowColumn style={styles.coordinateColumn} />\n    <TableRowColumn style={styles.coordinateColumn} />\n    <TableRowColumn style={styles.toolColumn}>\n      <IconButton onClick={onAdd}>\n        <Add />\n      </IconButton>\n    </TableRowColumn>\n  </TableRow>\n);\n\nexport default AddPolygonRow;\n","// @flow\nimport * as React from 'react';\nimport { mapVector } from '../../../../Utils/MapFor';\n\nconst styles = {\n  container: {\n    position: 'relative',\n  },\n  svg: {\n    width: '100%',\n    height: '100%',\n  },\n  vertexCircle: {\n    cursor: 'move',\n  },\n};\n\ntype Props = {|\n  polygons: gdVectorPolygon2d,\n  isDefaultBoundingBox: boolean,\n  imageWidth: number,\n  imageHeight: number,\n  onPolygonsUpdated: () => void,\n|};\n\ntype State = {|\n  draggedVertex: ?gdVector2f,\n|};\n\nexport default class CollisionMasksPreview extends React.Component<\n  Props,\n  State\n> {\n  _svg: any;\n  state = {\n    draggedVertex: null,\n  };\n\n  _onStartDragVertex = (draggedVertex: gdVector2f) => {\n    if (this.state.draggedVertex) return;\n\n    this.setState({\n      draggedVertex,\n    });\n  };\n\n  _onEndDragVertex = () => {\n    const draggingWasDone = !!this.state.draggedVertex;\n    this.setState(\n      {\n        draggedVertex: null,\n      },\n      () => {\n        if (draggingWasDone) this.props.onPolygonsUpdated();\n      }\n    );\n  };\n\n  /**\n   * Move a vertex with the mouse. A similar dragging implementation is done in\n   * PointsPreview (but with div and img elements).\n   *\n   * If custom zoom is added, this should be adapted to properly set vertex coordinates.\n   * TODO: This could be optimized by avoiding the forceUpdate (not sure if worth it though).\n   */\n  _onPointerMove = (event: any) => {\n    const { draggedVertex } = this.state;\n    if (!draggedVertex) return;\n\n    const pointOnScreen = this._svg.createSVGPoint();\n    pointOnScreen.x = event.clientX;\n    pointOnScreen.y = event.clientY;\n    const screenToSvgMatrix = this._svg.getScreenCTM().inverse();\n    const pointOnSvg = pointOnScreen.matrixTransform(screenToSvgMatrix);\n\n    draggedVertex.set_x(pointOnSvg.x);\n    draggedVertex.set_y(pointOnSvg.y);\n    this.forceUpdate();\n  };\n\n  _renderBoundingBox() {\n    const { imageWidth, imageHeight } = this.props;\n\n    return (\n      <polygon\n        fill=\"rgba(255,0,0,0.2)\"\n        stroke=\"rgba(255,0,0,0.5)\"\n        strokeWidth={1}\n        fileRule=\"evenodd\"\n        points={`0,0 ${imageWidth},0 ${imageWidth},${imageHeight} 0,${imageHeight}`}\n      />\n    );\n  }\n\n  _renderPolygons() {\n    const { polygons } = this.props;\n\n    return (\n      <React.Fragment>\n        {mapVector(polygons, (polygon, i) => {\n          const vertices = polygon.getVertices();\n          return (\n            <polygon\n              key={`polygon-${i}`}\n              fill=\"rgba(255,0,0,0.2)\"\n              stroke=\"rgba(255,0,0,0.5)\"\n              strokeWidth={1}\n              fileRule=\"evenodd\"\n              points={mapVector(\n                vertices,\n                (vertex, j) => `${vertex.get_x()},${vertex.get_y()}`\n              ).join(' ')}\n            />\n          );\n        })}\n        {mapVector(polygons, (polygon, i) => {\n          const vertices = polygon.getVertices();\n          return mapVector(vertices, (vertex, j) => (\n            <circle\n              onPointerDown={event => this._onStartDragVertex(vertex)}\n              key={`polygon-${i}-vertex-${j}`}\n              fill=\"rgba(255,0,0,0.75)\"\n              strokeWidth={1}\n              cx={vertex.get_x()}\n              cy={vertex.get_y()}\n              r={5}\n              style={styles.vertexCircle}\n            />\n          ));\n        })}\n      </React.Fragment>\n    );\n  }\n\n  render() {\n    const { isDefaultBoundingBox } = this.props;\n\n    return (\n      <svg\n        onPointerMove={this._onPointerMove}\n        onPointerUp={this._onEndDragVertex}\n        width={this.props.imageWidth}\n        height={this.props.imageHeight}\n        style={styles.svg}\n        ref={svg => (this._svg = svg)}\n      >\n        {isDefaultBoundingBox && this._renderBoundingBox()}\n        {!isDefaultBoundingBox && this._renderPolygons()}\n      </svg>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport { type EditorProps } from './EditorProps.flow';\nimport { Line, Column } from '../../UI/Grid';\nimport EmptyMessage from '../../UI/EmptyMessage';\n\nexport default class EmptyEditor extends React.Component<EditorProps, void> {\n  render() {\n    return (\n      <Column>\n        <Line>\n          <EmptyMessage>\n            <Trans>\n              This object does not have any specific configuration. Add it on\n              the scene and use events to interact with it.\n            </Trans>\n          </EmptyMessage>\n        </Line>\n      </Column>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport TextField from 'material-ui/TextField';\nimport Checkbox from 'material-ui/Checkbox';\nimport { Line, Column, Spacer } from '../../UI/Grid';\nimport ColorField from '../../UI/ColorField';\nimport { type EditorProps } from './EditorProps.flow';\nconst gd = global.gd;\n\nexport default class PanelSpriteEditor extends React.Component<\n  EditorProps,\n  void\n> {\n  render() {\n    const { object } = this.props;\n    const shapePainterObject = gd.asShapePainterObject(object);\n\n    return (\n      <Column>\n        <Line>\n          <Checkbox\n            label={\n              <Trans>\n                Draw the shapes relative to the object position on the scene\n              </Trans>\n            }\n            checked={!shapePainterObject.areCoordinatesAbsolute()}\n            onCheck={(e, checked) => {\n              if (!checked) shapePainterObject.setCoordinatesAbsolute();\n              else shapePainterObject.setCoordinatesRelative();\n              this.forceUpdate();\n            }}\n          />\n        </Line>\n        <Line>\n          <ColorField\n            floatingLabelText={<Trans>Outline color</Trans>}\n            disableAlpha\n            fullWidth\n            color={{\n              r: shapePainterObject.getOutlineColorR(),\n              g: shapePainterObject.getOutlineColorG(),\n              b: shapePainterObject.getOutlineColorB(),\n              a: 255,\n            }}\n            onChangeComplete={color => {\n              shapePainterObject.setOutlineColor(\n                color.rgb.r,\n                color.rgb.g,\n                color.rgb.b\n              );\n              this.forceUpdate();\n            }}\n          />\n          <TextField\n            floatingLabelText={<Trans>Outline opacity (0-255)</Trans>}\n            fullWidth\n            type=\"number\"\n            value={shapePainterObject.getOutlineOpacity()}\n            onChange={(e, value) => {\n              shapePainterObject.setOutlineOpacity(parseInt(value, 10));\n              this.forceUpdate();\n            }}\n          />\n          <TextField\n            floatingLabelText={<Trans>Outline size (in pixels)</Trans>}\n            fullWidth\n            type=\"number\"\n            value={shapePainterObject.getOutlineSize()}\n            onChange={(e, value) => {\n              shapePainterObject.setOutlineSize(parseInt(value, 10));\n              this.forceUpdate();\n            }}\n          />\n        </Line>\n        <Line>\n          <ColorField\n            floatingLabelText={<Trans>Fill color</Trans>}\n            disableAlpha\n            fullWidth\n            color={{\n              r: shapePainterObject.getFillColorR(),\n              g: shapePainterObject.getFillColorG(),\n              b: shapePainterObject.getFillColorB(),\n              a: 255,\n            }}\n            onChangeComplete={color => {\n              shapePainterObject.setFillColor(\n                color.rgb.r,\n                color.rgb.g,\n                color.rgb.b\n              );\n              this.forceUpdate();\n            }}\n          />\n          <TextField\n            floatingLabelText={<Trans>Fill opacity (0-255)</Trans>}\n            fullWidth\n            type=\"number\"\n            value={shapePainterObject.getFillOpacity()}\n            onChange={(e, value) => {\n              shapePainterObject.setFillOpacity(parseInt(value, 10));\n              this.forceUpdate();\n            }}\n          />\n          <Spacer expand />\n        </Line>\n      </Column>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport Checkbox from 'material-ui/Checkbox';\nimport SelectField from 'material-ui/SelectField';\nimport MenuItem from 'material-ui/MenuItem';\nimport { Line, Column } from '../../UI/Grid';\nimport ColorField from '../../UI/ColorField';\nimport SemiControlledTextField from '../../UI/SemiControlledTextField';\nimport { type EditorProps } from './EditorProps.flow';\nimport ResourceSelectorWithThumbnail from '../../ResourcesList/ResourceSelectorWithThumbnail';\nconst gd = global.gd;\n\nexport default class ParticleEmitterEditor extends React.Component<\n  EditorProps,\n  void\n> {\n  render() {\n    const {\n      object,\n      project,\n      resourceSources,\n      onChooseResource,\n      resourceExternalEditors,\n    } = this.props;\n    const particleEmitterObject = gd.asParticleEmitterObject(object);\n\n    return (\n      <Column>\n        <Line>\n          <Column expand noMargin>\n            <SelectField\n              fullWidth\n              floatingLabelText={<Trans>Particles kind</Trans>}\n              value={particleEmitterObject.getRendererType()}\n              onChange={(e, i, value) => {\n                particleEmitterObject.setRendererType(value);\n                if (value !== gd.ParticleEmitterObject.Quad) {\n                  particleEmitterObject.setParticleTexture('');\n                }\n                this.forceUpdate();\n              }}\n            >\n              <MenuItem\n                value={gd.ParticleEmitterObject.Point}\n                primaryText={<Trans>Point</Trans>}\n              />\n              <MenuItem\n                value={gd.ParticleEmitterObject.Line}\n                primaryText={<Trans>Line</Trans>}\n              />\n              <MenuItem\n                value={gd.ParticleEmitterObject.Quad}\n                primaryText={<Trans>Textured</Trans>}\n              />\n            </SelectField>\n          </Column>\n        </Line>\n        {particleEmitterObject.getRendererType() ===\n          gd.ParticleEmitterObject.Point && (\n          <Line>\n            <Column expand noMargin>\n              <SemiControlledTextField\n                floatingLabelText={<Trans>Size</Trans>}\n                fullWidth\n                type=\"number\"\n                value={particleEmitterObject.getRendererParam1()}\n                onChange={value => {\n                  particleEmitterObject.setRendererParam1(parseFloat(value));\n                  this.forceUpdate();\n                }}\n              />\n            </Column>\n          </Line>\n        )}\n        {particleEmitterObject.getRendererType() ===\n          gd.ParticleEmitterObject.Line && (\n          <Line>\n            <Column expand noMargin>\n              <SemiControlledTextField\n                floatingLabelText={<Trans>Lines length</Trans>}\n                fullWidth\n                type=\"number\"\n                value={particleEmitterObject.getRendererParam1()}\n                onChange={value => {\n                  particleEmitterObject.setRendererParam1(parseFloat(value));\n                  this.forceUpdate();\n                }}\n              />\n            </Column>\n            <Column expand noMargin>\n              <SemiControlledTextField\n                floatingLabelText={<Trans>Lines thickness</Trans>}\n                fullWidth\n                type=\"number\"\n                value={particleEmitterObject.getRendererParam2()}\n                onChange={value => {\n                  particleEmitterObject.setRendererParam2(parseFloat(value));\n                  this.forceUpdate();\n                }}\n              />\n            </Column>\n          </Line>\n        )}\n        {particleEmitterObject.getRendererType() ===\n          gd.ParticleEmitterObject.Quad && (\n          <React.Fragment>\n            <Line>\n              <ResourceSelectorWithThumbnail\n                project={project}\n                resourceSources={resourceSources}\n                onChooseResource={onChooseResource}\n                resourceKind=\"image\"\n                resourceName={particleEmitterObject.getParticleTexture()}\n                resourceExternalEditors={resourceExternalEditors}\n                onChange={resourceName => {\n                  particleEmitterObject.setParticleTexture(resourceName);\n                  this.forceUpdate();\n                }}\n                floatingLabelText={<Trans>Select an image</Trans>}\n              />\n            </Line>\n            <Line>\n              <Column expand noMargin>\n                <SemiControlledTextField\n                  floatingLabelText={<Trans>Particles start width</Trans>}\n                  fullWidth\n                  type=\"number\"\n                  value={particleEmitterObject.getRendererParam1()}\n                  onChange={value => {\n                    particleEmitterObject.setRendererParam1(\n                      Math.max(0, parseFloat(value))\n                    );\n                    this.forceUpdate();\n                  }}\n                />\n              </Column>\n              <Column expand noMargin>\n                <SemiControlledTextField\n                  floatingLabelText={<Trans>Particles start height</Trans>}\n                  fullWidth\n                  type=\"number\"\n                  value={particleEmitterObject.getRendererParam2()}\n                  onChange={value => {\n                    particleEmitterObject.setRendererParam2(\n                      Math.max(0, parseFloat(value))\n                    );\n                    this.forceUpdate();\n                  }}\n                />\n              </Column>\n            </Line>\n          </React.Fragment>\n        )}\n        <Line>\n          <ColorField\n            floatingLabelText={<Trans>Particles start color</Trans>}\n            disableAlpha\n            fullWidth\n            color={{\n              r: particleEmitterObject.getParticleRed1(),\n              g: particleEmitterObject.getParticleGreen1(),\n              b: particleEmitterObject.getParticleBlue1(),\n              a: 255,\n            }}\n            onChangeComplete={color => {\n              particleEmitterObject.setParticleRed1(color.rgb.r);\n              particleEmitterObject.setParticleGreen1(color.rgb.g);\n              particleEmitterObject.setParticleBlue1(color.rgb.b);\n\n              this.forceUpdate();\n            }}\n          />\n          <SemiControlledTextField\n            floatingLabelText={<Trans>Start opacity (0-255)</Trans>}\n            fullWidth\n            type=\"number\"\n            value={particleEmitterObject.getParticleAlpha1()}\n            onChange={value => {\n              particleEmitterObject.setParticleAlpha1(parseInt(value, 10));\n              this.forceUpdate();\n            }}\n          />\n        </Line>\n        <Line>\n          <ColorField\n            floatingLabelText={<Trans>Particles end color</Trans>}\n            disableAlpha\n            fullWidth\n            color={{\n              r: particleEmitterObject.getParticleRed2(),\n              g: particleEmitterObject.getParticleGreen2(),\n              b: particleEmitterObject.getParticleBlue2(),\n              a: 255,\n            }}\n            onChangeComplete={color => {\n              particleEmitterObject.setParticleRed2(color.rgb.r);\n              particleEmitterObject.setParticleGreen2(color.rgb.g);\n              particleEmitterObject.setParticleBlue2(color.rgb.b);\n\n              this.forceUpdate();\n            }}\n          />\n          <SemiControlledTextField\n            floatingLabelText={<Trans>End opacity (0-255)</Trans>}\n            fullWidth\n            type=\"number\"\n            value={particleEmitterObject.getParticleAlpha2()}\n            onChange={value => {\n              particleEmitterObject.setParticleAlpha2(parseInt(value, 10));\n              this.forceUpdate();\n            }}\n          />\n        </Line>\n        <Line>\n          <Checkbox\n            label={<Trans>Additive rendering</Trans>}\n            checked={particleEmitterObject.isRenderingAdditive()}\n            onCheck={(e, checked) => {\n              if (checked) particleEmitterObject.setRenderingAdditive();\n              else particleEmitterObject.setRenderingAlpha();\n              this.forceUpdate();\n            }}\n          />\n        </Line>\n        <Line>\n          <Checkbox\n            label={<Trans>Delete when out of particles</Trans>}\n            checked={particleEmitterObject.getDestroyWhenNoParticles()}\n            onCheck={(e, checked) => {\n              particleEmitterObject.setDestroyWhenNoParticles(checked);\n              this.forceUpdate();\n            }}\n          />\n        </Line>\n        <Line>\n          <Column expand noMargin>\n            <SemiControlledTextField\n              floatingLabelText={\n                <Trans>Maximum number of particles displayed</Trans>\n              }\n              fullWidth\n              type=\"number\"\n              value={particleEmitterObject.getMaxParticleNb()}\n              onChange={value => {\n                particleEmitterObject.setMaxParticleNb(parseInt(value, 10));\n                this.forceUpdate();\n              }}\n            />\n          </Column>\n        </Line>\n        <Line>\n          <Column expand noMargin>\n            <SemiControlledTextField\n              floatingLabelText={\n                <Trans>Number of particles in tank (-1 for infinite)</Trans>\n              }\n              fullWidth\n              type=\"number\"\n              value={particleEmitterObject.getTank()}\n              onChange={value => {\n                particleEmitterObject.setTank(parseInt(value, 10));\n                this.forceUpdate();\n              }}\n            />\n          </Column>\n          <Column expand noMargin>\n            <SemiControlledTextField\n              floatingLabelText={\n                <Trans>Flow of particles (particles/seconds)</Trans>\n              }\n              fullWidth\n              type=\"number\"\n              value={particleEmitterObject.getFlow()}\n              onChange={value => {\n                particleEmitterObject.setFlow(parseInt(value, 10));\n                this.forceUpdate();\n              }}\n            />\n          </Column>\n        </Line>\n        <Line>\n          <Column expand noMargin>\n            <SemiControlledTextField\n              floatingLabelText={\n                <Trans>Minimum emitter force applied on particles</Trans>\n              }\n              fullWidth\n              type=\"number\"\n              value={particleEmitterObject.getEmitterForceMin()}\n              onChange={value => {\n                particleEmitterObject.setEmitterForceMin(parseInt(value, 10));\n                this.forceUpdate();\n              }}\n            />\n          </Column>\n          <Column expand noMargin>\n            <SemiControlledTextField\n              floatingLabelText={\n                <Trans>Maximum emitter force applied on particles</Trans>\n              }\n              fullWidth\n              type=\"number\"\n              value={particleEmitterObject.getEmitterForceMax()}\n              onChange={value => {\n                particleEmitterObject.setEmitterForceMax(parseInt(value, 10));\n                this.forceUpdate();\n              }}\n            />\n          </Column>\n        </Line>\n        <Line>\n          <Column expand noMargin>\n            <SemiControlledTextField\n              floatingLabelText={<Trans>Spray cone angle (in degrees)</Trans>}\n              fullWidth\n              type=\"number\"\n              value={particleEmitterObject.getConeSprayAngle()}\n              onChange={value => {\n                particleEmitterObject.setConeSprayAngle(parseInt(value, 10));\n                this.forceUpdate();\n              }}\n            />\n          </Column>\n          <Column expand noMargin>\n            <SemiControlledTextField\n              floatingLabelText={<Trans>Radius of the emitter</Trans>}\n              fullWidth\n              type=\"number\"\n              value={particleEmitterObject.getZoneRadius()}\n              onChange={value => {\n                particleEmitterObject.setZoneRadius(parseInt(value, 10));\n                this.forceUpdate();\n              }}\n            />\n          </Column>\n        </Line>\n        <Line>\n          <Column expand noMargin>\n            <SemiControlledTextField\n              floatingLabelText={<Trans>Gravity on particles on X axis</Trans>}\n              fullWidth\n              type=\"number\"\n              value={particleEmitterObject.getParticleGravityX()}\n              onChange={value => {\n                particleEmitterObject.setParticleGravityX(parseFloat(value));\n                this.forceUpdate();\n              }}\n            />\n          </Column>\n          <Column expand noMargin>\n            <SemiControlledTextField\n              floatingLabelText={<Trans>Gravity on particles on Y axis</Trans>}\n              fullWidth\n              type=\"number\"\n              value={particleEmitterObject.getParticleGravityY()}\n              onChange={value => {\n                particleEmitterObject.setParticleGravityY(parseFloat(value));\n                this.forceUpdate();\n              }}\n            />\n          </Column>\n        </Line>\n        <Line>\n          <Column expand noMargin>\n            <SemiControlledTextField\n              floatingLabelText={<Trans>Friction on particles</Trans>}\n              fullWidth\n              type=\"number\"\n              value={particleEmitterObject.getFriction()}\n              onChange={value => {\n                particleEmitterObject.setFriction(parseFloat(value));\n                this.forceUpdate();\n              }}\n            />\n          </Column>\n        </Line>\n        <Line>\n          <Column expand noMargin>\n            <SemiControlledTextField\n              floatingLabelText={\n                <Trans>Particle minimum lifetime (in seconds)</Trans>\n              }\n              fullWidth\n              type=\"number\"\n              value={particleEmitterObject.getParticleLifeTimeMin()}\n              onChange={value => {\n                particleEmitterObject.setParticleLifeTimeMin(parseFloat(value));\n                this.forceUpdate();\n              }}\n            />\n          </Column>\n          <Column expand noMargin>\n            <SemiControlledTextField\n              floatingLabelText={\n                <Trans>Particle maximum lifetime (in seconds)</Trans>\n              }\n              fullWidth\n              type=\"number\"\n              value={particleEmitterObject.getParticleLifeTimeMax()}\n              onChange={value => {\n                particleEmitterObject.setParticleLifeTimeMax(parseFloat(value));\n                this.forceUpdate();\n              }}\n            />\n          </Column>\n        </Line>\n        <Line>\n          <Column expand noMargin>\n            <SemiControlledTextField\n              floatingLabelText={\n                <Trans>Particle start size (in percents)</Trans>\n              }\n              fullWidth\n              type=\"number\"\n              value={particleEmitterObject.getParticleSize1()}\n              onChange={value => {\n                particleEmitterObject.setParticleSize1(parseFloat(value));\n                this.forceUpdate();\n              }}\n            />\n          </Column>\n          <Column expand noMargin>\n            <SemiControlledTextField\n              floatingLabelText={<Trans>Particle end size (in percents)</Trans>}\n              fullWidth\n              type=\"number\"\n              value={particleEmitterObject.getParticleSize2()}\n              onChange={value => {\n                particleEmitterObject.setParticleSize2(parseFloat(value));\n                this.forceUpdate();\n              }}\n            />\n          </Column>\n        </Line>\n        <Line>\n          <Column expand noMargin>\n            <SemiControlledTextField\n              floatingLabelText={\n                <Trans>Particle minimum rotation speed (degrees/second)</Trans>\n              }\n              fullWidth\n              type=\"number\"\n              value={particleEmitterObject.getParticleAngle1()}\n              onChange={value => {\n                particleEmitterObject.setParticleAngle1(parseFloat(value));\n                this.forceUpdate();\n              }}\n            />\n          </Column>\n          <Column expand noMargin>\n            <SemiControlledTextField\n              floatingLabelText={\n                <Trans>Particle maximum rotation speed (degrees/second)</Trans>\n              }\n              fullWidth\n              type=\"number\"\n              value={particleEmitterObject.getParticleAngle2()}\n              onChange={value => {\n                particleEmitterObject.setParticleAngle2(parseFloat(value));\n                this.forceUpdate();\n              }}\n            />\n          </Column>\n        </Line>\n      </Column>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport { I18n } from '@lingui/react';\n\nimport * as React from 'react';\nimport PropertiesEditor from '../../PropertiesEditor';\nimport propertiesMapToSchema from '../../PropertiesEditor/PropertiesMapToSchema';\nimport EmptyMessage from '../../UI/EmptyMessage';\nimport { type EditorProps } from './EditorProps.flow';\nimport { Column, Line } from '../../UI/Grid';\nimport { getExtraObjectsInformation } from '../../Hints';\nimport AlertMessage from '../../UI/AlertMessage';\n\ntype Props = EditorProps;\n\nexport default class ObjectPropertiesEditor extends React.Component<Props> {\n  render() {\n    const {\n      object,\n      project,\n      resourceSources,\n      onChooseResource,\n      resourceExternalEditors,\n    } = this.props;\n    const properties = object.getProperties(project);\n\n    const propertiesSchema = propertiesMapToSchema(\n      properties,\n      object => object.getProperties(project),\n      (object, name, value) => object.updateProperty(name, value, project)\n    );\n\n    const extraInformation = getExtraObjectsInformation()[object.getType()];\n\n    return (\n      <I18n>\n        {({ i18n }) => (\n          <Column>\n            {propertiesSchema.length ? (\n              <React.Fragment>\n                {extraInformation ? (\n                  <Line>\n                    <Column noMargin>\n                      {extraInformation.map(({ kind, message }, index) => (\n                        <AlertMessage kind={kind} key={index}>\n                          {i18n._(message)}\n                        </AlertMessage>\n                      ))}\n                    </Column>\n                  </Line>\n                ) : null}\n                <PropertiesEditor\n                  schema={propertiesSchema}\n                  instances={[object]}\n                  project={project}\n                  resourceSources={resourceSources}\n                  onChooseResource={onChooseResource}\n                  resourceExternalEditors={resourceExternalEditors}\n                />\n              </React.Fragment>\n            ) : (\n              <EmptyMessage>\n                <Trans>\n                  There is nothing to configure for this object. You can still\n                  use events to interact with the object.\n                </Trans>\n              </EmptyMessage>\n            )}\n          </Column>\n        )}\n      </I18n>\n    );\n  }\n}\n","import { Trans } from '@lingui/macro';\nimport React, { Component } from 'react';\nimport TextField from 'material-ui/TextField';\nimport Add from 'material-ui/svg-icons/content/add';\nimport Delete from 'material-ui/svg-icons/action/delete';\nimport IconButton from 'material-ui/IconButton';\nimport EmptyMessage from '../UI/EmptyMessage';\nimport MiniToolbar from '../UI/MiniToolbar';\nimport HelpIcon from '../UI/HelpIcon';\nimport newNameGenerator from '../Utils/NewNameGenerator';\nimport NewBehaviorDialog from './NewBehaviorDialog';\nimport { getBehaviorHelpPagePath } from './BehaviorsHelpPagePaths';\nimport BehaviorsEditorService from './BehaviorsEditorService';\nimport { isNullPtr } from '../Utils/IsNullPtr';\nconst gd = global.gd;\n\nconst styles = {\n  addBehaviorLine: {\n    display: 'flex',\n    justifyContent: 'flex-end',\n  },\n  addBehaviorText: {\n    justifyContent: 'flex-end',\n  },\n  behaviorTitle: {\n    flex: 1,\n  },\n  behaviorTools: {\n    flexShrink: 0,\n  },\n};\nconst AddBehaviorLine = ({ onAdd }) => (\n  <div style={styles.addBehaviorLine}>\n    <EmptyMessage style={styles.addBehaviorText}>\n      Click to add a behavior to the object:\n    </EmptyMessage>\n    <IconButton onClick={onAdd}>\n      <Add />\n    </IconButton>\n  </div>\n);\n\nexport default class BehaviorsEditor extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { newBehaviorDialogOpen: false };\n  }\n\n  componentWillMount() {\n    this._loadFrom(this.props.object);\n  }\n\n  componentWillReceiveProps(newProps) {\n    if (this.props.object !== newProps.object) {\n      this._loadFrom(newProps.object);\n    }\n  }\n\n  _loadFrom(object) {\n    if (!object) return;\n  }\n\n  chooseNewBehavior = () => {\n    this.setState({\n      newBehaviorDialogOpen: true,\n    });\n  };\n\n  _hasBehaviorWithType = type => {\n    const { object } = this.props;\n    const allBehaviorNames = object.getAllBehaviorNames().toJSArray();\n\n    return allBehaviorNames\n      .map(behaviorName => object.getBehavior(behaviorName))\n      .map(behavior => behavior.getTypeName())\n      .filter(behaviorType => behaviorType === type).length;\n  };\n\n  addBehavior = (type, defaultName) => {\n    const { object, project } = this.props;\n\n    this.setState(\n      {\n        newBehaviorDialogOpen: false,\n      },\n      () => {\n        if (this._hasBehaviorWithType(type)) {\n          //eslint-disable-next-line\n          const answer = confirm(\n            \"There is already a behavior of this type attached to the object. It's possible to add again this behavior but it's unusual and may not be always supported properly. Are you sure you want to add again this behavior?\"\n          );\n\n          if (!answer) return;\n        }\n\n        const name = newNameGenerator(defaultName, name =>\n          object.hasBehaviorNamed(name)\n        );\n        object.addNewBehavior(project, type, name);\n\n        this.forceUpdate();\n        if (this.props.onSizeUpdated) this.props.onSizeUpdated();\n      }\n    );\n  };\n\n  _onChangeBehaviorName = (behaviorContent, newName) => {\n    // TODO: This is disabled for now as there is no proper refactoring\n    // of events after a behavior renaming. Once refactoring is available,\n    // the text field can be enabled again and refactoring calls added here\n    // (or in a parent).\n    // Renaming a behavior is something that is really rare anyway! :)\n\n    const { object } = this.props;\n    if (object.hasBehaviorNamed(newName)) return;\n\n    object.renameBehavior(behaviorContent.getName(), newName);\n    this.forceUpdate();\n  };\n\n  _onRemoveBehavior = behaviorName => {\n    const { object } = this.props;\n    //eslint-disable-next-line\n    const answer = confirm(\n      \"Are you sure you want to remove this behavior? This can't be undone.\"\n    );\n\n    if (answer) {\n      object.removeBehavior(behaviorName);\n      this.forceUpdate();\n      if (this.props.onSizeUpdated) this.props.onSizeUpdated();\n    }\n  };\n\n  render() {\n    const { object, project } = this.props;\n    const allBehaviorNames = object.getAllBehaviorNames().toJSArray();\n\n    return (\n      <div>\n        {allBehaviorNames\n          .map((behaviorName, index) => {\n            const behaviorContent = object.getBehavior(behaviorName);\n            const behavior = gd.JsPlatform.get().getBehavior(\n              behaviorContent.getTypeName()\n            );\n            if (isNullPtr(gd, behavior)) {\n              return (\n                <div key={index}>\n                  <MiniToolbar>\n                    <span style={styles.behaviorTitle}>\n                      <Trans>Unknown behavior</Trans>{' '}\n                      <TextField value={behaviorName} disabled />\n                    </span>\n                    <span style={styles.behaviorTools}>\n                      <IconButton\n                        onClick={() => this._onRemoveBehavior(behaviorName)}\n                      >\n                        <Delete />\n                      </IconButton>\n                    </span>\n                  </MiniToolbar>\n                  <EmptyMessage>\n                    This behavior is unknown. It might be a behavior that was\n                    defined in an extension and that was later removed. You\n                    should delete it.\n                  </EmptyMessage>\n                </div>\n              );\n            }\n\n            const BehaviorComponent = BehaviorsEditorService.getEditor(\n              behaviorContent.getTypeName()\n            );\n\n            return (\n              <div key={index}>\n                <MiniToolbar>\n                  <span style={styles.behaviorTitle}>\n                    <Trans>Behavior</Trans>{' '}\n                    <TextField\n                      value={behaviorName}\n                      hintText={<Trans>Behavior name</Trans>}\n                      disabled\n                      onChange={(e, text) =>\n                        this._onChangeBehaviorName(behaviorContent, text)\n                      }\n                    />\n                  </span>\n                  <span style={styles.behaviorTools}>\n                    <IconButton\n                      onClick={() => this._onRemoveBehavior(behaviorName)}\n                    >\n                      <Delete />\n                    </IconButton>\n                    <HelpIcon\n                      helpPagePath={getBehaviorHelpPagePath(behavior)}\n                    />\n                  </span>\n                </MiniToolbar>\n                <BehaviorComponent\n                  behavior={behavior}\n                  behaviorContent={behaviorContent}\n                  project={project}\n                  resourceSources={this.props.resourceSources}\n                  onChooseResource={this.props.onChooseResource}\n                  resourceExternalEditors={this.props.resourceExternalEditors}\n                />\n              </div>\n            );\n          })\n          .concat(\n            <AddBehaviorLine\n              key=\"add-behavior-line\"\n              onAdd={this.chooseNewBehavior}\n            />\n          )}\n        {this.state.newBehaviorDialogOpen && (\n          <NewBehaviorDialog\n            open={this.state.newBehaviorDialogOpen}\n            objectType={object.getType()}\n            onClose={() => this.setState({ newBehaviorDialogOpen: false })}\n            onChoose={this.addBehavior}\n            project={project}\n          />\n        )}\n      </div>\n    );\n  }\n}\n","// @flow\nimport React from 'react';\nimport HelpOutline from 'material-ui/svg-icons/action/help-outline';\nimport IconButton from 'material-ui/IconButton';\nimport { getHelpLink } from '../../Utils/HelpLink';\nimport Window from '../../Utils/Window';\n\ntype PropsType = {\n  helpPagePath: ?string,\n};\n\n/**\n * The icon that can be used in any dialog to open a help page\n */\nexport default (props: PropsType) => {\n  const { helpPagePath } = props;\n  if (!helpPagePath) return null;\n\n  return (\n    <IconButton\n      onClick={() => Window.openExternalURL(getHelpLink(helpPagePath))}\n    >\n      <HelpOutline />\n    </IconButton>\n  );\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport { I18n } from '@lingui/react';\nimport { type I18n as I18nType } from '@lingui/core';\n\nimport React, { Component } from 'react';\nimport Dialog from '../UI/Dialog';\nimport HelpButton from '../UI/HelpButton';\nimport FlatButton from 'material-ui/FlatButton';\nimport Subheader from 'material-ui/Subheader';\nimport Avatar from 'material-ui/Avatar';\nimport { Tabs, Tab } from 'material-ui/Tabs';\nimport { List, ListItem } from 'material-ui/List';\nimport Visibility from 'material-ui/svg-icons/action/visibility';\nimport VisibilityOff from 'material-ui/svg-icons/action/visibility-off';\nimport Create from 'material-ui/svg-icons/content/create';\nimport { Line } from '../UI/Grid';\nimport { showMessageBox } from '../UI/Messages/MessageBox';\nimport { getDeprecatedBehaviorsInformation } from '../Hints';\nimport { getHelpLink } from '../Utils/HelpLink';\nimport {\n  type EnumeratedBehaviorMetadata,\n  enumerateBehaviorsMetadata,\n  filterEnumeratedBehaviorMetadata,\n} from './EnumerateBehaviorsMetadata';\nimport SearchBar from 'material-ui-search-bar';\nimport EmptyMessage from '../UI/EmptyMessage';\nimport ExtensionsSearch from '../ExtensionsSearch';\nimport Window from '../Utils/Window';\n\nconst styles = {\n  icon: { borderRadius: 0 },\n  disabledItem: { opacity: 0.6 },\n};\n\nconst BehaviorListItem = ({\n  behaviorMetadata,\n  onClick,\n  disabled,\n}: {|\n  behaviorMetadata: EnumeratedBehaviorMetadata,\n  onClick: () => void,\n  disabled: boolean,\n|}) => (\n  <ListItem\n    leftAvatar={\n      <Avatar src={behaviorMetadata.iconFilename} style={styles.icon} />\n    }\n    key={behaviorMetadata.type}\n    primaryText={behaviorMetadata.fullName}\n    secondaryText={<p>{behaviorMetadata.description}</p>}\n    secondaryTextLines={2}\n    onClick={onClick}\n    style={disabled ? styles.disabledItem : undefined}\n    disabled={disabled}\n  />\n);\n\ntype TabName = 'installed' | 'search';\n\ntype Props = {|\n  project: gdProject,\n  objectType: string,\n  open: boolean,\n  onClose: () => void,\n  onChoose: (type: string, defaultName: string) => void,\n|};\ntype State = {|\n  behaviorMetadata: Array<EnumeratedBehaviorMetadata>,\n  showDeprecated: boolean,\n  searchText: string,\n  currentTab: TabName,\n|};\n\nexport default class NewBehaviorDialog extends Component<Props, State> {\n  state = {\n    ...this._loadFrom(this.props.project),\n    showDeprecated: false,\n    searchText: '',\n    currentTab: 'installed',\n  };\n  _searchBar = React.createRef<SearchBar>();\n\n  componentDidMount() {\n    setTimeout(() => {\n      if (this._searchBar.current) this._searchBar.current.focus();\n    }, 20 /* Be sure that the search bar is shown */);\n  }\n\n  _loadFrom(\n    project: gdProject\n  ): {| behaviorMetadata: Array<EnumeratedBehaviorMetadata> |} {\n    const platform = project.getCurrentPlatform();\n    return {\n      behaviorMetadata:\n        project && platform\n          ? enumerateBehaviorsMetadata(platform, project)\n          : [],\n    };\n  }\n\n  componentWillReceiveProps(newProps: Props) {\n    if (\n      (!this.props.open && newProps.open) ||\n      (newProps.open && this.props.project !== newProps.project)\n    ) {\n      this.setState(this._loadFrom(newProps.project));\n    }\n  }\n\n  _showDeprecated = (showDeprecated: boolean = true) => {\n    this.setState({\n      showDeprecated,\n    });\n  };\n\n  _onNewExtensionInstalled = () => {\n    // Reload behaviors\n    this.setState(this._loadFrom(this.props.project), () => {\n      this._changeTab('installed');\n    });\n  };\n\n  _changeTab = (newTab: TabName) =>\n    this.setState({\n      currentTab: newTab,\n    });\n\n  render() {\n    const { project, open, onClose, objectType } = this.props;\n    const {\n      showDeprecated,\n      behaviorMetadata,\n      searchText,\n      currentTab,\n    } = this.state;\n    if (!open || !project) return null;\n\n    const deprecatedBehaviorsInformation = getDeprecatedBehaviorsInformation();\n\n    const filteredBehaviorMetadata = filterEnumeratedBehaviorMetadata(\n      behaviorMetadata,\n      searchText\n    );\n    const behaviors = filteredBehaviorMetadata.filter(\n      ({ type }) => !deprecatedBehaviorsInformation[type]\n    );\n    const deprecatedBehaviors = filteredBehaviorMetadata.filter(\n      ({ type }) => !!deprecatedBehaviorsInformation[type]\n    );\n\n    const chooseBehavior = (\n      i18n: I18nType,\n      { type, defaultName }: EnumeratedBehaviorMetadata\n    ) => {\n      if (deprecatedBehaviorsInformation[type]) {\n        showMessageBox(i18n._(deprecatedBehaviorsInformation[type].warning));\n      }\n\n      return this.props.onChoose(type, defaultName);\n    };\n\n    const canBehaviorBeUsed = (\n      behaviorMetadata: EnumeratedBehaviorMetadata\n    ) => {\n      // An empty object type means the base object, i.e: any object.\n      return (\n        behaviorMetadata.objectType === '' ||\n        behaviorMetadata.objectType === objectType\n      );\n    };\n\n    const hasSearchNoResult =\n      !!searchText && !behaviors.length && !deprecatedBehaviors.length;\n\n    return (\n      <I18n>\n        {({ i18n }) => (\n          <Dialog\n            title={<Trans>Add a new behavior to the object</Trans>}\n            actions={[\n              <FlatButton\n                key=\"close\"\n                label={<Trans>Close</Trans>}\n                primary={false}\n                onClick={onClose}\n              />,\n            ]}\n            secondaryActions={<HelpButton helpPagePath=\"/behaviors\" />}\n            open={open}\n            noMargin\n            autoScrollBodyContent\n          >\n            <Tabs value={currentTab} onChange={this._changeTab}>\n              <Tab label={<Trans>Installed Behaviors</Trans>} value=\"installed\">\n                <SearchBar\n                  value={searchText}\n                  onRequestSearch={() => {\n                    if (behaviors.length) {\n                      chooseBehavior(i18n, behaviors[0]);\n                    } else if (showDeprecated && deprecatedBehaviors.length) {\n                      chooseBehavior(i18n, deprecatedBehaviors[0]);\n                    }\n                  }}\n                  onChange={text =>\n                    this.setState({\n                      searchText: text,\n                    })\n                  }\n                  ref={this._searchBar}\n                />\n                {hasSearchNoResult && (\n                  <EmptyMessage>\n                    <Trans>\n                      No behavior found for your search. Try another search, or\n                      search for new behaviors to install.\n                    </Trans>\n                  </EmptyMessage>\n                )}\n                <List>\n                  {behaviors.map((behaviorMetadata, index) => (\n                    <BehaviorListItem\n                      key={index}\n                      behaviorMetadata={behaviorMetadata}\n                      onClick={() => chooseBehavior(i18n, behaviorMetadata)}\n                      disabled={!canBehaviorBeUsed(behaviorMetadata)}\n                    />\n                  ))}\n                  {showDeprecated && !!deprecatedBehaviors.length && (\n                    <Subheader>\n                      Deprecated (old, prefer not to use anymore)\n                    </Subheader>\n                  )}\n                  {showDeprecated &&\n                    deprecatedBehaviors.map((behaviorMetadata, index) => (\n                      <BehaviorListItem\n                        key={index}\n                        behaviorMetadata={behaviorMetadata}\n                        onClick={() => chooseBehavior(i18n, behaviorMetadata)}\n                        disabled={!canBehaviorBeUsed(behaviorMetadata)}\n                      />\n                    ))}\n                </List>\n                <Line justifyContent=\"center\" alignItems=\"center\">\n                  {!showDeprecated ? (\n                    <FlatButton\n                      key=\"toggle-experimental\"\n                      icon={<Visibility />}\n                      primary={false}\n                      onClick={() => this._showDeprecated(true)}\n                      label={<Trans>Show deprecated (old) behaviors</Trans>}\n                    />\n                  ) : (\n                    <FlatButton\n                      key=\"toggle-experimental\"\n                      icon={<VisibilityOff />}\n                      primary={false}\n                      onClick={() => this._showDeprecated(false)}\n                      label={<Trans>Show deprecated (old) behaviors</Trans>}\n                    />\n                  )}\n                </Line>\n                <Line justifyContent=\"center\" alignItems=\"center\">\n                  <FlatButton\n                    icon={<Create />}\n                    primary={false}\n                    onClick={() =>\n                      Window.openExternalURL(\n                        getHelpLink('/behaviors/events-based-behaviors')\n                      )\n                    }\n                    label={<Trans>Create your own behavior</Trans>}\n                  />\n                </Line>\n              </Tab>\n              <Tab label={<Trans>Search New Behaviors</Trans>} value=\"search\">\n                <ExtensionsSearch\n                  project={project}\n                  onNewExtensionInstalled={this._onNewExtensionInstalled}\n                  showOnlyWithBehaviors\n                />\n              </Tab>\n            </Tabs>\n          </Dialog>\n        )}\n      </I18n>\n    );\n  }\n}\n","/**\n * Return the help page for the given behavior\n * @param {*} behavior\n */\nexport const getBehaviorHelpPagePath = behavior => {\n  if (!behavior) return null;\n\n  switch (behavior.getTypeName()) {\n    case 'DraggableBehavior::Draggable':\n      return '/behaviors/draggable';\n    case 'PlatformBehavior::PlatformerObjectBehavior':\n      return '/behaviors/platformer';\n    case 'PlatformBehavior::PlatformBehavior':\n      return '/behaviors/platformer';\n    default:\n      return '';\n  }\n};\n","// @flow\nconst gd = global.gd;\n\nexport default class InstancesSelection {\n  selection: Array<gdInitialInstance> = [];\n\n  hasSelectedInstances() {\n    return !!this.getSelectedInstances().length;\n  }\n\n  getSelectedInstances() {\n    return this.selection;\n  }\n\n  isInstanceSelected(instance: gdInitialInstance) {\n    for (var i = 0; i < this.selection.length; i++) {\n      if (gd.compare(this.selection[i], instance)) return true;\n    }\n\n    return false;\n  }\n\n  clearSelection() {\n    this.selection.length = 0;\n  }\n\n  selectInstance(\n    instance: gdInitialInstance,\n    multiselect: boolean,\n    layersVisibility: ?{ [string]: boolean } = null\n  ) {\n    if (this.isInstanceSelected(instance)) {\n      if (multiselect) this.unselectInstance(instance);\n\n      return;\n    }\n\n    if (!multiselect) this.clearSelection();\n\n    if (!layersVisibility || layersVisibility[instance.getLayer()]) {\n      this.selection.push(instance);\n    }\n  }\n\n  selectInstances(\n    instances: Array<gdInitialInstance>,\n    multiselect: boolean,\n    layersVisibility: ?{ [string]: boolean } = null\n  ) {\n    if (!multiselect) this.clearSelection();\n\n    instances.forEach(instance =>\n      this.selectInstance(instance, true, layersVisibility)\n    );\n  }\n\n  unselectInstance(instance: gdInitialInstance) {\n    if (this.isInstanceSelected(instance)) {\n      var i = this.selection.length - 1;\n      while (i >= -1 && this.selection[i].ptr !== instance.ptr) {\n        --i;\n      }\n\n      this.selection.splice(i, 1);\n    }\n  }\n}\n","import { Trans } from '@lingui/macro';\nimport React, { Component } from 'react';\nimport FlatButton from 'material-ui/FlatButton';\nimport TextField from 'material-ui/TextField';\nimport Dialog from '../UI/Dialog';\n\nexport default class SetupGridDialog extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { ...props.gridOptions };\n  }\n\n  _onApply = () => {\n    this.props.onApply({\n      gridWidth: this.state.gridWidth,\n      gridHeight: this.state.gridHeight,\n      gridOffsetX: this.state.gridOffsetX,\n      gridOffsetY: this.state.gridOffsetY,\n    });\n  };\n\n  render() {\n    const actions = [\n      <FlatButton\n        label={<Trans>Cancel</Trans>}\n        primary={false}\n        onClick={this.props.onCancel}\n      />,\n      <FlatButton\n        label={<Trans>Apply</Trans>}\n        primary={true}\n        keyboardFocused={true}\n        onClick={this._onApply}\n      />,\n    ];\n\n    return (\n      <Dialog\n        actions={actions}\n        open={this.props.open}\n        onRequestClose={this.props.onCancel}\n        autoScrollBodyContent={true}\n      >\n        <TextField\n          floatingLabelText={<Trans>Cell width (in pixels)</Trans>}\n          type=\"number\"\n          value={this.state.gridWidth}\n          onChange={(e, value) =>\n            this.setState({ gridWidth: parseInt(value, 10) })\n          }\n        />\n        <TextField\n          floatingLabelText={<Trans>Cell height (in pixels)</Trans>}\n          type=\"number\"\n          value={this.state.gridHeight}\n          onChange={(e, value) =>\n            this.setState({ gridHeight: parseInt(value, 10) })\n          }\n        />\n        <TextField\n          floatingLabelText={<Trans>X offset (in pixels)</Trans>}\n          type=\"number\"\n          value={this.state.gridOffsetX}\n          onChange={(e, value) =>\n            this.setState({ gridOffsetX: parseInt(value, 10) })\n          }\n        />\n        <TextField\n          floatingLabelText={<Trans>Y offset (in pixels)</Trans>}\n          type=\"number\"\n          value={this.state.gridOffsetY}\n          onChange={(e, value) =>\n            this.setState({ gridOffsetY: parseInt(value, 10) })\n          }\n        />\n      </Dialog>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport React, { Component } from 'react';\nimport FlatButton from 'material-ui/FlatButton';\nimport TextField from 'material-ui/TextField';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport Dialog from '../UI/Dialog';\nimport ColorField from '../UI/ColorField';\nimport EmptyMessage from '../UI/EmptyMessage';\nimport PropertiesEditor from '../PropertiesEditor';\nimport propertiesMapToSchema from '../PropertiesEditor/PropertiesMapToSchema';\nimport some from 'lodash/some';\nimport Checkbox from 'material-ui/Checkbox';\nimport { isNullPtr } from '../Utils/IsNullPtr';\nconst gd = global.gd;\n\ntype Props = {|\n  open: boolean,\n  layout: gdLayout,\n  project: gdProject,\n  onApply?: () => void,\n  onClose: () => void,\n  onOpenMoreSettings: () => void,\n  onEditVariables: () => void,\n|};\n\ntype State = {|\n  windowTitle: string,\n  shouldStopSoundsOnStartup: boolean,\n  backgroundColor: {\n    r: number,\n    g: number,\n    b: number,\n    a: number,\n  },\n|};\n\nexport default class ScenePropertiesDialog extends Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = this._loadFrom(props.layout);\n  }\n\n  _loadFrom(layout: gdLayout): State {\n    return {\n      windowTitle: layout.getWindowDefaultTitle(),\n      shouldStopSoundsOnStartup: layout.stopSoundsOnStartup(),\n      backgroundColor: {\n        r: layout.getBackgroundColorRed(),\n        g: layout.getBackgroundColorGreen(),\n        b: layout.getBackgroundColorBlue(),\n        a: 1,\n      },\n    };\n  }\n\n  componentWillReceiveProps(newProps: Props) {\n    if (\n      (!this.props.open && newProps.open) ||\n      (newProps.open && this.props.layout !== newProps.layout)\n    ) {\n      this.setState(this._loadFrom(newProps.layout));\n    }\n  }\n\n  _onApply = () => {\n    this.props.layout.setWindowDefaultTitle(this.state.windowTitle);\n    this.props.layout.setStopSoundsOnStartup(\n      this.state.shouldStopSoundsOnStartup\n    );\n    this.props.layout.setBackgroundColor(\n      this.state.backgroundColor.r,\n      this.state.backgroundColor.g,\n      this.state.backgroundColor.b\n    );\n    if (this.props.onApply) this.props.onApply();\n  };\n\n  render() {\n    const { layout, project } = this.props;\n    const actions = [\n      // TODO: Add support for cancelling modifications made to BehaviorSharedData\n      // (either by enhancing a function like propertiesMapToSchema or using copies)\n      // and then re-enable cancel button.\n      // <FlatButton\n      //   label={<Trans>Cancel</Trans>}\n      //   primary={false}\n      //   onClick={this.props.onClose}\n      // />,\n      <FlatButton\n        label={<Trans>Ok</Trans>}\n        key=\"ok\"\n        primary={true}\n        keyboardFocused={true}\n        onClick={this._onApply}\n      />,\n    ];\n\n    const allBehaviorSharedDataNames = layout\n      .getAllBehaviorSharedDataNames()\n      .toJSArray();\n\n    const propertiesEditors = allBehaviorSharedDataNames\n      .map(name => {\n        const sharedDataContent = layout.getBehaviorSharedData(name);\n        const type = sharedDataContent.getTypeName();\n\n        const behaviorSharedData = gd.JsPlatform.get().getBehaviorSharedDatas(\n          type\n        );\n        if (isNullPtr(gd, behaviorSharedData)) return null;\n\n        const properties = behaviorSharedData.getProperties(\n          sharedDataContent.getContent(),\n          project\n        );\n        const propertiesSchema = propertiesMapToSchema(\n          properties,\n          sharedDataContent =>\n            behaviorSharedData.getProperties(\n              sharedDataContent.getContent(),\n              project\n            ),\n          (sharedDataContent, name, value) =>\n            behaviorSharedData.updateProperty(\n              sharedDataContent.getContent(),\n              name,\n              value,\n              project\n            )\n        );\n\n        return (\n          !!propertiesSchema.length && (\n            <PropertiesEditor\n              key={name}\n              schema={propertiesSchema}\n              instances={[sharedDataContent]}\n            />\n          )\n        );\n      })\n      .filter(Boolean);\n\n    return (\n      <Dialog\n        actions={actions}\n        open={this.props.open}\n        onRequestClose={this.props.onClose}\n        autoScrollBodyContent={true}\n        contentStyle={{ width: '350px' }}\n      >\n        <TextField\n          floatingLabelText={<Trans>Window title</Trans>}\n          fullWidth\n          type=\"text\"\n          value={this.state.windowTitle}\n          onChange={(e, value) => this.setState({ windowTitle: value })}\n        />\n        <Checkbox\n          checked={this.state.shouldStopSoundsOnStartup}\n          label={<Trans>Stop musics and sounds on startup</Trans>}\n          onCheck={(e, check) =>\n            this.setState({\n              shouldStopSoundsOnStartup: check,\n            })\n          }\n        />\n        <ColorField\n          floatingLabelText={<Trans>Scene background color</Trans>}\n          fullWidth\n          disableAlpha\n          color={this.state.backgroundColor}\n          onChangeComplete={color =>\n            this.setState({ backgroundColor: color.rgb })\n          }\n        />\n        <RaisedButton\n          label={<Trans>Edit scene variables</Trans>}\n          fullWidth\n          onClick={() => {\n            this.props.onEditVariables();\n            this.props.onClose();\n          }}\n        />\n        {!some(propertiesEditors) && (\n          <EmptyMessage>\n            <Trans>\n              Any additional properties will appear here if you add behaviors to\n              objects, like Physics behavior.\n            </Trans>\n          </EmptyMessage>\n        )}\n        {propertiesEditors}\n        {this.props.onOpenMoreSettings && (\n          <RaisedButton\n            label={<Trans>Open advanced settings</Trans>}\n            fullWidth\n            onClick={() => {\n              this.props.onOpenMoreSettings();\n              this.props.onClose();\n            }}\n          />\n        )}\n      </Dialog>\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport { ToolbarGroup } from 'material-ui/Toolbar';\nimport ToolbarSeparator from '../UI/ToolbarSeparator';\nimport ToolbarIcon from '../UI/ToolbarIcon';\nimport IconMenu from '../UI/Menu/IconMenu';\n\nconst t = str => str; //TODO\n\nexport class Toolbar extends PureComponent {\n  render() {\n    return (\n      <ToolbarGroup lastChild>\n        {this.props.showPreviewButton && (\n          <ToolbarIcon\n            onClick={this.props.onPreview}\n            src=\"res/ribbon_default/preview32.png\"\n            tooltip={t('Launch a preview of the scene')}\n          />\n        )}\n        {this.props.showNetworkPreviewButton && (\n          <IconMenu\n            iconButtonElement={\n              <ToolbarIcon\n                src=\"res/ribbon_default/bug32.png\"\n                tooltip={t(\n                  'Advanced preview options (debugger, network preview...)'\n                )}\n              />\n            }\n            buildMenuTemplate={() => [\n              {\n                label: 'Network preview (Preview over WiFi/LAN)',\n                click: () => this.props.onNetworkPreview(),\n              },\n              { type: 'separator' },\n              {\n                label: 'Preview with debugger and performance profiler',\n                click: () => this.props.onOpenDebugger(),\n              },\n            ]}\n          />\n        )}\n        {this.props.showPreviewButton && <ToolbarSeparator />}\n        {this.props.showObjectsList && (\n          <ToolbarIcon\n            onClick={this.props.openObjectsList}\n            src=\"res/ribbon_default/objects64.png\"\n            tooltip={t('Open the objects editor')}\n          />\n        )}\n        {this.props.showObjectsList && (\n          <ToolbarIcon\n            onClick={this.props.openObjectGroupsList}\n            src={'res/ribbon_default/objectsgroups64.png'}\n            tooltip={t('Open the objects groups editor')}\n          />\n        )}\n        <ToolbarIcon\n          onClick={this.props.openProperties}\n          src=\"res/ribbon_default/editprop32.png\"\n          tooltip={t('Open the properties panel')}\n        />\n        <ToolbarSeparator />\n        <ToolbarIcon\n          onClick={this.props.undo}\n          src=\"res/ribbon_default/undo32.png\"\n          disabled={!this.props.canUndo}\n          tooltip={t('Undo the last changes')}\n        />\n        <ToolbarIcon\n          onClick={this.props.redo}\n          src=\"res/ribbon_default/redo32.png\"\n          disabled={!this.props.canRedo}\n          tooltip={t('Redo the last changes')}\n        />\n        <ToolbarSeparator />\n        <ToolbarIcon\n          onClick={this.props.deleteSelection}\n          src=\"res/ribbon_default/deleteselected32.png\"\n          disabled={\n            !this.props.instancesSelection.getSelectedInstances().length\n          }\n          tooltip={t('Delete the selected instances from the scene')}\n        />\n        <ToolbarIcon\n          onClick={this.props.toggleInstancesList}\n          src=\"res/ribbon_default/ObjectsPositionsList32.png\"\n          tooltip={t('Open the list of instances')}\n        />\n        <ToolbarIcon\n          onClick={this.props.toggleLayersList}\n          src=\"res/ribbon_default/layers32.png\"\n          tooltip={t('Open the layers editor')}\n        />\n        <ToolbarSeparator />\n        <IconMenu\n          iconButtonElement={\n            <ToolbarIcon\n              src=\"res/ribbon_default/grid32.png\"\n              tooltip={t('Toggle/edit grid')}\n            />\n          }\n          buildMenuTemplate={() => [\n            {\n              type: 'checkbox',\n              label: 'Show Mask',\n              checked: this.props.isWindowMaskShown(),\n              click: () => this.props.toggleWindowMask(),\n            },\n            {\n              type: 'checkbox',\n              label: 'Show grid',\n              checked: this.props.isGridShown(),\n              click: () => this.props.toggleGrid(),\n            },\n            { type: 'separator' },\n            {\n              label: 'Setup grid',\n              click: () => this.props.openSetupGrid(),\n            },\n          ]}\n        />\n        <IconMenu\n          iconButtonElement={\n            <ToolbarIcon\n              src=\"res/ribbon_default/zoom32.png\"\n              tooltip={t('Change editor zoom')}\n            />\n          }\n          buildMenuTemplate={() => [\n            {\n              label: 'Zoom in',\n              click: this.props.zoomIn,\n              accelerator: 'CmdOrCtrl++',\n            },\n            {\n              label: 'Zoom out',\n              click: this.props.zoomOut,\n              accelerator: 'CmdOrCtrl+-',\n            },\n            { type: 'separator' },\n            { label: '5%', click: () => this.props.setZoomFactor(0.05) },\n            { label: '10%', click: () => this.props.setZoomFactor(0.1) },\n            { label: '25%', click: () => this.props.setZoomFactor(0.25) },\n            { label: '50%', click: () => this.props.setZoomFactor(0.5) },\n            { label: '100%', click: () => this.props.setZoomFactor(1.0) },\n            { label: '150%', click: () => this.props.setZoomFactor(1.5) },\n            { label: '200%', click: () => this.props.setZoomFactor(2.0) },\n            { label: '400%', click: () => this.props.setZoomFactor(4.0) },\n          ]}\n        />\n      </ToolbarGroup>\n    );\n  }\n}\n\nexport default Toolbar;\n","import React, { Component } from 'react';\nimport Measure from 'react-measure';\n\nconst styles = {\n  flexContainer: { display: 'flex', flex: 1, position: 'relative' },\n  absoluteContainer: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    overflowY: 'hidden',\n  },\n};\n\n/**\n * Take a component and pass the maximum size that the component can take\n * as width and height props.\n * @param {*} WrappedComponent\n * @param {*} options\n */\nexport const passFullSize = (WrappedComponent, { useFlex }) => {\n  return class FullSizeMeasurer extends Component {\n    state = {\n      width: undefined,\n      height: undefined,\n    };\n\n    render() {\n      const { wrappedComponentRef, ...otherProps } = this.props;\n\n      return (\n        <Measure\n          onMeasure={({ width, height }) => this.setState({ width, height })}\n        >\n          <div\n            style={useFlex ? styles.flexContainer : styles.absoluteContainer}\n          >\n            {this.state.width !== undefined &&\n              this.state.height !== undefined && (\n                <WrappedComponent\n                  width={this.state.width}\n                  height={this.state.height}\n                  ref={ref => wrappedComponentRef && wrappedComponentRef(ref)}\n                  {...otherProps}\n                />\n              )}\n          </div>\n        </Measure>\n      );\n    }\n  };\n};\n","// @flow\nimport React, { Component } from 'react';\nimport Slider from 'material-ui/Slider';\nimport ViewPosition from './ViewPosition';\nimport throttle from 'lodash/throttle';\n\nconst MATERIAL_UI_SLIDER_WIDTH = 18;\n\nconst styles = {\n  container: {\n    overflow: 'hidden',\n  },\n  xScrollbar: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n  },\n  xSliderStyle: {\n    marginTop: -MATERIAL_UI_SLIDER_WIDTH / 2 + 1,\n    marginBottom: 0,\n  },\n  yScrollbar: {\n    position: 'absolute',\n    top: 0,\n    bottom: 0,\n    left: 0,\n  },\n  ySliderStyle: {\n    marginTop: 0,\n    marginLeft: -MATERIAL_UI_SLIDER_WIDTH / 2,\n  },\n};\n\ntype ScrollableComponent = {\n  scrollTo: (number, number) => void,\n  getViewPosition: () => ?ViewPosition,\n};\n\ntype Props = {\n  wrappedEditorRef: ?(?ScrollableComponent) => void,\n};\n\ntype State = {\n  xValue: number,\n  yValue: number,\n  xMin: number,\n  xMax: number,\n  yMin: number,\n  yMax: number,\n};\n\n/**\n * Add scrollbars that track the viewPosition of the wrapped component\n * @param {*} WrappedComponent\n * @param {*} options\n */\nexport const addScrollbars = (WrappedComponent: any) => {\n  return class ScrollbarContainer extends Component<Props, State> {\n    _editor: ?ScrollableComponent = null;\n\n    state: State = {\n      xValue: 0,\n      yValue: 0,\n      xMin: -5000,\n      xMax: +5000,\n      yMin: -5000,\n      yMax: +5000,\n    };\n\n    componentDidMount() {\n      if (this._editor) {\n        this._handleViewPositionChange(this._editor.getViewPosition());\n      }\n    }\n\n    _handleXChange = (e: any, value: number) => {\n      this.setState(\n        {\n          xValue: value,\n        },\n        () => {\n          if (this._editor) {\n            this._editor.scrollTo(this.state.xValue, this.state.yValue);\n          }\n        }\n      );\n    };\n\n    _handleYChange = (e: any, value: number) => {\n      this.setState(\n        {\n          yValue: value,\n        },\n        () => {\n          if (this._editor) {\n            this._editor.scrollTo(this.state.xValue, this.state.yValue);\n          }\n        }\n      );\n    };\n\n    _setAndAdjust = ({\n      xValue,\n      yValue,\n    }: {\n      xValue: number,\n      yValue: number,\n    }) => {\n      const xMax = Math.max(Math.abs(xValue) + 100, this.state.xMax);\n      const yMax = Math.max(Math.abs(yValue) + 100, this.state.yMax);\n\n      this.setState({\n        xMax,\n        yMax,\n        xMin: -xMax,\n        yMin: -yMax,\n        xValue,\n        yValue,\n      });\n    };\n\n    _handleViewPositionChange = throttle(\n      (viewPosition: ?ViewPosition) => {\n        if (!viewPosition) return;\n\n        this._setAndAdjust({\n          xValue: viewPosition.getViewX(),\n          yValue: viewPosition.getViewY(),\n        });\n      },\n      500, // Throttle the updates after a scroll to avoid make lots of updates in a row that would kill CPU\n      { leading: false, trailing: true }\n    );\n\n    render() {\n      const { wrappedEditorRef, ...otherProps } = this.props;\n\n      return (\n        <div style={styles.container}>\n          <WrappedComponent\n            onViewPositionChanged={this._handleViewPositionChange}\n            ref={(editorRef: ?ScrollableComponent) => {\n              wrappedEditorRef && wrappedEditorRef(editorRef);\n              this._editor = editorRef;\n            }}\n            {...otherProps}\n          />\n          <Slider\n            value={this.state.xValue}\n            min={this.state.xMin}\n            max={this.state.xMax}\n            onChange={this._handleXChange}\n            style={styles.xScrollbar}\n            sliderStyle={styles.xSliderStyle}\n            axis=\"x\"\n          />\n          <Slider\n            value={this.state.yValue}\n            min={this.state.yMin}\n            max={this.state.yMax}\n            onChange={this._handleYChange}\n            style={styles.yScrollbar}\n            sliderStyle={styles.ySliderStyle}\n            axis=\"y-reverse\"\n          />\n        </div>\n      );\n    }\n  };\n};\n","// @flow\nimport React, { Component } from 'react';\nimport IconButton from 'material-ui/IconButton';\nimport FilterList from 'material-ui/svg-icons/content/filter-list';\nimport IconMenu from '../Menu/IconMenu';\n\nconst styles = {\n  container: {\n    padding: 0,\n    width: 32,\n    height: 32,\n  },\n};\n\ntype Props = {\n  buildMenuTemplate: () => Array<any>,\n};\n\nexport default class TagsButton extends Component<Props, {||}> {\n  render() {\n    return (\n      <IconMenu\n        iconButtonElement={\n          <IconButton style={styles.container}>\n            <FilterList color=\"white\" />\n          </IconButton>\n        }\n        buildMenuTemplate={this.props.buildMenuTemplate}\n      />\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport { AutoSizer } from 'react-virtualized';\nimport SortableVirtualizedItemList from '../UI/SortableVirtualizedItemList';\nimport Background from '../UI/Background';\nimport SearchBar from 'material-ui-search-bar';\nimport { showWarningBox } from '../UI/Messages/MessageBox';\nimport { filterResourcesList } from './EnumerateResources';\nimport optionalRequire from '../Utils/OptionalRequire.js';\nimport {\n  createOrUpdateResource,\n  getLocalResourceFullPath,\n  getResourceFilePathStatus,\n  RESOURCE_EXTENSIONS,\n} from './ResourceUtils.js';\nimport { type ResourceKind } from './ResourceSource.flow';\n\nconst path = optionalRequire('path');\nconst glob = optionalRequire('glob');\nconst electron = optionalRequire('electron');\nconst hasElectron = electron ? true : false;\n\nconst gd = global.gd;\n\nconst styles = {\n  listContainer: {\n    flex: 1,\n  },\n};\n\ntype State = {|\n  renamedResource: ?gdResource,\n  searchText: string,\n  resourcesWithErrors: { [string]: '' | 'error' | 'warning' },\n|};\n\ntype Props = {|\n  project: gdProject,\n  selectedResource: ?gdResource,\n  onSelectResource: (resource: gdResource) => void,\n  onDeleteResource: (resource: gdResource) => void,\n  onRenameResource: (\n    resource: gdResource,\n    newName: string,\n    cb: (boolean) => void\n  ) => void,\n|};\n\nexport default class ResourcesList extends React.Component<Props, State> {\n  sortableList: any;\n  state: State = {\n    renamedResource: null,\n    searchText: '',\n    resourcesWithErrors: {},\n  };\n\n  shouldComponentUpdate(nextProps: Props, nextState: State) {\n    // The component is costly to render, so avoid any re-rendering as much\n    // as possible.\n    // We make the assumption that no changes to resources list is made outside\n    // from the component.\n    // If a change is made, the component won't notice it: you have to manually\n    // call forceUpdate.\n\n    if (\n      this.state.renamedResource !== nextState.renamedResource ||\n      this.state.searchText !== nextState.searchText\n    )\n      return true;\n\n    if (\n      this.props.project !== nextProps.project ||\n      this.props.selectedResource !== nextProps.selectedResource\n    )\n      return true;\n\n    return false;\n  }\n\n  _deleteResource = (resource: gdResource) => {\n    this.props.onDeleteResource(resource);\n  };\n\n  _locateResourceFile = (resource: gdResource) => {\n    const resourceFolderPath = path.dirname(\n      getLocalResourceFullPath(this.props.project, resource.getName())\n    );\n    electron.shell.openItem(resourceFolderPath);\n  };\n\n  _openResourceFile = (resource: gdResource) => {\n    const resourceFilePath = getLocalResourceFullPath(\n      this.props.project,\n      resource.getName()\n    );\n    electron.shell.openItem(resourceFilePath);\n  };\n\n  _copyResourceFilePath = (resource: gdResource) => {\n    const resourceFilePath = getLocalResourceFullPath(\n      this.props.project,\n      resource.getName()\n    );\n    electron.clipboard.writeText(resourceFilePath);\n  };\n\n  _scanForNewResources = (\n    extensions: string,\n    createResource: () => gdResource\n  ) => {\n    const project = this.props.project;\n    const resourcesManager = project.getResourcesManager();\n    const projectPath = path.dirname(project.getProjectFile());\n\n    const getDirectories = (src, callback) => {\n      glob(src + '/**/*.{' + extensions + '}', callback);\n    };\n    getDirectories(projectPath, (err, res) => {\n      if (err) {\n        console.error('Error loading ', err);\n      } else {\n        res.forEach(pathFound => {\n          const fileName = path.relative(projectPath, pathFound);\n          if (!resourcesManager.hasResource(fileName)) {\n            createOrUpdateResource(project, createResource(), fileName);\n            console.info(`${fileName} added to project.`);\n          }\n        });\n      }\n      this.forceUpdate();\n    });\n  };\n\n  _removeUnusedResources = (resourceType: ResourceKind) => {\n    const { project } = this.props;\n    gd.ProjectResourcesAdder.getAllUseless(project, resourceType)\n      .toJSArray()\n      .forEach(resourceName => {\n        console.info(\n          `Removing unused` + resourceType + ` resource: ${resourceName}`\n        );\n      });\n    gd.ProjectResourcesAdder.removeAllUseless(project, resourceType);\n    this.forceUpdate();\n  };\n\n  _removeAllResourcesWithInvalidPath = () => {\n    const { project } = this.props;\n    const resourcesManager = project.getResourcesManager();\n    resourcesManager\n      .getAllResourceNames()\n      .toJSArray()\n      .forEach(resourceName => {\n        if (getResourceFilePathStatus(project, resourceName) === 'error') {\n          resourcesManager.removeResource(resourceName);\n          console.info('Removed due to invalid path: ' + resourceName);\n        }\n      });\n    this.forceUpdate();\n  };\n\n  _editName = (resource: ?gdResource) => {\n    this.setState(\n      {\n        renamedResource: resource,\n      },\n      () => this.sortableList.getWrappedInstance().forceUpdateGrid()\n    );\n  };\n\n  _rename = (resource: gdResource, newName: string) => {\n    const { project } = this.props;\n    this.setState({\n      renamedResource: null,\n    });\n\n    if (resource.getName() === newName) return;\n\n    if (project.getResourcesManager().hasResource(newName)) {\n      showWarningBox('Another resource with this name already exists');\n      return;\n    }\n\n    // eslint-disable-next-line\n    const answer = confirm(\n      'Are you sure you want to rename this resource? \\nGame objects using the old name will no longer be able to find it!'\n    );\n    if (!answer) return;\n\n    this.props.onRenameResource(resource, newName, doRename => {\n      if (!doRename) return;\n      resource.setName(newName);\n      this.forceUpdate();\n    });\n  };\n\n  _move = (oldIndex: number, newIndex: number) => {\n    const { project } = this.props;\n\n    project.getResourcesManager().moveResource(oldIndex, newIndex);\n    this.forceUpdateList();\n  };\n\n  forceUpdateList = () => {\n    this.forceUpdate();\n    this.sortableList.getWrappedInstance().forceUpdateGrid();\n  };\n\n  _renderResourceMenuTemplate = (resource: gdResource, _index: number) => {\n    return [\n      {\n        label: 'Rename',\n        click: () => this._editName(resource),\n      },\n      {\n        label: 'Remove',\n        click: () => this._deleteResource(resource),\n      },\n      { type: 'separator' },\n      {\n        label: 'Open File',\n        click: () => this._openResourceFile(resource),\n        enabled: hasElectron,\n      },\n      {\n        label: 'Locate File',\n        click: () => this._locateResourceFile(resource),\n        enabled: hasElectron,\n      },\n      {\n        label: 'Copy File Path',\n        click: () => this._copyResourceFilePath(resource),\n        enabled: hasElectron,\n      },\n      { type: 'separator' },\n      {\n        label: 'Scan for Images',\n        click: () => {\n          this._scanForNewResources(\n            RESOURCE_EXTENSIONS.image,\n            () => new gd.ImageResource()\n          );\n        },\n        enabled: hasElectron,\n      },\n      {\n        label: 'Scan for Audio',\n        click: () => {\n          this._scanForNewResources(\n            RESOURCE_EXTENSIONS.audio,\n            () => new gd.AudioResource()\n          );\n        },\n        enabled: hasElectron,\n      },\n      {\n        label: 'Scan for Fonts',\n        click: () => {\n          this._scanForNewResources(\n            RESOURCE_EXTENSIONS.font,\n            () => new gd.FontResource()\n          );\n        },\n        enabled: hasElectron,\n      },\n      {\n        label: 'Scan for Videos',\n        click: () => {\n          this._scanForNewResources(\n            RESOURCE_EXTENSIONS.video,\n            () => new gd.VideoResource()\n          );\n        },\n        enabled: hasElectron,\n      },\n      { type: 'separator' },\n      {\n        label: 'Remove Unused Images',\n        click: () => {\n          this._removeUnusedResources('image');\n        },\n      },\n      {\n        label: 'Remove Unused Audio',\n        click: () => {\n          this._removeUnusedResources('audio');\n        },\n      },\n      {\n        label: 'Remove Unused Fonts',\n        click: () => {\n          this._removeUnusedResources('font');\n        },\n      },\n      {\n        label: 'Remove Resources with Invalid Path',\n        click: () => {\n          this._removeAllResourcesWithInvalidPath();\n        },\n        enabled: hasElectron,\n      },\n    ];\n  };\n\n  checkMissingPaths = () => {\n    const { project } = this.props;\n    const resourcesManager = project.getResourcesManager();\n    const resourceNames = resourcesManager.getAllResourceNames().toJSArray();\n    const resourcesWithErrors = {};\n    resourceNames.forEach(resourceName => {\n      resourcesWithErrors[resourceName] = getResourceFilePathStatus(\n        project,\n        resourceName\n      );\n    });\n    this.setState({ resourcesWithErrors });\n    this.forceUpdateList();\n  };\n\n  componentDidMount() {\n    this.checkMissingPaths();\n  }\n\n  render() {\n    const { project, selectedResource, onSelectResource } = this.props;\n    const { searchText } = this.state;\n\n    const resourcesManager = project.getResourcesManager();\n    const allResourcesList = resourcesManager\n      .getAllResourceNames()\n      .toJSArray()\n      .map(resourceName => resourcesManager.getResource(resourceName));\n    const filteredList = filterResourcesList(allResourcesList, searchText);\n\n    // Force List component to be mounted again if project\n    // has been changed. Avoid accessing to invalid objects that could\n    // crash the app.\n    const listKey = project.ptr;\n\n    return (\n      <Background>\n        <div style={styles.listContainer}>\n          <AutoSizer>\n            {({ height, width }) => (\n              <SortableVirtualizedItemList\n                key={listKey}\n                ref={sortableList => (this.sortableList = sortableList)}\n                fullList={filteredList}\n                width={width}\n                height={height}\n                selectedItem={selectedResource}\n                onItemSelected={onSelectResource}\n                renamedItem={this.state.renamedResource}\n                onRename={this._rename}\n                onSortEnd={({ oldIndex, newIndex }) =>\n                  this._move(oldIndex, newIndex)\n                }\n                buildMenuTemplate={this._renderResourceMenuTemplate}\n                helperClass=\"sortable-helper\"\n                distance={20}\n                erroredItems={this.state.resourcesWithErrors}\n              />\n            )}\n          </AutoSizer>\n        </div>\n        <SearchBar\n          value={searchText}\n          onRequestSearch={() => {}}\n          onChange={text =>\n            this.setState({\n              searchText: text,\n            })\n          }\n        />\n      </Background>\n    );\n  }\n}\n","// @flow\n\nexport const filterResourcesList = (\n  list: Array<gdResource>,\n  searchText: string\n): Array<gdResource> => {\n  if (!searchText) return list;\n\n  const lowercaseSearchText = searchText.toLowerCase();\n\n  return list.filter((resource: gdResource) => {\n    return (\n      resource\n        .getName()\n        .toLowerCase()\n        .indexOf(lowercaseSearchText) !== -1\n    );\n  });\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport ReactErrorBoundary from 'react-error-boundary';\nimport BugReport from 'material-ui/svg-icons/action/bug-report';\nimport PlaceholderMessage from './PlaceholderMessage';\nimport Divider from 'material-ui/Divider';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport { sendErrorMessage } from '../Utils/Analytics/EventSender';\nimport Window from '../Utils/Window';\n\nconst errorHandler = (error: Error, componentStack: string) => {\n  console.error('Error catched by Boundary:', error, componentStack);\n  sendErrorMessage('Error catched by error boundary', 'error-boundary', {\n    error,\n    componentStack,\n  });\n};\n\nconst styles = {\n  title: {\n    fontSize: 24,\n  },\n};\n\nexport const ErrorFallbackComponent = ({\n  componentStack,\n  error,\n}: {\n  componentStack: string,\n  error: Error,\n}) => (\n  <PlaceholderMessage>\n    <p style={styles.title}>\n      <BugReport /> This editor encountered a problem.\n    </p>\n    <Divider />\n    <p>\n      Something wrong happened :(\n      <br />\n      Please <b>backup your game file</b> and save your game to ensure that you\n      don't lose anything.\n    </p>\n    <p>\n      The error was automatically reported.\n      <br />\n      To make sure it's fixed, you may report it on GitHub, the platform where\n      GDevelop is developed:\n    </p>\n    <RaisedButton\n      label={<Trans>Report the issue on GitHub</Trans>}\n      onClick={() => {\n        const body = `\n=> Please write here a short description of when the error occured and how to reproduce it.\nYou also may have to create an account on GitHub before posting.\n\nWhen you're ready, click on \"Submit new issue\". Don't change the rest of the message. Thanks!\n\n## Error stack (don't write anything here)\n\\`\\`\\`\n${error ? error.stack : 'No error found'}\n\\`\\`\\`\n\n## Component stack (don't write anything here)\n\\`\\`\\`\n${componentStack || 'No component stack found'}\n\\`\\`\\`\n        `;\n        Window.openExternalURL(\n          `https://github.com/4ian/GDevelop/issues/new?body=${encodeURIComponent(\n            body\n          )}&title=Crash%20while%20using%20an%20editor`\n        );\n      }}\n    />\n  </PlaceholderMessage>\n);\n\ntype Props = {|\n  children: React.Node,\n|};\n\nconst ErrorBoundary = (props: Props) => (\n  <ReactErrorBoundary\n    FallbackComponent={ErrorFallbackComponent}\n    onError={errorHandler}\n  >\n    {props.children}\n  </ReactErrorBoundary>\n);\n\nexport default ErrorBoundary;\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport React, { Component } from 'react';\nimport { Card, CardActions, CardHeader } from 'material-ui/Card';\nimport FlatButton from 'material-ui/FlatButton';\nimport Dialog from '../UI/Dialog';\nimport UserProfileContext, { UserProfile } from './UserProfileContext';\nimport { Column, Line } from '../UI/Grid';\nimport {\n  getSubscriptionPlans,\n  type PlanDetails,\n  changeUserSubscription,\n} from '../Utils/GDevelopServices/Usage';\nimport { StripeCheckoutConfig } from '../Utils/GDevelopServices/ApiConfigs';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport CheckCircle from 'material-ui/svg-icons/action/check-circle';\nimport EmptyMessage from '../UI/EmptyMessage';\nimport { showMessageBox, showErrorBox } from '../UI/Messages/MessageBox';\nimport LeftLoader from '../UI/LeftLoader';\nimport PlaceholderMessage from '../UI/PlaceholderMessage';\nimport {\n  sendSubscriptionDialogShown,\n  sendChoosePlanClicked,\n} from '../Utils/Analytics/EventSender';\n\nconst styles = {\n  descriptionText: {\n    marginLeft: 16,\n    marginRight: 16,\n    marginTop: 8,\n    marginBottom: 8,\n  },\n  card: {\n    margin: 16,\n  },\n  actions: {\n    textAlign: 'right',\n    display: 'flex',\n    justifyContent: 'flex-end',\n  },\n  bulletIcon: { width: 20, height: 20, marginLeft: 15, marginRight: 10 },\n  bulletText: { flex: 1, marginTop: 5, marginBottom: 5 },\n};\n\ntype Props = {|\n  open: boolean,\n  onClose: Function,\n|};\n\ntype State = {|\n  isLoading: boolean,\n|};\n\nexport default class SubscriptionDialog extends Component<Props, State> {\n  state = { isLoading: false };\n  stripeCheckoutHandler: null;\n\n  componentDidMount() {\n    if (this.props.open) {\n      sendSubscriptionDialogShown();\n    }\n  }\n\n  componentWillReceiveProps(newProps: Props) {\n    if (!this.props.open && newProps.open) {\n      sendSubscriptionDialogShown();\n    }\n  }\n\n  choosePlan = (userProfile: UserProfile, plan: PlanDetails) => {\n    const { getAuthorizationHeader, subscription, profile } = userProfile;\n    if (!profile || !subscription) return;\n    sendChoosePlanClicked(plan.planId);\n\n    if (subscription.stripeCustomerId) {\n      //eslint-disable-next-line\n      const answer = confirm(\n        'Are you sure you want to subscribe to this new plan?'\n      );\n      if (!answer) return;\n\n      // We already have a stripe customer, change the subscription without\n      // asking for the user card.\n      this.setState({ isLoading: true });\n      changeUserSubscription(getAuthorizationHeader, profile.uid, {\n        planId: plan.planId,\n      }).then(\n        () => this.handleNewSubscriptionSuccess(userProfile, plan),\n        this.handleNewSubscriptionFailure\n      );\n    } else {\n      // No existing customer, we need to get the user card so that the API\n      // can create the customer.\n      const stripeCheckout = global.StripeCheckout;\n      if (stripeCheckout) {\n        this.stripeCheckoutHandler = stripeCheckout.configure({\n          key: StripeCheckoutConfig.key,\n          image: StripeCheckoutConfig.image,\n          locale: 'auto',\n          token: stripeToken => {\n            this.setState({ isLoading: true });\n            changeUserSubscription(getAuthorizationHeader, profile.uid, {\n              planId: plan.planId,\n              stripeToken,\n            }).then(\n              () => this.handleNewSubscriptionSuccess(userProfile, plan),\n              this.handleNewSubscriptionFailure\n            );\n          },\n        });\n\n        this.stripeCheckoutHandler.open({\n          name: plan.name,\n          description: 'Monthly subscription',\n          currency: 'eur',\n          email: profile.email,\n          amount: plan.monthlyPriceInEuros * 100,\n        });\n      }\n    }\n  };\n\n  handleNewSubscriptionSuccess = (\n    userProfile: UserProfile,\n    plan: PlanDetails\n  ) => {\n    userProfile.onRefreshUserProfile();\n    this.setState({ isLoading: false });\n    if (plan.planId) {\n      showMessageBox(\n        'Congratulations, your new subscription is now active!\\n\\nYou can now use the services unlocked with this plan.'\n      );\n    } else {\n      showMessageBox(\n        'Your subscription was properly cancelled. Sorry to see you go!'\n      );\n    }\n  };\n\n  handleNewSubscriptionFailure = (err: any) => {\n    this.setState({ isLoading: false });\n    showErrorBox(\n      'Your subscription could not be updated. Please try again later!',\n      err\n    );\n  };\n\n  _renderPrice(plan: PlanDetails) {\n    return !plan.monthlyPriceInEuros\n      ? 'Free'\n      : `${plan.monthlyPriceInEuros}/month`;\n  }\n\n  _isLoading = (userProfile: UserProfile) =>\n    !userProfile.subscription || !userProfile.profile || this.state.isLoading;\n\n  render() {\n    const { open, onClose } = this.props;\n\n    return (\n      <UserProfileContext.Consumer>\n        {(userProfile: UserProfile) => (\n          <Dialog\n            actions={[\n              <FlatButton\n                label={<Trans>Close</Trans>}\n                key=\"close\"\n                primary={false}\n                onClick={onClose}\n              />,\n            ]}\n            onRequestClose={onClose}\n            open={open}\n            noMargin\n            autoScrollBodyContent\n          >\n            <Column>\n              <Line>\n                <p>\n                  <Trans>\n                    Get a subscription to package your games for Android,\n                    Windows, macOS and Linux, use live preview over wifi and\n                    more. With a subscription, you're also supporting the\n                    development of GDevelop, which is an open-source software.\n                  </Trans>\n                </p>\n              </Line>\n            </Column>\n            {getSubscriptionPlans().map(plan => (\n              <Card key={plan.planId || ''} style={styles.card}>\n                <CardHeader\n                  title={\n                    <span>\n                      <b>{plan.name}</b> - {this._renderPrice(plan)}\n                    </span>\n                  }\n                  subtitle={plan.smallDescription}\n                />\n                {plan.descriptionBullets.map((bulletText, index) => (\n                  <Column key={index} expand>\n                    <Line noMargin alignItems=\"center\">\n                      <CheckCircle style={styles.bulletIcon} />\n                      <p style={styles.bulletText}>{bulletText}</p>\n                    </Line>\n                  </Column>\n                ))}\n                <p style={styles.descriptionText}>\n                  {plan.extraDescription || ''}\n                </p>\n                <CardActions style={styles.actions}>\n                  {userProfile.subscription &&\n                  userProfile.subscription.planId === plan.planId ? (\n                    <FlatButton\n                      disabled\n                      label={<Trans>This is your current plan</Trans>}\n                      onClick={() => this.choosePlan(userProfile, plan)}\n                    />\n                  ) : plan.planId ? (\n                    <LeftLoader isLoading={this._isLoading(userProfile)}>\n                      <RaisedButton\n                        primary\n                        disabled={this._isLoading(userProfile)}\n                        label={<Trans>Choose this plan</Trans>}\n                        onClick={() => this.choosePlan(userProfile, plan)}\n                      />\n                    </LeftLoader>\n                  ) : (\n                    <LeftLoader isLoading={this._isLoading(userProfile)}>\n                      <FlatButton\n                        label={<Trans>Choose</Trans>}\n                        onClick={() => this.choosePlan(userProfile, plan)}\n                      />\n                    </LeftLoader>\n                  )}\n                </CardActions>\n              </Card>\n            ))}\n            <Column>\n              <Line>\n                <EmptyMessage>\n                  <Trans>\n                    Subscriptions can be stopped at any time. GDevelop uses\n                    Stripe.com for secure payment. No credit card data is stored\n                    by GDevelop: everything is managed by Stripe secure\n                    infrastructure.\n                  </Trans>\n                </EmptyMessage>\n              </Line>\n            </Column>\n            {!userProfile.authenticated && (\n              <PlaceholderMessage>\n                <p>\n                  <Trans>\n                    Create a GDevelop account to continue. It's free and you'll\n                    be able to access to online services like one-click build\n                    for Android:\n                  </Trans>\n                </p>\n                <RaisedButton\n                  label={<Trans>Create my account</Trans>}\n                  primary\n                  onClick={userProfile.onLogin}\n                />\n                <FlatButton\n                  label={<Trans>Not now, thanks</Trans>}\n                  onClick={onClose}\n                />\n              </PlaceholderMessage>\n            )}\n          </Dialog>\n        )}\n      </UserProfileContext.Consumer>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport React, { Component } from 'react';\nimport SelectField from 'material-ui/SelectField';\nimport FlatButton from 'material-ui/FlatButton';\nimport MenuItem from 'material-ui/MenuItem';\nimport Dialog from '../../UI/Dialog';\nimport { Column, Line } from '../../UI/Grid';\nimport Window from '../../Utils/Window';\nimport PreferencesContext from './PreferencesContext';\nimport AlertMessage from '../../UI/AlertMessage';\nimport LocalesMetadata from '../../locales/LocalesMetadata';\nimport { I18n } from '@lingui/react';\nimport Divider from 'material-ui/Divider';\n\ntype Props = {|\n  open: boolean,\n  onClose: (languageDidChange: boolean) => void,\n|};\n\ntype State = {|\n  languageDidChange: boolean,\n|};\n\nconst displayLocaleMetadata = localeMetadata => {\n  if (localeMetadata.languageCode === 'en') return false;\n  if (localeMetadata.languageCode === 'pseudo_LOCALE') return Window.isDev();\n\n  return true;\n};\n\nconst renderLanguageMenuItem = localeMetadata => {\n  const translationRatio = localeMetadata.translationRatio || 0;\n  const percent = (100 * localeMetadata.translationRatio).toFixed(0);\n  const isStarted = translationRatio > 0;\n\n  return (\n    <MenuItem\n      value={localeMetadata.languageCode}\n      primaryText={\n        localeMetadata.languageNativeName +\n        ' (' +\n        localeMetadata.languageName +\n        ')' +\n        (isStarted ? ` - ~${percent}%` : '')\n      }\n      disabled={!isStarted}\n      key={localeMetadata.languageCode}\n    />\n  );\n};\n\nexport default class LanguageDialog extends Component<Props, State> {\n  state = {\n    languageDidChange: false,\n  };\n\n  render() {\n    const { open, onClose } = this.props;\n    if (!open) return null;\n\n    const localesToDisplay = LocalesMetadata.filter(displayLocaleMetadata);\n    const goodProgressLocales = localesToDisplay.filter(\n      localeMetadata => localeMetadata.translationRatio > 0.5\n    );\n    const startedLocales = localesToDisplay.filter(\n      localeMetadata => localeMetadata.translationRatio < 0.5\n    );\n\n    return (\n      <I18n>\n        {({ i18n }) => (\n          <PreferencesContext.Consumer>\n            {({ values, setLanguage }) => {\n              const isLoadingLanguage = i18n.language !== values.language;\n\n              return (\n                <Dialog\n                  actions={[\n                    <FlatButton\n                      label={\n                        isLoadingLanguage ? (\n                          <Trans>Loading...</Trans>\n                        ) : (\n                          <Trans>Close</Trans>\n                        )\n                      }\n                      primary={false}\n                      onClick={onClose}\n                      disabled={isLoadingLanguage}\n                    />,\n                  ]}\n                  secondaryActions={[\n                    <FlatButton\n                      label={<Trans>Report a wrong translation</Trans>}\n                      key=\"report-wrong-translation\"\n                      primary={false}\n                      onClick={() =>\n                        Window.openExternalURL(\n                          'https://github.com/4ian/GDevelop/issues/969'\n                        )\n                      }\n                    />,\n                  ]}\n                  onRequestClose={() => onClose(this.state.languageDidChange)}\n                  open={open}\n                  title={<Trans>Language</Trans>}\n                >\n                  <Column>\n                    <Line>\n                      <AlertMessage kind=\"info\">\n                        <Trans>\n                          Support for translations is still new and in beta.\n                          GDevelop needs your help to be translated in your\n                          language!\n                        </Trans>\n                      </AlertMessage>\n                    </Line>\n                    <Line expand>\n                      <SelectField\n                        floatingLabelText={\n                          <Trans>Choose GDevelop language</Trans>\n                        }\n                        value={values.language}\n                        onChange={(e, i, value) => {\n                          setLanguage(value);\n                          this.setState({\n                            languageDidChange: true,\n                          });\n                        }}\n                        fullWidth\n                      >\n                        <MenuItem value=\"en\" primaryText=\"English (default)\" />\n                        {goodProgressLocales.map(localeMetadata =>\n                          renderLanguageMenuItem(localeMetadata)\n                        )}\n                        <Divider />\n                        {startedLocales.map(localeMetadata =>\n                          renderLanguageMenuItem(localeMetadata)\n                        )}\n                      </SelectField>\n                    </Line>\n                    <Line expand>\n                      <FlatButton\n                        primary\n                        label={\n                          <Trans>Help to translate GD in your language</Trans>\n                        }\n                        onClick={() =>\n                          Window.openExternalURL(\n                            'https://crowdin.com/project/gdevelop'\n                          )\n                        }\n                        fullWidth\n                      />\n                    </Line>\n                  </Column>\n                </Dialog>\n              );\n            }}\n          </PreferencesContext.Consumer>\n        )}\n      </I18n>\n    );\n  }\n}\n","// This file is generated by compile-translations.js script\n// prettier-ignore\nmodule.exports = [\n  {\n    \"languageCode\": \"af_ZA\",\n    \"languageName\": \"Afrikaans\",\n    \"languageNativeName\": \"Afrikaans\",\n    \"translationRatio\": 0.006483402489626533\n  },\n  {\n    \"languageCode\": \"ar_SA\",\n    \"languageName\": \"Arabic\",\n    \"languageNativeName\": \" \",\n    \"translationRatio\": 0.13355809128630702\n  },\n  {\n    \"languageCode\": \"az_AZ\",\n    \"languageName\": \"Azerbaijani\",\n    \"languageNativeName\": \"azrbaycan dili\",\n    \"translationRatio\": 0.006742738589211594\n  },\n  {\n    \"languageCode\": \"bg_BG\",\n    \"languageName\": \"Bulgarian\",\n    \"languageNativeName\": \" \",\n    \"translationRatio\": 0.017894190871369342\n  },\n  {\n    \"languageCode\": \"bn_BD\",\n    \"languageName\": \"Bengali\",\n    \"languageNativeName\": \"\",\n    \"translationRatio\": 0.006483402489626533\n  },\n  {\n    \"languageCode\": \"ca_ES\",\n    \"languageName\": \"Catalan\",\n    \"languageNativeName\": \"catal\",\n    \"translationRatio\": 0.009336099585062207\n  },\n  {\n    \"languageCode\": \"cs_CZ\",\n    \"languageName\": \"Czech\",\n    \"languageNativeName\": \"etina\",\n    \"translationRatio\": 0.03526970954356845\n  },\n  {\n    \"languageCode\": \"da_DK\",\n    \"languageName\": \"Danish\",\n    \"languageNativeName\": \"dansk\",\n    \"translationRatio\": 0.018931535269709587\n  },\n  {\n    \"languageCode\": \"de_DE\",\n    \"languageName\": \"German\",\n    \"languageNativeName\": \"Deutsch\",\n    \"translationRatio\": 0.779304979253112\n  },\n  {\n    \"languageCode\": \"el_GR\",\n    \"languageName\": \"Greek\",\n    \"languageNativeName\": \"\",\n    \"translationRatio\": 0.2668568464730291\n  },\n  {\n    \"languageCode\": \"en\",\n    \"languageName\": \"English\",\n    \"languageNativeName\": \"English\",\n    \"translationRatio\": 0.03805175038051756\n  },\n  {\n    \"languageCode\": \"eo_UY\",\n    \"languageName\": \"Esperanto\",\n    \"languageNativeName\": \"Esperanto\",\n    \"translationRatio\": 0.008558091286307024\n  },\n  {\n    \"languageCode\": \"es_ES\",\n    \"languageName\": \"Spanish\",\n    \"languageNativeName\": \"Espaol\",\n    \"translationRatio\": 0.8244294605809128\n  },\n  {\n    \"languageCode\": \"fa_IR\",\n    \"languageName\": \"Persian\",\n    \"languageNativeName\": \"\",\n    \"translationRatio\": 0.1934647302904564\n  },\n  {\n    \"languageCode\": \"fi_FI\",\n    \"languageName\": \"Finnish\",\n    \"languageNativeName\": \"suomi\",\n    \"translationRatio\": 0.4323132780082988\n  },\n  {\n    \"languageCode\": \"fil_PH\",\n    \"languageName\": \"Filipino\",\n    \"languageNativeName\": \"Mga Filipino\",\n    \"translationRatio\": 0.7665975103734439\n  },\n  {\n    \"languageCode\": \"fr_FR\",\n    \"languageName\": \"French\",\n    \"languageNativeName\": \"Franais\",\n    \"translationRatio\": 0.6802385892116183\n  },\n  {\n    \"languageCode\": \"ha_HG\",\n    \"languageName\": \"Hausa\",\n    \"languageNativeName\": \"\",\n    \"translationRatio\": 0.006483402489626533\n  },\n  {\n    \"languageCode\": \"he_IL\",\n    \"languageName\": \"Hebrew\",\n    \"languageNativeName\": \"\",\n    \"translationRatio\": 0.009336099585062207\n  },\n  {\n    \"languageCode\": \"hi_IN\",\n    \"languageName\": \"Hindi\",\n    \"languageNativeName\": \"\",\n    \"translationRatio\": 0.006483402489626533\n  },\n  {\n    \"languageCode\": \"hu_HU\",\n    \"languageName\": \"Hungarian\",\n    \"languageNativeName\": \"magyar\",\n    \"translationRatio\": 0.049533195020746934\n  },\n  {\n    \"languageCode\": \"id_ID\",\n    \"languageName\": \"Indonesian\",\n    \"languageNativeName\": \"Indonesian\",\n    \"translationRatio\": 0.48625518672199175\n  },\n  {\n    \"languageCode\": \"it_IT\",\n    \"languageName\": \"Italian\",\n    \"languageNativeName\": \"Italiano\",\n    \"translationRatio\": 0.6216286307053942\n  },\n  {\n    \"languageCode\": \"ja_JP\",\n    \"languageName\": \"Japanese\",\n    \"languageNativeName\": \"\",\n    \"translationRatio\": 0.034491701244813266\n  },\n  {\n    \"languageCode\": \"ko_KR\",\n    \"languageName\": \"Korean\",\n    \"languageNativeName\": \"\",\n    \"translationRatio\": 0.06405601659751037\n  },\n  {\n    \"languageCode\": \"lt_LT\",\n    \"languageName\": \"Lithuanian\",\n    \"languageNativeName\": \"lietuvi kalba\",\n    \"translationRatio\": 0.008298755186721962\n  },\n  {\n    \"languageCode\": \"mr_IN\",\n    \"languageName\": \"Marathi\",\n    \"languageNativeName\": \"\",\n    \"translationRatio\": 0.006483402489626533\n  },\n  {\n    \"languageCode\": \"ms_MY\",\n    \"languageName\": \"Malay\",\n    \"languageNativeName\": \" \",\n    \"translationRatio\": 0.009336099585062207\n  },\n  {\n    \"languageCode\": \"my_MM\",\n    \"languageName\": \"Burmese\",\n    \"languageNativeName\": \"\",\n    \"translationRatio\": 0.007261410788381717\n  },\n  {\n    \"languageCode\": \"nl_NL\",\n    \"languageName\": \"Dutch\",\n    \"languageNativeName\": \"Nederlands\",\n    \"translationRatio\": 0.4522821576763485\n  },\n  {\n    \"languageCode\": \"no_NO\",\n    \"languageName\": \"Norwegian\",\n    \"languageNativeName\": \"Norsk\",\n    \"translationRatio\": 0.00778008298755184\n  },\n  {\n    \"languageCode\": \"pl_PL\",\n    \"languageName\": \"Polish\",\n    \"languageNativeName\": \"jzyk polski\",\n    \"translationRatio\": 0.44787344398340245\n  },\n  {\n    \"languageCode\": \"pseudo_LOCALE\",\n    \"languageName\": \"for development only\",\n    \"languageNativeName\": \"Pseudolocalization\",\n    \"translationRatio\": 0.995433789954338\n  },\n  {\n    \"languageCode\": \"pt_BR\",\n    \"languageName\": \"Brazilian Portuguese\",\n    \"languageNativeName\": \"Portugus brasileiro\",\n    \"translationRatio\": 0.8254668049792531\n  },\n  {\n    \"languageCode\": \"pt_PT\",\n    \"languageName\": \"Portuguese\",\n    \"languageNativeName\": \"Portugus\",\n    \"translationRatio\": 0.5814315352697095\n  },\n  {\n    \"languageCode\": \"ro_RO\",\n    \"languageName\": \"Romanian\",\n    \"languageNativeName\": \"Romn\",\n    \"translationRatio\": 0.010373443983402453\n  },\n  {\n    \"languageCode\": \"ru_RU\",\n    \"languageName\": \"Russian\",\n    \"languageNativeName\": \"\",\n    \"translationRatio\": 0.8254668049792531\n  },\n  {\n    \"languageCode\": \"sk_SK\",\n    \"languageName\": \"Slovak\",\n    \"languageNativeName\": \"slovenina\",\n    \"translationRatio\": 0.018412863070539465\n  },\n  {\n    \"languageCode\": \"sr_CS\",\n    \"languageName\": \"Serbian (Latin)\",\n    \"languageNativeName\": \"srpski\",\n    \"translationRatio\": 0.299792531120332\n  },\n  {\n    \"languageCode\": \"sr_SP\",\n    \"languageName\": \"Serbian\",\n    \"languageNativeName\": \" \",\n    \"translationRatio\": 0.5173755186721991\n  },\n  {\n    \"languageCode\": \"sv_SE\",\n    \"languageName\": \"Swedish\",\n    \"languageNativeName\": \"svenska\",\n    \"translationRatio\": 0.1934647302904564\n  },\n  {\n    \"languageCode\": \"th_TH\",\n    \"languageName\": \"Thai\",\n    \"languageNativeName\": \"\",\n    \"translationRatio\": 0.0329356846473029\n  },\n  {\n    \"languageCode\": \"tr_TR\",\n    \"languageName\": \"Turkish\",\n    \"languageNativeName\": \"Trke\",\n    \"translationRatio\": 0.49974066390041494\n  },\n  {\n    \"languageCode\": \"uk_UA\",\n    \"languageName\": \"Ukrainian\",\n    \"languageNativeName\": \"\",\n    \"translationRatio\": 0.020487551867219955\n  },\n  {\n    \"languageCode\": \"ur_PK\",\n    \"languageName\": \"Urdu\",\n    \"languageNativeName\": \"\",\n    \"translationRatio\": 0.009595435684647269\n  },\n  {\n    \"languageCode\": \"yo_NG\",\n    \"languageName\": \"Yoruba\",\n    \"languageNativeName\": \"Yorb\",\n    \"translationRatio\": 0.8153526970954357\n  },\n  {\n    \"languageCode\": \"zh_CN\",\n    \"languageName\": \"Chinese Simplified\",\n    \"languageNativeName\": \"\",\n    \"translationRatio\": 0.5560165975103735\n  },\n  {\n    \"languageCode\": \"zh_TW\",\n    \"languageName\": \"Chinese Traditional\",\n    \"languageNativeName\": \"\",\n    \"translationRatio\": 0.06535269709543567\n  }\n];\n","// @flow\nimport React, { Component } from 'react';\nimport { mapVector } from '../Utils/MapFor';\nimport TextField from 'material-ui/TextField';\nimport SearchbarWithChips from '../UI/SearchbarWithChips';\nconst gd = global.gd;\n\ntype Props = {|\n  value: string,\n  onChange: string => void,\n  chosenExtensionName: string,\n  onExtensionNameChosen: string => void,\n|};\n\nexport default class ExamplesSearchbar extends Component<Props> {\n  _chips: Array<{| text: string, value: string |}> = [];\n  _textField: ?TextField;\n\n  constructor(props: Props) {\n    super(props);\n\n    const extensions = gd.JsPlatform.get().getAllPlatformExtensions();\n    this._chips = mapVector(extensions, extension => {\n      if (\n        extension.isBuiltin() ||\n        extension.getFullName().indexOf('(deprecated)') !== -1\n      )\n        return null;\n\n      return {\n        text: extension.getFullName(),\n        value: extension.getName(),\n      };\n    }).filter(Boolean);\n  }\n\n  render() {\n    const {\n      chosenExtensionName,\n      onExtensionNameChosen,\n      value,\n      onChange,\n    } = this.props;\n    return (\n      <SearchbarWithChips\n        value={value}\n        onChange={onChange}\n        chips={this._chips}\n        chosenChip={chosenExtensionName}\n        onChooseChip={onExtensionNameChosen}\n        onRequestSearch={() => {}}\n      />\n    );\n  }\n}\n","// This file is generated by update-examples-extensions-usage-from-resources-examples.js script\n// prettier-ignore\nmodule.exports = {\n  \"admob\": {\n    \"description\": \"Demonstrate how to show ads from AdMob in your game: banners, interstitial screen or reward videos. Also useful to test that your AdMob account is working properly.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"AdMob\",\n        \"name\": \"AdMob\"\n      }\n    ]\n  },\n  \"advanced-shape-based-painter\": {\n    \"description\": \"Show how to use Shape Painter objects to create a simple drawing app.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Primitive drawing\",\n        \"name\": \"PrimitiveDrawing\"\n      },\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"animation-speed-scale\": {\n    \"description\": \"Change the speed of the animation of an object according to its movement speed.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Platform Behavior\",\n        \"name\": \"PlatformBehavior\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"System information\",\n        \"name\": \"SystemInfo\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      }\n    ]\n  },\n  \"asteroids\": {\n    \"description\": \"An adptation of the classic arcade game Asteroids with GDevelop.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Destroy Outside Screen Behavior\",\n        \"name\": \"DestroyOutsideBehavior\"\n      },\n      {\n        \"fullName\": \"System information\",\n        \"name\": \"SystemInfo\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      }\n    ]\n  },\n  \"basic-ai-with-pathfinding\": {\n    \"description\": \"Show how to use pathfinding to make enemies chase the player.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Pathfinding behavior\",\n        \"name\": \"PathfindingBehavior\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Linked objects\",\n        \"name\": \"LinkedObjects\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      }\n    ]\n  },\n  \"basic-artificial-intelligence\": {\n    \"description\": \"Show how to create enemies looking at the player and chasing him when spotted.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Linked objects\",\n        \"name\": \"LinkedObjects\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      }\n    ]\n  },\n  \"basic-topdown-car-driving\": {\n    \"description\": \"Show how to create a car that can be controlled by the player.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"System information\",\n        \"name\": \"SystemInfo\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      }\n    ]\n  },\n  \"betabox-basics-learning-experience\": {\n    \"description\": \"Example level for teaching basic programming skills with extra features and assets.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Panel Sprite (9-patch) Object\",\n        \"name\": \"PanelSpriteObject\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Particle system\",\n        \"name\": \"ParticleSystem\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Destroy Outside Screen Behavior\",\n        \"name\": \"DestroyOutsideBehavior\"\n      },\n      {\n        \"fullName\": \"Platform Behavior\",\n        \"name\": \"PlatformBehavior\"\n      },\n      {\n        \"fullName\": \"Anchor\",\n        \"name\": \"AnchorBehavior\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"System information\",\n        \"name\": \"SystemInfo\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      }\n    ]\n  },\n  \"bomb-the-crate\": {\n    \"description\": \"A basic bomberman like game, where the player can move on the map, drop bombs and destroy crates on the map.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"bouncing-ball-and-rope\": {\n    \"description\": \"Simulate a bouncing ball with ropes that can be created to move the ball around anchors.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Primitive drawing\",\n        \"name\": \"PrimitiveDrawing\"\n      },\n      {\n        \"fullName\": \"Panel Sprite (9-patch) Object\",\n        \"name\": \"PanelSpriteObject\"\n      },\n      {\n        \"fullName\": \"Physics Engine 2.0\",\n        \"name\": \"Physics2\"\n      },\n      {\n        \"fullName\": \"Advanced control features\",\n        \"name\": \"BuiltinAdvanced\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Linked objects\",\n        \"name\": \"LinkedObjects\"\n      }\n    ]\n  },\n  \"breakout\": {\n    \"description\": \"The classic Breakout arcade game adapted in GDevelop.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"System information\",\n        \"name\": \"SystemInfo\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"External layouts\",\n        \"name\": \"BuiltinExternalLayouts\"\n      }\n    ]\n  },\n  \"buttons\": {\n    \"description\": \"Learn how to make buttons for the menus in your game.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      }\n    ]\n  },\n  \"car-physics\": {\n    \"description\": \"A fun, physics based driving game\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Physics Engine 2.0\",\n        \"name\": \"Physics2\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      }\n    ]\n  },\n  \"center-object-within-another\": {\n    \"description\": \"How to put an object on the center of another\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"change-position-of-object\": {\n    \"description\": \"Show how to move an object by changing its X and Y position.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"change-scale-of-sprites\": {\n    \"description\": \"Show how to change the scale of a sprite (to make a zoom effect for example).\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"change-sprite-animation\": {\n    \"description\": \"Learn how to change the animation of a Sprite object (useful for animating almost all objects in your game: characters, enemies, items...)\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      }\n    ]\n  },\n  \"change-sprite-color\": {\n    \"description\": \"Learn how to change the color of a Sprite object - useful to achieve effects like invincibility with a blue tint or taking damage with a red effect. \",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Destroy Outside Screen Behavior\",\n        \"name\": \"DestroyOutsideBehavior\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      }\n    ]\n  },\n  \"character-selection\": {\n    \"description\": \"Example showing how to remember the character selected by the player and use it in other scenes.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Platform Behavior\",\n        \"name\": \"PlatformBehavior\"\n      },\n      {\n        \"fullName\": \"Anchor\",\n        \"name\": \"AnchorBehavior\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"System information\",\n        \"name\": \"SystemInfo\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      }\n    ]\n  },\n  \"create-object-with-mouseclick\": {\n    \"description\": \"Show how to create an object at the position of the click.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"custom-font\": {\n    \"description\": \"Example showing a text with a custom font applied on it.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      }\n    ]\n  },\n  \"custom-mouse-pointer\": {\n    \"description\": \"Learn how to replace the mouse cursor by a custom image.\\n\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"customize-keys-with-lastpressedkey\": {\n    \"description\": \"This explains how to remember the last key that was pressed and customize the inputs of your game.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"device-orientation-ballgame\": {\n    \"description\": \"Example showing how to use the device sensors to move a ball in a maze.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Device sensors\",\n        \"name\": \"DeviceSensors\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      }\n    ]\n  },\n  \"device-orientation-compass\": {\n    \"description\": \"This shows how to use the device sensors to create a compass like app.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Device sensors\",\n        \"name\": \"DeviceSensors\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"device-vibration\": {\n    \"description\": \"Show how to make the device vibrate.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Device vibration\",\n        \"name\": \"DeviceVibration\"\n      }\n    ]\n  },\n  \"downhill-bike-physics-demo\": {\n    \"description\": \"A fun demo, using the Physics Engine to build an advanced simulation of a bike, with a person pedaling on it. Try to cross the finish line without falling and as fast as possible!\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Panel Sprite (9-patch) Object\",\n        \"name\": \"PanelSpriteObject\"\n      },\n      {\n        \"fullName\": \"Primitive drawing\",\n        \"name\": \"PrimitiveDrawing\"\n      },\n      {\n        \"fullName\": \"Physics Engine 2.0\",\n        \"name\": \"Physics2\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"System information\",\n        \"name\": \"SystemInfo\"\n      },\n      {\n        \"fullName\": \"Advanced control features\",\n        \"name\": \"BuiltinAdvanced\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Window features\",\n        \"name\": \"BuiltinWindow\"\n      },\n      {\n        \"fullName\": \"Device vibration\",\n        \"name\": \"DeviceVibration\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      }\n    ]\n  },\n  \"drag-camera-with-mouse\": {\n    \"description\": \"This shows how to allow the user to move on a map with the mouse.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      }\n    ]\n  },\n  \"drop-collect-items-from-storage\": {\n    \"description\": \"Show how to make the player collect objects from boxes on the map.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"endless-up-runner\": {\n    \"description\": \"A game where the player have to jump on platforms and avoid falling down as the screen goes up. With special objects (spring, rocks), score and Game Over handling!\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Platform Behavior\",\n        \"name\": \"PlatformBehavior\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"System information\",\n        \"name\": \"SystemInfo\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      }\n    ]\n  },\n  \"exit-app\": {\n    \"description\": \"Simple example showing how to close your game.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      }\n    ]\n  },\n  \"facebook-instant-game\": {\n    \"description\": \"Learn how to use the various Facebook Instant Games APIs to get information about the player, share their scores and have a leaderboard!\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Facebook Instant Games\",\n        \"name\": \"FacebookInstantGames\"\n      }\n    ]\n  },\n  \"find-diagonals\": {\n    \"description\": \"Show how to delete objects that are located at the diagonals of the click of the player in a board game.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      }\n    ]\n  },\n  \"geodash\": {\n    \"description\": \"A fast paced game where you must jump and avoid obstacles.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Panel Sprite (9-patch) Object\",\n        \"name\": \"PanelSpriteObject\"\n      },\n      {\n        \"fullName\": \"Particle system\",\n        \"name\": \"ParticleSystem\"\n      },\n      {\n        \"fullName\": \"Platform Behavior\",\n        \"name\": \"PlatformBehavior\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      }\n    ]\n  },\n  \"health-bar\": {\n    \"description\": \"The platform example game adapted to add a health bar to the player, that is decreased when the player touches an enemy.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Platform Behavior\",\n        \"name\": \"PlatformBehavior\"\n      },\n      {\n        \"fullName\": \"Anchor\",\n        \"name\": \"AnchorBehavior\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"System information\",\n        \"name\": \"SystemInfo\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      }\n    ]\n  },\n  \"infinite-scrolling-background\": {\n    \"description\": \"Learn how to create a background that is scolling infinitely.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      }\n    ]\n  },\n  \"inventory-system\": {\n    \"description\": \"Learn how to display an inventory, with object that can be addded or removed, and how to persist it in storage.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Inventory\",\n        \"name\": \"Inventory\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Linked objects\",\n        \"name\": \"LinkedObjects\"\n      },\n      {\n        \"fullName\": \"Storage\",\n        \"name\": \"BuiltinFile\"\n      }\n    ]\n  },\n  \"isometric-game\": {\n    \"description\": \"Example of making an isometric 2D game.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Top-down movement\",\n        \"name\": \"TopDownMovementBehavior\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      }\n    ]\n  },\n  \"javascript-blocks-in-platformer\": {\n    \"description\": \"This shows how to reproduce the Platformer example using JavaScript code instead of events.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Platform Behavior\",\n        \"name\": \"PlatformBehavior\"\n      },\n      {\n        \"fullName\": \"Anchor\",\n        \"name\": \"AnchorBehavior\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"System information\",\n        \"name\": \"SystemInfo\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      }\n    ]\n  },\n  \"keyboard-practice\": {\n    \"description\": \"A simple game where the player must press the right keys on the keyboard as fast as possible.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      }\n    ]\n  },\n  \"level-editor\": {\n    \"description\": \"Example showing a basic level editor, where you can save and load positions of objects put on the scene during the game. Also shows how to use simple functions.\\n\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Primitive drawing\",\n        \"name\": \"PrimitiveDrawing\"\n      },\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Draggable Behavior\",\n        \"name\": \"DraggableBehavior\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Storage\",\n        \"name\": \"BuiltinFile\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"\",\n        \"name\": \"\"\n      }\n    ]\n  },\n  \"load-image-from-url\": {\n    \"description\": \"Advanced example showing how to use JavaScript to load an image from an external URL.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      }\n    ]\n  },\n  \"magnet\": {\n    \"description\": \"Show how to move a ball like if it's attracted by a magnet.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Linked objects\",\n        \"name\": \"LinkedObjects\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      }\n    ]\n  },\n  \"manipulate-text-object\": {\n    \"description\": \"This shows how to change the text of a Text object displayed on the screen.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Draggable Behavior\",\n        \"name\": \"DraggableBehavior\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"move-camera-to-position\": {\n    \"description\": \"This shows how to move the camera to the position of an object on a map.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Draggable Behavior\",\n        \"name\": \"DraggableBehavior\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      }\n    ]\n  },\n  \"move-object-back-and-forth\": {\n    \"description\": \"Use events to move objects back and forth vertically or horizontally.\\n\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      }\n    ]\n  },\n  \"move-object-in-circle\": {\n    \"description\": \"This shows how to make an object move in circle around some point.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"move-object-toward-position\": {\n    \"description\": \"This shows how to have an object move to a given position on the screen.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"move-object-with-mouse-joint\": {\n    \"description\": \"Show how to use physics engine to move an object around with the mouse and realistic movements.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Physics Engine 2.0\",\n        \"name\": \"Physics2\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      }\n    ]\n  },\n  \"move-object-with-physics\": {\n    \"description\": \"This shows how to use the forces built in GDevelop to move an object.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"multiplayer-platformer-with-gamepads\": {\n    \"description\": \"Example showing how to use the Gamepads extension to read the state of gamepads (or controllers), for 2 players.\\n\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Platform Behavior\",\n        \"name\": \"PlatformBehavior\"\n      },\n      {\n        \"fullName\": \"Anchor\",\n        \"name\": \"AnchorBehavior\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"System information\",\n        \"name\": \"SystemInfo\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"\",\n        \"name\": \"\"\n      }\n    ]\n  },\n  \"multitouch\": {\n    \"description\": \"This show how to create multiple markers when the player touches the screen.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"object-gravity\": {\n    \"description\": \"Use the physics engine to simulate an object moving on a small planet.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Physics Engine 2.0\",\n        \"name\": \"Physics2\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      }\n    ]\n  },\n  \"object-selection\": {\n    \"description\": \"Simple example showing how the engine of GDevelop select objects to be used in conditions and actions.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      }\n    ]\n  },\n  \"objects-timers\": {\n    \"description\": \"Example showing various usage of objects timers (timers that are stored into instances of objects on the scene, as opposed to scene timers which are stored by the scene).\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      }\n    ]\n  },\n  \"open-url-in-browser\": {\n    \"description\": \"This shows how to open a website on the system default browser.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Storage\",\n        \"name\": \"BuiltinFile\"\n      }\n    ]\n  },\n  \"pairs\": {\n    \"description\": \"Find all matching pairs of cards in this relaxing game. Use tweens to create smooth, natural animations with a few events.\\n\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Particle system\",\n        \"name\": \"ParticleSystem\"\n      },\n      {\n        \"fullName\": \"Tween animation\",\n        \"name\": \"Tween\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      }\n    ]\n  },\n  \"parallax\": {\n    \"description\": \"Shows how to have multiple layers with a parallax effect (where the background layers move slower than the foreground).\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      }\n    ]\n  },\n  \"parallax-scrolling\": {\n    \"description\": \"Another example showing how to have multiple layers with a parallax effect (where the background layers move slower than the foreground).\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Platform Behavior\",\n        \"name\": \"PlatformBehavior\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      }\n    ]\n  },\n  \"parse-json-from-api\": {\n    \"description\": \"Advanced example where JSON content is fetched from a website and information extracted from it.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Basic internet features\",\n        \"name\": \"BuiltinNetwork\"\n      }\n    ]\n  },\n  \"parse-json-string\": {\n    \"description\": \"Advanced example showing how to extract information from a JSON formatted string.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Basic internet features\",\n        \"name\": \"BuiltinNetwork\"\n      }\n    ]\n  },\n  \"particles-explosions\": {\n    \"description\": \"Create explosion effects with the particles engine.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Particle system\",\n        \"name\": \"ParticleSystem\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"particles-various-effects\": {\n    \"description\": \"Create various effects with the particles engine.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Particle system\",\n        \"name\": \"ParticleSystem\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"pathfinding\": {\n    \"description\": \"This show how to have an object moving from its position to another automatically avoiding obstacles.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Pathfinding behavior\",\n        \"name\": \"PathfindingBehavior\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"pathfinding-basics\": {\n    \"description\": \"Simpler example showing how to get started with Pathfinding, to have an object automatically find its way around obstacles.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Pathfinding behavior\",\n        \"name\": \"PathfindingBehavior\"\n      },\n      {\n        \"fullName\": \"Draggable Behavior\",\n        \"name\": \"DraggableBehavior\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"physics\": {\n    \"description\": \"Example showing various capabilities of the physics engine integrated to GDevelop.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Physics Engine 2.0\",\n        \"name\": \"Physics2\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"physics-joints-demo\": {\n    \"description\": \"A demo of all the joints that can be created using the Physics engine.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Primitive drawing\",\n        \"name\": \"PrimitiveDrawing\"\n      },\n      {\n        \"fullName\": \"Physics Engine 2.0\",\n        \"name\": \"Physics2\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      }\n    ]\n  },\n  \"physics-joints-settings-demo\": {\n    \"description\": \"A demo of all the joints, and the way they can be customized, using the Physics engine.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Physics Engine 2.0\",\n        \"name\": \"Physics2\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Primitive drawing\",\n        \"name\": \"PrimitiveDrawing\"\n      },\n      {\n        \"fullName\": \"\",\n        \"name\": \"\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      }\n    ]\n  },\n  \"pin-object-to-another\": {\n    \"description\": \"Example showing how to have objects \\\"pinned\\\" to another, meaning that they will move/rotate and follow the object they are pinned too.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Draggable Behavior\",\n        \"name\": \"DraggableBehavior\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"pin-object-to-another-multiple-parents\": {\n    \"description\": \"Example showing how to have objects \\\"pinned\\\" to multiple other objects, meaning that they will move/rotate and follow the object they are pinned too.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Draggable Behavior\",\n        \"name\": \"DraggableBehavior\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Linked objects\",\n        \"name\": \"LinkedObjects\"\n      }\n    ]\n  },\n  \"pixel-perfect-platform-game\": {\n    \"description\": \"Very simple example showing the settings to have a pixel-perfect platform game (also applicable to other kind of games).\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Platform Behavior\",\n        \"name\": \"PlatformBehavior\"\n      }\n    ]\n  },\n  \"plane-and-clouds\": {\n    \"description\": \"Show how to randomly generate clouds to create an infinite sky.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Particle system\",\n        \"name\": \"ParticleSystem\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      }\n    ]\n  },\n  \"platformer\": {\n    \"description\": \"An example of a basic platformer (Mario-like) game made with GDevelop.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Platform Behavior\",\n        \"name\": \"PlatformBehavior\"\n      },\n      {\n        \"fullName\": \"Anchor\",\n        \"name\": \"AnchorBehavior\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"System information\",\n        \"name\": \"SystemInfo\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      }\n    ]\n  },\n  \"platformer-double-jump\": {\n    \"description\": \"The Platformer example modified to allow the player to do a double jump.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Platform Behavior\",\n        \"name\": \"PlatformBehavior\"\n      },\n      {\n        \"fullName\": \"Anchor\",\n        \"name\": \"AnchorBehavior\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"System information\",\n        \"name\": \"SystemInfo\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      }\n    ]\n  },\n  \"play-music-on-mobile\": {\n    \"description\": \"This show how to properly launch a music on a game on mobile.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      }\n    ]\n  },\n  \"play-stop-sprite-animation\": {\n    \"description\": \"This shows how to pause the animation of a Sprite object.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"racing-game\": {\n    \"description\": \"A top-down racing game made using the Physics engine.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Physics Engine 2.0\",\n        \"name\": \"Physics2\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      }\n    ]\n  },\n  \"ragdoll\": {\n    \"description\": \"Example of creating a ragdoll with physics joints.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Particle system\",\n        \"name\": \"ParticleSystem\"\n      },\n      {\n        \"fullName\": \"Physics Engine 2.0\",\n        \"name\": \"Physics2\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Advanced control features\",\n        \"name\": \"BuiltinAdvanced\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"rain\": {\n    \"description\": \"Show how to simulate a rain effect by creating several objects.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Destroy Outside Screen Behavior\",\n        \"name\": \"DestroyOutsideBehavior\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Window features\",\n        \"name\": \"BuiltinWindow\"\n      }\n    ]\n  },\n  \"random-color-picker\": {\n    \"description\": \"This shows how to create a grid with random color, and let the player choose one.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"rotate-toward-mouse\": {\n    \"description\": \"Show how to rotate an object so that it looks toward the player cursor.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"rotate-toward-position\": {\n    \"description\": \"Show how to rotate an object so that it looks toward a specified position on the scene.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"rotate-with-keypress\": {\n    \"description\": \"Basic example showing how to rotate an object.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"save-load\": {\n    \"description\": \"Advanced example showing how to persist data and then reload them from storage (useful to store game progress, or save the state of some objects in a game).\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Draggable Behavior\",\n        \"name\": \"DraggableBehavior\"\n      },\n      {\n        \"fullName\": \"Storage\",\n        \"name\": \"BuiltinFile\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"screen-shake\": {\n    \"description\": \"Make the screen shake when some event occurs.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Platform Behavior\",\n        \"name\": \"PlatformBehavior\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      }\n    ]\n  },\n  \"shoot-bullet-in-parabola\": {\n    \"description\": \"Show how to use various mathematical expressions to move an object following a parabola shape\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Draggable Behavior\",\n        \"name\": \"DraggableBehavior\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      }\n    ]\n  },\n  \"shoot-bullets\": {\n    \"description\": \"Basic example showing how to shoot bullets from an object.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Destroy Outside Screen Behavior\",\n        \"name\": \"DestroyOutsideBehavior\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"shooting-bullets-explanation\": {\n    \"description\": \"Basic example showing how to shoot bullets from one or multiple objects at the same time.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Destroy Outside Screen Behavior\",\n        \"name\": \"DestroyOutsideBehavior\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"simple-space-shooter\": {\n    \"description\": \"An older, simple space shooter demo, made without any behaviors from extensions. Prefer taking a look at the Space Shooter starter to learn about useful behaviors and patterns for making your games.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Top-down movement\",\n        \"name\": \"TopDownMovementBehavior\"\n      },\n      {\n        \"fullName\": \"Destroy Outside Screen Behavior\",\n        \"name\": \"DestroyOutsideBehavior\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      }\n    ]\n  },\n  \"snap-object-to-grid\": {\n    \"description\": \"Example showing how to create a grid and have objects snapped to the grid.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Primitive drawing\",\n        \"name\": \"PrimitiveDrawing\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Draggable Behavior\",\n        \"name\": \"DraggableBehavior\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Window features\",\n        \"name\": \"BuiltinWindow\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"space-invaders\": {\n    \"description\": \"A Space Invaders-like game, where you have a turret and shoot on enemies coming from the sky.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Destroy Outside Screen Behavior\",\n        \"name\": \"DestroyOutsideBehavior\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"System information\",\n        \"name\": \"SystemInfo\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      },\n      {\n        \"fullName\": \"Window features\",\n        \"name\": \"BuiltinWindow\"\n      }\n    ]\n  },\n  \"space-shooter\": {\n    \"description\": \"A beautiful, retro side-scrolling shooter where you must defeat incoming enemies with your mecha transforming spaceship. Huge boss included!\\n\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Tiled Sprite Object\",\n        \"name\": \"TiledSpriteObject\"\n      },\n      {\n        \"fullName\": \"Panel Sprite (9-patch) Object\",\n        \"name\": \"PanelSpriteObject\"\n      },\n      {\n        \"fullName\": \"\",\n        \"name\": \"\"\n      },\n      {\n        \"fullName\": \"Top-down movement\",\n        \"name\": \"TopDownMovementBehavior\"\n      },\n      {\n        \"fullName\": \"Destroy Outside Screen Behavior\",\n        \"name\": \"DestroyOutsideBehavior\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      }\n    ]\n  },\n  \"splash-screen\": {\n    \"description\": \"Show how to create a splashscreen at the beginning of your game.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"sprite-fade-in-out\": {\n    \"description\": \"This shows how to make a sprite fade in and out on the screen.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      }\n    ]\n  },\n  \"take-screenshot\": {\n    \"description\": \"Show how to save a screenshot of the game on the disk (on Windows/macOS/Linux only).\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Screenshot\",\n        \"name\": \"Screenshot\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      }\n    ]\n  },\n  \"text-entry-object\": {\n    \"description\": \"This shows how to use the Text Entry object to capture what is written on the keyboard.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Text entry object\",\n        \"name\": \"TextEntryObject\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      }\n    ]\n  },\n  \"text-fade-in-out\": {\n    \"description\": \"This shows how to make a text fade in and out on the screen.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      }\n    ]\n  },\n  \"text-to-speech\": {\n    \"description\": \"Advanced example showing how to use JavaScript and HTML5 api to make a text read by your computer.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Text entry object\",\n        \"name\": \"TextEntryObject\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      }\n    ]\n  },\n  \"toggle-music-play-sound\": {\n    \"description\": \"Example showing how to play a music and add controls on the screen to pause it, change the volume or mute the sounds totally.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      }\n    ]\n  },\n  \"type-on-text-effect\": {\n    \"description\": \"This show how to create an effect where a text is progressively typed on the screen.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      },\n      {\n        \"fullName\": \"Audio\",\n        \"name\": \"BuiltinAudio\"\n      }\n    ]\n  },\n  \"video-player\": {\n    \"description\": \"An example of a complete video player with controls to play/pause, change the volume, jump to a position in the video...\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Video\",\n        \"name\": \"Video\"\n      },\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Tween animation\",\n        \"name\": \"Tween\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      },\n      {\n        \"fullName\": \"Advanced control features\",\n        \"name\": \"BuiltinAdvanced\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"\",\n        \"name\": \"\"\n      },\n      {\n        \"fullName\": \"Window features\",\n        \"name\": \"BuiltinWindow\"\n      }\n    ]\n  },\n  \"z-depth\": {\n    \"description\": \"Example where the player can move a character on a map, and the character is displayed behind or in front of other objects according to its position.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Standard events\",\n        \"name\": \"BuiltinCommonInstructions\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Keyboard features\",\n        \"name\": \"BuiltinKeyboard\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      }\n    ]\n  },\n  \"zombie-laser\": {\n    \"description\": \"Simple game where the player must use his laser powered gun to destroy zombies running at him.\",\n    \"usedExtensions\": [\n      {\n        \"fullName\": \"Sprite\",\n        \"name\": \"Sprite\"\n      },\n      {\n        \"fullName\": \"Primitive drawing\",\n        \"name\": \"PrimitiveDrawing\"\n      },\n      {\n        \"fullName\": \"Text object\",\n        \"name\": \"TextObject\"\n      },\n      {\n        \"fullName\": \"Pathfinding behavior\",\n        \"name\": \"PathfindingBehavior\"\n      },\n      {\n        \"fullName\": \"Scene management features\",\n        \"name\": \"BuiltinScene\"\n      },\n      {\n        \"fullName\": \"Variable features\",\n        \"name\": \"BuiltinVariables\"\n      },\n      {\n        \"fullName\": \"Mouse features\",\n        \"name\": \"BuiltinMouse\"\n      },\n      {\n        \"fullName\": \"Base object\",\n        \"name\": \"BuiltinObject\"\n      },\n      {\n        \"fullName\": \"Time\",\n        \"name\": \"BuiltinTime\"\n      },\n      {\n        \"fullName\": \"Cameras and layers features\",\n        \"name\": \"BuiltinCamera\"\n      }\n    ]\n  }\n};\n","// @flow\nimport optionalRequire from '../Utils/OptionalRequire.js';\nconst electron = optionalRequire('electron');\nconst path = optionalRequire('path');\n\nclass UrlsCache {\n  projectCache = {};\n\n  _getProjectCache(project: gdProject) {\n    const cache = this.projectCache[project.ptr];\n    if (!cache) {\n      return (this.projectCache[project.ptr] = {});\n    }\n\n    return cache;\n  }\n\n  getCachedUrl(project: gdProject, filename: string) {\n    const cache = this._getProjectCache(project);\n    return cache[filename];\n  }\n\n  cacheUrl(project: gdProject, url: string) {\n    const cache = this._getProjectCache(project);\n    return (cache[url] = url);\n  }\n\n  burstUrl(project: gdProject, url: string) {\n    const cache = this._getProjectCache(project);\n    delete cache[url];\n  }\n\n  cacheLocalFileUrl(\n    project: gdProject,\n    filename: string,\n    systemFilename: string,\n    disableCacheBurst: boolean\n  ) {\n    const cache = this._getProjectCache(project);\n\n    if (!disableCacheBurst) {\n      // The URL is cached with an extra \"cache-bursting\" parameter.\n      // If the cache is emptied or changed, local files will have another\n      // value for this parameter, forcing the browser to reload the images.\n      return (cache[filename] = `${systemFilename}?cache=${Date.now()}`);\n    } else {\n      return (cache[filename] = systemFilename);\n    }\n  }\n}\n\n/**\n * A class globally used in the whole IDE to get URLs to resources of games\n * (notably images).\n */\nexport default class ResourcesLoader {\n  static _cache = new UrlsCache();\n\n  static isLocalFile(filename: string): boolean {\n    return (\n      filename.indexOf('data:') !== 0 &&\n      filename.indexOf('http://') !== 0 &&\n      filename.indexOf('https://') !== 0 &&\n      filename.indexOf('ftp://') !== 0\n    );\n  }\n\n  /**\n   * Remove the specified resources resolved URLs from the cache. Useful if the\n   * file represented by these resources has changed. This force these local files to be loaded again.\n   */\n  static burstUrlsCacheForResources(\n    project: gdProject,\n    resourcesNames: Array<string>\n  ) {\n    const resourcesManager = project.getResourcesManager();\n    resourcesNames.forEach(resourceName => {\n      if (resourcesManager.hasResource(resourceName)) {\n        ResourcesLoader._cache.burstUrl(\n          project,\n          resourcesManager.getResource(resourceName).getFile()\n        );\n      }\n    });\n  }\n\n  /**\n   * Re-create a new cache for URLs. Call this to force local\n   * file to be loaded again.\n   */\n  static burstAllUrlsCache() {\n    ResourcesLoader._cache = new UrlsCache();\n  }\n\n  /**\n   * Get the fully qualified URL/filename for a filename relative to the project.\n   */\n  static getFullUrl(\n    project: gdProject,\n    filename: string,\n    disableCacheBurst: boolean = false\n  ) {\n    const cachedUrl = ResourcesLoader._cache.getCachedUrl(project, filename);\n    if (cachedUrl) return cachedUrl;\n\n    if (electron && ResourcesLoader.isLocalFile(filename)) {\n      // Support local filesystem with Electron\n      const file = project.getProjectFile();\n      const projectPath = path.dirname(file);\n      const resourceAbsolutePath = path\n        .resolve(projectPath, filename)\n        .replace(/\\\\/g, '/');\n\n      console.info('Caching resolved local filename:', resourceAbsolutePath);\n      return this._cache.cacheLocalFileUrl(\n        project,\n        filename,\n        'file://' + resourceAbsolutePath,\n        disableCacheBurst\n      );\n    }\n\n    // URLs to non local files are unchanged\n    return this._cache.cacheUrl(project, filename);\n  }\n\n  /**\n   * Get the fully qualified URL/filename associated with the given resource.\n   */\n  static getResourceFullUrl(\n    project: gdProject,\n    resourceName: string,\n    disableCacheBurst: boolean = false\n  ) {\n    if (project.getResourcesManager().hasResource(resourceName)) {\n      const resourceRelativePath = project\n        .getResourcesManager()\n        .getResource(resourceName)\n        .getFile();\n      return ResourcesLoader.getFullUrl(\n        project,\n        resourceRelativePath,\n        disableCacheBurst\n      );\n    }\n\n    return resourceName;\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport { I18nProvider } from '@lingui/react';\nimport { setupI18n } from '@lingui/core';\nimport { getTranslationFunction } from './getTranslationFunction';\nimport { type I18n as I18nType } from '@lingui/core';\nconst gd = global.gd;\n\ntype Catalog = any;\ntype Catalogs = {\n  [string]: Catalog,\n};\n\ntype Props = {|\n  language: string,\n  children: React.Node,\n|};\n\ntype State = {\n  language: string,\n  i18n: ?I18nType,\n  catalogs: Catalogs,\n};\n\nexport default class GDI18nProvider extends React.Component<Props, State> {\n  state = {\n    language: 'en',\n    catalogs: {},\n    i18n: null,\n  };\n\n  componentDidMount() {\n    this._loadLanguage(this.props.language);\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.language !== this.props.language) {\n      this._loadLanguage(this.props.language);\n    }\n  }\n\n  _loadCatalog = (language: string): Promise<Catalogs> => {\n    if (this.state.catalogs[language]) {\n      return Promise.resolve(this.state.catalogs);\n    }\n\n    return import(/* webpackMode: \"lazy\", webpackChunkName: \"locales-[request]\" */\n    `../../locales/${language}/messages`).then(\n      catalog => {\n        return { ...this.state.catalogs, [language]: catalog };\n      },\n      (error: Error) => {\n        console.error('Error while loading language=' + language, error);\n        return this.state.catalogs;\n      }\n    );\n  };\n\n  _loadLanguage(language: string) {\n    this._loadCatalog(language).then(catalogs => {\n      this.setState(\n        {\n          language,\n          catalogs,\n          i18n: setupI18n({\n            language: language,\n            catalogs,\n          }),\n        },\n        () => {\n          const { i18n } = this.state;\n          gd.getTranslation = getTranslationFunction(i18n);\n          console.info(`Loaded \"${language}\" language`);\n        }\n      );\n    });\n  }\n\n  render() {\n    // Use language from the state, as it is synchronized with the catalogs,\n    // while the language from props is the \"target language\", and sometime\n    // can be a language for which the catalog is not loaded yet (which would\n    // create warning and a \"flash\" effect when changing language).\n    const { i18n, catalogs, language } = this.state;\n    const { children } = this.props;\n\n    if (!i18n) return null; // Skip rendering when catalog isn't loaded.\n\n    return (\n      <I18nProvider i18n={i18n} language={language} catalogs={catalogs}>\n        {children}\n      </I18nProvider>\n    );\n  }\n}\n","var map = {\n\t\"./af_ZA/messages\": [\n\t\t2354,\n\t\t5\n\t],\n\t\"./ar_SA/messages\": [\n\t\t2355,\n\t\t6\n\t],\n\t\"./az_AZ/messages\": [\n\t\t2356,\n\t\t7\n\t],\n\t\"./bg_BG/messages\": [\n\t\t2357,\n\t\t8\n\t],\n\t\"./bn_BD/messages\": [\n\t\t2358,\n\t\t9\n\t],\n\t\"./ca_ES/messages\": [\n\t\t2359,\n\t\t10\n\t],\n\t\"./cs_CZ/messages\": [\n\t\t2360,\n\t\t11\n\t],\n\t\"./da_DK/messages\": [\n\t\t2361,\n\t\t12\n\t],\n\t\"./de_DE/messages\": [\n\t\t2362,\n\t\t13\n\t],\n\t\"./el_GR/messages\": [\n\t\t2363,\n\t\t14\n\t],\n\t\"./en/messages\": [\n\t\t2364,\n\t\t15\n\t],\n\t\"./eo_UY/messages\": [\n\t\t2365,\n\t\t16\n\t],\n\t\"./es_ES/messages\": [\n\t\t2366,\n\t\t17\n\t],\n\t\"./fa_IR/messages\": [\n\t\t2367,\n\t\t18\n\t],\n\t\"./fi_FI/messages\": [\n\t\t2368,\n\t\t19\n\t],\n\t\"./fil_PH/messages\": [\n\t\t2369,\n\t\t20\n\t],\n\t\"./fr_FR/messages\": [\n\t\t2370,\n\t\t21\n\t],\n\t\"./ha_HG/messages\": [\n\t\t2371,\n\t\t22\n\t],\n\t\"./he_IL/messages\": [\n\t\t2372,\n\t\t23\n\t],\n\t\"./hi_IN/messages\": [\n\t\t2373,\n\t\t24\n\t],\n\t\"./hu_HU/messages\": [\n\t\t2374,\n\t\t25\n\t],\n\t\"./id_ID/messages\": [\n\t\t2375,\n\t\t26\n\t],\n\t\"./it_IT/messages\": [\n\t\t2376,\n\t\t27\n\t],\n\t\"./ja_JP/messages\": [\n\t\t2377,\n\t\t28\n\t],\n\t\"./ko_KR/messages\": [\n\t\t2378,\n\t\t29\n\t],\n\t\"./lt_LT/messages\": [\n\t\t2379,\n\t\t30\n\t],\n\t\"./mr_IN/messages\": [\n\t\t2380,\n\t\t31\n\t],\n\t\"./ms_MY/messages\": [\n\t\t2381,\n\t\t32\n\t],\n\t\"./my_MM/messages\": [\n\t\t2382,\n\t\t33\n\t],\n\t\"./nl_NL/messages\": [\n\t\t2383,\n\t\t34\n\t],\n\t\"./no_NO/messages\": [\n\t\t2384,\n\t\t35\n\t],\n\t\"./pl_PL/messages\": [\n\t\t2385,\n\t\t36\n\t],\n\t\"./pseudo_LOCALE/messages\": [\n\t\t2386,\n\t\t37\n\t],\n\t\"./pt_BR/messages\": [\n\t\t2387,\n\t\t38\n\t],\n\t\"./pt_PT/messages\": [\n\t\t2388,\n\t\t39\n\t],\n\t\"./ro_RO/messages\": [\n\t\t2389,\n\t\t40\n\t],\n\t\"./ru_RU/messages\": [\n\t\t2390,\n\t\t41\n\t],\n\t\"./sk_SK/messages\": [\n\t\t2391,\n\t\t42\n\t],\n\t\"./sr_CS/messages\": [\n\t\t2392,\n\t\t43\n\t],\n\t\"./sr_SP/messages\": [\n\t\t2393,\n\t\t44\n\t],\n\t\"./sv_SE/messages\": [\n\t\t2394,\n\t\t45\n\t],\n\t\"./th_TH/messages\": [\n\t\t2395,\n\t\t46\n\t],\n\t\"./tr_TR/messages\": [\n\t\t2396,\n\t\t47\n\t],\n\t\"./uk_UA/messages\": [\n\t\t2397,\n\t\t48\n\t],\n\t\"./ur_PK/messages\": [\n\t\t2398,\n\t\t49\n\t],\n\t\"./yo_NG/messages\": [\n\t\t2399,\n\t\t50\n\t],\n\t\"./zh_CN/messages\": [\n\t\t2400,\n\t\t51\n\t],\n\t\"./zh_TW/messages\": [\n\t\t2401,\n\t\t52\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\tvar id = ids[0];\n\t\treturn __webpack_require__.t(id, 7);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 2170;\nmodule.exports = webpackAsyncContext;","// @flow\nimport * as React from 'react';\nimport FlatButton from 'material-ui/FlatButton';\nimport HelpOutline from 'material-ui/svg-icons/action/help-outline';\nimport Window from '../../Utils/Window';\nimport { getHelpLink } from '../../Utils/HelpLink';\nimport { Trans } from '@lingui/macro';\n\ntype PropsType = {\n  helpPagePath: ?string,\n  label?: React.Node,\n};\n\n/**\n * The button that can be used in any dialog to open a help page\n */\nconst HelpButton = (props: PropsType) => {\n  if (!props.helpPagePath) return null;\n\n  return (\n    <FlatButton\n      onClick={() => {\n        if (props.helpPagePath) {\n          Window.openExternalURL(getHelpLink(props.helpPagePath));\n        }\n      }}\n      target=\"_blank\"\n      label={props.label || <Trans>Help</Trans>}\n      icon={<HelpOutline />}\n    />\n  );\n};\n\nexport default HelpButton;\n","// @flow\n\nconst gd = global.gd;\n\n/**\n * Tool function to save a serializable object to a JS object.\n * Most gd.* objects are \"serializable\", meaning they have a serializeTo\n * and unserializeFrom method.\n *\n * @param {*} serializable\n * @param {*} methodName The name of the serialization method. \"unserializeFrom\" by default\n */\nexport function serializeToJSObject(\n  serializable: gdSerializable,\n  methodName: string = 'serializeTo'\n) {\n  const serializedElement = new gd.SerializerElement();\n  serializable[methodName](serializedElement);\n  const object = JSON.parse(gd.Serializer.toJSON(serializedElement));\n  serializedElement.delete();\n\n  return object;\n}\n\n/**\n * Tool function to restore a serializable object from a JS object.\n * Most gd.* objects are \"serializable\", meaning they have a serializeTo\n * and unserializeFrom method.\n * @param {*} serializable A gd.* object to restore\n * @param {*} object The JS object to be used to restore the serializable.\n * @param {*} methodName The name of the unserialization method. \"unserializeFrom\" by default\n * @param {*} optionalProject The project to pass as argument for unserialization\n */\nexport function unserializeFromJSObject(\n  serializable: gdSerializable,\n  object: Object,\n  methodName: string = 'unserializeFrom',\n  optionalProject: ?gdProject = undefined\n) {\n  const serializedElement = gd.Serializer.fromJSObject(object);\n  if (!optionalProject) {\n    serializable[methodName](serializedElement);\n  } else {\n    // It's not uncommon for unserializeFrom methods of gd.* classes\n    // to require the project to be passed as first argument.\n    serializable[methodName](optionalProject, serializedElement);\n  }\n  serializedElement.delete();\n}\n","// @flow\nimport * as React from 'react';\nimport TextField from 'material-ui/TextField';\n\ntype State = {|\n  focused: boolean,\n  text: ?string,\n|};\n\ntype Props = {|\n  onChange: string => void,\n  value: string,\n  commitOnBlur?: boolean,\n  onFocus?: ({\n    currentTarget: {\n      value: string,\n    },\n    preventDefault: () => void,\n  }) => void,\n  onBlur?: ({\n    currentTarget: {\n      value: string,\n    },\n  }) => void,\n\n  // Some TextField props that can be reused:\n  disabled?: boolean,\n  errorText?: React.Node,\n  floatingLabelFixed?: boolean,\n  floatingLabelText?: React.Node,\n  fullWidth?: boolean,\n  hintText?: React.Node,\n  id?: string,\n  inputStyle?: Object,\n  max?: number,\n  min?: number,\n  multiLine?: boolean,\n  name?: string,\n  step?: number,\n  style?: Object,\n  type?: string,\n  rows?: number,\n|};\n\n/**\n * This component works like a material-ui TextField, except that\n * the value passed as props is not forced into the text field when the user\n * is typing. This is useful if the parent component can do modifications on the value:\n * the user won't be interrupted or have the value changed until he blurs the field.\n */\nexport default class SemiControlledTextField extends React.Component<\n  Props,\n  State\n> {\n  state = {\n    focused: false,\n    text: null,\n  };\n\n  _field: ?any = null;\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  getInputNode() {\n    if (this._field) return this._field.getInputNode();\n  }\n\n  render() {\n    const {\n      value,\n      onChange,\n      commitOnBlur,\n      onFocus,\n      onBlur,\n      ...otherProps\n    } = this.props;\n\n    return (\n      <TextField\n        {...otherProps}\n        ref={field => (this._field = field)}\n        value={this.state.focused ? this.state.text : value}\n        onFocus={event => {\n          this.setState({\n            focused: true,\n            text: this.props.value,\n          });\n\n          if (onFocus) onFocus(event);\n        }}\n        onChange={(event, newValue) => {\n          this.setState({\n            text: newValue,\n          });\n\n          if (!commitOnBlur) onChange(newValue);\n        }}\n        onBlur={event => {\n          onChange(event.currentTarget.value);\n          this.setState({\n            focused: false,\n            text: null,\n          });\n\n          if (onBlur) onBlur(event);\n        }}\n      />\n    );\n  }\n}\n","// @flow\nexport const selectableArea = 'selectable';\nexport const selectedArea = 'selected';\nexport const icon = 'icon';\n\nexport const largeSelectableArea = 'large-selectable';\nexport const largeSelectedArea = 'large-selected';\n\nexport const executableEventContainer = 'executable-event-container';\nexport const actionsContainer = 'actions-container';\nexport const conditionsContainer = 'conditions-container';\nexport const subInstructionsContainer = 'sub-instructions-container';\nexport const instructionParameter = 'instruction-parameter';\nexport const instructionInvalidParameter = 'instruction-invalid-parameter';\nexport const disabledText = 'disabled-text';\n\nexport const background = 'background';\n\nexport const eventsTree = 'events-tree';\nexport const eventsTreeWithSearchResults = 'with-search-results';\n\nexport const dropIndicator = 'drop-indicator';\nexport const cantDropIndicator = 'cant-drop-indicator';\n\nexport const linkContainer = 'link-container';\n","// @flow\n\nexport default (\n  name /*:string */,\n  exists /*:(string) => boolean */,\n  prefix /*: string */ = ''\n) => {\n  if (!exists(name)) return name;\n\n  let potentialName = prefix + name;\n  for (let i = 2; exists(potentialName); ++i) {\n    potentialName = prefix + name + i;\n  }\n\n  return potentialName;\n};\n","import muiThemeable from 'material-ui/styles/muiThemeable';\n\n/**\n * Expose the Material UI theme.\n * TODO: All components using muiThemeable HOC should be migrated to\n * use this component instead (will ease any future migration).\n */\nconst ThemeConsumer = props => props.children(props.muiTheme);\n\nexport default muiThemeable()(ThemeConsumer);\n","import React from 'react';\nimport CircularProgress from 'material-ui/CircularProgress';\n\nconst styles = {\n  containerStyle: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    flex: 1,\n    padding: 10,\n  },\n};\n\nexport default props => (\n  <div style={{ ...styles.containerStyle, ...props.style }}>\n    <CircularProgress size={40} />\n  </div>\n);\n","import { Component } from 'react';\nimport { NativeTypes } from 'react-dnd-html5-backend';\nimport { DropTarget } from 'react-dnd';\n\nclass SimpleDropTarget extends Component {\n  render() {\n    const { connectDropTarget } = this.props;\n    return connectDropTarget(this.props.children);\n  }\n}\n\nfunction collect(connect, monitor) {\n  return {\n    // Call this function inside render()\n    // to let React DnD handle the drag events:\n    connectDropTarget: connect.dropTarget(),\n    // You can ask the monitor about the current drag state:\n    isOver: monitor.isOver(),\n    isOverCurrent: monitor.isOver({ shallow: true }),\n    canDrop: monitor.canDrop(),\n    itemType: monitor.getItemType(),\n  };\n}\nconst spec = {\n  drop(props, monitor, component) {\n    if (monitor.didDrop()) {\n      // If you want, you can check whether some nested\n      // target already handled drop\n      return;\n    }\n\n    const item = monitor.getItem();\n    return { item };\n  },\n};\n\nexport default DropTarget(NativeTypes.TEXT, spec, collect)(SimpleDropTarget);\n","import LayerRenderer from './LayerRenderer';\nimport * as PIXI from 'pixi.js';\n\nexport default class InstancesRenderer {\n  constructor({\n    project,\n    layout,\n    instances,\n    viewPosition,\n    onInstanceClicked,\n    onOverInstance,\n    onOutInstance,\n    onMoveInstance,\n    onMoveInstanceEnd,\n    onDownInstance,\n  }) {\n    this.project = project;\n    this.instances = instances;\n    this.layout = layout;\n    this.viewPosition = viewPosition;\n    this.onInstanceClicked = onInstanceClicked;\n    this.onOverInstance = onOverInstance;\n    this.onOutInstance = onOutInstance;\n    this.onMoveInstance = onMoveInstance;\n    this.onMoveInstanceEnd = onMoveInstanceEnd;\n    this.onDownInstance = onDownInstance;\n\n    this.layersRenderers = {};\n\n    this.pixiContainer = new PIXI.Container();\n    this.instanceMeasurer = {\n      getInstanceLeft: instance => {\n        const layerName = instance.getLayer();\n        const layerRenderer = this.layersRenderers[layerName];\n        if (!layerRenderer) return instance.getX();\n\n        return layerRenderer.getInstanceLeft(instance);\n      },\n      getInstanceTop: instance => {\n        const layerName = instance.getLayer();\n        const layerRenderer = this.layersRenderers[layerName];\n        if (!layerRenderer) return instance.getY();\n\n        return layerRenderer.getInstanceTop(instance);\n      },\n      getInstanceWidth: instance => {\n        if (instance.hasCustomSize()) return instance.getCustomWidth();\n\n        const layerName = instance.getLayer();\n        const layerRenderer = this.layersRenderers[layerName];\n        if (!layerRenderer) return 0;\n\n        return layerRenderer.getInstanceWidth(instance);\n      },\n\n      getInstanceHeight: instance => {\n        if (instance.hasCustomSize()) return instance.getCustomHeight();\n\n        const layerName = instance.getLayer();\n        const layerRenderer = this.layersRenderers[layerName];\n        if (!layerRenderer) return 0;\n\n        return layerRenderer.getInstanceHeight(instance);\n      },\n      getInstanceRect: instance => {\n        return {\n          x: this.instanceMeasurer.getInstanceLeft(instance),\n          y: this.instanceMeasurer.getInstanceTop(instance),\n          width: this.instanceMeasurer.getInstanceWidth(instance),\n          height: this.instanceMeasurer.getInstanceHeight(instance),\n        };\n      },\n    };\n  }\n\n  getPixiContainer() {\n    return this.pixiContainer;\n  }\n\n  getInstanceMeasurer() {\n    return this.instanceMeasurer;\n  }\n\n  render() {\n    for (let i = 0; i < this.layout.getLayersCount(); i++) {\n      const layer = this.layout.getLayerAt(i);\n      const layerName = layer.getName();\n\n      let layerRenderer = this.layersRenderers[layerName];\n      if (!layerRenderer) {\n        this.layersRenderers[layerName] = layerRenderer = new LayerRenderer({\n          project: this.project,\n          layout: this.layout,\n          instances: this.instances,\n          viewPosition: this.viewPosition,\n          layer: layer,\n          onInstanceClicked: this.onInstanceClicked,\n          onOverInstance: this.onOverInstance,\n          onOutInstance: this.onOutInstance,\n          onMoveInstance: this.onMoveInstance,\n          onMoveInstanceEnd: this.onMoveInstanceEnd,\n          onDownInstance: this.onDownInstance,\n        });\n        this.pixiContainer.addChild(layerRenderer.getPixiContainer());\n      }\n\n      // /!\\ Objects representing layers can be deleted at any moment and replaced\n      // by new one, for example when two layers are swapped.\n      // We update the layer object of the renderer so that the renderer always has\n      // a valid layer object that can be used.\n      layerRenderer.layer = layer;\n      layerRenderer.wasUsed = true;\n      layerRenderer.getPixiContainer().zOrder = i;\n      layerRenderer.render();\n    }\n\n    this._updatePixiObjectsZOrder();\n    this._cleanRenderers();\n  }\n\n  _updatePixiObjectsZOrder() {\n    this.pixiContainer.children.sort((a, b) => {\n      a.zOrder = a.zOrder || 0;\n      b.zOrder = b.zOrder || 0;\n      return a.zOrder - b.zOrder;\n    });\n  }\n\n  /**\n   * Delete instance renderers of the specified objects, which will then be recreated during\n   * the next render.\n   * @param {string} objectName The name of the object for which instance must be re-rendered.\n   */\n  resetRenderersFor(objectName) {\n    for (let i in this.layersRenderers) {\n      if (this.layersRenderers.hasOwnProperty(i)) {\n        const layerRenderer = this.layersRenderers[i];\n        layerRenderer.resetRenderersFor(objectName);\n      }\n    }\n  }\n\n  /**\n   * Clean up rendered layers that are not existing anymore\n   */\n  _cleanRenderers() {\n    for (let i in this.layersRenderers) {\n      if (this.layersRenderers.hasOwnProperty(i)) {\n        const layerRenderer = this.layersRenderers[i];\n        if (!layerRenderer.wasUsed) {\n          this.pixiContainer.removeChild(layerRenderer.getPixiContainer());\n          layerRenderer.delete();\n          delete this.layersRenderers[i];\n        } else layerRenderer.wasUsed = false;\n      }\n    }\n  }\n\n  delete() {\n    for (let i in this.layersRenderers) {\n      if (this.layersRenderers.hasOwnProperty(i)) {\n        this.layersRenderers[i].delete();\n      }\n    }\n  }\n}\n","export default function transformRect(transformPoint, { x, y, width, height }) {\n  const startPos = transformPoint(x, y);\n  const endPos = transformPoint(x + width, y + height);\n  return {\n    x: startPos[0],\n    y: startPos[1],\n    width: endPos[0] - startPos[0],\n    height: endPos[1] - startPos[1],\n  };\n}\n","import gesture from 'pixi-simple-gesture';\nimport transformRect from '../Utils/TransformRect';\nimport * as PIXI from 'pixi.js';\n\nconst buttonSize = 10;\nconst smallButtonSize = 8;\nconst buttonPadding = 5;\n\nconst RECTANGLE_BUTTON_SHAPE = 0;\nconst CIRCLE_BUTTON_SHAPE = 1;\n\nexport default class InstancesSelection {\n  constructor({\n    instancesSelection,\n    instanceMeasurer,\n    onResize,\n    onResizeEnd,\n    onRotate,\n    onRotateEnd,\n    toCanvasCoordinates,\n  }) {\n    this.instanceMeasurer = instanceMeasurer;\n    this.onResize = onResize;\n    this.onResizeEnd = onResizeEnd;\n    this.onRotate = onRotate;\n    this.onRotateEnd = onRotateEnd;\n    this.toCanvasCoordinates = toCanvasCoordinates;\n    this.instancesSelection = instancesSelection;\n\n    this.pixiContainer = new PIXI.Container();\n    this.rectanglesContainer = new PIXI.Container();\n    this.selectedRectangles = [];\n    this.pixiContainer.addChild(this.rectanglesContainer);\n\n    this.resizeButton = new PIXI.Graphics();\n    this.resizeIcon = new PIXI.Sprite.fromImage('res/actions/direction.png');\n    this.rightResizeButton = new PIXI.Graphics();\n    this.bottomResizeButton = new PIXI.Graphics();\n    this.rotateButton = new PIXI.Graphics();\n    this._makeButton(\n      this.resizeButton,\n      event => {\n        this.onResize(event.deltaX, event.deltaY);\n      },\n      () => {\n        this.onResizeEnd();\n      },\n      'nwse-resize'\n    );\n    this._makeButton(\n      this.rightResizeButton,\n      event => {\n        this.onResize(event.deltaX, 0);\n      },\n      () => {\n        this.onResizeEnd();\n      },\n      'ew-resize'\n    );\n    this._makeButton(\n      this.bottomResizeButton,\n      event => {\n        this.onResize(0, event.deltaY);\n      },\n      () => {\n        this.onResizeEnd();\n      },\n      'ns-resize'\n    );\n    this._makeButton(\n      this.rotateButton,\n      event => {\n        this.onRotate(event.deltaX, event.deltaY);\n      },\n      () => {\n        this.onRotateEnd();\n      },\n      'url(\"res/actions/rotate24.png\"),auto'\n    );\n  }\n\n  _makeButton(objectButton, onMove, onEnd, cursor) {\n    objectButton.interactive = true;\n    objectButton.buttonMode = true;\n    objectButton.cursor = cursor;\n    gesture.panable(objectButton);\n    objectButton.on('panmove', onMove);\n    objectButton.on('panend', onEnd);\n    this.pixiContainer.addChild(objectButton);\n  }\n\n  getPixiContainer() {\n    return this.pixiContainer;\n  }\n\n  _renderButton(\n    show,\n    buttonObject,\n    canvasPosition,\n    size,\n    shape = RECTANGLE_BUTTON_SHAPE\n  ) {\n    buttonObject.clear();\n    if (!show) {\n      buttonObject.hitArea = new PIXI.Rectangle(0, 0, 0, 0);\n      return;\n    }\n\n    buttonObject.beginFill(0xffffff);\n    buttonObject.lineStyle(1, 0x6868e8, 1);\n    buttonObject.fillAlpha = 0.9;\n    if (shape === RECTANGLE_BUTTON_SHAPE) {\n      buttonObject.drawRect(canvasPosition[0], canvasPosition[1], size, size);\n    } else if (shape === CIRCLE_BUTTON_SHAPE) {\n      buttonObject.drawCircle(\n        canvasPosition[0] + size / 2,\n        canvasPosition[1] + size / 2,\n        size / 2\n      );\n    }\n\n    buttonObject.endFill();\n    buttonObject.hitArea = new PIXI.Rectangle(\n      canvasPosition[0],\n      canvasPosition[1],\n      size,\n      size\n    );\n  }\n\n  render() {\n    const selection = this.instancesSelection.getSelectedInstances();\n    let x1;\n    let y1;\n    let x2;\n    let y2;\n\n    //Update the selection rectangle of each instance\n    for (var i = 0; i < selection.length; i++) {\n      if (this.selectedRectangles.length === i) {\n        const newRectangle = new PIXI.Graphics();\n        newRectangle.hitArea = new PIXI.Rectangle(0, 0, 0, 0);\n        this.selectedRectangles.push(newRectangle);\n        this.rectanglesContainer.addChild(newRectangle);\n      }\n\n      const instance = selection[i];\n      const instanceRect = this.instanceMeasurer.getInstanceRect(instance);\n      const selectionRectangle = transformRect(\n        this.toCanvasCoordinates,\n        instanceRect\n      );\n\n      this.selectedRectangles[i].clear();\n      this.selectedRectangles[i].beginFill(0x6868e8);\n      this.selectedRectangles[i].lineStyle(1, 0x6868e8, 1);\n      this.selectedRectangles[i].fillAlpha = 0.3;\n      this.selectedRectangles[i].alpha = 0.8;\n      this.selectedRectangles[i].drawRect(\n        selectionRectangle.x,\n        selectionRectangle.y,\n        selectionRectangle.width,\n        selectionRectangle.height\n      );\n      this.selectedRectangles[i].endFill();\n\n      if (x1 === undefined || instanceRect.x < x1) x1 = instanceRect.x;\n      if (y1 === undefined || instanceRect.y < y1) y1 = instanceRect.y;\n      if (x2 === undefined || instanceRect.x + instanceRect.width > x2)\n        x2 = instanceRect.x + instanceRect.width;\n      if (y2 === undefined || instanceRect.y + instanceRect.height > y2)\n        y2 = instanceRect.y + instanceRect.height;\n    }\n\n    while (this.selectedRectangles.length > selection.length) {\n      this.rectanglesContainer.removeChild(this.selectedRectangles.pop());\n    }\n\n    //Position the resize button.\n    const show = selection.length !== 0;\n    const resizeButtonPos = this.toCanvasCoordinates(x2, y2);\n    resizeButtonPos[0] += buttonPadding;\n    resizeButtonPos[1] += buttonPadding;\n\n    const rightResizeButtonPos = this.toCanvasCoordinates(\n      x2,\n      y1 + (y2 - y1) / 2\n    );\n    rightResizeButtonPos[0] += buttonPadding;\n    rightResizeButtonPos[1] -= -smallButtonSize / 2;\n\n    const bottomResizeButtonPos = this.toCanvasCoordinates(\n      x1 + (x2 - x1) / 2,\n      y2\n    );\n    bottomResizeButtonPos[0] -= -smallButtonSize / 2;\n    bottomResizeButtonPos[1] += buttonPadding;\n\n    const rotateButtonPos = this.toCanvasCoordinates(x1 + (x2 - x1) / 2, y1);\n    rotateButtonPos[0] -= -smallButtonSize / 2;\n    rotateButtonPos[1] -= buttonPadding * 4;\n\n    this._renderButton(show, this.resizeButton, resizeButtonPos, buttonSize);\n    this._renderButton(\n      show,\n      this.rightResizeButton,\n      rightResizeButtonPos,\n      smallButtonSize\n    );\n    this._renderButton(\n      show,\n      this.bottomResizeButton,\n      bottomResizeButtonPos,\n      smallButtonSize\n    );\n    this._renderButton(\n      show,\n      this.rotateButton,\n      rotateButtonPos,\n      smallButtonSize,\n      CIRCLE_BUTTON_SHAPE\n    );\n  }\n}\n","import transformRect from '../Utils/TransformRect';\nimport * as PIXI from 'pixi.js';\n\nexport default class InstancesSelection {\n  constructor({ instanceMeasurer, toCanvasCoordinates }) {\n    this.instanceMeasurer = instanceMeasurer;\n    this.toCanvasCoordinates = toCanvasCoordinates;\n\n    this.highlightedInstance = null;\n    this.highlightRectangle = new PIXI.Graphics();\n    this.highlightRectangle.hitArea = new PIXI.Rectangle(0, 0, 0, 0);\n\n    this.tooltipBackground = new PIXI.Graphics();\n    this.tooltipText = new PIXI.Text('', {\n      fontSize: 15,\n      fill: 0xffffff,\n      align: 'center',\n    });\n    this.highlightRectangle.addChild(this.tooltipBackground);\n    this.highlightRectangle.addChild(this.tooltipText);\n  }\n\n  setInstance(instance) {\n    this.highlightedInstance = instance;\n  }\n\n  getInstance() {\n    return this.highlightedInstance;\n  }\n\n  getPixiObject(instance) {\n    return this.highlightRectangle;\n  }\n\n  render() {\n    if (this.highlightedInstance === null) {\n      this.highlightRectangle.visible = false;\n      return;\n    }\n\n    const highlightRectangle = transformRect(\n      this.toCanvasCoordinates,\n      this.instanceMeasurer.getInstanceRect(this.highlightedInstance)\n    );\n\n    this.highlightRectangle.visible = true;\n    this.highlightRectangle.clear();\n    this.highlightRectangle.beginFill(0xeeeeff);\n    this.highlightRectangle.fillAlpha = 0.1;\n    this.highlightRectangle.alpha = 0.8;\n    this.highlightRectangle.lineStyle(1, 0x000000, 1);\n    this.highlightRectangle.drawRect(\n      highlightRectangle.x,\n      highlightRectangle.y,\n      highlightRectangle.width,\n      highlightRectangle.height\n    );\n    this.highlightRectangle.endFill();\n\n    const tooltipInfo =\n      this.highlightedInstance.getObjectName() +\n      '\\n' +\n      'X: ' +\n      parseInt(this.highlightedInstance.getX()) +\n      '  Y: ' +\n      parseInt(this.highlightedInstance.getY()) +\n      '\\n' +\n      'Layer: ' +\n      this.highlightedInstance.getLayer() +\n      '  Z: ' +\n      this.highlightedInstance.getZOrder() +\n      '\\n';\n    this.tooltipText.text = tooltipInfo;\n\n    this.tooltipText.x = Math.round(\n      highlightRectangle.x -\n        this.tooltipText.width / 2 +\n        highlightRectangle.width / 2\n    );\n    this.tooltipText.y = Math.round(\n      highlightRectangle.y - this.tooltipText.height\n    );\n\n    const padding = 5;\n    this.tooltipBackground.clear();\n    this.tooltipBackground.beginFill(0x000000, 0.8);\n    this.tooltipBackground.drawRoundedRect(\n      this.tooltipText.x - padding,\n      this.tooltipText.y - padding,\n      this.tooltipText.width + padding * 2,\n      this.tooltipText.height - padding,\n      4\n    );\n    this.tooltipBackground.endFill();\n  }\n}\n","export default class InstancesResizer {\n  constructor({ instanceMeasurer, options }) {\n    this.instanceMeasurer = instanceMeasurer;\n    this.options = options;\n    this.instanceSizes = {};\n    this.totalDeltaX = 0;\n    this.totalDeltaY = 0;\n  }\n\n  setOptions(options) {\n    this.options = options;\n  }\n\n  _roundWidth(width) {\n    if (!this.options.snap || !this.options.grid || this.options.gridWidth <= 0)\n      return Math.max(Math.round(width), 1);\n\n    return Math.max(\n      Math.round(width / this.options.gridWidth) * this.options.gridWidth,\n      1\n    );\n  }\n\n  _roundHeight(height) {\n    if (\n      !this.options.snap ||\n      !this.options.grid ||\n      this.options.gridHeight <= 0\n    )\n      return Math.max(Math.round(height), 1);\n\n    return Math.max(\n      Math.round(height / this.options.gridHeight) * this.options.gridHeight,\n      1\n    );\n  }\n\n  _getSizeDeltaX(proportional, initialSize) {\n    if (proportional && Math.abs(this.totalDeltaX) < Math.abs(this.totalDeltaY))\n      return (initialSize.width / initialSize.height) * this.totalDeltaY;\n\n    return this.totalDeltaX;\n  }\n\n  _getSizeDeltaY(proportional, initialSize) {\n    if (proportional && Math.abs(this.totalDeltaY) < Math.abs(this.totalDeltaX))\n      return (initialSize.height / initialSize.width) * this.totalDeltaX;\n\n    return this.totalDeltaY;\n  }\n\n  resizeBy(instances, deltaX, deltaY, proportional) {\n    this.totalDeltaX += deltaX;\n    this.totalDeltaY += deltaY;\n\n    for (let i = 0; i < instances.length; i++) {\n      const selectedInstance = instances[i];\n\n      if (!selectedInstance.hasCustomSize()) {\n        selectedInstance.setCustomWidth(\n          this.instanceMeasurer.getInstanceWidth(selectedInstance)\n        );\n        selectedInstance.setCustomHeight(\n          this.instanceMeasurer.getInstanceHeight(selectedInstance)\n        );\n      }\n\n      let initialSize = this.instanceSizes[selectedInstance.ptr];\n      if (!initialSize) {\n        initialSize = this.instanceSizes[selectedInstance.ptr] = {\n          width: selectedInstance.getCustomWidth(),\n          height: selectedInstance.getCustomHeight(),\n        };\n      }\n\n      selectedInstance.setHasCustomSize(true);\n      selectedInstance.setCustomWidth(\n        this._roundWidth(\n          initialSize.width + this._getSizeDeltaX(proportional, initialSize)\n        )\n      );\n      selectedInstance.setCustomHeight(\n        this._roundHeight(\n          initialSize.height + this._getSizeDeltaY(proportional, initialSize)\n        )\n      );\n    }\n  }\n\n  endResize() {\n    this.instanceSizes = {};\n    this.totalDeltaX = 0;\n    this.totalDeltaY = 0;\n  }\n}\n","export default class InstancesRotator {\n  constructor() {\n    this.instanceAngles = {};\n    this.totalDeltaX = 0;\n    this.totalDeltaY = 0;\n  }\n\n  _getNewAngle(proportional: boolean, initialAngle: number) {\n    const angle =\n      (Math.atan2(this.totalDeltaY, this.totalDeltaX) * 180) / Math.PI +\n      initialAngle;\n    return proportional ? Math.round(angle / 15) * 15 : angle;\n  }\n\n  rotateBy(instances, deltaX, deltaY, proportional) {\n    this.totalDeltaX += deltaX;\n    this.totalDeltaY += deltaY;\n\n    for (let i = 0; i < instances.length; i++) {\n      const selectedInstance = instances[i];\n      let initialAngle = this.instanceAngles[selectedInstance.ptr];\n      if (initialAngle === undefined) {\n        initialAngle = this.instanceAngles[\n          selectedInstance.ptr\n        ] = selectedInstance.getAngle();\n      }\n      selectedInstance.setAngle(this._getNewAngle(proportional, initialAngle));\n    }\n  }\n\n  endRotate() {\n    this.instanceAngles = {};\n    this.totalDeltaX = 0;\n    this.totalDeltaY = 0;\n  }\n}\n","import { roundPosition } from '../Utils/GridHelpers';\n\nexport default class InstancesMover {\n  constructor({ instanceMeasurer, options }) {\n    this.instanceMeasurer = instanceMeasurer;\n    this.options = options;\n    this.instancePositions = {};\n    this.totalDeltaX = 0;\n    this.totalDeltaY = 0;\n  }\n\n  setOptions(options) {\n    this.options = options;\n  }\n\n  _roundXPosition(x, noGridSnap) {\n    if (!this.options.snap || !this.options.grid || noGridSnap)\n      return Math.round(x);\n\n    return roundPosition(x, this.options.gridWidth, this.options.gridOffsetX);\n  }\n\n  _roundYPosition(y, noGridSnap) {\n    if (!this.options.snap || !this.options.grid || noGridSnap)\n      return Math.round(y);\n\n    return roundPosition(y, this.options.gridHeight, this.options.gridOffsetY);\n  }\n\n  _getMoveDeltaX(followAxis) {\n    if (followAxis && Math.abs(this.totalDeltaX) < Math.abs(this.totalDeltaY))\n      return 0;\n\n    return this.totalDeltaX;\n  }\n\n  _getMoveDeltaY(followAxis) {\n    if (followAxis && Math.abs(this.totalDeltaY) < Math.abs(this.totalDeltaX))\n      return 0;\n\n    return this.totalDeltaY;\n  }\n\n  moveBy(instances, deltaX, deltaY, followAxis, noGridSnap) {\n    this.totalDeltaX += deltaX;\n    this.totalDeltaY += deltaY;\n\n    for (var i = 0; i < instances.length; i++) {\n      const selectedInstance = instances[i];\n\n      let initialPosition = this.instancePositions[selectedInstance.ptr];\n      if (!initialPosition) {\n        initialPosition = this.instancePositions[selectedInstance.ptr] = {\n          x: selectedInstance.getX(),\n          y: selectedInstance.getY(),\n        };\n      }\n\n      selectedInstance.setX(\n        this._roundXPosition(\n          initialPosition.x + this._getMoveDeltaX(followAxis),\n          noGridSnap\n        )\n      );\n      selectedInstance.setY(\n        this._roundYPosition(\n          initialPosition.y + this._getMoveDeltaY(followAxis),\n          noGridSnap\n        )\n      );\n    }\n  }\n\n  endMove() {\n    this.instancePositions = {};\n    this.totalDeltaX = 0;\n    this.totalDeltaY = 0;\n  }\n}\n","import * as PIXI from 'pixi.js';\n\nexport default class SelectionRectangle {\n  constructor({ viewPosition, options }) {\n    this.viewPosition = viewPosition;\n    this.options = options;\n\n    this.pixiGrid = new PIXI.Graphics();\n    this.pixiGrid.hitArea = new PIXI.Rectangle(0, 0, 0, 0);\n  }\n\n  setOptions(options) {\n    this.options = options;\n  }\n\n  getPixiObject() {\n    return this.pixiGrid;\n  }\n\n  render() {\n    const options = this.options;\n\n    if (!options.grid) {\n      this.pixiGrid.visible = false;\n      return;\n    }\n\n    this.pixiGrid.visible = true;\n    this.pixiGrid.clear();\n    this.pixiGrid.beginFill(0x6868e8);\n    this.pixiGrid.lineStyle(1, 0x6868e8, 1);\n    this.pixiGrid.fillAlpha = 0.1;\n    this.pixiGrid.alpha = 0.8;\n\n    const sceneStartPoint = this.viewPosition.toSceneCoordinates(0, 0);\n    const sceneEndPoint = this.viewPosition.toSceneCoordinates(\n      this.viewPosition.getWidth(),\n      this.viewPosition.getHeight()\n    );\n\n    const startXPos =\n      Math.floor(sceneStartPoint[0] / options.gridWidth) * options.gridWidth;\n    const startYPos =\n      Math.floor(sceneStartPoint[1] / options.gridHeight) * options.gridHeight;\n\n    const endXPos =\n      Math.ceil(sceneEndPoint[0] / options.gridWidth) * options.gridWidth;\n    const endYPos =\n      Math.ceil(sceneEndPoint[1] / options.gridHeight) * options.gridHeight;\n\n    for (\n      let Xpos = startXPos + options.gridOffsetX;\n      Xpos < endXPos;\n      Xpos += options.gridWidth\n    ) {\n      const start = this.viewPosition.toCanvasCoordinates(Xpos, startYPos);\n      const end = this.viewPosition.toCanvasCoordinates(Xpos, endYPos);\n\n      this.pixiGrid.moveTo(start[0], start[1]);\n      this.pixiGrid.lineTo(end[0], end[1]);\n    }\n\n    for (\n      let Ypos = startYPos + options.gridOffsetY;\n      Ypos < endYPos;\n      Ypos += options.gridHeight\n    ) {\n      const start = this.viewPosition.toCanvasCoordinates(startXPos, Ypos);\n      const end = this.viewPosition.toCanvasCoordinates(endXPos, Ypos);\n\n      this.pixiGrid.moveTo(start[0], start[1]);\n      this.pixiGrid.lineTo(end[0], end[1]);\n    }\n\n    this.pixiGrid.endFill();\n  }\n}\n","import * as PIXI from 'pixi.js';\nimport transformRect from '../Utils/TransformRect';\nimport { rgbToHexNumber } from '../Utils/ColorTransformer';\n\nexport default class WindowBorder {\n  constructor({ project, layout, toCanvasCoordinates }) {\n    this.project = project;\n    this.layout = layout;\n    this.toCanvasCoordinates = toCanvasCoordinates;\n\n    this.pixiRectangle = new PIXI.Graphics();\n    this.pixiRectangle.hitArea = new PIXI.Rectangle(0, 0, 0, 0);\n    this.windowRectangle = {\n      x: 0,\n      y: 0,\n      width: this.project.getMainWindowDefaultWidth(),\n      height: this.project.getMainWindowDefaultHeight(),\n    };\n  }\n\n  getPixiObject() {\n    return this.pixiRectangle;\n  }\n\n  render() {\n    const displayedRectangle = transformRect(\n      this.toCanvasCoordinates,\n      this.windowRectangle\n    );\n\n    this.pixiRectangle.clear();\n    this.pixiRectangle.beginFill(0x000000);\n    this.pixiRectangle.lineStyle(\n      1,\n      rgbToHexNumber(\n        128 + (this.layout.getBackgroundColorRed() % 256),\n        128 + (this.layout.getBackgroundColorBlue() % 256),\n        128 + (this.layout.getBackgroundColorGreen() % 256)\n      ),\n      1\n    );\n    this.pixiRectangle.alpha = 1;\n    this.pixiRectangle.fillAlpha = 0;\n    this.pixiRectangle.drawRect(\n      displayedRectangle.x,\n      displayedRectangle.y,\n      displayedRectangle.width,\n      displayedRectangle.height\n    );\n    this.pixiRectangle.endFill();\n  }\n}\n","import * as PIXI from 'pixi.js';\nimport transformRect from '../Utils/TransformRect';\n\nexport default class WindowBorder {\n  constructor({ project, viewPosition, options }) {\n    this.project = project;\n    this.viewPosition = viewPosition;\n    this.options = options;\n\n    this.pixiRectangle = new PIXI.Graphics();\n    this.pixiRectangle.hitArea = new PIXI.Rectangle(0, 0, 0, 0);\n    this.windowRectangle = {\n      x: 0,\n      y: 0,\n      width: 0,\n      height: 0,\n    };\n  }\n\n  setOptions(options) {\n    this.options = options;\n  }\n\n  getPixiObject() {\n    return this.pixiRectangle;\n  }\n\n  render() {\n    const options = this.options;\n\n    if (!options.windowMask) {\n      this.pixiRectangle.visible = false;\n      return;\n    }\n\n    const width = this.project.getMainWindowDefaultWidth();\n    const height = this.project.getMainWindowDefaultHeight();\n    this.windowRectangle.x = this.viewPosition.getViewX() - width / 2;\n    this.windowRectangle.y = this.viewPosition.getViewY() - height / 2;\n    this.windowRectangle.width = width;\n    this.windowRectangle.height = height;\n\n    const displayedRectangle = transformRect(\n      this.viewPosition.toCanvasCoordinates,\n      this.windowRectangle\n    );\n\n    this.pixiRectangle.visible = true;\n    this.pixiRectangle.clear();\n    this.pixiRectangle.beginFill(0x000000);\n    this.pixiRectangle.lineStyle(1, 0x000000, 1);\n    this.pixiRectangle.alpha = 1;\n    this.pixiRectangle.fillAlpha = 0;\n    this.pixiRectangle.drawRect(\n      displayedRectangle.x,\n      displayedRectangle.y,\n      displayedRectangle.width,\n      displayedRectangle.height\n    );\n    this.pixiRectangle.endFill();\n  }\n}\n","export default class DropHandler {\n  constructor({ canvas, onDrop }) {\n    canvas.ondragover = canvas.ondrop = ev => {\n      ev.dataTransfer.dropEffect = 'copy';\n      ev.preventDefault();\n    };\n\n    canvas.ondrop = ev => {\n      const canvasRect = canvas.getBoundingClientRect();\n      const name = ev.dataTransfer.getData('text');\n      if (name)\n        onDrop(ev.clientX - canvasRect.left, ev.clientY - canvasRect.top, name);\n\n      ev.preventDefault();\n    };\n  }\n}\n","// @flow\nimport * as PIXI from 'pixi.js';\nimport { rgbToHex } from '../Utils/ColorTransformer';\n\ntype Props = {|\n  layout: gdLayout,\n  pixiRenderer: PIXI.Renderer,\n|};\n\nexport default class BackgroundColor {\n  layout: gdLayout;\n  pixiRenderer: PIXI.Renderer;\n\n  constructor({ layout, pixiRenderer }: Props) {\n    this.layout = layout;\n    this.pixiRenderer = pixiRenderer;\n  }\n\n  render() {\n    this.pixiRenderer.backgroundColor = parseInt(\n      parseInt(\n        rgbToHex(\n          this.layout.getBackgroundColorRed(),\n          this.layout.getBackgroundColorGreen(),\n          this.layout.getBackgroundColorBlue()\n        ),\n        16\n      ),\n      10\n    );\n  }\n}\n","// @flow\n\n/**\n * Provide a method shouldUpdate that can be called in a game loop or in\n * a method used in renderAnimationFrame, and which indicate if the rendering/update\n * of the scene should be done according to the desired framerate.\n */\nexport default class FpsLimiter {\n  _lastFrameTime: number;\n  _interval: number;\n  _forceUpdate: boolean;\n\n  constructor(maxFps: number) {\n    this._lastFrameTime = Date.now();\n    this._interval = 1000 / maxFps;\n    this._forceUpdate = false;\n  }\n\n  shouldUpdate() {\n    const now = Date.now();\n    const delta = now - this._lastFrameTime;\n\n    if (delta > this._interval || this._forceUpdate) {\n      this._lastFrameTime = now - (delta % this._interval);\n      this._forceUpdate = false;\n      return true;\n    }\n\n    return false;\n  }\n\n  forceNextUpdate() {\n    this._forceUpdate = true;\n  }\n}\n","import * as PIXI from 'pixi.js';\n\n// PIXI has a ticker that is used by PIXI InteractionManager, and which\n// frequently check if interaction happened. We may want to disable it\n// when it's useless to do these interaction checks to save CPU usage.\n\n/**\n *  Stop the PIXI Ticker used to monitor interactions\n */\nexport const stopPIXITicker = () => {\n  const ticker = PIXI.ticker && PIXI.ticker.shared;\n  if (ticker) ticker.stop();\n};\n\n/**\n * Start the PIXI Ticker used to monitor interactions\n */\nexport const startPIXITicker = () => {\n  // Timeout ensure that the ticker is started even if other components\n  // call stopPIXITicker during the same tick (for example, when switching\n  // between SceneEditor tabs).\n  setTimeout(() => {\n    const ticker = PIXI.ticker && PIXI.ticker.shared;\n    if (ticker) ticker.start();\n  }, 50);\n};\n","// @flow\nimport * as PIXI from 'pixi.js';\n\ntype Props = {\n  getLastCursorPosition: () => [number, number],\n  width: number,\n  height: number,\n};\n\nexport default class StatusBar {\n  _width: number;\n  _height: number;\n  _getLastCursorPosition: () => [number, number];\n  _statusBarContainer: PIXI.Container;\n  _statusBarBackground: PIXI.Graphics;\n  _statusBarText: PIXI.Text;\n\n  constructor({ getLastCursorPosition, width, height }: Props) {\n    this._getLastCursorPosition = getLastCursorPosition;\n    this._statusBarContainer = new PIXI.Container();\n    this._statusBarContainer.alpha = 0.8;\n    this._statusBarContainer.hitArea = new PIXI.Rectangle(0, 0, 0, 0);\n    this._statusBarBackground = new PIXI.Graphics();\n    this._statusBarText = new PIXI.Text('', {\n      fontSize: 15,\n      fill: 0xffffff,\n      align: 'left',\n    });\n    this._statusBarContainer.addChild(this._statusBarBackground);\n    this._statusBarContainer.addChild(this._statusBarText);\n    this.resize(width, height);\n  }\n\n  resize(width: number, height: number) {\n    this._width = width;\n    this._height = height;\n  }\n\n  getPixiObject(): PIXI.Container {\n    return this._statusBarContainer;\n  }\n\n  render() {\n    const padding = 5;\n    const borderRadius = 4;\n    const [x, y] = this._getLastCursorPosition();\n    this._statusBarText.text = `${x.toFixed(0)};${y.toFixed(0)}`;\n    this._statusBarText.position.x = 0 + padding;\n    this._statusBarText.position.y = Math.round(\n      this._height - padding - this._statusBarText.height\n    );\n\n    this._statusBarBackground.clear();\n    this._statusBarBackground.beginFill(0x000000, 0.8);\n    this._statusBarBackground.drawRoundedRect(\n      0 - borderRadius,\n      this._height - padding * 2 - this._statusBarText.height,\n      this._statusBarText.width + padding * 2 + borderRadius,\n      this._statusBarText.height + padding * 2 + borderRadius,\n      borderRadius\n    );\n    this._statusBarBackground.endFill();\n  }\n}\n","// @flow\n\ntype Props = {|\n  canvas: HTMLDivElement,\n  shouldMoveView: () => boolean,\n|};\n\n/**\n * Change the cursor displayed when hovering the canvas.\n *\n * Some elements on the canvas (for example, resize buttons)\n * can also set their own cursor - this class is only for the canvas.\n */\nexport default class CanvasCursor {\n  canvas: HTMLDivElement;\n  shouldMoveView: () => boolean;\n\n  constructor({ canvas, shouldMoveView }: Props) {\n    this.canvas = canvas;\n    this.shouldMoveView = shouldMoveView;\n  }\n\n  render() {\n    if (this.shouldMoveView()) {\n      this.canvas.style.cursor = 'grab';\n      if (this.canvas.style.cursor !== 'grab') {\n        this.canvas.style.cursor = '-webkit-grab';\n      }\n      return;\n    }\n\n    this.canvas.style.cursor = 'default';\n  }\n}\n","import React, { Component } from 'react';\nimport gesture from 'pixi-simple-gesture';\nimport KeyboardShortcuts from '../UI/KeyboardShortcuts';\nimport SimpleDropTarget from '../Utils/DragDropHelpers/SimpleDropTarget';\nimport InstancesRenderer from './InstancesRenderer';\nimport ViewPosition from './ViewPosition';\nimport SelectedInstances from './SelectedInstances';\nimport HighlightedInstance from './HighlightedInstance';\nimport SelectionRectangle from './SelectionRectangle';\nimport InstancesResizer from './InstancesResizer';\nimport InstancesRotator from './InstancesRotator';\nimport InstancesMover from './InstancesMover';\nimport Grid from './Grid';\nimport WindowBorder from './WindowBorder';\nimport WindowMask from './WindowMask';\nimport DropHandler from './DropHandler';\nimport BackgroundColor from './BackgroundColor';\nimport * as PIXI from 'pixi.js';\nimport FpsLimiter from './FpsLimiter';\nimport { startPIXITicker, stopPIXITicker } from '../Utils/PIXITicker';\nimport StatusBar from './StatusBar';\nimport CanvasCursor from './CanvasCursor';\n\nconst styles = {\n  canvasArea: { flex: 1, position: 'absolute', overflow: 'hidden' },\n  dropCursor: { cursor: 'copy' },\n};\n\nexport default class InstancesEditorContainer extends Component {\n  constructor() {\n    super();\n\n    this.lastContextMenuX = 0;\n    this.lastContextMenuY = 0;\n    this.lastCursorX = 0;\n    this.lastCursorY = 0;\n\n    this.fpsLimiter = new FpsLimiter(28);\n  }\n\n  componentDidMount() {\n    // Initialize the PIXI renderer, if possible\n    if (this.canvasArea && !this.pixiRenderer) {\n      this._initializeCanvasAndRenderer();\n    }\n  }\n\n  componentDidUpdate() {\n    // Initialize the PIXI renderer, if not already done.\n    // This can happen if canvasArea was not rendered\n    // just after the mount (depends on react-dnd versions?).\n    if (this.canvasArea && !this.pixiRenderer) {\n      this._initializeCanvasAndRenderer();\n    }\n  }\n\n  _initializeCanvasAndRenderer() {\n    // project can be used here for initializing stuff, but don't keep references to it.\n    // Instead, create editors in _mountEditorComponents (as they will be destroyed/recreated\n    // if the project changes).\n    const { project } = this.props;\n\n    this.pixiRenderer = PIXI.autoDetectRenderer(\n      this.props.width,\n      this.props.height,\n      { antialias: true } //fixes jaggy edges\n    );\n    this.canvasArea.appendChild(this.pixiRenderer.view);\n    this.pixiRenderer.view.addEventListener('contextmenu', e => {\n      e.preventDefault();\n\n      this.lastContextMenuX = e.offsetX;\n      this.lastContextMenuY = e.offsetY;\n      if (this.props.onContextMenu)\n        this.props.onContextMenu(e.clientX, e.clientY);\n\n      return false;\n    });\n    this.pixiRenderer.view.addEventListener('pointerup', event => {\n      this.props.onPointerUp();\n    });\n    this.pixiRenderer.view.addEventListener('pointerover', event => {\n      this.props.onPointerOver();\n    });\n    this.pixiRenderer.view.addEventListener('pointerout', event => {\n      this.props.onPointerOut();\n    });\n    this.pixiRenderer.view.onmousewheel = event => {\n      if (this.keyboardShortcuts.shouldZoom()) {\n        this.zoomBy(event.wheelDelta / 5000);\n      } else if (this.keyboardShortcuts.shouldScrollHorizontally()) {\n        this.viewPosition.scrollBy(-event.wheelDelta / 10, 0);\n      } else {\n        this.viewPosition.scrollBy(event.deltaX / 10, event.deltaY / 10);\n      }\n\n      if (this.props.onViewPositionChanged) {\n        this.props.onViewPositionChanged(this.viewPosition);\n      }\n      event.preventDefault();\n    };\n    this.pixiRenderer.view.setAttribute('tabIndex', -1);\n    this.pixiRenderer.view.addEventListener('focus', e => {\n      this.keyboardShortcuts.focus();\n    });\n    this.pixiRenderer.view.addEventListener('blur', e => {\n      this.keyboardShortcuts.blur();\n    });\n    this.pixiRenderer.view.addEventListener('mouseover', e => {\n      this.keyboardShortcuts.focus();\n    });\n    this.pixiRenderer.view.addEventListener('mouseout', e => {\n      this.keyboardShortcuts.blur();\n    });\n\n    this.pixiContainer = new PIXI.Container();\n\n    this.backgroundArea = new PIXI.Container();\n    this.backgroundArea.hitArea = new PIXI.Rectangle(\n      0,\n      0,\n      this.props.width,\n      this.props.height\n    );\n    gesture.panable(this.backgroundArea);\n    this.backgroundArea.on('mousedown', event =>\n      this._onBackgroundClicked(event.data.global.x, event.data.global.y)\n    );\n    this.backgroundArea.on('touchstart', event =>\n      this._onBackgroundClicked(event.data.global.x, event.data.global.y)\n    );\n    this.backgroundArea.on('mousemove', event =>\n      this._onMouseMove(event.data.global.x, event.data.global.y)\n    );\n    this.backgroundArea.on('panmove', event =>\n      this._onPanMove(\n        event.deltaX,\n        event.deltaY,\n        event.data.global.x,\n        event.data.global.y\n      )\n    );\n    this.backgroundArea.on('panend', event => this._onPanEnd());\n    this.pixiContainer.addChild(this.backgroundArea);\n\n    this.viewPosition = new ViewPosition({\n      initialViewX: project ? project.getMainWindowDefaultWidth() / 2 : 0,\n      initialViewY: project ? project.getMainWindowDefaultHeight() / 2 : 0,\n      width: this.props.width,\n      height: this.props.height,\n      options: this.props.options,\n    });\n    this.pixiContainer.addChild(this.viewPosition.getPixiContainer());\n\n    this.grid = new Grid({\n      viewPosition: this.viewPosition,\n      options: this.props.options,\n    });\n    this.pixiContainer.addChild(this.grid.getPixiObject());\n\n    this.keyboardShortcuts = new KeyboardShortcuts({\n      onDelete: this.props.onDeleteSelection,\n      onMove: this.moveSelection,\n      onCopy: this.props.onCopy,\n      onCut: this.props.onCut,\n      onPaste: this.props.onPaste,\n      onUndo: this.props.onUndo,\n      onRedo: this.props.onRedo,\n      onZoomOut: this.props.onZoomOut,\n      onZoomIn: this.props.onZoomIn,\n    });\n\n    this.dropHandler = new DropHandler({\n      canvas: this.canvasArea,\n      onDrop: this._onDrop,\n    });\n\n    this.canvasCursor = new CanvasCursor({\n      canvas: this.canvasArea,\n      shouldMoveView: () => this.keyboardShortcuts.shouldMoveView(),\n    });\n\n    this._mountEditorComponents(this.props);\n    this._renderScene();\n  }\n\n  /**\n   * Force the internal InstancesRenderer to be destroyed and recreated\n   * (as well as other components holding references to instances). Call\n   * this when the initial instances were recreated to ensure that there\n   * is not mismatch between renderers and the instances that were updated.\n   */\n  forceRemount() {\n    this._mountEditorComponents(this.props);\n  }\n\n  _mountEditorComponents(props) {\n    //Remove and delete any existing editor component\n    if (this.highlightedInstance) {\n      this.pixiContainer.removeChild(this.highlightedInstance.getPixiObject());\n    }\n    if (this.selectedInstances) {\n      this.pixiContainer.removeChild(this.selectedInstances.getPixiContainer());\n    }\n    if (this.instancesRenderer) {\n      this.viewPosition\n        .getPixiContainer()\n        .removeChild(this.instancesRenderer.getPixiContainer());\n      this.instancesRenderer.delete();\n    }\n    if (this.selectionRectangle) {\n      this.pixiContainer.removeChild(this.selectionRectangle.getPixiObject());\n      this.selectionRectangle.delete();\n    }\n    if (this.windowBorder) {\n      this.pixiContainer.removeChild(this.windowBorder.getPixiObject());\n    }\n    if (this.windowMask) {\n      this.pixiContainer.removeChild(this.windowMask.getPixiObject());\n    }\n    if (this.statusBar) {\n      this.pixiContainer.removeChild(this.statusBar.getPixiObject());\n    }\n\n    this.backgroundColor = new BackgroundColor({\n      layout: props.layout,\n      pixiRenderer: this.pixiRenderer,\n    });\n    this.instancesRenderer = new InstancesRenderer({\n      project: props.project,\n      layout: props.layout,\n      instances: props.initialInstances,\n      viewPosition: this.viewPosition,\n      onOverInstance: this._onOverInstance,\n      onMoveInstance: this._onMoveInstance,\n      onMoveInstanceEnd: this._onMoveInstanceEnd,\n      onDownInstance: this._onDownInstance,\n      onOutInstance: this._onOutInstance,\n      onInstanceClicked: this._onInstanceClicked,\n    });\n    this.selectionRectangle = new SelectionRectangle({\n      instances: props.initialInstances,\n      instanceMeasurer: this.instancesRenderer.getInstanceMeasurer(),\n      toSceneCoordinates: this.viewPosition.toSceneCoordinates,\n    });\n    this.selectedInstances = new SelectedInstances({\n      instancesSelection: this.props.instancesSelection,\n      onResize: this._onResize,\n      onResizeEnd: this._onResizeEnd,\n      onRotate: this._onRotate,\n      onRotateEnd: this._onRotateEnd,\n      instanceMeasurer: this.instancesRenderer.getInstanceMeasurer(),\n      toCanvasCoordinates: this.viewPosition.toCanvasCoordinates,\n    });\n    this.highlightedInstance = new HighlightedInstance({\n      instanceMeasurer: this.instancesRenderer.getInstanceMeasurer(),\n      toCanvasCoordinates: this.viewPosition.toCanvasCoordinates,\n    });\n    this.instancesResizer = new InstancesResizer({\n      instanceMeasurer: this.instancesRenderer.getInstanceMeasurer(),\n      options: this.props.options,\n    });\n    this.instancesRotator = new InstancesRotator();\n    this.instancesMover = new InstancesMover({\n      instanceMeasurer: this.instancesRenderer.getInstanceMeasurer(),\n      options: this.props.options,\n    });\n    this.windowBorder = new WindowBorder({\n      project: props.project,\n      layout: props.layout,\n      toCanvasCoordinates: this.viewPosition.toCanvasCoordinates,\n    });\n    this.windowMask = new WindowMask({\n      project: props.project,\n      viewPosition: this.viewPosition,\n      options: this.props.options,\n    });\n    this.statusBar = new StatusBar({\n      width: this.props.width,\n      height: this.props.height,\n      getLastCursorPosition: this.getLastCursorPosition,\n    });\n\n    this.pixiContainer.addChild(this.selectionRectangle.getPixiObject());\n    this.viewPosition\n      .getPixiContainer()\n      .addChild(this.instancesRenderer.getPixiContainer());\n    this.pixiContainer.addChild(this.windowBorder.getPixiObject());\n    this.pixiContainer.addChild(this.windowMask.getPixiObject());\n    this.pixiContainer.addChild(this.selectedInstances.getPixiContainer());\n    this.pixiContainer.addChild(this.highlightedInstance.getPixiObject());\n    this.pixiContainer.addChild(this.statusBar.getPixiObject());\n  }\n\n  componentWillUnmount() {\n    // This is an antipattern and is theorically not needed, but help\n    // to protect against renders after the component is unmounted.\n    this._unmounted = true;\n\n    this.keyboardShortcuts.unmount();\n    this.selectionRectangle.delete();\n    this.instancesRenderer.delete();\n    if (this.nextFrame) cancelAnimationFrame(this.nextFrame);\n    stopPIXITicker();\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (\n      nextProps.width !== this.props.width ||\n      nextProps.height !== this.props.height\n    ) {\n      this.pixiRenderer.resize(nextProps.width, nextProps.height);\n      this.viewPosition.resize(nextProps.width, nextProps.height);\n      this.statusBar.resize(nextProps.width, nextProps.height);\n      this.backgroundArea.hitArea = new PIXI.Rectangle(\n        0,\n        0,\n        nextProps.width,\n        nextProps.height\n      );\n\n      // Avoid flickering that could happen while waiting for next animation frame.\n      this.fpsLimiter.forceNextUpdate();\n      this._renderScene();\n    }\n\n    if (nextProps.options !== this.props.options) {\n      this.grid.setOptions(nextProps.options);\n      this.instancesMover.setOptions(nextProps.options);\n      this.instancesResizer.setOptions(nextProps.options);\n      this.windowMask.setOptions(nextProps.options);\n      this.viewPosition.setOptions(nextProps.options);\n    }\n\n    if (\n      this.props.layout !== nextProps.layout ||\n      this.props.initialInstances !== nextProps.initialInstances ||\n      this.props.project !== nextProps.project\n    ) {\n      this._mountEditorComponents(nextProps);\n    }\n\n    // For avoiding useless renderings, which is costly for CPU/GPU, when the editor\n    // is not displayed, `pauseRendering` prop can be set to true.\n    if (nextProps.pauseRendering && !this.props.pauseRendering)\n      this.pauseSceneRendering();\n\n    if (!nextProps.pauseRendering && this.props.pauseRendering)\n      this.restartSceneRendering();\n  }\n\n  /**\n   * Delete instance renderers of the specified objects, which will then be recreated during\n   * the next render. Call this when an object resources may have changed (for example, a modified image),\n   * and you want the instances of objects to reflect the changes.\n   * See also ResourcesLoader and PixiResourcesLoader.\n   * @param {string} objectName The name of the object for which instance must be re-rendered.\n   */\n  resetRenderersFor(objectName) {\n    if (this.instancesRenderer)\n      this.instancesRenderer.resetRenderersFor(objectName);\n  }\n\n  zoomBy(value) {\n    this.setZoomFactor(this.getZoomFactor() + value);\n  }\n\n  getZoomFactor() {\n    return this.props.options.zoomFactor;\n  }\n\n  setZoomFactor(zoomFactor) {\n    this.props.onChangeOptions({\n      zoomFactor: Math.max(Math.min(zoomFactor, 10), 0.01),\n    });\n  }\n\n  _onMouseMove = (x, y) => {\n    this.lastCursorX = x;\n    this.lastCursorY = y;\n  };\n\n  _onBackgroundClicked = (x, y) => {\n    this.lastCursorX = x;\n    this.lastCursorY = y;\n    this.pixiRenderer.view.focus();\n\n    if (\n      !this.keyboardShortcuts.shouldMultiSelect() &&\n      !this.keyboardShortcuts.shouldMoveView()\n    ) {\n      this.props.instancesSelection.clearSelection();\n      this.props.onInstancesSelected([]);\n    }\n  };\n\n  _onPanMove = (deltaX, deltaY, x, y) => {\n    if (this.keyboardShortcuts.shouldMoveView()) {\n      const sceneDeltaX = deltaX / this.getZoomFactor();\n      const sceneDeltaY = deltaY / this.getZoomFactor();\n\n      this.viewPosition.scrollBy(-sceneDeltaX, -sceneDeltaY);\n\n      if (this.props.onViewPositionChanged) {\n        this.props.onViewPositionChanged(this.viewPosition);\n      }\n    } else {\n      this.selectionRectangle.makeSelectionRectangle(x, y);\n    }\n  };\n\n  _getLayersVisibility = () => {\n    const { layout } = this.props;\n    const layersVisibility = {};\n    for (let i = 0; i < layout.getLayersCount(); i++) {\n      layersVisibility[layout.getLayerAt(i).getName()] = layout\n        .getLayerAt(i)\n        .getVisibility();\n    }\n    return layersVisibility;\n  };\n\n  _onPanEnd = () => {\n    // When a pan is ended, this can be that either the user was making\n    // a selection, or that the user was moving the view.\n    if (this.selectionRectangle.hasStartedSelectionRectangle()) {\n      let instancesSelected = this.selectionRectangle.endSelectionRectangle();\n\n      this.props.instancesSelection.selectInstances(\n        instancesSelected,\n        this.keyboardShortcuts.shouldMultiSelect(),\n        this._getLayersVisibility()\n      );\n      instancesSelected = this.props.instancesSelection.getSelectedInstances();\n      this.props.onInstancesSelected(instancesSelected);\n    }\n  };\n\n  _onInstanceClicked = instance => {\n    this.pixiRenderer.view.focus();\n  };\n\n  _onOverInstance = instance => {\n    this.highlightedInstance.setInstance(instance);\n  };\n\n  _onDownInstance = instance => {\n    if (this.keyboardShortcuts.shouldMoveView()) {\n      // If the user wants to move the view, discard the click on an instance:\n      // it's just the beginning of the user panning the view.\n      return;\n    }\n\n    if (this.keyboardShortcuts.shouldCloneInstances()) {\n      const selectedInstances = this.props.instancesSelection.getSelectedInstances();\n      for (var i = 0; i < selectedInstances.length; i++) {\n        const instance = selectedInstances[i];\n        this.props.initialInstances.insertInitialInstance(instance);\n      }\n    } else {\n      this.props.instancesSelection.selectInstance(\n        instance,\n        this.keyboardShortcuts.shouldMultiSelect(),\n        this._getLayersVisibility()\n      );\n\n      if (this.props.onInstancesSelected) {\n        this.props.onInstancesSelected(\n          this.props.instancesSelection.getSelectedInstances()\n        );\n      }\n    }\n  };\n\n  _onOutInstance = instance => {\n    if (instance === this.highlightedInstance.getInstance())\n      this.highlightedInstance.setInstance(null);\n  };\n\n  _onMoveInstance = (instance, deltaX, deltaY) => {\n    const sceneDeltaX = deltaX / this.getZoomFactor();\n    const sceneDeltaY = deltaY / this.getZoomFactor();\n\n    // It is possible for the user to start moving an instance, then press the button\n    // to move the view, move it, then unpress it and continue to move the instance.\n    // This means that while we're in \"_onMoveInstance\", we must handle view moving.\n    if (this.keyboardShortcuts.shouldMoveView()) {\n      this.viewPosition.scrollBy(-sceneDeltaX, -sceneDeltaY);\n\n      if (this.props.onViewPositionChanged) {\n        this.props.onViewPositionChanged(this.viewPosition);\n      }\n      return;\n    }\n\n    if (!this.props.instancesSelection.isInstanceSelected(instance)) {\n      this._onInstanceClicked(instance);\n    }\n\n    const selectedInstances = this.props.instancesSelection.getSelectedInstances();\n    this.instancesMover.moveBy(\n      selectedInstances,\n      sceneDeltaX,\n      sceneDeltaY,\n      this.keyboardShortcuts.shouldFollowAxis(),\n      this.keyboardShortcuts.shouldNotSnapToGrid()\n    );\n  };\n\n  _onMoveInstanceEnd = () => {\n    this.instancesMover.endMove();\n\n    const selectedInstances = this.props.instancesSelection.getSelectedInstances();\n    this.props.onInstancesMoved(selectedInstances);\n  };\n\n  _onResize = (deltaX, deltaY) => {\n    const sceneDeltaX = deltaX / this.getZoomFactor();\n    const sceneDeltaY = deltaY / this.getZoomFactor();\n\n    const selectedInstances = this.props.instancesSelection.getSelectedInstances();\n    this.instancesResizer.resizeBy(\n      selectedInstances,\n      sceneDeltaX,\n      sceneDeltaY,\n      this.keyboardShortcuts.shouldResizeProportionally()\n    );\n  };\n\n  _onResizeEnd = () => {\n    this.instancesResizer.endResize();\n\n    const selectedInstances = this.props.instancesSelection.getSelectedInstances();\n    this.props.onInstancesResized(selectedInstances);\n  };\n\n  _onRotate = (deltaX, deltaY) => {\n    const sceneDeltaX = deltaX / this.getZoomFactor();\n    const sceneDeltaY = deltaY / this.getZoomFactor();\n\n    const selectedInstances = this.props.instancesSelection.getSelectedInstances();\n    this.instancesRotator.rotateBy(\n      selectedInstances,\n      sceneDeltaX,\n      sceneDeltaY,\n      this.keyboardShortcuts.shouldResizeProportionally()\n    );\n  };\n\n  _onRotateEnd = () => {\n    this.instancesRotator.endRotate();\n\n    const selectedInstances = this.props.instancesSelection.getSelectedInstances();\n    this.props.onInstancesRotated(selectedInstances);\n  };\n\n  _onDrop = (x, y, objectName) => {\n    const newPos = this.viewPosition.toSceneCoordinates(x, y);\n    if (this.props.onAddInstance) {\n      this.props.onAddInstance(newPos[0], newPos[1], objectName);\n    }\n  };\n\n  clearHighlightedInstance = () => {\n    this.highlightedInstance.setInstance(null);\n  };\n\n  moveSelection = (x, y) => {\n    const selectedInstances = this.props.instancesSelection.getSelectedInstances();\n    selectedInstances.forEach(instance => {\n      instance.setX(instance.getX() + x);\n      instance.setY(instance.getY() + y);\n    });\n    this.props.onInstancesMoved(selectedInstances);\n  };\n\n  scrollTo(x, y) {\n    this.viewPosition.scrollTo(x, y);\n  }\n\n  centerViewOn(instances) {\n    if (!instances.length) return;\n\n    this.viewPosition.scrollToInstance(instances[instances.length - 1]);\n    if (this.props.onViewPositionChanged) {\n      this.props.onViewPositionChanged(this.viewPosition);\n    }\n  }\n\n  getLastContextMenuPosition = () => {\n    return this.viewPosition.toSceneCoordinates(\n      this.lastContextMenuX,\n      this.lastContextMenuY\n    );\n  };\n\n  getLastCursorPosition = () => {\n    return this.viewPosition.toSceneCoordinates(\n      this.lastCursorX,\n      this.lastCursorY\n    );\n  };\n\n  getViewPosition = () /*: ?ViewPosition */ => {\n    return this.viewPosition;\n  };\n\n  _renderScene = () => {\n    // Protect against rendering scheduled after the component is unmounted.\n    if (this._unmounted) return;\n    if (this._renderingPaused) return;\n\n    // Avoid killing the CPU by limiting the rendering calls.\n    if (this.fpsLimiter.shouldUpdate()) {\n      this.backgroundColor.render();\n      this.viewPosition.render();\n      this.canvasCursor.render();\n      this.grid.render();\n      this.instancesRenderer.render();\n      this.highlightedInstance.render();\n      this.selectedInstances.render();\n      this.selectionRectangle.render();\n      this.windowBorder.render();\n      this.windowMask.render();\n      this.statusBar.render();\n      this.pixiRenderer.render(this.pixiContainer);\n    }\n    this.nextFrame = requestAnimationFrame(this._renderScene);\n  };\n\n  pauseSceneRendering = () => {\n    if (this.nextFrame) cancelAnimationFrame(this.nextFrame);\n    this._renderingPaused = true;\n\n    stopPIXITicker();\n  };\n\n  restartSceneRendering = () => {\n    this._renderingPaused = false;\n    this._renderScene();\n\n    startPIXITicker();\n  };\n\n  render() {\n    if (!this.props.project) return null;\n\n    return (\n      <SimpleDropTarget>\n        <div\n          ref={canvasArea => (this.canvasArea = canvasArea)}\n          style={{\n            ...styles.canvasArea,\n            ...(this.props.showDropCursor ? styles.dropCursor : undefined),\n          }}\n        />\n      </SimpleDropTarget>\n    );\n  }\n}\n","import React from 'react';\nimport SvgIcon from 'material-ui/SvgIcon';\n\nexport default props => (\n  <SvgIcon {...props} viewBox=\"0 -3 24 24\">\n    <g id=\"Page-1\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n      <g id=\"Create\" fillRule=\"nonzero\">\n        <polygon\n          id=\"Shape\"\n          fill=\"#2B3990\"\n          points=\"24 8 18 2 18 6 14 6 14 10 18 10 18 14\"\n        />\n        <g id=\"Group-2\" fill=\"#27AAE1\">\n          <rect\n            id=\"Rectangle-path\"\n            transform=\"translate(2.999518, 3.574897) rotate(-45.000000) translate(-2.999518, -3.574897) \"\n            x=\"1.58553176\"\n            y=\"0.746924118\"\n            width=\"2.82797288\"\n            height=\"5.65594576\"\n          />\n          <rect\n            id=\"Rectangle-path\"\n            transform=\"translate(10.999518, 11.574897) rotate(-45.000000) translate(-10.999518, -11.574897) \"\n            x=\"9.58553176\"\n            y=\"8.74692412\"\n            width=\"2.82797288\"\n            height=\"5.65594576\"\n          />\n          <rect\n            id=\"Rectangle-path\"\n            transform=\"translate(2.999518, 11.574897) rotate(-135.000000) translate(-2.999518, -11.574897) \"\n            x=\"1.58553176\"\n            y=\"8.74692412\"\n            width=\"2.82797288\"\n            height=\"5.65594576\"\n          />\n          <rect\n            id=\"Rectangle-path\"\n            transform=\"translate(10.999518, 3.574897) rotate(-135.000000) translate(-10.999518, -3.574897) \"\n            x=\"9.58553176\"\n            y=\"0.746924118\"\n            width=\"2.82797288\"\n            height=\"5.65594576\"\n          />\n        </g>\n      </g>\n    </g>\n  </SvgIcon>\n);\n","import React from 'react';\nimport SvgIcon from 'material-ui/SvgIcon';\n\nexport default props => (\n  <SvgIcon {...props} viewBox=\"0 -6 24 24\">\n    <g id=\"Page-1\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n      <g id=\"Step\" fillRule=\"nonzero\">\n        <polygon\n          id=\"Shape\"\n          fill=\"#2B3990\"\n          points=\"7.5 4.5 3 0 3 3 0 3 0 6 3 6 3 9\"\n        />\n        <circle id=\"Oval\" fill=\"#27AAE1\" cx=\"12\" cy=\"4.5\" r=\"3\" />\n        <circle id=\"Oval\" fill=\"#FFFFFF\" cx=\"12\" cy=\"4.5\" r=\"1.5\" />\n        <polygon\n          id=\"Shape\"\n          fill=\"#2B3990\"\n          points=\"24 4.5 19.5 0 19.5 3 16.5 3 16.5 6 19.5 6 19.5 9\"\n        />\n      </g>\n    </g>\n  </SvgIcon>\n);\n","import React from 'react';\nimport SvgIcon from 'material-ui/SvgIcon';\n\nexport default props => (\n  <SvgIcon {...props} viewBox=\"0 -3 24 24\">\n    <g id=\"Page-1\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n      <g\n        id=\"Destroy\"\n        transform=\"translate(0.000000, -1.000000)\"\n        fillRule=\"nonzero\"\n      >\n        <g id=\"Group\" transform=\"translate(0.000000, 1.000000)\">\n          <polygon\n            id=\"Shape\"\n            fill=\"#2B3990\"\n            points=\"9.92307692 7.07692308 4.38461538 1.53846154 4.38461538 5.23076923 0.692307692 5.23076923 0.692307692 8.92307692 4.38461538 8.92307692 4.38461538 12.6153846\"\n          />\n          <rect\n            id=\"Rectangle-path\"\n            fill=\"#27AAE1\"\n            transform=\"translate(10.845138, 3.385446) rotate(-45.000000) translate(-10.845138, -3.385446) \"\n            x=\"9.53992021\"\n            y=\"0.77500965\"\n            width=\"2.6104365\"\n            height=\"5.22087301\"\n          />\n          <rect\n            id=\"Rectangle-path\"\n            fill=\"#27AAE1\"\n            transform=\"translate(18.229754, 10.770062) rotate(-45.000000) translate(-18.229754, -10.770062) \"\n            x=\"16.9245356\"\n            y=\"8.15962503\"\n            width=\"2.6104365\"\n            height=\"5.22087301\"\n          />\n          <rect\n            id=\"Rectangle-path\"\n            fill=\"#27AAE1\"\n            transform=\"translate(10.846985, 10.770246) rotate(-135.000000) translate(-10.846985, -10.770246) \"\n            x=\"9.54176636\"\n            y=\"8.15980965\"\n            width=\"2.6104365\"\n            height=\"5.22087301\"\n          />\n          <rect\n            id=\"Rectangle-path\"\n            fill=\"#27AAE1\"\n            transform=\"translate(18.231600, 3.385631) rotate(-135.000000) translate(-18.231600, -3.385631) \"\n            x=\"16.9263817\"\n            y=\"0.775194265\"\n            width=\"2.6104365\"\n            height=\"5.22087301\"\n          />\n        </g>\n        <g id=\"Group\" opacity=\"0.1\" transform=\"translate(2.538462, 0.692308)\">\n          <rect\n            id=\"Rectangle-path\"\n            fill=\"#000000\"\n            transform=\"translate(7.616400, 11.768538) rotate(135.000000) translate(-7.616400, -11.768538) \"\n            x=\"5.98441565\"\n            y=\"10.4633202\"\n            width=\"3.2639687\"\n            height=\"2.6104365\"\n          />\n          <polygon\n            id=\"Shape\"\n            fill=\"#FFFFFF\"\n            points=\"7.38461538 7.38461538 1.83645766 1.87268753 1.83645766 3.7132995 6.46153846 8.30769231\"\n          />\n          <rect\n            id=\"Rectangle-path\"\n            fill=\"#FFFFFF\"\n            transform=\"translate(8.308523, 3.693323) rotate(-135.000000) translate(-8.308523, -3.693323) \"\n            x=\"5.69808657\"\n            y=\"2.38810482\"\n            width=\"5.22087301\"\n            height=\"2.6104365\"\n          />\n          <rect\n            id=\"Rectangle-path\"\n            fill=\"#FFFFFF\"\n            transform=\"translate(15.693138, 11.077938) rotate(-135.000000) translate(-15.693138, -11.077938) \"\n            x=\"13.082702\"\n            y=\"9.77272021\"\n            width=\"5.22087301\"\n            height=\"2.6104365\"\n          />\n          <rect\n            id=\"Rectangle-path\"\n            fill=\"#FFFFFF\"\n            transform=\"translate(9.460009, 9.922714) rotate(45.000000) translate(-9.460009, -9.922714) \"\n            x=\"8.15479058\"\n            y=\"8.94333902\"\n            width=\"2.6104365\"\n            height=\"1.95875045\"\n          />\n          <rect\n            id=\"Rectangle-path\"\n            fill=\"#FFFFFF\"\n            transform=\"translate(15.693138, 3.693323) rotate(-135.000000) translate(-15.693138, -3.693323) \"\n            x=\"14.3879202\"\n            y=\"1.08288657\"\n            width=\"2.6104365\"\n            height=\"5.22087301\"\n          />\n        </g>\n      </g>\n    </g>\n  </SvgIcon>\n);\n","import React from 'react';\nimport SvgIcon from 'material-ui/SvgIcon';\n\nexport default props => (\n  <SvgIcon {...props}>\n    <g id=\"Page-1\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n      <g id=\"Function\" fillRule=\"nonzero\">\n        <path\n          d=\"M24,14.5714286 L24,9.42857143 L21.948,9.42857143 C21.7045714,8.48742857 21.336,7.59942857 20.8525714,6.78342857 L22.3028571,5.33314286 L18.6668571,1.69542857 L17.2165714,3.14571429 C16.4005714,2.664 15.5125714,2.29371429 14.5714286,2.05028571 L14.5714286,0 L9.42857143,0 L9.42857143,2.052 C8.48742857,2.29542857 7.59942857,2.664 6.78342857,3.14742857 L5.33314286,1.69714286 L1.69714286,5.33314286 L3.14742857,6.78342857 C2.66571429,7.59942857 2.29542857,8.48742857 2.052,9.42857143 L0,9.42857143 L0,14.5714286 L2.052,14.5714286 C2.29542857,15.5125714 2.664,16.4005714 3.14742857,17.2165714 L1.69714286,18.6668571 L5.33314286,22.3045714 L6.78342857,20.8542857 C7.59942857,21.336 8.48742857,21.7062857 9.42857143,21.9497143 L9.42857143,24 L14.5714286,24 L14.5714286,21.948 C15.5125714,21.7045714 16.4005714,21.336 17.2165714,20.8525714 L18.6668571,22.3028571 L22.3028571,18.6651429 L20.8525714,17.2148571 C21.3342857,16.3988571 21.7045714,15.5108571 21.948,14.5697143 L24,14.5697143 L24,14.5714286 Z\"\n          id=\"Shape\"\n          fill=\"#27AAE1\"\n        />\n        <polygon\n          id=\"Shape\"\n          fill=\"#2B3990\"\n          points=\"17.1428571 7.71428571 10.2857143 11.1428571 10.2857143 12 12 12.8571429 15.4285714 11.1428571 15.4285714 13.7142857 12 15.456 8.57142857 13.7142857 8.57142857 10.2857143 12 8.57142857 15.4285714 6.85714286 12 5.14285714 5.14285714 8.57142857 5.14285714 15.4285714 12 18.8571429 17.5714286 16.0714286 18.8571429 15.4285714 18.8571429 15 18.8571429 8.57142857\"\n        />\n        <g id=\"Group\" opacity=\"0.1\">\n          <path\n            d=\"M3.14571429,6.78342857 C2.664,7.59942857 2.29371429,8.48742857 2.05028571,9.42857143 L0,9.42857143 L0,14.5714286 L2.052,14.5714286 C2.29542857,15.5125714 2.664,16.4005714 3.14742857,17.2165714 L1.69714286,18.6668571 L5.33314286,22.3045714 L6.78342857,20.8542857 C7.59942857,21.336 8.48742857,21.7062857 9.42857143,21.9497143 L9.42857143,24 L14.5714286,24 L14.5714286,21.948 C15.5125714,21.7045714 16.4005714,21.336 17.2165714,20.8525714 L18.6668571,22.3028571 L20.4857143,20.484 L3.51428571,3.51428571 L1.69714286,5.33314286 L3.14571429,6.78342857 Z\"\n            id=\"Shape\"\n            fill=\"#000000\"\n          />\n          <path\n            d=\"M22.3028571,18.6668571 L20.8525714,17.2165714 C21.3342857,16.4005714 21.7045714,15.5125714 21.948,14.5714286 L24,14.5714286 L24,9.42857143 L21.948,9.42857143 C21.7045714,8.48742857 21.336,7.59942857 20.8525714,6.78342857 L22.3028571,5.33314286 L18.6668571,1.69542857 L17.2165714,3.14571429 C16.4005714,2.664 15.5125714,2.29371429 14.5714286,2.05028571 L14.5714286,0 L9.42857143,0 L9.42857143,2.052 C8.48742857,2.29542857 7.59942857,2.664 6.78342857,3.14742857 L5.33314286,1.69714286 L3.51428571,3.51428571 L20.484,20.484 L22.3028571,18.6668571 Z\"\n            id=\"Shape\"\n            fill=\"#FFFFFF\"\n          />\n        </g>\n      </g>\n    </g>\n  </SvgIcon>\n);\n","import React from 'react';\nimport SvgIcon from 'material-ui/SvgIcon';\n\nexport default props => (\n  <SvgIcon {...props} viewBox=\"0 -6 24 24\">\n    <g id=\"Page-1\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n      <g id=\"Activate\" fillRule=\"nonzero\">\n        <rect\n          id=\"Rectangle-path\"\n          fill=\"#27AAE1\"\n          x=\"0\"\n          y=\"0\"\n          width=\"24\"\n          height=\"10.2857143\"\n        />\n        <rect\n          id=\"Rectangle-path\"\n          fill=\"#2B3990\"\n          x=\"1.71428571\"\n          y=\"1.71428571\"\n          width=\"10.2857143\"\n          height=\"6.85714286\"\n        />\n        <polygon\n          id=\"Shape\"\n          fill=\"#FFFFFF\"\n          points=\"20.5710245 1.71428571 18.8571429 3.42897546 17.1432612 5.14285714 15.4285714 6.85673883 17.1432612 8.57142857 18.8571429 6.85673883 20.5710245 5.14285714 22.2857143 3.42897546\"\n        />\n        <polygon\n          id=\"Shape\"\n          fill=\"#FFFFFF\"\n          points=\"18.8567388 3.42857143 17.1428571 5.14326117 15.4289755 3.42857143 13.7142857 5.14326117 15.4289755 6.85714286 18.8567388 6.85714286 20.5714286 5.14326117\"\n        />\n      </g>\n    </g>\n  </SvgIcon>\n);\n","import React from 'react';\nimport SvgIcon from 'material-ui/SvgIcon';\n\nexport default props => (\n  <SvgIcon {...props} viewBox=\"0 -6 24 24\">\n    <g id=\"Page-1\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n      <g id=\"Deactivate\" fillRule=\"nonzero\">\n        <rect\n          id=\"Rectangle-path\"\n          fill=\"#2B3990\"\n          x=\"0\"\n          y=\"0\"\n          width=\"24\"\n          height=\"10.2857143\"\n        />\n        <polygon\n          id=\"Shape\"\n          fill=\"#FFFFFF\"\n          points=\"6.85673883 1.71428571 5.14285714 3.42897546 3.42897546 1.71428571 1.71428571 3.42897546 3.42897546 5.14285714 1.71428571 6.85673883 3.42897546 8.57142857 5.14285714 6.85673883 6.85673883 8.57142857 8.57142857 6.85673883 6.85673883 5.14285714 8.57142857 3.42897546\"\n        />\n        <rect\n          id=\"Rectangle-path\"\n          fill=\"#27AAE1\"\n          x=\"12\"\n          y=\"1.71428571\"\n          width=\"10.2857143\"\n          height=\"6.85714286\"\n        />\n      </g>\n    </g>\n  </SvgIcon>\n);\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport FlatButton from 'material-ui/FlatButton';\nimport Subheader from 'material-ui/Subheader';\nimport { List, ListItem } from 'material-ui/List';\nimport Dialog from '../UI/Dialog';\nimport HelpButton from '../UI/HelpButton';\nimport Create from '../UI/CustomSvgIcons/Behaviors/Create';\nimport Step from '../UI/CustomSvgIcons/Behaviors/Step';\nimport Destroy from '../UI/CustomSvgIcons/Behaviors/Destroy';\nimport Function from '../UI/CustomSvgIcons/Behaviors/Function';\nimport Activate from '../UI/CustomSvgIcons/Behaviors/Activate';\nimport Deactivate from '../UI/CustomSvgIcons/Behaviors/Deactivate';\n\ntype Props = {|\n  eventsBasedBehavior: gdEventsBasedBehavior,\n  onCancel: () => void,\n  onChoose: (functionName: ?string) => void,\n|};\ntype State = {||};\n\nconst styles = {\n  icon: { width: 40, height: 40 },\n  disabledItem: { opacity: 0.6 },\n};\n\nconst MethodListItem = ({\n  icon,\n  disabled,\n  onChoose,\n  name,\n  description,\n}: {|\n  icon: React.Node,\n  disabled: boolean,\n  onChoose: string => void,\n  name: string,\n  description: React.Node,\n|}) => {\n  return (\n    <ListItem\n      leftIcon={icon}\n      primaryText={name}\n      secondaryText={<p>{description}</p>}\n      secondaryTextLines={2}\n      onClick={() => onChoose(name)}\n      style={disabled ? styles.disabledItem : undefined}\n      disabled={disabled}\n    />\n  );\n};\n\nexport default class BehaviorMethodSelectorDialog extends React.Component<\n  Props,\n  State\n> {\n  render() {\n    const actions = [\n      <FlatButton\n        label={<Trans>Cancel</Trans>}\n        keyboardFocused={true}\n        onClick={() => this.props.onCancel()}\n        key={'close'}\n      />,\n    ];\n\n    const { eventsBasedBehavior, onChoose } = this.props;\n    const eventsFunctions = eventsBasedBehavior.getEventsFunctions();\n\n    return (\n      <Dialog\n        secondaryActions={[\n          <HelpButton\n            key=\"help\"\n            helpPagePath=\"/behaviors/events-based-behaviors\"\n          />,\n        ]}\n        actions={actions}\n        open\n        noMargin\n        title={<Trans>Choose a new behavior function (\"method\")</Trans>}\n        onRequestClose={this.props.onCancel}\n        autoScrollBodyContent={true}\n      >\n        <List>\n          <Subheader>\n            <Trans>Main lifecycle methods</Trans>\n          </Subheader>\n          <MethodListItem\n            icon={<Create style={styles.icon} />}\n            name={'onCreated'}\n            disabled={eventsFunctions.hasEventsFunctionNamed('onCreated')}\n            onChoose={onChoose}\n            description={\n              <Trans>\n                Events that will be run once, when an object is created with\n                this behavior being attached to it.\n              </Trans>\n            }\n          />\n          <MethodListItem\n            icon={<Step style={styles.icon} />}\n            name={'doStepPreEvents'}\n            disabled={eventsFunctions.hasEventsFunctionNamed('doStepPreEvents')}\n            onChoose={onChoose}\n            description={\n              <Trans>\n                Events that will be run at every frame (roughly 60 times per\n                second), for every object that has the behavior attached, before\n                the events from the events sheet are launched.\n              </Trans>\n            }\n          />\n          <MethodListItem\n            icon={<Destroy style={styles.icon} />}\n            name={'onOwnerRemovedFromScene'}\n            disabled={eventsFunctions.hasEventsFunctionNamed(\n              'onOwnerRemovedFromScene'\n            )}\n            onChoose={onChoose}\n            description={\n              <Trans>\n                Events that will be run once, after the object is removed from\n                the scene and before it is entirely removed from memory.\n              </Trans>\n            }\n          />\n          <Subheader>\n            <Trans>Other lifecycle methods</Trans>\n          </Subheader>\n          <MethodListItem\n            icon={<Deactivate style={styles.icon} />}\n            name={'onDeActivate'}\n            disabled={eventsFunctions.hasEventsFunctionNamed('onDeActivate')}\n            onChoose={onChoose}\n            description={\n              <Trans>\n                Events that will be run when the behavior is deactivated on an\n                object (step events won't be run until the behavior is activated\n                again).\n              </Trans>\n            }\n          />\n          <MethodListItem\n            icon={<Activate style={styles.icon} />}\n            name={'onActivate'}\n            disabled={eventsFunctions.hasEventsFunctionNamed('onActivate')}\n            onChoose={onChoose}\n            description={\n              <Trans>\n                Events that will be run when the behavior is re-activated on an\n                object (after it was previously deactivated).\n              </Trans>\n            }\n          />\n          <MethodListItem\n            icon={<Step style={styles.icon} />}\n            name={'doStepPostEvents'}\n            disabled={eventsFunctions.hasEventsFunctionNamed(\n              'doStepPostEvents'\n            )}\n            onChoose={onChoose}\n            description={\n              <Trans>\n                Events that will be run at every frame (roughly 60 times per\n                second), for every object that has the behavior attached, after\n                the events from the events sheet.\n              </Trans>\n            }\n          />\n          <Subheader>\n            <Trans>Custom</Trans>\n          </Subheader>\n          <ListItem\n            leftIcon={<Function style={styles.icon} />}\n            primaryText={\n              <Trans>Custom (action, condition or expression)</Trans>\n            }\n            secondaryText={\n              <p>\n                <Trans>\n                  An action, condition or expression that can be used on objects\n                  that have the behavior attached to them. Use it from the\n                  events sheet as any other action/condition/expression.\n                </Trans>\n              </p>\n            }\n            secondaryTextLines={2}\n            onClick={() => onChoose(null)}\n          />\n        </List>\n      </Dialog>\n    );\n  }\n}\n","export const CLIPBOARD_KIND = 'Object';\n","import React from 'react';\nimport { ListItem } from 'material-ui/List';\nimport IconMenu from '../UI/Menu/IconMenu';\nimport ListIcon from '../UI/ListIcon';\nimport IconButton from 'material-ui/IconButton';\nimport TextField from 'material-ui/TextField';\nimport MoreVertIcon from 'material-ui/svg-icons/navigation/more-vert';\nimport Clipboard from '../Utils/Clipboard';\nimport { CLIPBOARD_KIND } from './ClipboardKind';\nimport muiThemeable from 'material-ui/styles/muiThemeable';\nimport { buildTagsMenuTemplate, getTagsFromString } from '../Utils/TagsHelper';\n\nconst LEFT_MOUSE_BUTTON = 0;\n\nconst styles = {\n  objectName: {\n    overflow: 'hidden',\n    whiteSpace: 'nowrap',\n    textOverflow: 'ellipsis',\n  },\n  textField: {\n    top: -16,\n  },\n};\n\nconst getPasteLabel = isGlobalObject => {\n  let clipboardObjectName = '';\n  if (Clipboard.has(CLIPBOARD_KIND)) {\n    const clipboardContent = Clipboard.get(CLIPBOARD_KIND);\n    if (clipboardContent) {\n      clipboardObjectName = clipboardContent.name;\n    }\n  }\n\n  return isGlobalObject\n    ? 'Paste ' + clipboardObjectName + ' as a Global Object'\n    : 'Paste ' + clipboardObjectName;\n};\n\nclass ThemableObjectRow extends React.Component {\n  _renderObjectMenu(object) {\n    return (\n      <IconMenu\n        ref={iconMenu => (this._iconMenu = iconMenu)}\n        iconButtonElement={\n          <IconButton>\n            <MoreVertIcon />\n          </IconButton>\n        }\n        buildMenuTemplate={() => [\n          {\n            label: 'Edit object',\n            enabled: !!this.props.onEdit,\n            click: () => this.props.onEdit(object),\n          },\n          {\n            label: 'Edit object variables',\n            enabled: !!this.props.onEditVariables,\n            click: () => this.props.onEditVariables(),\n          },\n          { type: 'separator' },\n          {\n            label: 'Tags',\n            submenu: buildTagsMenuTemplate({\n              noTagLabel: 'No tags',\n              getAllTags: this.props.getAllObjectTags,\n              selectedTags: getTagsFromString(object.getTags()),\n              onChange: objectTags => {\n                this.props.onChangeTags(objectTags);\n              },\n              editTagsLabel: 'Add/edit tags...',\n              onEditTags: this.props.onEditTags,\n            }),\n          },\n          {\n            label: 'Rename',\n            enabled: !!this.props.onEdit,\n            click: () => this.props.onEditName(),\n          },\n          {\n            label: 'Set as a global object',\n            enabled: !!this.props.onSetAsGlobalObject,\n            click: () => this.props.onSetAsGlobalObject(),\n          },\n          {\n            label: 'Delete',\n            enabled: !!this.props.onEdit,\n            click: () => this.props.onDelete(),\n          },\n          { type: 'separator' },\n          {\n            label: 'Add a new object...',\n            click: () => this.props.onAddNewObject(),\n          },\n          { type: 'separator' },\n          {\n            label: 'Copy',\n            click: () => this.props.onCopyObject(),\n          },\n          {\n            label: 'Cut',\n            click: () => this.props.onCutObject(),\n          },\n          {\n            label: getPasteLabel(this.props.isGlobalObject),\n            enabled: Clipboard.has(CLIPBOARD_KIND),\n            click: () => this.props.onPasteObject(),\n          },\n          {\n            label: 'Duplicate',\n            click: () => this.props.onDuplicateObject(),\n          },\n        ]}\n      />\n    );\n  }\n\n  componentDidUpdate(prevProps) {\n    if (!prevProps.editingName && this.props.editingName) {\n      setTimeout(() => {\n        if (this.textField) this.textField.focus();\n      }, 100);\n    }\n  }\n\n  _onContextMenu = event => {\n    if (this._iconMenu) this._iconMenu.open(event);\n  };\n\n  render() {\n    const {\n      project,\n      object,\n      selected,\n      isGlobalObject,\n      style,\n      muiTheme,\n    } = this.props;\n\n    const objectName = object.getName();\n    const label = this.props.editingName ? (\n      <TextField\n        id=\"rename-object-field\"\n        ref={textField => (this.textField = textField)}\n        defaultValue={objectName}\n        onBlur={e => this.props.onRename(e.target.value)}\n        onKeyPress={event => {\n          if (event.charCode === 13) {\n            // enter key pressed\n            this.textField.blur();\n          }\n        }}\n        fullWidth\n        style={styles.textField}\n      />\n    ) : (\n      <div\n        style={{\n          ...styles.objectName,\n          color: selected ? muiTheme.listItem.selectedTextColor : undefined,\n          fontStyle: isGlobalObject ? 'italic' : undefined,\n          fontWeight: isGlobalObject ? 'bold' : 'normal',\n        }}\n      >\n        {objectName}\n      </div>\n    );\n\n    const itemStyle = {\n      borderBottom: `1px solid ${muiTheme.listItem.separatorColor}`,\n      backgroundColor: selected\n        ? muiTheme.listItem.selectedBackgroundColor\n        : undefined,\n    };\n\n    return (\n      <ListItem\n        style={{ ...itemStyle, ...style }}\n        onContextMenu={this._onContextMenu}\n        primaryText={label}\n        leftIcon={\n          <ListIcon\n            iconSize={32}\n            src={this.props.getThumbnail(project, object)}\n          />\n        }\n        rightIconButton={this._renderObjectMenu(object)}\n        onClick={() => {\n          if (!this.props.onObjectSelected) return;\n          if (this.props.editingName) return;\n          this.props.onObjectSelected(selected ? '' : objectName);\n        }}\n        onDoubleClick={event => {\n          if (event.button !== LEFT_MOUSE_BUTTON) return;\n          if (!this.props.onEdit) return;\n          if (this.props.editingName) return;\n\n          this.props.onObjectSelected('');\n          this.props.onEdit(object);\n        }}\n      />\n    );\n  }\n}\n\nconst ObjectRow = muiThemeable()(ThemableObjectRow);\nexport default ObjectRow;\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport React, { Component } from 'react';\nimport Dialog from '../UI/Dialog';\nimport FlatButton from 'material-ui/FlatButton';\nimport Avatar from 'material-ui/Avatar';\nimport Subheader from 'material-ui/Subheader';\nimport { List, ListItem } from 'material-ui/List';\nimport Visibility from 'material-ui/svg-icons/action/visibility';\nimport VisibilityOff from 'material-ui/svg-icons/action/visibility-off';\nimport {\n  enumerateObjectTypes,\n  type EnumeratedObjectMetadata,\n} from './EnumerateObjects';\nimport HelpButton from '../UI/HelpButton';\nimport { getExperimentalObjects } from '../Hints';\nimport { Line } from '../UI/Grid';\n\nconst styles = {\n  icon: { borderRadius: 0 },\n};\n\nconst ObjectListItem = ({\n  objectMetadata,\n  onClick,\n}: {|\n  objectMetadata: EnumeratedObjectMetadata,\n  onClick: () => void,\n|}) => {\n  if (objectMetadata.name === '') {\n    // Base object is an \"abstract\" object\n    return null;\n  }\n\n  return (\n    <ListItem\n      leftAvatar={\n        <Avatar src={objectMetadata.iconFilename} style={styles.icon} />\n      }\n      key={objectMetadata.name}\n      primaryText={objectMetadata.fullName}\n      secondaryText={<p>{objectMetadata.description}</p>}\n      secondaryTextLines={2}\n      onClick={onClick}\n    />\n  );\n};\n\ntype Props = {|\n  project: gdProject,\n  open: boolean,\n  onClose: () => void,\n  onChoose: string => void,\n|};\n\ntype State = {|\n  objectMetadata: Array<EnumeratedObjectMetadata>,\n  showExperimental: boolean,\n|};\n\nexport default class NewObjectDialog extends Component<Props, State> {\n  state = { ...this._loadFrom(this.props.project), showExperimental: false };\n\n  _loadFrom(project: gdProject) {\n    if (!project || !project.getCurrentPlatform()) {\n      return { objectMetadata: [] };\n    }\n\n    return {\n      objectMetadata: enumerateObjectTypes(project),\n    };\n  }\n\n  componentWillReceiveProps(newProps: Props) {\n    if (\n      (!this.props.open && newProps.open) ||\n      (newProps.open && this.props.project !== newProps.project)\n    ) {\n      this.setState(this._loadFrom(newProps.project));\n    }\n  }\n\n  _showExperimental = (showExperimental: boolean = true) => {\n    this.setState({\n      showExperimental,\n    });\n  };\n\n  render() {\n    const { project, open, onClose, onChoose } = this.props;\n    const { objectMetadata, showExperimental } = this.state;\n    if (!open || !project) return null;\n\n    const experimentalObjectsInformation = getExperimentalObjects();\n\n    const objects = objectMetadata.filter(\n      ({ name }) => !experimentalObjectsInformation[name]\n    );\n    const experimentalObjects = objectMetadata.filter(\n      ({ name }) => !!experimentalObjectsInformation[name]\n    );\n\n    return (\n      <Dialog\n        title={<Trans>Add a new object</Trans>}\n        secondaryActions={<HelpButton helpPagePath=\"/objects\" />}\n        actions={\n          <FlatButton\n            label={<Trans>Close</Trans>}\n            primary={false}\n            onClick={onClose}\n          />\n        }\n        onRequestClose={onClose}\n        open={open}\n        noMargin\n        autoScrollBodyContent\n      >\n        <List>\n          {objects.map(objectMetadata => (\n            <ObjectListItem\n              key={objectMetadata.name}\n              objectMetadata={objectMetadata}\n              onClick={() => onChoose(objectMetadata.name)}\n            />\n          ))}\n          {showExperimental && (\n            <Subheader>\n              Experimental (make sure to read the documentation page)\n            </Subheader>\n          )}\n          {showExperimental &&\n            experimentalObjects.map(objectMetadata => (\n              <ObjectListItem\n                key={objectMetadata.name}\n                objectMetadata={objectMetadata}\n                onClick={() => onChoose(objectMetadata.name)}\n              />\n            ))}\n        </List>\n        <Line justifyContent=\"center\" alignItems=\"center\">\n          {!showExperimental ? (\n            <FlatButton\n              key=\"toggle-experimental\"\n              icon={<Visibility />}\n              primary={false}\n              onClick={() => this._showExperimental(true)}\n              label={<Trans>Show experimental objects</Trans>}\n            />\n          ) : (\n            <FlatButton\n              key=\"toggle-experimental\"\n              icon={<VisibilityOff />}\n              primary={false}\n              onClick={() => this._showExperimental(false)}\n              label={<Trans>Hide experimental objects</Trans>}\n            />\n          )}\n        </Line>\n      </Dialog>\n    );\n  }\n}\n","// @flow\nimport React from 'react';\nimport { type Tags, removeTag } from '../Utils/TagsHelper';\nimport Chip from 'material-ui/Chip';\n\nconst styles = {\n  chipContainer: {\n    display: 'flex',\n    overflowX: 'auto',\n    margin: 4,\n  },\n  chip: {\n    marginLeft: 2,\n    marginRight: 2,\n  },\n};\n\ntype Props = {|\n  tags: Tags,\n  onChange: Tags => void,\n|};\n\nexport default ({ tags, onChange }: Props) => {\n  if (!tags.length) return null;\n\n  return (\n    <div style={styles.chipContainer}>\n      {tags.map(tag => (\n        <Chip\n          key={tag}\n          style={styles.chip}\n          onRequestDelete={() => onChange(removeTag(tags, tag))}\n        >\n          {tag}\n        </Chip>\n      ))}\n    </div>\n  );\n};\n","// @flow\nimport * as React from 'react';\nimport Dialog from './Dialog';\nimport { TextField } from 'material-ui';\nimport FlatButton from 'material-ui/FlatButton';\nimport { Trans } from '@lingui/macro';\nimport { type Tags, getTagsFromString } from '../Utils/TagsHelper';\n\ntype Props = {|\n  tagsString: string,\n  onCancel: () => void,\n  onEdit: (tags: Tags) => void,\n|};\n\ntype State = {|\n  tagsString: string,\n|};\n\n/**\n * Dialog to edit tags, with keyboard support (auto focus of tags field,\n * enter to validate, esc to dismiss dialog).\n */\nexport default class EditTagsDialog extends React.Component<Props, State> {\n  state = {\n    tagsString: this.props.tagsString,\n  };\n  _tagsField = React.createRef<TextField>();\n\n  componentDidMount() {\n    setTimeout(() => {\n      if (this._tagsField && this._tagsField.current) {\n        this._tagsField.current.focus();\n      }\n    }, 10);\n  }\n\n  render() {\n    const { onCancel, onEdit } = this.props;\n    const { tagsString } = this.state;\n\n    const tags = getTagsFromString(tagsString);\n\n    return (\n      <Dialog\n        actions={[\n          <FlatButton\n            key=\"close\"\n            label={<Trans>Cancel</Trans>}\n            primary={false}\n            onClick={onCancel}\n          />,\n          <FlatButton\n            key=\"add\"\n            label={\n              this.props.tagsString && !tags.length ? (\n                <Trans>Remove all tags</Trans>\n              ) : (\n                <Trans>Add/update {tags.length} tag(s)</Trans>\n              )\n            }\n            primary\n            onClick={() => onEdit(tags)}\n            disabled={!this.props.tagsString && !tags.length}\n          />,\n        ]}\n        open\n        onRequestClose={onCancel}\n      >\n        <TextField\n          fullWidth\n          value={tagsString}\n          onChange={(e, tagsString) =>\n            this.setState({\n              tagsString,\n            })\n          }\n          floatingLabelText=\"Tag(s) (comma-separated)\"\n          hintText={<Trans>For example: player, spaceship, inventory...</Trans>}\n          onKeyPress={event => {\n            if (event.key === 'Enter') {\n              onEdit(tags);\n            }\n          }}\n          ref={this._tagsField}\n        />\n      </Dialog>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport React, { Component } from 'react';\nimport { AutoSizer, List } from 'react-virtualized';\nimport { ListItem } from 'material-ui/List';\nimport Background from '../UI/Background';\nimport SearchBar from 'material-ui-search-bar';\nimport ObjectRow from './ObjectRow';\nimport NewObjectDialog from './NewObjectDialog';\nimport VariablesEditorDialog from '../VariablesList/VariablesEditorDialog';\nimport newNameGenerator from '../Utils/NewNameGenerator';\nimport Clipboard from '../Utils/Clipboard';\nimport {\n  serializeToJSObject,\n  unserializeFromJSObject,\n} from '../Utils/Serializer';\nimport { showWarningBox } from '../UI/Messages/MessageBox';\nimport { makeAddItem } from '../UI/ListCommonItem';\nimport { SortableContainer, SortableElement } from 'react-sortable-hoc';\nimport { enumerateObjects, filterObjectsList } from './EnumerateObjects';\nimport type {\n  ObjectWithContextList,\n  ObjectWithContext,\n} from '../ObjectsList/EnumerateObjects';\nimport { CLIPBOARD_KIND } from './ClipboardKind';\nimport TagChips from '../UI/TagChips';\nimport EditTagsDialog from '../UI/EditTagsDialog';\nimport { type Tags, getStringFromTags } from '../Utils/TagsHelper';\n\nconst listItemHeight = 48;\nconst styles = {\n  listContainer: {\n    flex: 1,\n  },\n};\n\nconst AddObjectRow = makeAddItem(ListItem);\n\nconst SortableObjectRow = SortableElement(props => {\n  const { style, ...otherProps } = props;\n  return (\n    <div style={style}>\n      <ObjectRow {...otherProps} />\n    </div>\n  );\n});\n\nconst SortableAddObjectRow = SortableElement(props => {\n  return <AddObjectRow {...props} />;\n});\n\nclass ObjectsList extends Component<*, *> {\n  list: any;\n\n  forceUpdateGrid() {\n    if (this.list) this.list.forceUpdateGrid();\n  }\n\n  render() {\n    let { height, width, fullList, project, selectedObjectNames } = this.props;\n\n    return (\n      <List\n        ref={list => (this.list = list)}\n        height={height}\n        rowCount={fullList.length}\n        rowHeight={listItemHeight}\n        rowRenderer={({ index, key, style }) => {\n          const objectWithContext = fullList[index];\n          if (objectWithContext.key === 'add-objects-row') {\n            return (\n              <SortableAddObjectRow\n                index={fullList.length}\n                key={key}\n                style={style}\n                disabled\n                onClick={this.props.onAddNewObject}\n                primaryText={<Trans>Click to add an object</Trans>}\n              />\n            );\n          }\n\n          const nameBeingEdited =\n            this.props.renamedObjectWithContext &&\n            this.props.renamedObjectWithContext.object ===\n              objectWithContext.object &&\n            this.props.renamedObjectWithContext.global ===\n              objectWithContext.global;\n\n          return (\n            <SortableObjectRow\n              index={index}\n              key={objectWithContext.object.ptr}\n              project={project}\n              object={objectWithContext.object}\n              isGlobalObject={objectWithContext.global}\n              style={style}\n              onEdit={\n                this.props.onEditObject\n                  ? () => this.props.onEditObject(objectWithContext.object)\n                  : undefined\n              }\n              onEditVariables={() =>\n                this.props.onEditVariables(objectWithContext.object)\n              }\n              onEditName={() => this.props.onEditName(objectWithContext)}\n              onDelete={() => this.props.onDelete(objectWithContext)}\n              onCopyObject={() => this.props.onCopyObject(objectWithContext)}\n              onCutObject={() => this.props.onCutObject(objectWithContext)}\n              onDuplicateObject={() =>\n                this.props.onDuplicateObject(objectWithContext)\n              }\n              onPasteObject={() => this.props.onPasteObject(objectWithContext)}\n              onRename={newName =>\n                this.props.onRename(objectWithContext, newName)\n              }\n              onSetAsGlobalObject={\n                objectWithContext.global\n                  ? undefined\n                  : () => this.props.onSetAsGlobalObject(objectWithContext)\n              }\n              onAddNewObject={this.props.onAddNewObject}\n              editingName={nameBeingEdited}\n              getThumbnail={this.props.getThumbnail}\n              getAllObjectTags={this.props.getAllObjectTags}\n              onObjectSelected={this.props.onObjectSelected}\n              onEditTags={() => this.props.onEditTags(objectWithContext.object)}\n              onChangeTags={objectTags =>\n                this.props.onChangeTags(objectWithContext.object, objectTags)\n              }\n              selected={\n                selectedObjectNames.indexOf(\n                  objectWithContext.object.getName()\n                ) !== -1\n              }\n            />\n          );\n        }}\n        width={width}\n      />\n    );\n  }\n}\n\nconst SortableObjectsList = SortableContainer(ObjectsList, { withRef: true });\n\ntype StateType = {|\n  newObjectDialogOpen: boolean,\n  renamedObjectWithContext: ?ObjectWithContext,\n  variablesEditedObject: ?gdObject,\n  searchText: string,\n  tagEditedObject: ?gdObject,\n|};\n\nexport default class ObjectsListContainer extends React.Component<\n  *,\n  StateType\n> {\n  static defaultProps = {\n    onDeleteObject: (objectWithContext: ObjectWithContext, cb: Function) =>\n      cb(true),\n    onRenameObject: (\n      objectWithContext: ObjectWithContext,\n      newName: string,\n      cb: Function\n    ) => cb(true),\n  };\n\n  sortableList: any;\n  containerObjectsList: ObjectWithContextList = [];\n  projectObjectsList: ObjectWithContextList = [];\n  state: StateType = {\n    newObjectDialogOpen: false,\n    renamedObjectWithContext: null,\n    variablesEditedObject: null,\n    searchText: '',\n    tagEditedObject: null,\n  };\n\n  shouldComponentUpdate(nextProps: *, nextState: StateType) {\n    // The component is costly to render, so avoid any re-rendering as much\n    // as possible.\n    // We make the assumption that no changes to objects list is made outside\n    // from the component.\n    // If a change is made, the component won't notice it: you have to manually\n    // call forceUpdate.\n\n    if (\n      this.state.newObjectDialogOpen !== nextState.newObjectDialogOpen ||\n      this.state.renamedObjectWithContext !==\n        nextState.renamedObjectWithContext ||\n      this.state.variablesEditedObject !== nextState.variablesEditedObject ||\n      this.state.searchText !== nextState.searchText ||\n      this.state.tagEditedObject !== nextState.tagEditedObject\n    )\n      return true;\n\n    if (\n      this.props.selectedObjectNames !== nextProps.selectedObjectNames ||\n      this.props.selectedObjectTags !== nextProps.selectedObjectTags\n    )\n      return true;\n\n    if (\n      this.props.project !== nextProps.project ||\n      this.props.objectsContainer !== nextProps.objectsContainer\n    )\n      return true;\n\n    return false;\n  }\n\n  addObject = (objectType: string) => {\n    const {\n      project,\n      objectsContainer,\n      onEditObject,\n      onObjectCreated,\n      onObjectSelected,\n    } = this.props;\n\n    const name = newNameGenerator(\n      'NewObject',\n      name =>\n        objectsContainer.hasObjectNamed(name) || project.hasObjectNamed(name)\n    );\n\n    const object = objectsContainer.insertNewObject(\n      project,\n      objectType,\n      name,\n      objectsContainer.getObjectsCount()\n    );\n    object.setTags(getStringFromTags(this.props.selectedObjectTags));\n\n    this.setState(\n      {\n        newObjectDialogOpen: false,\n      },\n      () => {\n        if (onEditObject) {\n          onEditObject(object);\n          onObjectCreated(name);\n          onObjectSelected(name);\n        }\n      }\n    );\n  };\n\n  onAddNewObject = () => {\n    this.setState({ newObjectDialogOpen: true });\n  };\n\n  _deleteObject = (objectWithContext: ObjectWithContext) => {\n    const { object, global } = objectWithContext;\n    const { project, objectsContainer } = this.props;\n\n    //eslint-disable-next-line\n    const answer = confirm(\n      \"Are you sure you want to remove this object? This can't be undone.\"\n    );\n    if (!answer) return;\n\n    this.props.onDeleteObject(objectWithContext, doRemove => {\n      if (!doRemove) return;\n\n      if (global) {\n        project.removeObject(object.getName());\n      } else {\n        objectsContainer.removeObject(object.getName());\n      }\n\n      this.forceUpdate();\n    });\n  };\n\n  _copyObject = (objectWithContext: ObjectWithContext) => {\n    const { object } = objectWithContext;\n    Clipboard.set(CLIPBOARD_KIND, {\n      type: object.getType(),\n      name: object.getName(),\n      object: serializeToJSObject(object),\n    });\n  };\n\n  _cutObject = (objectWithContext: ObjectWithContext) => {\n    this._copyObject(objectWithContext);\n    this._deleteObject(objectWithContext);\n  };\n\n  _duplicateObject = (objectWithContext: ObjectWithContext) => {\n    this._copyObject(objectWithContext);\n    this._pasteAndRename(objectWithContext);\n  };\n\n  _pasteAndRename = (objectWithContext: ObjectWithContext) => {\n    this._editName(this._paste(objectWithContext));\n  };\n\n  _paste = (objectWithContext: ObjectWithContext): ?ObjectWithContext => {\n    if (!Clipboard.has(CLIPBOARD_KIND)) return null;\n\n    const { object: pasteObject, global } = objectWithContext;\n    const { object: copiedObject, type, name } = Clipboard.get(CLIPBOARD_KIND);\n    const { project, objectsContainer, onObjectPasted } = this.props;\n\n    const newName = newNameGenerator(\n      name,\n      name =>\n        objectsContainer.hasObjectNamed(name) || project.hasObjectNamed(name),\n      ''\n    );\n\n    const newObject = global\n      ? project.insertNewObject(\n          project,\n          type,\n          newName,\n          project.getObjectPosition(pasteObject.getName())\n        )\n      : objectsContainer.insertNewObject(\n          project,\n          type,\n          newName,\n          objectsContainer.getObjectPosition(pasteObject.getName())\n        );\n\n    unserializeFromJSObject(\n      newObject,\n      copiedObject,\n      'unserializeFrom',\n      project\n    );\n    newObject.setName(newName); // Unserialization has overwritten the name.\n\n    this.forceUpdate();\n    if (onObjectPasted) onObjectPasted(newObject);\n\n    return { object: newObject, global };\n  };\n\n  _editName = (objectWithContext: ?ObjectWithContext) => {\n    this.setState(\n      {\n        renamedObjectWithContext: objectWithContext,\n      },\n      () => this.sortableList.getWrappedInstance().forceUpdateGrid()\n    );\n  };\n\n  _editVariables = (object: ?gdObject) => {\n    this.setState({\n      variablesEditedObject: object,\n    });\n  };\n\n  _rename = (objectWithContext: ObjectWithContext, newName: string) => {\n    const { object } = objectWithContext;\n\n    this.setState({\n      renamedObjectWithContext: null,\n    });\n\n    if (this.props.canRenameObject(objectWithContext, newName)) {\n      this.props.onRenameObject(objectWithContext, newName, doRename => {\n        if (!doRename) return;\n\n        object.setName(newName);\n        this.forceUpdate();\n      });\n    }\n  };\n\n  _move = (oldIndex: number, newIndex: number) => {\n    if (!this.props.canMoveObjects) return;\n\n    const { project, objectsContainer } = this.props;\n\n    const isInContainerObjectsList =\n      oldIndex < this.containerObjectsList.length;\n    if (isInContainerObjectsList) {\n      objectsContainer.moveObject(\n        oldIndex,\n        Math.min(newIndex, this.containerObjectsList.length - 1)\n      );\n    } else {\n      const projectOldIndex = oldIndex - this.containerObjectsList.length;\n      const projectNewIndex = newIndex - this.containerObjectsList.length;\n\n      project.moveObject(\n        projectOldIndex,\n        Math.min(projectNewIndex, this.projectObjectsList.length - 1)\n      );\n    }\n\n    this.forceUpdateList();\n  };\n\n  _onStartDraggingObject = ({ index }: { index: number }) => {\n    const { project, objectsContainer } = this.props;\n\n    const isInContainerObjectsList = index < this.containerObjectsList.length;\n    if (isInContainerObjectsList) {\n      this.props.onStartDraggingObject(objectsContainer.getObjectAt(index));\n    } else {\n      const projectIndex = index - this.containerObjectsList.length;\n\n      this.props.onStartDraggingObject(project.getObjectAt(projectIndex));\n    }\n  };\n\n  _setAsGlobalObject = (objectWithContext: ObjectWithContext) => {\n    const { object } = objectWithContext;\n    const { project, objectsContainer } = this.props;\n\n    const objectName = object.getName();\n    if (!objectsContainer.hasObjectNamed(objectName)) return;\n\n    if (project.hasObjectNamed(objectName)) {\n      showWarningBox(\n        'A global object with this name already exists. Please change the object name before setting it as a global object'\n      );\n      return;\n    }\n\n    //eslint-disable-next-line\n    const answer = confirm(\n      \"This object will be loaded and available in all the scenes. This is only recommended for objects that you reuse a lot and can't be undone. Make this object global?\"\n    );\n    if (!answer) return;\n\n    project.insertObject(\n      objectsContainer.getObject(objectName),\n      project.getObjectsCount()\n    );\n    objectsContainer.removeObject(objectName);\n\n    this.forceUpdateList();\n  };\n\n  forceUpdateList = () => {\n    this.forceUpdate();\n    this.sortableList.getWrappedInstance().forceUpdateGrid();\n  };\n\n  _openEditTagDialog = (tagEditedObject: ?gdObject) => {\n    this.setState({\n      tagEditedObject,\n    });\n  };\n\n  _changeObjectTags = (object: gdObject, tags: Tags) => {\n    object.setTags(getStringFromTags(tags));\n\n    // Force update the list as it's possible that user removed a tag\n    // from an object, that should then not be shown anymore in the list.\n    this.forceUpdateList();\n  };\n\n  render() {\n    const { project, objectsContainer, selectedObjectTags } = this.props;\n    const { searchText, tagEditedObject } = this.state;\n\n    const lists = enumerateObjects(project, objectsContainer);\n    this.containerObjectsList = filterObjectsList(lists.containerObjectsList, {\n      searchText,\n      selectedTags: selectedObjectTags,\n    });\n    this.projectObjectsList = filterObjectsList(lists.projectObjectsList, {\n      searchText,\n      selectedTags: selectedObjectTags,\n    });\n    const allObjectsList = filterObjectsList(lists.allObjectsList, {\n      searchText,\n      selectedTags: selectedObjectTags,\n    });\n    const fullList = allObjectsList.concat({\n      key: 'add-objects-row',\n      object: null,\n    });\n\n    // Force List component to be mounted again if project or objectsContainer\n    // has been changed. Avoid accessing to invalid objects that could\n    // crash the app.\n    const listKey = project.ptr + ';' + objectsContainer.ptr;\n\n    return (\n      <Background maxWidth>\n        <TagChips\n          tags={this.props.selectedObjectTags}\n          onChange={this.props.onChangeSelectedObjectTags}\n        />\n        <div style={styles.listContainer}>\n          <AutoSizer>\n            {({ height, width }) => (\n              <SortableObjectsList\n                key={listKey}\n                ref={sortableList => (this.sortableList = sortableList)}\n                fullList={fullList}\n                project={project}\n                width={width}\n                height={height}\n                renamedObjectWithContext={this.state.renamedObjectWithContext}\n                getThumbnail={this.props.getThumbnail}\n                getAllObjectTags={this.props.getAllObjectTags}\n                onEditTags={this._openEditTagDialog}\n                onChangeTags={this._changeObjectTags}\n                selectedObjectNames={this.props.selectedObjectNames}\n                onObjectSelected={this.props.onObjectSelected}\n                onEditObject={this.props.onEditObject}\n                onCopyObject={this._copyObject}\n                onCutObject={this._cutObject}\n                onDuplicateObject={this._duplicateObject}\n                onSetAsGlobalObject={this._setAsGlobalObject}\n                onPasteObject={this._pasteAndRename}\n                onAddNewObject={this.onAddNewObject}\n                onEditName={this._editName}\n                onEditVariables={this._editVariables}\n                onDelete={this._deleteObject}\n                onRename={this._rename}\n                onSortStart={this._onStartDraggingObject}\n                onSortEnd={({ oldIndex, newIndex }) => {\n                  this.props.onEndDraggingObject();\n                  this._move(oldIndex, newIndex);\n                }}\n                helperClass=\"sortable-helper\"\n                distance={20}\n              />\n            )}\n          </AutoSizer>\n        </div>\n        <SearchBar\n          value={searchText}\n          onRequestSearch={() => {}}\n          onChange={text =>\n            this.setState({\n              searchText: text,\n            })\n          }\n        />\n        {this.state.newObjectDialogOpen && (\n          <NewObjectDialog\n            open={this.state.newObjectDialogOpen}\n            onClose={() =>\n              this.setState({\n                newObjectDialogOpen: false,\n              })\n            }\n            onChoose={this.addObject}\n            project={project}\n          />\n        )}\n        {this.state.variablesEditedObject && (\n          <VariablesEditorDialog\n            open\n            variablesContainer={\n              this.state.variablesEditedObject &&\n              this.state.variablesEditedObject.getVariables()\n            }\n            onCancel={() => this._editVariables(null)}\n            onApply={() => this._editVariables(null)}\n            title=\"Object Variables\"\n            emptyExplanationMessage=\"When you add variables to an object, any instance of the object put on the scene or created during the game will have these variables attached to it.\"\n            emptyExplanationSecondMessage=\"For example, you can have a variable called Life representing the health of the object.\"\n          />\n        )}\n        {tagEditedObject && (\n          <EditTagsDialog\n            tagsString={tagEditedObject.getTags()}\n            onEdit={tags => {\n              this._changeObjectTags(tagEditedObject, tags);\n              this._openEditTagDialog(null);\n            }}\n            onCancel={() => this._openEditTagDialog(null)}\n          />\n        )}\n      </Background>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport PropertiesEditor from '../../PropertiesEditor';\nimport propertiesMapToSchema from '../../PropertiesEditor/PropertiesMapToSchema';\nimport EmptyMessage from '../../UI/EmptyMessage';\nimport { Column } from '../../UI/Grid';\nimport { type BehaviorEditorProps } from './BehaviorEditorProps.flow';\n\ntype Props = BehaviorEditorProps;\n\nexport default class BehaviorPropertiesEditor extends React.Component<Props> {\n  render() {\n    const { behavior, behaviorContent, project } = this.props;\n    const properties = behavior.getProperties(\n      behaviorContent.getContent(),\n      project\n    );\n\n    const propertiesSchema = propertiesMapToSchema(\n      properties,\n      behaviorContent =>\n        behavior.getProperties(behaviorContent.getContent(), project),\n      (behaviorContent, name, value) =>\n        behavior.updateProperty(\n          behaviorContent.getContent(),\n          name,\n          value,\n          project\n        )\n    );\n\n    return (\n      <Column>\n        {propertiesSchema.length ? (\n          <PropertiesEditor\n            schema={propertiesSchema}\n            instances={[behaviorContent]}\n          />\n        ) : (\n          <EmptyMessage>\n            <Trans>\n              There is nothing to configure for this behavior. You can still use\n              events to interact with the object and this behavior.\n            </Trans>\n          </EmptyMessage>\n        )}\n      </Column>\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport { type Vertex } from './PolygonEditor';\n\ntype Props = {|\n  shape: string,\n  dimensionA: number,\n  dimensionB: number,\n  offsetX: number,\n  offsetY: number,\n  polygonOrigin: string,\n  vertices: Array<Vertex>,\n  width: number,\n  height: number,\n  onMoveVertex: (index: number, newX: number, newY: number) => void,\n|};\n\ntype State = {|\n  draggedVertex: ?Vertex,\n  draggedIndex: number,\n|};\n\nexport default class ShapePreview extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = { draggedVertex: null, draggedIndex: -1 };\n  }\n\n  _svg: any;\n\n  _onVertexDown = (vertex: Vertex, index: number) => {\n    if (this.state.draggedVertex) return;\n    this.setState({ draggedVertex: vertex, draggedIndex: index });\n  };\n\n  _onMouseUp = () => {\n    const draggingWasDone = !!this.state.draggedVertex;\n    const { draggedVertex, draggedIndex } = this.state;\n    this.setState(\n      {\n        draggedVertex: null,\n      },\n      () => {\n        if (draggingWasDone)\n          this.props.onMoveVertex(\n            draggedIndex,\n            Math.round(draggedVertex ? draggedVertex.x : 0),\n            Math.round(draggedVertex ? draggedVertex.y : 0)\n          );\n      }\n    );\n  };\n\n  _onMouseMove = (event: any) => {\n    const { offsetX, offsetY, polygonOrigin, width, height } = this.props;\n    const { draggedVertex } = this.state;\n    if (!draggedVertex) return;\n\n    const pointOnScreen = this._svg.createSVGPoint();\n    pointOnScreen.x = event.clientX;\n    pointOnScreen.y = event.clientY;\n    const screenToSvgMatrix = this._svg.getScreenCTM().inverse();\n    const pointOnSvg = pointOnScreen.matrixTransform(screenToSvgMatrix);\n\n    draggedVertex.x =\n      pointOnSvg.x - offsetX - (polygonOrigin === 'Center' ? width / 2 : 0);\n    draggedVertex.y =\n      pointOnSvg.y - offsetY - (polygonOrigin === 'Center' ? height / 2 : 0);\n\n    this.forceUpdate();\n  };\n\n  renderBox() {\n    const {\n      dimensionA,\n      dimensionB,\n      width,\n      height,\n      offsetX,\n      offsetY,\n    } = this.props;\n    const fixedWidth = dimensionA > 0 ? dimensionA : width > 0 ? width : 1;\n    const fixedHeight = dimensionB > 0 ? dimensionB : height > 0 ? height : 1;\n\n    return (\n      <rect\n        key={'boxShape'}\n        fill=\"rgba(255,0,0,0.75)\"\n        strokeWidth={1}\n        x={offsetX + width / 2 - fixedWidth / 2}\n        y={offsetY + height / 2 - fixedHeight / 2}\n        width={fixedWidth}\n        height={fixedHeight}\n      />\n    );\n  }\n\n  renderCircle() {\n    const { dimensionA, width, height, offsetX, offsetY } = this.props;\n\n    return (\n      <circle\n        key={'circleShape'}\n        fill=\"rgba(255,0,0,0.75)\"\n        strokeWidth={1}\n        cx={offsetX + width / 2}\n        cy={offsetY + height / 2}\n        r={\n          dimensionA > 0\n            ? dimensionA\n            : width + height > 0\n            ? (width + height) / 4\n            : 1\n        }\n      />\n    );\n  }\n\n  renderEdge() {\n    const {\n      dimensionA,\n      dimensionB,\n      width,\n      height,\n      offsetX,\n      offsetY,\n    } = this.props;\n    const halfLength =\n      (dimensionA > 0 ? dimensionA : width > 0 ? width : 1) / 2;\n    const cos = Math.cos((dimensionB * Math.PI) / 180);\n    const sin = Math.sin((dimensionB * Math.PI) / 180);\n\n    return (\n      <line\n        key={'edgeShape'}\n        stroke=\"rgba(255,0,0,0.75)\"\n        strokeWidth={2}\n        x1={offsetX + width / 2 - halfLength * cos}\n        y1={offsetY + height / 2 - halfLength * sin}\n        x2={offsetX + width / 2 + halfLength * cos}\n        y2={offsetY + height / 2 + halfLength * sin}\n      />\n    );\n  }\n\n  renderPolygon() {\n    const {\n      vertices,\n      polygonOrigin,\n      width,\n      height,\n      offsetX,\n      offsetY,\n    } = this.props;\n\n    return (\n      <React.Fragment>\n        <polygon\n          key={'polygonShape'}\n          fill=\"rgba(255,0,0,0.75)\"\n          strokeWidth={1}\n          filerule=\"evenodd\"\n          points={vertices\n            .map(\n              vertex =>\n                `${vertex.x +\n                  offsetX +\n                  (polygonOrigin === 'Center' ? width / 2 : 0)},${vertex.y +\n                  offsetY +\n                  (polygonOrigin === 'Center' ? height / 2 : 0)}`\n            )\n            .join(' ')}\n        />\n        {vertices.map((vertex, index) => (\n          <circle\n            onPointerDown={event => this._onVertexDown(vertex, index)}\n            key={`vertex-${index}`}\n            fill=\"rgba(150,0,0,0.75)\"\n            strokeWidth={1}\n            cx={\n              vertex.x + offsetX + (polygonOrigin === 'Center' ? width / 2 : 0)\n            }\n            cy={\n              vertex.y + offsetY + (polygonOrigin === 'Center' ? height / 2 : 0)\n            }\n            r={5}\n          />\n        ))}\n      </React.Fragment>\n    );\n  }\n\n  render() {\n    const { shape } = this.props;\n\n    return (\n      <svg\n        onPointerMove={this._onMouseMove}\n        onPointerUp={this._onMouseUp}\n        ref={svg => (this._svg = svg)}\n      >\n        {shape === 'Box' && this.renderBox()}\n        {shape === 'Circle' && this.renderCircle()}\n        {shape === 'Edge' && this.renderEdge()}\n        {shape === 'Polygon' && this.renderPolygon()}\n      </svg>\n    );\n  }\n}\n","// @flow\r\nimport * as React from 'react';\r\nimport {\r\n  Table,\r\n  TableRow,\r\n  TableRowColumn,\r\n  TableBody,\r\n  TableHeader,\r\n  TableHeaderColumn,\r\n} from 'material-ui/Table';\r\nimport SemiControlledTextField from '../../../UI/SemiControlledTextField';\r\nimport Warning from 'material-ui/svg-icons/alert/warning';\r\nimport IconButton from 'material-ui/IconButton';\r\nimport AddCircle from 'material-ui/svg-icons/content/add-circle';\r\nimport Delete from 'material-ui/svg-icons/action/delete';\r\n\r\nexport type Vertex = {|\r\n  x: number,\r\n  y: number,\r\n|};\r\n\r\ntype Props = {|\r\n  vertices: Array<Vertex>,\r\n  onChangeVertexX: (newValue: number, index: number) => void,\r\n  onChangeVertexY: (newValue: number, index: number) => void,\r\n  onAdd: () => void,\r\n  onRemove: (index: number) => void,\r\n|};\r\n\r\nexport default class PolygonEditor extends React.Component<Props> {\r\n  _isPolygonConvex(vertices: Array<Vertex>) {\r\n    // Get edges\r\n    let edges = [];\r\n    let v1 = null;\r\n    let v2 = null;\r\n    for (let i = 0; i < vertices.length; i++) {\r\n      v1 = vertices[i];\r\n      if (i + 1 >= vertices.length) v2 = vertices[0];\r\n      else v2 = vertices[i + 1];\r\n      edges.push({ x: v2.x - v1.x, y: v2.y - v1.y });\r\n    }\r\n\r\n    // Check convexity\r\n    if (edges.length < 3) return false;\r\n\r\n    const zProductIsPositive =\r\n      edges[0].x * edges[0 + 1].y - edges[0].y * edges[0 + 1].x > 0;\r\n\r\n    for (let i = 1; i < edges.length - 1; ++i) {\r\n      let zCrossProduct =\r\n        edges[i].x * edges[i + 1].y - edges[i].y * edges[i + 1].x;\r\n      let zCrossProductIsPositive = zCrossProduct > 0;\r\n      if (zCrossProductIsPositive !== zProductIsPositive) return false;\r\n    }\r\n\r\n    let lastZCrossProduct =\r\n      edges[edges.length - 1].x * edges[0].y -\r\n      edges[edges.length - 1].y * edges[0].x;\r\n    let lastZCrossProductIsPositive = lastZCrossProduct > 0;\r\n    if (lastZCrossProductIsPositive !== zProductIsPositive) return false;\r\n\r\n    // Check for repeated vertices (would crash Box2D during the game)\r\n    for (let i = 0; i < vertices.length - 1; ++i) {\r\n      for (let j = i + 1; j < vertices.length; ++j) {\r\n        if (vertices[i].x === vertices[j].x && vertices[i].y === vertices[j].y)\r\n          return false;\r\n      }\r\n    }\r\n\r\n    // Check if all vertices are aligned (would crash Box2D during the game)\r\n    let alignedX = true;\r\n    let alignedY = true;\r\n    for (let i = 0; i < vertices.length - 1; ++i) {\r\n      if (vertices[i].x !== vertices[i + 1].x) alignedX = false;\r\n      if (vertices[i].y !== vertices[i + 1].y) alignedY = false;\r\n    }\r\n    if (alignedX || alignedY) return false;\r\n\r\n    return true;\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      vertices,\r\n      onChangeVertexX,\r\n      onChangeVertexY,\r\n      onAdd,\r\n      onRemove,\r\n    } = this.props;\r\n\r\n    return (\r\n      <Table>\r\n        <TableHeader displaySelectAll={false} adjustForCheckbox={false}>\r\n          <TableRow>\r\n            <TableHeaderColumn />\r\n            <TableHeaderColumn>X</TableHeaderColumn>\r\n            <TableHeaderColumn>Y</TableHeaderColumn>\r\n            <TableRowColumn />\r\n          </TableRow>\r\n        </TableHeader>\r\n        <TableBody\r\n          displayRowCheckbox={false}\r\n          deselectOnClickaway={true}\r\n          showRowHover={false}\r\n        >\r\n          {vertices.map((value, index) => {\r\n            return (\r\n              <TableRow key={`vertexRow${index}`}>\r\n                <TableRowColumn>\r\n                  {!this._isPolygonConvex(vertices) && <Warning />}\r\n                </TableRowColumn>\r\n                <TableRowColumn>\r\n                  <SemiControlledTextField\r\n                    value={value.x.toString(10)}\r\n                    onChange={newValue =>\r\n                      onChangeVertexX(parseFloat(newValue) || 0, index)\r\n                    }\r\n                    type=\"number\"\r\n                  />\r\n                </TableRowColumn>\r\n                <TableRowColumn>\r\n                  <SemiControlledTextField\r\n                    value={value.y.toString(10)}\r\n                    onChange={newValue =>\r\n                      onChangeVertexY(parseFloat(newValue) || 0, index)\r\n                    }\r\n                    type=\"number\"\r\n                  />\r\n                </TableRowColumn>\r\n                <TableRowColumn>\r\n                  <IconButton onClick={() => onRemove(index)}>\r\n                    <Delete />\r\n                  </IconButton>\r\n                </TableRowColumn>\r\n              </TableRow>\r\n            );\r\n          })}\r\n          <TableRow>\r\n            <TableRowColumn />\r\n            <TableRowColumn />\r\n            <TableRowColumn />\r\n            <TableRowColumn>\r\n              <IconButton onClick={onAdd}>\r\n                <AddCircle />\r\n              </IconButton>\r\n            </TableRowColumn>\r\n          </TableRow>\r\n        </TableBody>\r\n      </Table>\r\n    );\r\n  }\r\n}\r\n","// @flow\r\nimport { Trans } from '@lingui/macro';\r\n\r\nimport * as React from 'react';\r\nimport { Line, Column } from '../../../UI/Grid';\r\nimport Checkbox from 'material-ui/Checkbox';\r\nimport SelectField from 'material-ui/SelectField';\r\nimport MenuItem from 'material-ui/MenuItem';\r\nimport SemiControlledTextField from '../../../UI/SemiControlledTextField';\r\nimport ImagePreview from '../../../ResourcesList/ResourcePreview/ImagePreview';\r\nimport ResourceSelector from '../../../ResourcesList/ResourceSelector';\r\nimport ResourcesLoader from '../../../ResourcesLoader';\r\nimport ShapePreview from './ShapePreview.js';\r\nimport PolygonEditor from './PolygonEditor.js';\r\nimport { type BehaviorEditorProps } from '../BehaviorEditorProps.flow';\r\n\r\ntype Props = BehaviorEditorProps;\r\n\r\ntype State = {|\r\n  image: string,\r\n  imageWidth: number,\r\n  imageHeight: number,\r\n|};\r\n\r\nfunction NumericProperty(props: {|\r\n  properties: gdMapStringPropertyDescriptor,\r\n  propertyName: string,\r\n  step: number,\r\n  onUpdate: (newValue: string) => void,\r\n|}) {\r\n  const { properties, propertyName, step, onUpdate } = props;\r\n\r\n  return (\r\n    <SemiControlledTextField\r\n      value={properties.get(propertyName).getValue()}\r\n      key={propertyName}\r\n      floatingLabelText={properties.get(propertyName).getLabel()}\r\n      floatingLabelFixed\r\n      step={step}\r\n      onChange={onUpdate}\r\n      type=\"number\"\r\n    />\r\n  );\r\n}\r\n\r\nfunction BitProperty(props: {|\r\n  enabled: boolean,\r\n  propertyName: string,\r\n  pos: number,\r\n  spacing: boolean,\r\n  onUpdate: (enabled: boolean) => void,\r\n|}) {\r\n  const { enabled, propertyName, pos, spacing, onUpdate } = props;\r\n\r\n  return (\r\n    <div style={{ width: spacing ? '7.5%' : '5%' }}>\r\n      {\r\n        <Checkbox\r\n          checked={enabled}\r\n          onCheck={(e, checked) => onUpdate(checked)}\r\n        />\r\n      }\r\n      {spacing && (\r\n        <div\r\n          style={{ width: '33%' }}\r\n          key={propertyName + '-space' + pos.toString(10)}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default class Physics2Editor extends React.Component<Props, State> {\r\n  resourcesLoader = ResourcesLoader;\r\n\r\n  state = {\r\n    image: '',\r\n    imageWidth: 0,\r\n    imageHeight: 0,\r\n  };\r\n\r\n  _setImageSize = (width: number, height: number) => {\r\n    this.setState({\r\n      imageWidth: width,\r\n      imageHeight: height,\r\n    });\r\n  };\r\n\r\n  _isBitEnabled(bitsValue: number, pos: number) {\r\n    return !!(bitsValue & (1 << pos));\r\n  }\r\n\r\n  _enableBit(bitsValue: number, pos: number, enable: boolean) {\r\n    if (enable) bitsValue |= 1 << pos;\r\n    else bitsValue &= ~(1 << pos);\r\n    return bitsValue;\r\n  }\r\n\r\n  render() {\r\n    const { behavior, behaviorContent, project } = this.props;\r\n\r\n    const properties = behavior.getProperties(\r\n      behaviorContent.getContent(),\r\n      project\r\n    );\r\n    const bits = Array(16).fill(null);\r\n    const shape = properties.get('shape').getValue();\r\n    const layersValues = parseInt(properties.get('layers').getValue(), 10);\r\n    const masksValues = parseInt(properties.get('masks').getValue(), 10);\r\n\r\n    return (\r\n      <Column>\r\n        <Line>\r\n          <SelectField\r\n            key={'bodyType'}\r\n            floatingLabelText={properties.get('bodyType').getLabel()}\r\n            floatingLabelFixed\r\n            value={properties.get('bodyType').getValue()}\r\n            onChange={(e, index, newValue) => {\r\n              behavior.updateProperty(\r\n                behaviorContent.getContent(),\r\n                'bodyType',\r\n                newValue,\r\n                project\r\n              );\r\n              this.forceUpdate();\r\n            }}\r\n          >\r\n            {[\r\n              <MenuItem\r\n                key={'dynamic'}\r\n                value={'Dynamic'}\r\n                primaryText={<Trans>Dynamic</Trans>}\r\n              />,\r\n              <MenuItem\r\n                key={'static'}\r\n                value={'Static'}\r\n                primaryText={<Trans>Static</Trans>}\r\n              />,\r\n              <MenuItem\r\n                key={'kinematic'}\r\n                value={'Kinematic'}\r\n                primaryText={<Trans>Kinematic</Trans>}\r\n              />,\r\n            ]}\r\n          </SelectField>\r\n        </Line>\r\n        <Line>\r\n          <Column expand>\r\n            <Checkbox\r\n              label={properties.get('bullet').getLabel()}\r\n              checked={properties.get('bullet').getValue() === 'true'}\r\n              onCheck={(e, checked) => {\r\n                behavior.updateProperty(\r\n                  behaviorContent.getContent(),\r\n                  'bullet',\r\n                  checked ? '1' : '0',\r\n                  project\r\n                );\r\n                this.forceUpdate();\r\n              }}\r\n            />\r\n          </Column>\r\n          <Column expand>\r\n            <Checkbox\r\n              label={properties.get('fixedRotation').getLabel()}\r\n              checked={properties.get('fixedRotation').getValue() === 'true'}\r\n              onCheck={(e, checked) => {\r\n                behavior.updateProperty(\r\n                  behaviorContent.getContent(),\r\n                  'fixedRotation',\r\n                  checked ? '1' : '0',\r\n                  project\r\n                );\r\n                this.forceUpdate();\r\n              }}\r\n            />\r\n          </Column>\r\n          <Column expand>\r\n            <Checkbox\r\n              label={properties.get('canSleep').getLabel()}\r\n              checked={properties.get('canSleep').getValue() === 'true'}\r\n              onCheck={(e, checked) => {\r\n                behavior.updateProperty(\r\n                  behaviorContent.getContent(),\r\n                  'canSleep',\r\n                  checked ? '1' : '0',\r\n                  project\r\n                );\r\n                this.forceUpdate();\r\n              }}\r\n            />\r\n          </Column>\r\n        </Line>\r\n        <Line>\r\n          <SelectField\r\n            floatingLabelText={properties.get('shape').getLabel()}\r\n            floatingLabelFixed\r\n            value={properties.get('shape').getValue()}\r\n            onChange={(e, index, newValue) => {\r\n              behavior.updateProperty(\r\n                behaviorContent.getContent(),\r\n                'shape',\r\n                newValue,\r\n                project\r\n              );\r\n              this.forceUpdate();\r\n            }}\r\n          >\r\n            <MenuItem\r\n              key={'box'}\r\n              value={'Box'}\r\n              primaryText={<Trans>Box</Trans>}\r\n            />\r\n            <MenuItem\r\n              key={'circle'}\r\n              value={'Circle'}\r\n              primaryText={<Trans>Circle</Trans>}\r\n            />\r\n            <MenuItem\r\n              key={'edge'}\r\n              value={'Edge'}\r\n              primaryText={<Trans>Edge</Trans>}\r\n            />\r\n            <MenuItem\r\n              key={'polygon'}\r\n              value={'Polygon'}\r\n              primaryText={<Trans>Polygon</Trans>}\r\n            />\r\n          </SelectField>\r\n        </Line>\r\n        <Line>\r\n          {shape !== 'Polygon' && (\r\n            <SemiControlledTextField\r\n              value={properties\r\n                .get(shape === 'Polygon' ? 'PolygonOriginX' : 'shapeDimensionA')\r\n                .getValue()}\r\n              key={'shapeDimensionA'}\r\n              floatingLabelText={\r\n                shape === 'Circle'\r\n                  ? 'Radius'\r\n                  : shape === 'Edge'\r\n                  ? 'Length'\r\n                  : 'Width'\r\n              }\r\n              floatingLabelFixed\r\n              min={0}\r\n              onChange={newValue => {\r\n                behavior.updateProperty(\r\n                  behaviorContent.getContent(),\r\n                  shape === 'Polygon' ? 'PolygonOriginX' : 'shapeDimensionA',\r\n                  newValue,\r\n                  project\r\n                );\r\n                this.forceUpdate();\r\n              }}\r\n              type=\"number\"\r\n            />\r\n          )}\r\n          {shape !== 'Polygon' && shape !== 'Circle' && (\r\n            <SemiControlledTextField\r\n              value={properties\r\n                .get(shape === 'Polygon' ? 'PolygonOriginY' : 'shapeDimensionB')\r\n                .getValue()}\r\n              key={'shapeDimensionB'}\r\n              floatingLabelText={shape === 'Edge' ? 'Angle' : 'Height'}\r\n              floatingLabelFixed\r\n              min={shape === 'Edge' ? undefined : 0}\r\n              onChange={newValue => {\r\n                behavior.updateProperty(\r\n                  behaviorContent.getContent(),\r\n                  shape === 'Polygon' ? 'PolygonOriginY' : 'shapeDimensionB',\r\n                  newValue,\r\n                  project\r\n                );\r\n                this.forceUpdate();\r\n              }}\r\n              type=\"number\"\r\n            />\r\n          )}\r\n          {shape === 'Polygon' && (\r\n            <SelectField\r\n              floatingLabelText={properties.get('polygonOrigin').getLabel()}\r\n              floatingLabelFixed\r\n              value={properties.get('polygonOrigin').getValue()}\r\n              onChange={(e, index, newValue) => {\r\n                behavior.updateProperty(\r\n                  behaviorContent.getContent(),\r\n                  'polygonOrigin',\r\n                  newValue,\r\n                  project\r\n                );\r\n                this.forceUpdate();\r\n              }}\r\n            >\r\n              {[\r\n                <MenuItem\r\n                  key={'center'}\r\n                  value={'Center'}\r\n                  primaryText={<Trans>Center</Trans>}\r\n                />,\r\n                <MenuItem\r\n                  key={'origin'}\r\n                  value={'Origin'}\r\n                  primaryText={<Trans>Origin</Trans>}\r\n                />,\r\n                <MenuItem\r\n                  key={'topLeft'}\r\n                  value={'TopLeft'}\r\n                  primaryText={<Trans>Top-Left</Trans>}\r\n                />,\r\n              ]}\r\n            </SelectField>\r\n          )}\r\n          <NumericProperty\r\n            properties={properties}\r\n            propertyName={'shapeOffsetX'}\r\n            step={1}\r\n            onUpdate={newValue => {\r\n              behavior.updateProperty(\r\n                behaviorContent.getContent(),\r\n                'shapeOffsetX',\r\n                newValue,\r\n                project\r\n              );\r\n              this.forceUpdate();\r\n            }}\r\n          />\r\n          <NumericProperty\r\n            properties={properties}\r\n            propertyName={'shapeOffsetY'}\r\n            step={1}\r\n            onUpdate={newValue => {\r\n              this.props.behavior.updateProperty(\r\n                behaviorContent.getContent(),\r\n                'shapeOffsetY',\r\n                newValue,\r\n                this.props.project\r\n              );\r\n              this.forceUpdate();\r\n            }}\r\n          />\r\n        </Line>\r\n        <Line>\r\n          <Column expand>\r\n            <Line>\r\n              <ImagePreview\r\n                resourceName={this.state.image}\r\n                project={this.props.project}\r\n                resourcesLoader={this.resourcesLoader}\r\n                onSize={this._setImageSize}\r\n              >\r\n                <ShapePreview\r\n                  shape={properties.get('shape').getValue()}\r\n                  dimensionA={parseFloat(\r\n                    properties.get('shapeDimensionA').getValue()\r\n                  )}\r\n                  dimensionB={parseFloat(\r\n                    properties.get('shapeDimensionB').getValue()\r\n                  )}\r\n                  offsetX={parseFloat(\r\n                    properties.get('shapeOffsetX').getValue()\r\n                  )}\r\n                  offsetY={parseFloat(\r\n                    properties.get('shapeOffsetY').getValue()\r\n                  )}\r\n                  polygonOrigin={properties.get('polygonOrigin').getValue()}\r\n                  vertices={JSON.parse(properties.get('vertices').getValue())}\r\n                  width={this.state.imageWidth}\r\n                  height={this.state.imageHeight}\r\n                  onMoveVertex={(index, newX, newY) => {\r\n                    let vertices = JSON.parse(\r\n                      properties.get('vertices').getValue()\r\n                    );\r\n                    vertices[index].x = newX;\r\n                    vertices[index].y = newY;\r\n                    behavior.updateProperty(\r\n                      behaviorContent.getContent(),\r\n                      'vertices',\r\n                      JSON.stringify(vertices),\r\n                      project\r\n                    );\r\n                    this.forceUpdate();\r\n                  }}\r\n                />\r\n              </ImagePreview>\r\n            </Line>\r\n            <Line>\r\n              <ResourceSelector\r\n                project={this.props.project}\r\n                resourceSources={this.props.resourceSources}\r\n                onChooseResource={this.props.onChooseResource}\r\n                resourceExternalEditors={this.props.resourceExternalEditors}\r\n                resourcesLoader={this.resourcesLoader}\r\n                resourceKind={'image'}\r\n                initialResourceName={''}\r\n                fullWidth={false}\r\n                onChange={resourceName => {\r\n                  this.setState({ image: resourceName });\r\n                  this.forceUpdate();\r\n                }}\r\n              />\r\n            </Line>\r\n          </Column>\r\n          {shape === 'Polygon' && (\r\n            <PolygonEditor\r\n              vertices={JSON.parse(properties.get('vertices').getValue())}\r\n              onChangeVertexX={(newValue, index) => {\r\n                let vertices = JSON.parse(\r\n                  properties.get('vertices').getValue()\r\n                );\r\n                vertices[index].x = newValue;\r\n                behavior.updateProperty(\r\n                  behaviorContent.getContent(),\r\n                  'vertices',\r\n                  JSON.stringify(vertices),\r\n                  project\r\n                );\r\n                this.forceUpdate();\r\n              }}\r\n              onChangeVertexY={(newValue, index) => {\r\n                let vertices = JSON.parse(\r\n                  properties.get('vertices').getValue()\r\n                );\r\n                vertices[index].y = newValue;\r\n                behavior.updateProperty(\r\n                  behaviorContent.getContent(),\r\n                  'vertices',\r\n                  JSON.stringify(vertices),\r\n                  project\r\n                );\r\n                this.forceUpdate();\r\n              }}\r\n              onAdd={() => {\r\n                let vertices = JSON.parse(\r\n                  properties.get('vertices').getValue()\r\n                );\r\n                if (vertices.length >= 8) return;\r\n                vertices.push({ x: 0, y: 0 });\r\n                behavior.updateProperty(\r\n                  behaviorContent.getContent(),\r\n                  'vertices',\r\n                  JSON.stringify(vertices),\r\n                  project\r\n                );\r\n                this.forceUpdate();\r\n              }}\r\n              onRemove={index => {\r\n                let vertices = JSON.parse(\r\n                  properties.get('vertices').getValue()\r\n                );\r\n                vertices.splice(index, 1);\r\n                behavior.updateProperty(\r\n                  behaviorContent.getContent(),\r\n                  'vertices',\r\n                  JSON.stringify(vertices),\r\n                  project\r\n                );\r\n                this.forceUpdate();\r\n              }}\r\n            />\r\n          )}\r\n        </Line>\r\n        <Line>\r\n          <Column expand>\r\n            <NumericProperty\r\n              properties={properties}\r\n              propertyName={'density'}\r\n              step={0.1}\r\n              onUpdate={newValue => {\r\n                behavior.updateProperty(\r\n                  behaviorContent.getContent(),\r\n                  'density',\r\n                  parseFloat(newValue) > 0 ? newValue : '0',\r\n                  project\r\n                );\r\n                this.forceUpdate();\r\n              }}\r\n            />\r\n          </Column>\r\n          <Column expand>\r\n            <NumericProperty\r\n              properties={properties}\r\n              propertyName={'gravityScale'}\r\n              step={0.1}\r\n              onUpdate={newValue => {\r\n                behavior.updateProperty(\r\n                  behaviorContent.getContent(),\r\n                  'gravityScale',\r\n                  newValue,\r\n                  project\r\n                );\r\n                this.forceUpdate();\r\n              }}\r\n            />\r\n          </Column>\r\n        </Line>\r\n        <Line>\r\n          <Column expand>\r\n            <NumericProperty\r\n              properties={properties}\r\n              propertyName={'friction'}\r\n              step={0.1}\r\n              onUpdate={newValue => {\r\n                behavior.updateProperty(\r\n                  behaviorContent.getContent(),\r\n                  'friction',\r\n                  parseFloat(newValue) > 0 ? newValue : '0',\r\n                  project\r\n                );\r\n                this.forceUpdate();\r\n              }}\r\n            />\r\n          </Column>\r\n          <Column expand>\r\n            <NumericProperty\r\n              properties={properties}\r\n              propertyName={'restitution'}\r\n              step={0.1}\r\n              onUpdate={newValue => {\r\n                behavior.updateProperty(\r\n                  behaviorContent.getContent(),\r\n                  'restitution',\r\n                  parseFloat(newValue) > 0 ? newValue : '0',\r\n                  project\r\n                );\r\n                this.forceUpdate();\r\n              }}\r\n            />\r\n          </Column>\r\n        </Line>\r\n        <Line>\r\n          <Column expand>\r\n            <NumericProperty\r\n              properties={properties}\r\n              propertyName={'linearDamping'}\r\n              step={0.05}\r\n              onUpdate={newValue => {\r\n                behavior.updateProperty(\r\n                  behaviorContent.getContent(),\r\n                  'linearDamping',\r\n                  newValue,\r\n                  project\r\n                );\r\n                this.forceUpdate();\r\n              }}\r\n            />\r\n          </Column>\r\n          <Column expand>\r\n            <NumericProperty\r\n              properties={properties}\r\n              propertyName={'angularDamping'}\r\n              step={0.05}\r\n              onUpdate={newValue => {\r\n                behavior.updateProperty(\r\n                  behaviorContent.getContent(),\r\n                  'angularDamping',\r\n                  newValue,\r\n                  project\r\n                );\r\n                this.forceUpdate();\r\n              }}\r\n            />\r\n          </Column>\r\n        </Line>\r\n        <Line>\r\n          <label style={{ width: '10%' }}>\r\n            {properties.get('layers').getLabel()}\r\n          </label>\r\n          {bits.map((value, index) => {\r\n            return (\r\n              <BitProperty\r\n                enabled={this._isBitEnabled(layersValues, index)}\r\n                propertyName={'layers'}\r\n                pos={index}\r\n                spacing={index === 7}\r\n                onUpdate={enabled => {\r\n                  const newValue = this._enableBit(\r\n                    layersValues,\r\n                    index,\r\n                    enabled\r\n                  );\r\n                  this.props.behavior.updateProperty(\r\n                    behaviorContent.getContent(),\r\n                    'layers',\r\n                    newValue.toString(10),\r\n                    this.props.project\r\n                  );\r\n                  this.forceUpdate();\r\n                }}\r\n                key={`layer${index}`}\r\n              />\r\n            );\r\n          })}\r\n        </Line>\r\n        <Line>\r\n          <label style={{ width: '10%' }}>\r\n            {properties.get('masks').getLabel()}\r\n          </label>\r\n          {bits.map((value, index) => {\r\n            return (\r\n              <BitProperty\r\n                enabled={this._isBitEnabled(masksValues, index)}\r\n                propertyName={'masks'}\r\n                pos={index}\r\n                spacing={index === 7}\r\n                onUpdate={enabled => {\r\n                  const newValue = this._enableBit(masksValues, index, enabled);\r\n                  this.props.behavior.updateProperty(\r\n                    behaviorContent.getContent(),\r\n                    'masks',\r\n                    newValue.toString(10),\r\n                    this.props.project\r\n                  );\r\n                  this.forceUpdate();\r\n                }}\r\n                key={`mask${index}`}\r\n              />\r\n            );\r\n          })}\r\n        </Line>\r\n      </Column>\r\n    );\r\n  }\r\n}\r\n","// @flow\nimport BehaviorPropertiesEditor from './Editors/BehaviorPropertiesEditor';\nimport Physics2Editor from './Editors/Physics2Editor';\n\n/**\n * A service returning editor components for each behavior type.\n */\nexport default {\n  getEditor(behaviorType: string) {\n    if (!this.components[behaviorType]) {\n      return BehaviorPropertiesEditor; // Default properties editor\n    }\n    return this.components[behaviorType].component; // Custom  behavior editor\n  },\n  components: {\n    'Physics2::Physics2Behavior': {\n      component: Physics2Editor,\n    },\n  },\n};\n","// @flow\nimport md5 from 'blueimp-md5';\n\nexport const getGravatarUrl = (\n  email: string,\n  { size }: { size: number } = { size: 40 }\n): string => {\n  const hash = md5(email.trim().toLowerCase());\n  return `https://www.gravatar.com/avatar/${hash}?s=${size}&d=retro`;\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport Avatar from 'material-ui/Avatar';\nimport { Column, Line } from '../UI/Grid';\nimport { type Profile } from '../Utils/GDevelopServices/Authentification';\nimport PlaceholderLoader from '../UI/PlaceholderLoader';\nimport { getGravatarUrl } from '../UI/GravatarUrl';\n\nconst styles = {\n  title: {\n    fontSize: 25,\n    lineHeight: '40px',\n    marginLeft: 10,\n  },\n};\n\ntype Props = {\n  profile: ?Profile,\n};\n\nexport default ({ profile }: Props) =>\n  profile ? (\n    <Column>\n      <Line alignItems=\"center\">\n        <Avatar src={getGravatarUrl(profile.email || '', { size: 40 })} />\n        <span style={styles.title}>You are connected as {profile.email}</span>\n      </Line>\n      <Line>\n        <p>\n          <Trans>\n            An account allows you to access GDevelop services online.\n          </Trans>\n        </p>\n      </Line>\n    </Column>\n  ) : (\n    <PlaceholderLoader />\n  );\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport {\n  Table,\n  TableBody,\n  TableHeader,\n  TableHeaderColumn,\n  TableRow,\n  TableRowColumn,\n} from 'material-ui/Table';\nimport { type Usages } from '../Utils/GDevelopServices/Usage';\nimport { Column, Line } from '../UI/Grid';\nimport EmptyMessage from '../UI/EmptyMessage';\nimport format from 'date-fns/format';\nimport PlaceholderLoader from '../UI/PlaceholderLoader';\n\ntype Props = { usages: ?Usages };\n\nexport default ({ usages }: Props) => (\n  <Column noMargin>\n    <Line>\n      {!usages ? (\n        <PlaceholderLoader />\n      ) : usages.length === 0 ? (\n        <EmptyMessage>\n          <Trans>You don't have any usage of the online services for now</Trans>\n        </EmptyMessage>\n      ) : (\n        <Table selectable={false}>\n          <TableHeader displaySelectAll={false} adjustForCheckbox={false}>\n            <TableRow>\n              <TableHeaderColumn>Date</TableHeaderColumn>\n              <TableHeaderColumn>Type</TableHeaderColumn>\n            </TableRow>\n          </TableHeader>\n          <TableBody displayRowCheckbox={false}>\n            {usages.map(usage => (\n              <TableRow key={usage.id}>\n                <TableRowColumn>\n                  {format(usage.createdAt, 'YYYY-MM-DD HH:mm:ss')}\n                </TableRowColumn>\n                <TableRowColumn>{usage.type}</TableRowColumn>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      )}\n    </Line>\n  </Column>\n);\n","// @flow\nimport * as React from 'react';\nimport { Column, Line } from '../UI/Grid';\nimport { type Subscription } from '../Utils/GDevelopServices/Usage';\nimport PlaceholderLoader from '../UI/PlaceholderLoader';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport { Trans } from '@lingui/macro';\n\ntype Props = {\n  subscription: ?Subscription,\n  onChangeSubscription: Function,\n};\n\nexport default ({ subscription, onChangeSubscription }: Props) =>\n  subscription && subscription.planId ? (\n    <Column>\n      <Line>\n        <p>\n          <Trans>\n            You are subscribed to {subscription.planId}. Congratulations! You\n            have access to more online services, including building your game\n            for Android, Windows, macOS and Linux in one click!\n          </Trans>\n        </p>\n      </Line>\n      <Line justifyContent=\"center\">\n        <RaisedButton\n          label={<Trans>Upgrade/change</Trans>}\n          primary\n          onClick={onChangeSubscription}\n        />\n      </Line>\n    </Column>\n  ) : subscription && !subscription.planId ? (\n    <Column>\n      <Line>\n        <p>\n          <Trans>\n            If you don't have a subscription, consider getting one now. Accounts\n            allow you to access all of the online services. With just one click,\n            you can build your game for Android, Windows, macOS and Linux!\n          </Trans>\n        </p>\n      </Line>\n      <Line justifyContent=\"center\">\n        <RaisedButton\n          label={<Trans>Choose a subscription</Trans>}\n          primary\n          onClick={onChangeSubscription}\n        />\n      </Line>\n    </Column>\n  ) : (\n    <PlaceholderLoader />\n  );\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport React, { Component } from 'react';\nimport FlatButton from 'material-ui/FlatButton';\nimport { Tabs, Tab } from 'material-ui/Tabs';\nimport Dialog from '../UI/Dialog';\nimport { Column } from '../UI/Grid';\nimport CreateProfile from './CreateProfile';\nimport ProfileDetails from './ProfileDetails';\nimport EmptyMessage from '../UI/EmptyMessage';\nimport HelpButton from '../UI/HelpButton';\nimport UsagesDetails from './UsagesDetails';\nimport SubscriptionDetails from './SubscriptionDetails';\nimport UserProfileContext, { type UserProfile } from './UserProfileContext';\n\ntype Props = {|\n  open: boolean,\n  onClose: Function,\n  onChangeSubscription: Function,\n|};\n\ntype State = {|\n  currentTab: string,\n|};\n\nexport default class ProfileDialog extends Component<Props, State> {\n  state = {\n    currentTab: 'profile',\n  };\n\n  _onChangeTab = (newTab: string) =>\n    this.setState({\n      currentTab: newTab,\n    });\n\n  render() {\n    const { open, onClose } = this.props;\n    const actions = [\n      <FlatButton\n        label={<Trans>Close</Trans>}\n        key=\"close\"\n        primary={false}\n        onClick={onClose}\n      />,\n    ];\n\n    return (\n      <UserProfileContext.Consumer>\n        {(userProfile: UserProfile) => (\n          <Dialog\n            actions={actions}\n            secondaryActions={[\n              <HelpButton key=\"help\" helpPagePath=\"/interface/profile\" />,\n              userProfile.authenticated && userProfile.profile && (\n                <FlatButton\n                  label={<Trans>Logout</Trans>}\n                  key=\"logout\"\n                  onClick={userProfile.onLogout}\n                />\n              ),\n            ]}\n            onRequestClose={onClose}\n            open={open}\n            noMargin\n            autoScrollBodyContent\n          >\n            <Tabs value={this.state.currentTab} onChange={this._onChangeTab}>\n              <Tab label={<Trans>My Profile</Trans>} value=\"profile\">\n                {userProfile.authenticated ? (\n                  <Column noMargin>\n                    <ProfileDetails profile={userProfile.profile} />\n                    <SubscriptionDetails\n                      subscription={userProfile.subscription}\n                      onChangeSubscription={this.props.onChangeSubscription}\n                    />\n                  </Column>\n                ) : (\n                  <Column>\n                    <CreateProfile onLogin={userProfile.onLogin} />\n                  </Column>\n                )}\n              </Tab>\n              <Tab label={<Trans>Online services usage</Trans>} value=\"usage\">\n                {userProfile.authenticated ? (\n                  <Column noMargin>\n                    <UsagesDetails usages={userProfile.usages} />\n                  </Column>\n                ) : (\n                  <EmptyMessage>\n                    <Trans>\n                      Register to see the usage that you've made of the online\n                      services\n                    </Trans>\n                  </EmptyMessage>\n                )}\n              </Tab>\n            </Tabs>\n          </Dialog>\n        )}\n      </UserProfileContext.Consumer>\n    );\n  }\n}\n","//TODO: Factor with styles.js from PointsEditor.\nexport default {\n  handleColumn: {\n    width: 24,\n    paddingLeft: 8,\n    paddingRight: 0,\n  },\n  visibleColumn: {\n    width: 48,\n  },\n  toolColumn: {\n    width: 48,\n  },\n};\n","import React from 'react';\nimport { TableRow, TableRowColumn } from 'material-ui/Table';\nimport Checkbox from 'material-ui/Checkbox';\nimport Visibility from 'material-ui/svg-icons/action/visibility';\nimport VisibilityOff from 'material-ui/svg-icons/action/visibility-off';\nimport IconButton from 'material-ui/IconButton';\nimport Delete from 'material-ui/svg-icons/action/delete';\nimport TextField from 'material-ui/TextField';\nimport muiThemeable from 'material-ui/styles/muiThemeable';\nimport DragHandle from '../UI/DragHandle';\nimport styles from './styles';\n\nconst ThemableLayerRow = ({\n  layerName,\n  nameError,\n  onBlur,\n  onRemove,\n  isVisible,\n  onChangeVisibility,\n  muiTheme,\n}) => (\n  <TableRow\n    style={{\n      backgroundColor: muiTheme.list.itemsBackgroundColor,\n    }}\n  >\n    <TableRowColumn style={styles.handleColumn}>\n      <DragHandle />\n    </TableRowColumn>\n    <TableRowColumn>\n      <TextField\n        defaultValue={layerName || 'Base layer'}\n        id={layerName}\n        errorText={nameError ? 'This name is already taken' : undefined}\n        disabled={!layerName}\n        onBlur={onBlur}\n      />\n    </TableRowColumn>\n    <TableRowColumn style={styles.visibleColumn}>\n      <Checkbox\n        checked={isVisible}\n        checkedIcon={<Visibility />}\n        uncheckedIcon={<VisibilityOff />}\n        onCheck={onChangeVisibility}\n      />\n    </TableRowColumn>\n    <TableRowColumn style={styles.toolColumn}>\n      <IconButton onClick={onRemove}>\n        <Delete />\n      </IconButton>\n    </TableRowColumn>\n  </TableRow>\n);\n\nconst LayerRow = muiThemeable()(ThemableLayerRow);\nexport default LayerRow;\n","import React from 'react';\nimport { TableRow, TableRowColumn } from 'material-ui/Table';\nimport Add from 'material-ui/svg-icons/content/add';\nimport IconButton from 'material-ui/IconButton';\nimport styles from './styles';\n\nconst AddLayerRow = ({ onAdd }) => (\n  <TableRow key=\"add-row\">\n    <TableRowColumn style={styles.handleColumn} />\n    <TableRowColumn />\n    <TableRowColumn style={styles.visibleColumn} />\n    <TableRowColumn style={styles.toolColumn}>\n      <IconButton onClick={onAdd}>\n        <Add />\n      </IconButton>\n    </TableRowColumn>\n  </TableRow>\n);\n\nexport default AddLayerRow;\n","import React, { Component } from 'react';\nimport {\n  Table,\n  TableBody,\n  TableHeader,\n  TableHeaderColumn,\n  TableRow,\n  TableRowColumn,\n} from 'material-ui/Table';\nimport { SortableContainer, SortableElement } from 'react-sortable-hoc';\nimport newNameGenerator from '../Utils/NewNameGenerator';\nimport { mapReverseFor } from '../Utils/MapFor';\nimport styles from './styles';\nimport LayerRow from './LayerRow';\nimport AddLayerRow from './AddLayerRow';\n\nconst SortableAddLayerRow = SortableElement(AddLayerRow);\nconst SortableLayerRow = SortableElement(LayerRow);\n\nclass LayersListBody extends Component {\n  constructor() {\n    super();\n    this.state = {\n      nameErrors: {},\n    };\n  }\n\n  render() {\n    const { layersContainer } = this.props;\n\n    const layersCount = layersContainer.getLayersCount();\n    const containerLayersList = mapReverseFor(0, layersCount, i => {\n      const layer = layersContainer.getLayerAt(i);\n      const layerName = layer.getName();\n\n      return (\n        <SortableLayerRow\n          index={layersCount - 1 - i}\n          key={'layer-' + layerName}\n          layer={layer}\n          layerName={layerName}\n          nameError={this.state.nameErrors[layerName]}\n          onBlur={event => {\n            const newName = event.target.value;\n            if (layerName === newName) return;\n\n            let success = true;\n            if (layersContainer.hasLayerNamed(newName)) {\n              success = false;\n            } else {\n              this.props.onRenameLayer(layerName, newName, doRename => {\n                if (doRename)\n                  layersContainer.getLayer(layerName).setName(newName);\n              });\n            }\n\n            this.setState({\n              nameErrors: {\n                ...this.state.nameErrors,\n                [layerName]: !success,\n              },\n            });\n          }}\n          onRemove={() => {\n            this.props.onRemoveLayer(layerName, doRemove => {\n              if (!doRemove) return;\n\n              layersContainer.removeLayer(layerName);\n              this.forceUpdate();\n            });\n          }}\n          isVisible={layer.getVisibility()}\n          onChangeVisibility={(e, visible) => {\n            layer.setVisibility(visible);\n            this.forceUpdate();\n          }}\n        />\n      );\n    });\n\n    const addRow = (\n      <SortableAddLayerRow\n        index={layersContainer.getLayersCount()}\n        key={'add-layer-row'}\n        disabled\n        onAdd={() => {\n          const name = newNameGenerator('Layer', name =>\n            layersContainer.hasLayerNamed(name)\n          );\n          layersContainer.insertNewLayer(\n            name,\n            layersContainer.getLayersCount()\n          );\n          this.forceUpdate();\n        }}\n      />\n    );\n\n    return (\n      <TableBody\n        displayRowCheckbox={false}\n        deselectOnClickaway={true}\n        showRowHover={true}\n      >\n        {containerLayersList.concat(addRow)}\n      </TableBody>\n    );\n  }\n}\n\nconst SortableLayersListBody = SortableContainer(LayersListBody);\nSortableLayersListBody.muiName = 'TableBody';\n\nexport default class LayersList extends Component {\n  shouldComponentUpdate(nextProps) {\n    // Rendering the component can be costly as it iterates over\n    // every layers, so the prop freezeUpdate allow to ask the component to stop\n    // updating, for example when hidden.\n    return !nextProps.freezeUpdate;\n  }\n\n  render() {\n    // Force the list to be mounted again if layersContainer\n    // has been changed. Avoid accessing to invalid objects that could\n    // crash the app.\n    const listKey = this.props.layersContainer.ptr;\n\n    return (\n      <Table selectable={false}>\n        <TableHeader displaySelectAll={false} adjustForCheckbox={false}>\n          <TableRow>\n            <TableHeaderColumn style={styles.handleColumn} />\n            <TableHeaderColumn>Layer name</TableHeaderColumn>\n            <TableHeaderColumn style={styles.visibleColumn}>\n              Visible\n            </TableHeaderColumn>\n            <TableRowColumn style={styles.toolColumn} />\n          </TableRow>\n        </TableHeader>\n        <SortableLayersListBody\n          key={listKey}\n          layersContainer={this.props.layersContainer}\n          onRemoveLayer={this.props.onRemoveLayer}\n          onRenameLayer={this.props.onRenameLayer}\n          onSortEnd={({ oldIndex, newIndex }) => {\n            const layersCount = this.props.layersContainer.getLayersCount();\n            this.props.layersContainer.moveLayer(\n              layersCount - 1 - oldIndex,\n              layersCount - 1 - newIndex\n            );\n            this.forceUpdate();\n          }}\n          helperClass=\"sortable-helper\"\n          useDragHandle\n          lockToContainerEdges\n        />\n      </Table>\n    );\n  }\n}\n\nLayersList.defaultProps = {\n  onRemoveLayer: (layerName, cb) => cb(true),\n  onRenameLayer: (oldName, newName, cb) => cb(true),\n};\n","// @flow\nimport * as React from 'react';\nimport muiThemeable from 'material-ui/styles/muiThemeable';\n\nconst styles = {\n  logo: {\n    width: '100%',\n  },\n};\n\nconst ThemableGDevelopLogo = ({ muiTheme }) => (\n  <img src={muiTheme.logo.src} alt=\"\" style={styles.logo} />\n);\n\nconst GDevelopLogo = muiThemeable()(ThemableGDevelopLogo);\nexport default GDevelopLogo;\n","// @flow\nimport * as React from 'react';\nimport muiThemeable from 'material-ui/styles/muiThemeable';\n\nconst styles = {\n  scrollContainer: {\n    flex: 1,\n    display: 'flex',\n    overflowY: 'scroll',\n  },\n};\n\nconst ThemableScrollBackground = ({ muiTheme, children }) => (\n  <div\n    style={{\n      ...styles.scrollContainer,\n      backgroundColor: muiTheme.palette.canvasColor,\n    }}\n  >\n    {children}\n  </div>\n);\n\nconst ScrollBackground = muiThemeable()(ThemableScrollBackground);\nexport default ScrollBackground;\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport { I18n } from '@lingui/react';\n\nimport React from 'react';\nimport FlatButton from 'material-ui/FlatButton';\nimport Paper from 'material-ui/Paper';\nimport IconButton from 'material-ui/IconButton';\nimport Language from 'material-ui/svg-icons/action/language';\nimport BaseEditor from '../BaseEditor';\nimport Window from '../../../Utils/Window';\nimport { Line } from '../../../UI/Grid';\nimport GDevelopLogo from './GDevelopLogo';\nimport ScrollBackground from './ScrollBackground';\nimport RaisedButton from 'material-ui/RaisedButton';\n\nconst styles = {\n  innerContainer: {\n    display: 'flex',\n    flexDirection: 'column',\n    width: '100%',\n    minHeight: 350,\n  },\n  centerContainer: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'center',\n    maxWidth: 400,\n  },\n  logoPaper: {\n    margin: 10,\n    padding: 5,\n    width: '100%',\n    textAlign: 'center',\n  },\n  buttonsPaper: {\n    width: '100%',\n  },\n};\n\nclass StartPage extends BaseEditor {\n  constructor() {\n    super();\n\n    this.state = {\n      aboutDialogOpen: false,\n    };\n  }\n\n  getProject() {\n    return undefined;\n  }\n\n  updateToolbar() {\n    if (this.props.setToolbar) this.props.setToolbar(null);\n  }\n\n  render() {\n    const {\n      project,\n      canOpen,\n      onOpen,\n      onCreate,\n      onOpenProjectManager,\n      onCloseProject,\n      onOpenAboutDialog,\n      onOpenHelpFinder,\n      onOpenLanguageDialog,\n    } = this.props;\n\n    return (\n      <I18n>\n        {({ i18n }) => (\n          <ScrollBackground>\n            <div style={styles.innerContainer}>\n              <Line expand justifyContent=\"center\">\n                <div style={styles.centerContainer}>\n                  <Paper\n                    zDepth={1}\n                    style={{\n                      ...styles.logoPaper,\n                    }}\n                  >\n                    <GDevelopLogo />\n                    <p>\n                      <Trans>\n                        GDevelop is an easy-to-use game creator with no\n                        programming language to learn.\n                      </Trans>\n                    </p>\n                  </Paper>\n                  {!project && canOpen && (\n                    <RaisedButton\n                      label={<Trans>Open a project</Trans>}\n                      fullWidth\n                      onClick={onOpen}\n                      primary\n                    />\n                  )}\n                  {!project && (\n                    <RaisedButton\n                      label={<Trans>Create a new project</Trans>}\n                      fullWidth\n                      onClick={onCreate}\n                      primary\n                    />\n                  )}\n                  {!!project && (\n                    <RaisedButton\n                      label={<Trans>Open Project Manager</Trans>}\n                      fullWidth\n                      onClick={onOpenProjectManager}\n                      primary\n                    />\n                  )}\n                  {!!project && (\n                    <FlatButton\n                      label={<Trans>Close project</Trans>}\n                      fullWidth\n                      onClick={onCloseProject}\n                    />\n                  )}\n                  {\n                    <FlatButton\n                      label={<Trans>Search the documentation</Trans>}\n                      fullWidth\n                      onClick={onOpenHelpFinder}\n                    />\n                  }\n                </div>\n              </Line>\n              <Line alignItems=\"center\" justifyContent=\"space-between\">\n                <Line>\n                  <FlatButton\n                    label={<Trans>About GDevelop</Trans>}\n                    onClick={onOpenAboutDialog}\n                  />\n                  <FlatButton\n                    label={<Trans>GDevelop Forums</Trans>}\n                    onClick={() =>\n                      Window.openExternalURL('https://forum.gdevelop-app.com')\n                    }\n                  />\n                  <FlatButton\n                    label={<Trans>Help and tutorials</Trans>}\n                    onClick={() =>\n                      Window.openExternalURL(\n                        'http://wiki.compilgames.net/doku.php/gdevelop5/start'\n                      )\n                    }\n                  />\n                </Line>\n                <Line alignItems=\"center\">\n                  <FlatButton\n                    label={i18n.language}\n                    onClick={onOpenLanguageDialog}\n                    icon={<Language />}\n                  />\n                  <IconButton\n                    iconClassName=\"icon-facebook\"\n                    onClick={() =>\n                      Window.openExternalURL(\n                        'https://www.facebook.com/GDevelopApp'\n                      )\n                    }\n                  />\n                  <IconButton\n                    iconClassName=\"icon-twitter\"\n                    onClick={() =>\n                      Window.openExternalURL('https://twitter.com/GDevelopApp')\n                    }\n                  />\n                </Line>\n              </Line>\n            </div>\n          </ScrollBackground>\n        )}\n      </I18n>\n    );\n  }\n}\n\nexport default StartPage;\n","// @flow\nimport React, { Component } from 'react';\nimport InstructionOrExpressionSelector from './index';\nimport { createTree, type InstructionOrExpressionTreeNode } from './CreateTree';\nimport { enumerateInstructions } from './EnumerateInstructions';\nimport {\n  type EnumeratedInstructionOrExpressionMetadata,\n  filterEnumeratedInstructionOrExpressionMetadataByScope,\n} from './EnumeratedInstructionOrExpressionMetadata.js';\nimport { type EventsScope } from '../../EventsScope.flow';\n\ntype Props = {|\n  isCondition: boolean,\n  focusOnMount?: boolean,\n  selectedType: string,\n  onChoose: (type: string, EnumeratedInstructionOrExpressionMetadata) => void,\n  scope: EventsScope,\n  style?: Object,\n|};\n\nexport default class InstructionSelector extends Component<Props, {||}> {\n  instructionsInfo: Array<EnumeratedInstructionOrExpressionMetadata> = filterEnumeratedInstructionOrExpressionMetadataByScope(\n    enumerateInstructions(this.props.isCondition),\n    this.props.scope\n  );\n  instructionsInfoTree: InstructionOrExpressionTreeNode = createTree(\n    this.instructionsInfo\n  );\n\n  render() {\n    const { isCondition, scope, ...otherProps } = this.props;\n    return (\n      <InstructionOrExpressionSelector\n        instructionsInfo={this.instructionsInfo}\n        instructionsInfoTree={this.instructionsInfoTree}\n        iconSize={24}\n        {...otherProps}\n      />\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport Paper from 'material-ui/Paper';\nimport InstructionSelector from './InstructionOrExpressionSelector/InstructionSelector.js';\nimport InstructionParametersEditor from './InstructionParametersEditor.js';\nimport {\n  type ResourceSource,\n  type ChooseResourceFunction,\n} from '../../ResourcesList/ResourceSource.flow';\nimport { type ResourceExternalEditor } from '../../ResourcesList/ResourceExternalEditor.flow';\nimport { type EventsScope } from '../EventsScope.flow';\n\nconst styles = {\n  container: {\n    display: 'flex',\n    flex: 1,\n  },\n  typeSelector: {\n    flex: 1,\n    overflowY: 'scroll',\n  },\n  parametersEditor: {\n    flex: 2,\n    display: 'flex',\n    paddingLeft: 16,\n    paddingRight: 16,\n    zIndex: 1, // Put the Paper shadow on the type selector\n  },\n};\n\ntype Props = {|\n  project: gdProject,\n  scope: EventsScope,\n  globalObjectsContainer: gdObjectsContainer,\n  objectsContainer: gdObjectsContainer,\n  instruction: gdInstruction,\n  isCondition: boolean,\n  resourceSources: Array<ResourceSource>,\n  onChooseResource: ChooseResourceFunction,\n  resourceExternalEditors: Array<ResourceExternalEditor>,\n  style?: Object,\n  openInstructionOrExpression: (\n    extension: gdPlatformExtension,\n    type: string\n  ) => void,\n|};\ntype State = {||};\n\nexport default class InstructionEditor extends React.Component<Props, State> {\n  _instructionParametersEditor: ?InstructionParametersEditor;\n\n  chooseType = (type: string) => {\n    const { instruction } = this.props;\n    instruction.setType(type);\n    this.forceUpdate(() => {\n      if (this._instructionParametersEditor) {\n        this._instructionParametersEditor.focus();\n      }\n    });\n  };\n\n  render() {\n    const {\n      instruction,\n      isCondition,\n      project,\n      globalObjectsContainer,\n      objectsContainer,\n      scope,\n    } = this.props;\n\n    return (\n      <div style={styles.container}>\n        <InstructionSelector\n          style={styles.typeSelector}\n          isCondition={isCondition}\n          selectedType={instruction.getType()}\n          onChoose={this.chooseType}\n          focusOnMount={!instruction.getType()}\n          scope={scope}\n        />\n        <Paper style={styles.parametersEditor} rounded={false} zDepth={2}>\n          <InstructionParametersEditor\n            project={project}\n            scope={scope}\n            globalObjectsContainer={globalObjectsContainer}\n            objectsContainer={objectsContainer}\n            isCondition={isCondition}\n            instruction={instruction}\n            resourceSources={this.props.resourceSources}\n            onChooseResource={this.props.onChooseResource}\n            resourceExternalEditors={this.props.resourceExternalEditors}\n            openInstructionOrExpression={this.props.openInstructionOrExpression}\n            ref={instructionParametersEditor =>\n              (this._instructionParametersEditor = instructionParametersEditor)\n            }\n            focusOnMount={instruction.getType()}\n          />\n        </Paper>\n      </div>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport Dialog from '../../UI/Dialog';\nimport FlatButton from 'material-ui/FlatButton';\nimport InstructionEditor from './index.js';\nimport {\n  type ResourceSource,\n  type ChooseResourceFunction,\n} from '../../ResourcesList/ResourceSource.flow';\nimport { type ResourceExternalEditor } from '../../ResourcesList/ResourceExternalEditor.flow';\nimport { type EventsScope } from '../EventsScope.flow';\n\nconst styles = {\n  dialogContent: {\n    width: 'calc(100% - 16px)',\n    maxWidth: 'none',\n  },\n  dialogBody: {\n    padding: 0,\n    display: 'flex',\n  },\n};\n\ntype Props = {|\n  project: gdProject,\n  scope: EventsScope,\n  globalObjectsContainer: gdObjectsContainer,\n  objectsContainer: gdObjectsContainer,\n  instruction: gdInstruction,\n  isCondition: boolean,\n  resourceSources: Array<ResourceSource>,\n  onChooseResource: ChooseResourceFunction,\n  resourceExternalEditors: Array<ResourceExternalEditor>,\n  style?: Object,\n  isNewInstruction: boolean,\n  onCancel: () => void,\n  onSubmit: () => void,\n  open: boolean,\n  openInstructionOrExpression: (\n    extension: gdPlatformExtension,\n    type: string\n  ) => void,\n|};\ntype State = {||};\n\nexport default class InstructionEditorDialog extends React.Component<\n  Props,\n  State\n> {\n  render() {\n    const {\n      isNewInstruction,\n      onCancel,\n      onSubmit,\n      open,\n      ...otherProps\n    } = this.props;\n    const actions = [\n      <FlatButton\n        label={<Trans>Cancel</Trans>}\n        primary={false}\n        onClick={onCancel}\n      />,\n      <FlatButton\n        label={<Trans>Ok</Trans>}\n        primary={true}\n        keyboardFocused={false}\n        onClick={onSubmit}\n      />,\n    ];\n\n    return (\n      <Dialog\n        actions={actions}\n        open={open}\n        onRequestClose={onCancel}\n        contentStyle={styles.dialogContent}\n        bodyStyle={styles.dialogBody}\n      >\n        <InstructionEditor {...otherProps} />\n      </Dialog>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport FlatButton from 'material-ui/FlatButton';\nimport Checkbox from 'material-ui/Checkbox';\nimport SelectField from 'material-ui/SelectField';\nimport MenuItem from 'material-ui/MenuItem';\nimport Dialog from '../UI/Dialog';\nimport SemiControlledTextField from '../UI/SemiControlledTextField';\nimport SubscriptionChecker from '../Profile/SubscriptionChecker';\nimport { getErrors, displayProjectErrorsBox } from './ProjectErrorsChecker';\nimport DismissableAlertMessage from '../UI/DismissableAlertMessage';\nimport { Line, Column } from '../UI/Grid';\n\ntype Props = {|\n  project: gdProject,\n  open: boolean,\n  onClose: Function,\n  onApply: Function,\n  onChangeSubscription: () => void,\n|};\n\ntype State = {|\n  windowDefaultWidth: number,\n  windowDefaultHeight: number,\n  name: string,\n  author: string,\n  version: string,\n  packageName: string,\n  orientation: string,\n  adMobAppId: string,\n  scaleMode: 'linear' | 'nearest',\n  sizeOnStartupMode: string,\n  showGDevelopSplash: boolean,\n  minFPS: number,\n  maxFPS: number,\n  isFolderProject: boolean,\n|};\n\nclass ProjectPropertiesDialog extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = this._loadFrom(props.project);\n  }\n\n  _subscriptionChecker: ?SubscriptionChecker = null;\n\n  _loadFrom(project: gdProject): State {\n    return {\n      windowDefaultWidth: project.getMainWindowDefaultWidth(),\n      windowDefaultHeight: project.getMainWindowDefaultHeight(),\n      name: project.getName(),\n      author: project.getAuthor(),\n      version: project.getVersion(),\n      packageName: project.getPackageName(),\n      orientation: project.getOrientation(),\n      adMobAppId: project.getAdMobAppId(),\n      scaleMode: project.getScaleMode(),\n      sizeOnStartupMode: project.getSizeOnStartupMode(),\n      showGDevelopSplash: project.getLoadingScreen().isGDevelopSplashShown(),\n      minFPS: project.getMinimumFPS(),\n      maxFPS: project.getMaximumFPS(),\n      isFolderProject: project.isFolderProject(),\n    };\n  }\n\n  componentWillReceiveProps(newProps: Props) {\n    if (\n      (!this.props.open && newProps.open) ||\n      (newProps.open && this.props.project !== newProps.project)\n    ) {\n      this.setState(this._loadFrom(newProps.project));\n    }\n  }\n\n  _onApply = () => {\n    const t = str => str; //TODO\n    const { project } = this.props;\n    const {\n      windowDefaultWidth,\n      windowDefaultHeight,\n      name,\n      author,\n      version,\n      packageName,\n      orientation,\n      adMobAppId,\n      scaleMode,\n      sizeOnStartupMode,\n      showGDevelopSplash,\n      minFPS,\n      maxFPS,\n      isFolderProject,\n    } = this.state;\n    project.setDefaultWidth(windowDefaultWidth);\n    project.setDefaultHeight(windowDefaultHeight);\n    project.setName(name);\n    project.setAuthor(author);\n    project.setVersion(version);\n    project.setPackageName(packageName);\n    project.setOrientation(orientation);\n    project.setAdMobAppId(adMobAppId);\n    project.setScaleMode(scaleMode);\n    project.setSizeOnStartupMode(sizeOnStartupMode);\n    project.setMinimumFPS(minFPS);\n    project.setMaximumFPS(maxFPS);\n    project.getLoadingScreen().showGDevelopSplash(showGDevelopSplash);\n    project.setFolderProject(isFolderProject);\n\n    if (!displayProjectErrorsBox(t, getErrors(t, project))) return;\n\n    this.props.onApply();\n  };\n\n  render() {\n    const actions = [\n      <FlatButton\n        label={<Trans>Cancel</Trans>}\n        primary={false}\n        onClick={this.props.onClose}\n      />,\n      <FlatButton\n        label={<Trans>Apply</Trans>}\n        primary={true}\n        keyboardFocused={true}\n        onClick={this._onApply}\n      />,\n    ];\n    const {\n      name,\n      windowDefaultWidth,\n      windowDefaultHeight,\n      author,\n      version,\n      packageName,\n      orientation,\n      adMobAppId,\n      scaleMode,\n      sizeOnStartupMode,\n      showGDevelopSplash,\n      minFPS,\n      maxFPS,\n      isFolderProject,\n    } = this.state;\n\n    const defaultPackageName = 'com.example.mygame';\n    const admobHint = 'ca-app-pub-XXXXXXXXXXXXXXXX/YYYYYYYYYY';\n    const defaultVersion = '1.0.0';\n\n    return (\n      <React.Fragment>\n        <Dialog\n          actions={actions}\n          open={this.props.open}\n          onRequestClose={this.props.onClose}\n          autoScrollBodyContent={true}\n        >\n          <SemiControlledTextField\n            floatingLabelText={<Trans>Game name</Trans>}\n            fullWidth\n            type=\"text\"\n            value={name}\n            onChange={value => this.setState({ name: value })}\n          />\n          <SemiControlledTextField\n            floatingLabelText={<Trans>Game's window width</Trans>}\n            fullWidth\n            type=\"number\"\n            value={'' + windowDefaultWidth}\n            onChange={value =>\n              this.setState({\n                windowDefaultWidth: Math.max(0, parseInt(value, 10)),\n              })\n            }\n          />\n          <SemiControlledTextField\n            floatingLabelText={<Trans>Game's window height</Trans>}\n            fullWidth\n            type=\"number\"\n            value={'' + windowDefaultHeight}\n            onChange={value =>\n              this.setState({\n                windowDefaultHeight: Math.max(0, parseInt(value, 10)),\n              })\n            }\n          />\n          <SemiControlledTextField\n            floatingLabelText={<Trans>Author name</Trans>}\n            fullWidth\n            hintText={<Trans>Your name</Trans>}\n            type=\"text\"\n            value={author}\n            onChange={value => this.setState({ author: value })}\n          />\n          <SemiControlledTextField\n            floatingLabelText={<Trans>Version number (X.Y.Z)</Trans>}\n            fullWidth\n            hintText={defaultVersion}\n            type=\"text\"\n            value={version}\n            onChange={value => this.setState({ version: value })}\n          />\n          <SelectField\n            fullWidth\n            floatingLabelText={<Trans>Project file type</Trans>}\n            value={isFolderProject}\n            onChange={(e, i, value) =>\n              this.setState({ isFolderProject: value })\n            }\n          >\n            <MenuItem\n              value={false}\n              primaryText={<Trans>Single file (default)</Trans>}\n            />\n            <MenuItem\n              value={true}\n              primaryText={\n                <Trans>\n                  Multiple files, saved in folder next to the main file\n                </Trans>\n              }\n            />\n          </SelectField>\n          <Line noMargin>\n            <Column expand noMargin>\n              <SemiControlledTextField\n                floatingLabelText={<Trans>Minimum FPS</Trans>}\n                fullWidth\n                type=\"number\"\n                value={'' + minFPS}\n                onChange={value =>\n                  this.setState({\n                    minFPS: Math.max(0, parseInt(value, 10)),\n                  })\n                }\n              />\n            </Column>\n            <Column expand noMargin>\n              <SemiControlledTextField\n                floatingLabelText={<Trans>Maximum FPS (0 to disable)</Trans>}\n                fullWidth\n                type=\"number\"\n                value={'' + maxFPS}\n                onChange={value =>\n                  this.setState({\n                    maxFPS: Math.max(0, parseInt(value, 10)),\n                  })\n                }\n              />\n            </Column>\n          </Line>\n          {maxFPS > 0 && maxFPS < 60 && (\n            <DismissableAlertMessage\n              identifier=\"maximum-fps-too-low\"\n              kind=\"warning\"\n            >\n              <Trans>\n                Most monitors have a refresh rate of 60 FPS. Setting a maximum\n                number of FPS under 60 will force the game to skip frames, and\n                the real number of FPS will be way below 60, making the game\n                laggy and impacting the gameplay negatively. Consider putting 60\n                or more for the maximum number or FPS, or disable it by setting\n                0.\n              </Trans>\n            </DismissableAlertMessage>\n          )}\n          {minFPS < 20 && (\n            <DismissableAlertMessage\n              identifier=\"minimum-fps-too-low\"\n              kind=\"warning\"\n            >\n              <Trans>\n                Setting the minimum number of FPS below 20 will increase a lot\n                the time that is allowed between the simulation of two frames of\n                the game. If case of a sudden slowdown, or on slow computers,\n                this can create buggy behaviors like objects passing beyond a\n                wall. Consider setting 20 as the minimum FPS.\n              </Trans>\n            </DismissableAlertMessage>\n          )}\n          <SemiControlledTextField\n            floatingLabelText={\n              <Trans>Package name (for iOS and Android)</Trans>\n            }\n            fullWidth\n            hintText={defaultPackageName}\n            type=\"text\"\n            value={packageName}\n            onChange={value => this.setState({ packageName: value })}\n          />\n          <SelectField\n            fullWidth\n            floatingLabelText={\n              <Trans>Device orientation (for iOS and Android)</Trans>\n            }\n            value={orientation}\n            onChange={(e, i, value) => this.setState({ orientation: value })}\n          >\n            <MenuItem\n              value=\"default\"\n              primaryText={<Trans>Platform default</Trans>}\n            />\n            <MenuItem\n              value=\"landscape\"\n              primaryText={<Trans>Landscape</Trans>}\n            />\n            <MenuItem value=\"portrait\" primaryText={<Trans>Portrait</Trans>} />\n          </SelectField>\n          <SelectField\n            fullWidth\n            floatingLabelText={\n              <Trans>Scale mode (also called \"Sampling\")</Trans>\n            }\n            floatingLabelFixed\n            value={scaleMode}\n            onChange={(e, i, value) => this.setState({ scaleMode: value })}\n          >\n            <MenuItem\n              value=\"linear\"\n              primaryText={\n                <Trans>\n                  Linear (antialiased rendering, good for most games)\n                </Trans>\n              }\n            />\n            <MenuItem\n              value=\"nearest\"\n              primaryText={\n                <Trans>\n                  Nearest (no antialiasing, good for pixel perfect games)\n                </Trans>\n              }\n            />\n          </SelectField>\n          {scaleMode === 'nearest' && (\n            <DismissableAlertMessage\n              identifier=\"use-non-smoothed-textures\"\n              kind=\"info\"\n            >\n              <Trans>\n                To obtain the best pixel-perfect effect possible, go in the\n                resources editor and disable the Smoothing for all images of\n                your game. It will be done automatically for new images added\n                from now.\n              </Trans>\n            </DismissableAlertMessage>\n          )}\n          <SelectField\n            fullWidth\n            floatingLabelText={<Trans>Fullscreen/game size mode</Trans>}\n            floatingLabelFixed\n            value={sizeOnStartupMode}\n            onChange={(e, i, value) =>\n              this.setState({ sizeOnStartupMode: value })\n            }\n          >\n            <MenuItem\n              value=\"\"\n              primaryText={<Trans>No changes to the game size</Trans>}\n            />\n            <MenuItem\n              value=\"adaptWidth\"\n              primaryText={<Trans>Change width to fit the screen</Trans>}\n            />\n            <MenuItem\n              value=\"adaptHeight\"\n              primaryText={<Trans>Change height to fit the screen</Trans>}\n            />\n          </SelectField>\n          <SemiControlledTextField\n            floatingLabelText={\n              <Trans>AdMob application ID (for iOS and Android)</Trans>\n            }\n            fullWidth\n            hintText={admobHint}\n            type=\"text\"\n            value={adMobAppId}\n            onChange={value => this.setState({ adMobAppId: value })}\n          />\n          <Checkbox\n            label={\n              <Trans>\n                Display GDevelop splash at startup (in exported game)\n              </Trans>\n            }\n            checked={showGDevelopSplash}\n            onCheck={(e, checked) => {\n              if (!checked) {\n                if (\n                  this._subscriptionChecker &&\n                  !this._subscriptionChecker.checkHasSubscription()\n                )\n                  return;\n              }\n\n              this.setState({\n                showGDevelopSplash: checked,\n              });\n            }}\n          />\n        </Dialog>\n        <SubscriptionChecker\n          ref={subscriptionChecker =>\n            (this._subscriptionChecker = subscriptionChecker)\n          }\n          onChangeSubscription={() => {\n            this.props.onClose();\n            this.props.onChangeSubscription();\n          }}\n          mode=\"mandatory\"\n          id=\"Disable GDevelop splash at startup\"\n          title={<Trans>Disable GDevelop splash at startup</Trans>}\n        />\n      </React.Fragment>\n    );\n  }\n}\n\nexport default ProjectPropertiesDialog;\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport { t } from '@lingui/macro';\nimport { I18n } from '@lingui/react';\nimport { type I18n as I18nType } from '@lingui/core';\nimport React, { Component } from 'react';\nimport Dialog from '../UI/Dialog';\nimport FlatButton from 'material-ui/FlatButton';\nimport CloudDownload from 'material-ui/svg-icons/file/cloud-download';\nimport ExtensionsSearch, { addSerializedExtensionToProject } from '.';\nimport EventsFunctionsExtensionsContext, {\n  type EventsFunctionsExtensionsState,\n} from '../EventsFunctionsExtensionsLoader/EventsFunctionsExtensionsContext';\nimport HelpButton from '../UI/HelpButton';\nimport { showWarningBox } from '../UI/Messages/MessageBox';\n\ntype Props = {|\n  project: gdProject,\n  onClose: () => void,\n|};\n\nconst importExtension = (\n  i18n: I18nType,\n  eventsFunctionsExtensionsState: EventsFunctionsExtensionsState,\n  project: gdProject\n) => {\n  const eventsFunctionsExtensionOpener = eventsFunctionsExtensionsState.getEventsFunctionsExtensionOpener();\n  if (!eventsFunctionsExtensionOpener) return;\n\n  return eventsFunctionsExtensionOpener\n    .chooseEventsFunctionExtensionFile()\n    .then(pathOrUrl => {\n      if (!pathOrUrl) return;\n\n      return eventsFunctionsExtensionOpener\n        .readEventsFunctionExtensionFile(pathOrUrl)\n        .then(serializedExtension => {\n          if (\n            project.hasEventsFunctionsExtensionNamed(serializedExtension.name)\n          ) {\n            //eslint-disable-next-line\n            const answer = confirm(\n              i18n._(\n                t`An extension with this name already exists in the project. Importing this extension will replace it: are you sure you want to continue?`\n              )\n            );\n            if (!answer) return;\n          }\n\n          return addSerializedExtensionToProject(\n            eventsFunctionsExtensionsState,\n            project,\n            serializedExtension\n          );\n        });\n    })\n    .catch(error => {\n      showWarningBox(\n        i18n._(\n          t`An error happened while loading this extension. Please check that it is a proper extension file and compatible with this version of GDevelop`,\n          error\n        )\n      );\n    });\n};\n\nexport default class ExtensionsSearchDialog extends Component<Props, {||}> {\n  render() {\n    const { project, onClose } = this.props;\n\n    return (\n      <I18n>\n        {({ i18n }) => (\n          <EventsFunctionsExtensionsContext.Consumer>\n            {eventsFunctionsExtensionsState => {\n              const eventsFunctionsExtensionOpener = eventsFunctionsExtensionsState.getEventsFunctionsExtensionOpener();\n              return (\n                <Dialog\n                  title={<Trans>Search for New Extensions</Trans>}\n                  actions={[\n                    <FlatButton\n                      key=\"close\"\n                      label={<Trans>Close</Trans>}\n                      primary\n                      onClick={onClose}\n                    />,\n                  ]}\n                  secondaryActions={[\n                    <HelpButton key=\"help\" helpPagePath=\"/extensions/search\" />,\n                    eventsFunctionsExtensionOpener ? (\n                      <FlatButton\n                        icon={<CloudDownload />}\n                        key=\"import\"\n                        label={<Trans>Import extension</Trans>}\n                        onClick={() =>\n                          importExtension(\n                            i18n,\n                            eventsFunctionsExtensionsState,\n                            project\n                          )\n                        }\n                      />\n                    ) : null,\n                  ]}\n                  open\n                  autoScrollBodyContent\n                  noMargin\n                  onRequestClose={onClose}\n                >\n                  <ExtensionsSearch\n                    project={project}\n                    onNewExtensionInstalled={() => {}}\n                    onRegistryLoaded={() => {\n                      this.forceUpdate(); // Force update to ensure dialog is properly positioned.\n                    }}\n                    showOnlyWithBehaviors={false}\n                  />\n                </Dialog>\n              );\n            }}\n          </EventsFunctionsExtensionsContext.Consumer>\n        )}\n      </I18n>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport { List, ListItem } from 'material-ui/List';\nimport TextField from 'material-ui/TextField';\nimport SearchBar from 'material-ui-search-bar';\nimport MoreVertIcon from 'material-ui/svg-icons/navigation/more-vert';\nimport RefreshIcon from 'material-ui/svg-icons/navigation/refresh';\nimport WarningIcon from 'material-ui/svg-icons/alert/warning';\nimport IconButton from 'material-ui/IconButton';\nimport ListIcon from '../UI/ListIcon';\nimport { makeAddItem, makeSearchItem } from '../UI/ListCommonItem';\nimport Window from '../Utils/Window';\nimport IconMenu from '../UI/Menu/IconMenu';\nimport VariablesEditorDialog from '../VariablesList/VariablesEditorDialog';\nimport ProjectPropertiesDialog from './ProjectPropertiesDialog';\nimport {\n  enumerateLayouts,\n  enumerateExternalEvents,\n  enumerateExternalLayouts,\n  enumerateEventsFunctionsExtensions,\n  filterProjectItemsList,\n} from './EnumerateProjectItems';\nimport newNameGenerator from '../Utils/NewNameGenerator';\nimport Clipboard from '../Utils/Clipboard';\nimport {\n  serializeToJSObject,\n  unserializeFromJSObject,\n} from '../Utils/Serializer';\nimport ThemeConsumer from '../UI/Theme/ThemeConsumer';\nimport ExtensionsSearchDialog from '../ExtensionsSearch/ExtensionsSearchDialog';\n\nconst LAYOUT_CLIPBOARD_KIND = 'Layout';\nconst EXTERNAL_LAYOUT_CLIPBOARD_KIND = 'External layout';\nconst EXTERNAL_EVENTS_CLIPBOARD_KIND = 'External events';\nconst EVENTS_FUNCTIONS_EXTENSION_CLIPBOARD_KIND = 'Events Functions Extension';\n\nconst styles = {\n  container: {\n    flex: 1,\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  list: {\n    flex: 1,\n    overflowY: 'scroll',\n    padding: 0,\n  },\n  projectStructureItemNestedList: {\n    padding: 0,\n  },\n  itemName: {\n    overflow: 'hidden',\n    whiteSpace: 'nowrap',\n    textOverflow: 'ellipsis',\n  },\n  itemTextField: {\n    top: -16,\n  },\n};\n\ntype ProjectStructureItemProps = {|\n  autoGenerateNestedIndicator: boolean,\n  initiallyOpen: boolean,\n  leftIcon: React$Element<any>,\n  nestedItems: Array<React$Element<any>>,\n  primaryText: React.Node,\n  primaryTogglesNestedList: boolean,\n  error?: ?Error,\n  onRefresh?: () => void,\n  open?: boolean,\n|};\n\nconst ProjectStructureItem = ({\n  onRefresh,\n  ...props\n}: ProjectStructureItemProps) => (\n  <ThemeConsumer>\n    {muiTheme => (\n      <ListItem\n        style={{\n          backgroundColor: muiTheme.listItem.groupBackgroundColor,\n          borderBottom: `1px solid ${muiTheme.listItem.separatorColor}`,\n        }}\n        nestedListStyle={styles.projectStructureItemNestedList}\n        {...props}\n        leftIcon={props.error ? <WarningIcon /> : props.leftIcon}\n        rightIconButton={\n          props.error ? (\n            <IconButton\n              tooltip={`An error has occured in functions. Click to reload them.`}\n              tooltipPosition=\"bottom-left\"\n              onClick={onRefresh}\n            >\n              <RefreshIcon />\n            </IconButton>\n          ) : (\n            undefined\n          )\n        }\n      />\n    )}\n  </ThemeConsumer>\n);\n\ntype ItemProps = {|\n  primaryText: string,\n  editingName: boolean,\n  onEdit: () => void,\n  onDelete: () => void,\n  onRename: string => void,\n  onEditName: () => void,\n  onCopy: () => void,\n  onCut: () => void,\n  onPaste: () => void,\n  canPaste: () => boolean,\n  canMoveUp: boolean,\n  onMoveUp: () => void,\n  canMoveDown: boolean,\n  onMoveDown: () => void,\n  rightIconButton?: ?React.Node,\n  style?: ?Object,\n|};\n\nclass Item extends React.Component<ItemProps, {||}> {\n  textField: ?Object;\n  _iconMenu: ?Object;\n\n  componentDidUpdate(prevProps) {\n    if (!prevProps.editingName && this.props.editingName) {\n      setTimeout(() => {\n        if (this.textField) this.textField.focus();\n      }, 100);\n    }\n  }\n\n  _onContextMenu = event => {\n    if (this._iconMenu) this._iconMenu.open(event);\n  };\n\n  render() {\n    const rightIconButton = this.props.rightIconButton || (\n      <IconMenu\n        ref={iconMenu => (this._iconMenu = iconMenu)}\n        iconButtonElement={\n          <IconButton>\n            <MoreVertIcon />\n          </IconButton>\n        }\n        buildMenuTemplate={() => [\n          {\n            label: 'Edit',\n            click: () => this.props.onEdit(),\n          },\n          {\n            label: 'Rename',\n            click: () => this.props.onEditName(),\n          },\n          {\n            label: 'Delete',\n            click: () => this.props.onDelete(),\n          },\n          { type: 'separator' },\n          {\n            label: 'Copy',\n            click: () => this.props.onCopy(),\n          },\n          {\n            label: 'Cut',\n            click: () => this.props.onCut(),\n          },\n          {\n            label: 'Paste',\n            enabled: this.props.canPaste(),\n            click: () => this.props.onPaste(),\n          },\n          { type: 'separator' },\n          {\n            label: 'Move up',\n            enabled: this.props.canMoveUp,\n            click: () => this.props.onMoveUp(),\n          },\n          {\n            label: 'Move down',\n            enabled: this.props.canMoveDown,\n            click: () => this.props.onMoveDown(),\n          },\n        ]}\n      />\n    );\n    const label = this.props.editingName ? (\n      <TextField\n        id=\"rename-item-field\"\n        ref={textField => (this.textField = textField)}\n        defaultValue={this.props.primaryText}\n        onBlur={e => this.props.onRename(e.target.value)}\n        onKeyPress={event => {\n          if (event.charCode === 13) {\n            // enter key pressed\n            if (this.textField) this.textField.blur();\n          }\n        }}\n        fullWidth\n        style={styles.itemTextField}\n      />\n    ) : (\n      <div style={styles.itemName}>{this.props.primaryText}</div>\n    );\n\n    return (\n      <ThemeConsumer>\n        {muiTheme => (\n          <ListItem\n            style={{\n              borderBottom: `1px solid ${muiTheme.listItem.separatorColor}`,\n              ...this.props.style,\n            }}\n            onContextMenu={this._onContextMenu}\n            primaryText={label}\n            rightIconButton={rightIconButton}\n            onClick={() => {\n              // It's essential to discard clicks when editing the name,\n              // to avoid weird opening of an editor (accompanied with a\n              // closing of the project manager) when clicking on the text\n              // field.\n              if (!this.props.editingName) this.props.onEdit();\n            }}\n          />\n        )}\n      </ThemeConsumer>\n    );\n  }\n}\n\nconst AddItem = makeAddItem(ListItem);\nconst SearchItem = makeSearchItem(ListItem);\n\ntype Props = {|\n  project: gdProject,\n  onDeleteLayout: gdLayout => void,\n  onDeleteExternalEvents: gdExternalEvents => void,\n  onDeleteExternalLayout: gdExternalLayout => void,\n  onDeleteEventsFunctionsExtension: gdEventsFunctionsExtension => void,\n  onRenameLayout: (string, string) => void,\n  onRenameExternalEvents: (string, string) => void,\n  onRenameExternalLayout: (string, string) => void,\n  onRenameEventsFunctionsExtension: (string, string) => void,\n  onOpenLayout: string => void,\n  onOpenExternalEvents: string => void,\n  onOpenExternalLayout: string => void,\n  onOpenEventsFunctionsExtension: string => void,\n  onSaveProject: () => void,\n  onCloseProject: () => void,\n  onExportProject: () => void,\n  onOpenPreferences: () => void,\n  onOpenResources: () => void,\n  onAddLayout: () => void,\n  onAddExternalEvents: () => void,\n  onAddExternalLayout: () => void,\n  onAddEventsFunctionsExtension: () => void,\n  onOpenPlatformSpecificAssets: () => void,\n  onChangeSubscription: () => void,\n  eventsFunctionsExtensionsError: ?Error,\n  onReloadEventsFunctionsExtensions: () => void,\n  freezeUpdate: boolean,\n|};\n\ntype State = {|\n  renamedItemKind: ?string,\n  renamedItemName: string,\n  searchText: string,\n  projectPropertiesDialogOpen: boolean,\n  variablesEditorOpen: boolean,\n  extensionsSearchDialogOpen: boolean,\n|};\n\nexport default class ProjectManager extends React.Component<Props, State> {\n  _searchBar: ?SearchBar;\n\n  state = {\n    renamedItemKind: null,\n    renamedItemName: '',\n    searchText: '',\n    projectPropertiesDialogOpen: false,\n    variablesEditorOpen: false,\n    extensionsSearchDialogOpen: false,\n  };\n\n  shouldComponentUpdate(nextProps: Props) {\n    // Rendering the component is (super) costly (~20ms) as it iterates over\n    // every project layouts/external layouts/external events,\n    // so the prop freezeUpdate allow to ask the component to stop\n    // updating, for example when hidden.\n    return !nextProps.freezeUpdate;\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    // Typical usage (don't forget to compare props):\n    if (!this.props.freezeUpdate && prevProps.freezeUpdate) {\n      if (this._searchBar) this._searchBar.focus();\n    }\n  }\n\n  _onEditName = (kind: ?string, name: string) => {\n    this.setState({\n      renamedItemKind: kind,\n      renamedItemName: name,\n    });\n  };\n\n  _copyLayout = (layout: gdLayout) => {\n    Clipboard.set(LAYOUT_CLIPBOARD_KIND, {\n      layout: serializeToJSObject(layout),\n      name: layout.getName(),\n    });\n  };\n\n  _cutLayout = (layout: gdLayout) => {\n    this._copyLayout(layout);\n    this.props.onDeleteLayout(layout);\n  };\n\n  _pasteLayout = (index: number) => {\n    if (!Clipboard.has(LAYOUT_CLIPBOARD_KIND)) return;\n\n    const { layout: copiedLayout, name } = Clipboard.get(LAYOUT_CLIPBOARD_KIND);\n    const { project } = this.props;\n\n    const newName = newNameGenerator(name, name =>\n      project.hasLayoutNamed(name)\n    );\n\n    const newLayout = project.insertNewLayout(newName, index);\n\n    unserializeFromJSObject(\n      newLayout,\n      copiedLayout,\n      'unserializeFrom',\n      project\n    );\n    newLayout.setName(newName); // Unserialization has overwritten the name.\n    newLayout.updateBehaviorsSharedData(project);\n\n    this.forceUpdate();\n  };\n\n  _moveUpLayout = (index: number) => {\n    const { project } = this.props;\n    if (index <= 0) return;\n\n    project.swapLayouts(index, index - 1);\n    this.forceUpdate();\n  };\n\n  _moveDownLayout = (index: number) => {\n    const { project } = this.props;\n    if (index >= project.getLayoutsCount() - 1) return;\n\n    project.swapLayouts(index, index + 1);\n    this.forceUpdate();\n  };\n\n  _copyExternalEvents = (externalEvents: gdExternalEvents) => {\n    Clipboard.set(EXTERNAL_EVENTS_CLIPBOARD_KIND, {\n      externalEvents: serializeToJSObject(externalEvents),\n      name: externalEvents.getName(),\n    });\n  };\n\n  _cutExternalEvents = (externalEvents: gdExternalEvents) => {\n    this._copyExternalEvents(externalEvents);\n    this.props.onDeleteExternalEvents(externalEvents);\n  };\n\n  _pasteExternalEvents = (index: number) => {\n    if (!Clipboard.has(EXTERNAL_EVENTS_CLIPBOARD_KIND)) return;\n\n    const { externalEvents: copiedExternalEvents, name } = Clipboard.get(\n      EXTERNAL_EVENTS_CLIPBOARD_KIND\n    );\n    const { project } = this.props;\n\n    const newName = newNameGenerator(name, name =>\n      project.hasExternalEventsNamed(name)\n    );\n\n    const newExternalEvents = project.insertNewExternalEvents(newName, index);\n\n    unserializeFromJSObject(\n      newExternalEvents,\n      copiedExternalEvents,\n      'unserializeFrom',\n      project\n    );\n    newExternalEvents.setName(newName); // Unserialization has overwritten the name.\n\n    this.forceUpdate();\n  };\n\n  _moveUpExternalEvents = (index: number) => {\n    const { project } = this.props;\n    if (index <= 0) return;\n\n    project.swapExternalEvents(index, index - 1);\n    this.forceUpdate();\n  };\n\n  _moveDownExternalEvents = (index: number) => {\n    const { project } = this.props;\n    if (index >= project.getExternalEventsCount() - 1) return;\n\n    project.swapExternalEvents(index, index + 1);\n    this.forceUpdate();\n  };\n\n  _copyExternalLayout = (externalLayout: gdExternalLayout) => {\n    Clipboard.set(EXTERNAL_LAYOUT_CLIPBOARD_KIND, {\n      externalLayout: serializeToJSObject(externalLayout),\n      name: externalLayout.getName(),\n    });\n  };\n\n  _cutExternalLayout = (externalLayout: gdExternalLayout) => {\n    this._copyExternalLayout(externalLayout);\n    this.props.onDeleteExternalLayout(externalLayout);\n  };\n\n  _pasteExternalLayout = (index: number) => {\n    if (!Clipboard.has(EXTERNAL_LAYOUT_CLIPBOARD_KIND)) return;\n\n    const { externalLayout: copiedExternalLayout, name } = Clipboard.get(\n      EXTERNAL_LAYOUT_CLIPBOARD_KIND\n    );\n    const { project } = this.props;\n\n    const newName = newNameGenerator(name, name =>\n      project.hasExternalLayoutNamed(name)\n    );\n\n    const newExternalLayout = project.insertNewExternalLayout(newName, index);\n\n    unserializeFromJSObject(newExternalLayout, copiedExternalLayout);\n    newExternalLayout.setName(newName); // Unserialization has overwritten the name.\n\n    this.forceUpdate();\n  };\n\n  _moveUpExternalLayout = (index: number) => {\n    const { project } = this.props;\n    if (index <= 0) return;\n\n    project.swapExternalLayouts(index, index - 1);\n    this.forceUpdate();\n  };\n\n  _moveDownExternalLayout = (index: number) => {\n    const { project } = this.props;\n    if (index >= project.getExternalLayoutsCount() - 1) return;\n\n    project.swapExternalLayouts(index, index + 1);\n    this.forceUpdate();\n  };\n\n  _copyEventsFunctionsExtension = (\n    eventsFunctionsExtension: gdEventsFunctionsExtension\n  ) => {\n    Clipboard.set(EVENTS_FUNCTIONS_EXTENSION_CLIPBOARD_KIND, {\n      eventsFunctionsExtension: serializeToJSObject(eventsFunctionsExtension),\n      name: eventsFunctionsExtension.getName(),\n    });\n  };\n\n  _cutEventsFunctionsExtension = (\n    eventsFunctionsExtension: gdEventsFunctionsExtension\n  ) => {\n    this._copyEventsFunctionsExtension(eventsFunctionsExtension);\n    this.props.onDeleteEventsFunctionsExtension(eventsFunctionsExtension);\n  };\n\n  _pasteEventsFunctionsExtension = (index: number) => {\n    if (!Clipboard.has(EVENTS_FUNCTIONS_EXTENSION_CLIPBOARD_KIND)) return;\n\n    const {\n      eventsFunctionsExtension: copiedEventsFunctionsExtension,\n      name,\n    } = Clipboard.get(EVENTS_FUNCTIONS_EXTENSION_CLIPBOARD_KIND);\n    const { project } = this.props;\n\n    const newName = newNameGenerator(name, name =>\n      project.hasEventsFunctionsExtensionNamed(name)\n    );\n\n    const newEventsFunctionsExtension = project.insertNewEventsFunctionsExtension(\n      newName,\n      index\n    );\n\n    unserializeFromJSObject(\n      newEventsFunctionsExtension,\n      copiedEventsFunctionsExtension,\n      'unserializeFrom',\n      project\n    );\n    newEventsFunctionsExtension.setName(newName); // Unserialization has overwritten the name.\n\n    this.forceUpdate();\n    this.props.onReloadEventsFunctionsExtensions();\n  };\n\n  _moveUpEventsFunctionsExtension = (index: number) => {\n    const { project } = this.props;\n    if (index <= 0) return;\n\n    project.swapEventsFunctionsExtensions(index, index - 1);\n    this.forceUpdate();\n  };\n\n  _moveDownEventsFunctionsExtension = (index: number) => {\n    const { project } = this.props;\n    if (index >= project.getEventsFunctionsExtensionsCount() - 1) return;\n\n    project.swapEventsFunctionsExtensions(index, index + 1);\n    this.forceUpdate();\n  };\n\n  _renderMenu() {\n    // If there is already a main menu (as the native one made with\n    // Electron), don't show it in the Project Manager.\n    if (Window.hasMainMenu()) return null;\n\n    return (\n      <ProjectStructureItem\n        primaryText={<Trans>Menu</Trans>}\n        leftIcon={\n          <ListIcon\n            iconSize={32}\n            isGDevelopIcon\n            src=\"res/ribbon_default/new32.png\"\n          />\n        }\n        initiallyOpen={true}\n        primaryTogglesNestedList={true}\n        autoGenerateNestedIndicator={true}\n        nestedItems={[\n          <ListItem\n            key=\"save\"\n            primaryText={<Trans>Save</Trans>}\n            leftIcon={\n              <ListIcon\n                iconSize={32}\n                isGDevelopIcon\n                src=\"res/ribbon_default/save32.png\"\n              />\n            }\n            onClick={() => this.props.onSaveProject()}\n          />,\n          <ListItem\n            key=\"close\"\n            primaryText={<Trans>Close</Trans>}\n            leftIcon={\n              <ListIcon\n                iconSize={32}\n                isGDevelopIcon\n                src=\"res/ribbon_default/close32.png\"\n              />\n            }\n            onClick={() => this.props.onCloseProject()}\n          />,\n          <ListItem\n            key=\"export\"\n            primaryText={<Trans>Export</Trans>}\n            leftIcon={\n              <ListIcon\n                iconSize={32}\n                isGDevelopIcon\n                src=\"res/ribbon_default/export32.png\"\n              />\n            }\n            onClick={() => this.props.onExportProject()}\n          />,\n          <ListItem\n            key=\"preferences\"\n            primaryText={<Trans>Preferences</Trans>}\n            leftIcon={\n              <ListIcon\n                iconSize={32}\n                isGDevelopIcon\n                src=\"res/ribbon_default/pref32.png\"\n              />\n            }\n            onClick={() => this.props.onOpenPreferences()}\n          />,\n        ]}\n      />\n    );\n  }\n\n  render() {\n    const {\n      project,\n      eventsFunctionsExtensionsError,\n      onReloadEventsFunctionsExtensions,\n    } = this.props;\n    const { renamedItemKind, renamedItemName, searchText } = this.state;\n\n    const forceOpen = searchText !== '' ? true : undefined;\n\n    return (\n      <div style={styles.container}>\n        <List style={styles.list}>\n          {this._renderMenu()}\n          <ProjectStructureItem\n            primaryText={<Trans>Game settings</Trans>}\n            leftIcon={\n              <ListIcon\n                iconSize={32}\n                isGDevelopIcon\n                src=\"res/ribbon_default/projectManager32.png\"\n              />\n            }\n            initiallyOpen={false}\n            primaryTogglesNestedList={true}\n            autoGenerateNestedIndicator={true}\n            nestedItems={[\n              <ListItem\n                key=\"properties\"\n                primaryText={<Trans>Properties</Trans>}\n                leftIcon={\n                  <ListIcon\n                    iconSize={32}\n                    isGDevelopIcon\n                    src=\"res/ribbon_default/editprop32.png\"\n                  />\n                }\n                onClick={() =>\n                  this.setState({ projectPropertiesDialogOpen: true })\n                }\n              />,\n              <ListItem\n                key=\"global-variables\"\n                primaryText={<Trans>Global variables</Trans>}\n                leftIcon={\n                  <ListIcon\n                    iconSize={32}\n                    isGDevelopIcon\n                    src=\"res/ribbon_default/editname32.png\"\n                  />\n                }\n                onClick={() => this.setState({ variablesEditorOpen: true })}\n              />,\n              <ListItem\n                key=\"icons\"\n                primaryText={<Trans>Icons</Trans>}\n                leftIcon={\n                  <ListIcon\n                    iconSize={32}\n                    isGDevelopIcon\n                    src=\"res/ribbon_default/image32.png\"\n                  />\n                }\n                onClick={() => this.props.onOpenPlatformSpecificAssets()}\n              />,\n              <ListItem\n                key=\"resources\"\n                primaryText={<Trans>Resources</Trans>}\n                leftIcon={\n                  <ListIcon\n                    iconSize={32}\n                    isGDevelopIcon\n                    src=\"res/ribbon_default/image32.png\"\n                  />\n                }\n                onClick={() => {\n                  this.props.onOpenResources();\n                }}\n              />,\n            ]}\n          />\n          <ProjectStructureItem\n            primaryText={<Trans>Scenes</Trans>}\n            leftIcon={\n              <ListIcon\n                iconSize={32}\n                isGDevelopIcon\n                src=\"res/ribbon_default/sceneadd32.png\"\n              />\n            }\n            initiallyOpen={true}\n            open={forceOpen}\n            primaryTogglesNestedList={true}\n            autoGenerateNestedIndicator={!forceOpen}\n            nestedItems={filterProjectItemsList(\n              enumerateLayouts(project),\n              searchText\n            )\n              .map((layout: gdLayout, i: number) => {\n                const name = layout.getName();\n                return (\n                  <Item\n                    key={i}\n                    primaryText={name}\n                    editingName={\n                      renamedItemKind === 'layout' && renamedItemName === name\n                    }\n                    onEdit={() => this.props.onOpenLayout(name)}\n                    onDelete={() => this.props.onDeleteLayout(layout)}\n                    onRename={newName => {\n                      this.props.onRenameLayout(name, newName);\n                      this._onEditName(null, '');\n                    }}\n                    onEditName={() => this._onEditName('layout', name)}\n                    onCopy={() => this._copyLayout(layout)}\n                    onCut={() => this._cutLayout(layout)}\n                    onPaste={() => this._pasteLayout(i)}\n                    canPaste={() => Clipboard.has(LAYOUT_CLIPBOARD_KIND)}\n                    canMoveUp={i !== 0}\n                    onMoveUp={() => this._moveUpLayout(i)}\n                    canMoveDown={i !== project.getLayoutsCount() - 1}\n                    onMoveDown={() => this._moveDownLayout(i)}\n                  />\n                );\n              })\n              .concat(\n                <AddItem\n                  key={'add-scene'}\n                  onClick={this.props.onAddLayout}\n                  primaryText={<Trans>Click to add a scene</Trans>}\n                />\n              )}\n          />\n          <ProjectStructureItem\n            primaryText={<Trans>External events</Trans>}\n            leftIcon={\n              <ListIcon\n                iconSize={32}\n                isGDevelopIcon\n                src=\"res/ribbon_default/externalevents32.png\"\n              />\n            }\n            initiallyOpen={false}\n            open={forceOpen}\n            primaryTogglesNestedList={true}\n            autoGenerateNestedIndicator={!forceOpen}\n            nestedItems={filterProjectItemsList(\n              enumerateExternalEvents(project),\n              searchText\n            )\n              .map((externalEvents, i) => {\n                const name = externalEvents.getName();\n                return (\n                  <Item\n                    key={i}\n                    primaryText={name}\n                    editingName={\n                      renamedItemKind === 'external-events' &&\n                      renamedItemName === name\n                    }\n                    onEdit={() => this.props.onOpenExternalEvents(name)}\n                    onDelete={() =>\n                      this.props.onDeleteExternalEvents(externalEvents)\n                    }\n                    onRename={newName => {\n                      this.props.onRenameExternalEvents(name, newName);\n                      this._onEditName(null, '');\n                    }}\n                    onEditName={() => this._onEditName('external-events', name)}\n                    onCopy={() => this._copyExternalEvents(externalEvents)}\n                    onCut={() => this._cutExternalEvents(externalEvents)}\n                    onPaste={() => this._pasteExternalEvents(i)}\n                    canPaste={() =>\n                      Clipboard.has(EXTERNAL_EVENTS_CLIPBOARD_KIND)\n                    }\n                    canMoveUp={i !== 0}\n                    onMoveUp={() => this._moveUpExternalEvents(i)}\n                    canMoveDown={i !== project.getExternalEventsCount() - 1}\n                    onMoveDown={() => this._moveDownExternalEvents(i)}\n                  />\n                );\n              })\n              .concat(\n                <AddItem\n                  key={'add-external-events'}\n                  primaryText={<Trans>Click to add external events</Trans>}\n                  onClick={this.props.onAddExternalEvents}\n                />\n              )}\n          />\n          <ProjectStructureItem\n            primaryText={<Trans>External layouts</Trans>}\n            leftIcon={\n              <ListIcon\n                iconSize={32}\n                isGDevelopIcon\n                src=\"res/ribbon_default/externallayout32.png\"\n              />\n            }\n            initiallyOpen={false}\n            open={forceOpen}\n            primaryTogglesNestedList={true}\n            autoGenerateNestedIndicator={!forceOpen}\n            nestedItems={filterProjectItemsList(\n              enumerateExternalLayouts(project),\n              searchText\n            )\n              .map((externalLayout, i) => {\n                const name = externalLayout.getName();\n                return (\n                  <Item\n                    key={i}\n                    primaryText={name}\n                    editingName={\n                      renamedItemKind === 'external-layout' &&\n                      renamedItemName === name\n                    }\n                    onEdit={() => this.props.onOpenExternalLayout(name)}\n                    onDelete={() =>\n                      this.props.onDeleteExternalLayout(externalLayout)\n                    }\n                    onRename={newName => {\n                      this.props.onRenameExternalLayout(name, newName);\n                      this._onEditName(null, '');\n                    }}\n                    onEditName={() => this._onEditName('external-layout', name)}\n                    onCopy={() => this._copyExternalLayout(externalLayout)}\n                    onCut={() => this._cutExternalLayout(externalLayout)}\n                    onPaste={() => this._pasteExternalLayout(i)}\n                    canPaste={() =>\n                      Clipboard.has(EXTERNAL_LAYOUT_CLIPBOARD_KIND)\n                    }\n                    canMoveUp={i !== 0}\n                    onMoveUp={() => this._moveUpExternalLayout(i)}\n                    canMoveDown={i !== project.getExternalLayoutsCount() - 1}\n                    onMoveDown={() => this._moveDownExternalLayout(i)}\n                  />\n                );\n              })\n              .concat(\n                <AddItem\n                  key={'add-external-layout'}\n                  primaryText={<Trans>Click to add an external layout</Trans>}\n                  onClick={this.props.onAddExternalLayout}\n                />\n              )}\n          />\n          <ProjectStructureItem\n            primaryText={<Trans>Functions/Behaviors</Trans>}\n            error={eventsFunctionsExtensionsError}\n            onRefresh={onReloadEventsFunctionsExtensions}\n            leftIcon={\n              <ListIcon\n                iconSize={32}\n                isGDevelopIcon\n                src=\"res/ribbon_default/function32.png\"\n              />\n            }\n            initiallyOpen={false}\n            open={forceOpen}\n            primaryTogglesNestedList={true}\n            autoGenerateNestedIndicator={\n              !forceOpen && !eventsFunctionsExtensionsError\n            }\n            nestedItems={filterProjectItemsList(\n              enumerateEventsFunctionsExtensions(project),\n              searchText\n            )\n              .map((eventsFunctionsExtension, i) => {\n                const name = eventsFunctionsExtension.getName();\n                return (\n                  <Item\n                    key={i}\n                    primaryText={name}\n                    editingName={\n                      renamedItemKind === 'events-functions-extension' &&\n                      renamedItemName === name\n                    }\n                    onEdit={() =>\n                      this.props.onOpenEventsFunctionsExtension(name)\n                    }\n                    onDelete={() =>\n                      this.props.onDeleteEventsFunctionsExtension(\n                        eventsFunctionsExtension\n                      )\n                    }\n                    onRename={newName => {\n                      this.props.onRenameEventsFunctionsExtension(\n                        name,\n                        newName\n                      );\n                      this._onEditName(null, '');\n                    }}\n                    onEditName={() =>\n                      this._onEditName('events-functions-extension', name)\n                    }\n                    onCopy={() =>\n                      this._copyEventsFunctionsExtension(\n                        eventsFunctionsExtension\n                      )\n                    }\n                    onCut={() =>\n                      this._cutEventsFunctionsExtension(\n                        eventsFunctionsExtension\n                      )\n                    }\n                    onPaste={() => this._pasteEventsFunctionsExtension(i)}\n                    canPaste={() =>\n                      Clipboard.has(EVENTS_FUNCTIONS_EXTENSION_CLIPBOARD_KIND)\n                    }\n                    canMoveUp={i !== 0}\n                    onMoveUp={() => this._moveUpEventsFunctionsExtension(i)}\n                    canMoveDown={\n                      i !== project.getEventsFunctionsExtensionsCount() - 1\n                    }\n                    onMoveDown={() => this._moveDownEventsFunctionsExtension(i)}\n                  />\n                );\n              })\n              .concat(\n                <AddItem\n                  key={'add-events-functions-extension'}\n                  primaryText={\n                    <Trans>Click to add functions and behaviors</Trans>\n                  }\n                  onClick={this.props.onAddEventsFunctionsExtension}\n                />\n              )\n              .concat(\n                <SearchItem\n                  key={'extensions-search'}\n                  primaryText={<Trans>Search for new extensions</Trans>}\n                  onClick={() =>\n                    this.setState({ extensionsSearchDialogOpen: true })\n                  }\n                />\n              )}\n          />\n        </List>\n        <SearchBar\n          ref={searchBar => (this._searchBar = searchBar)}\n          value={searchText}\n          onRequestSearch={() => {}}\n          onChange={text =>\n            this.setState({\n              searchText: text,\n            })\n          }\n        />\n        {this.state.variablesEditorOpen && (\n          <VariablesEditorDialog\n            open={this.state.variablesEditorOpen}\n            variablesContainer={project.getVariables()}\n            onCancel={() => this.setState({ variablesEditorOpen: false })}\n            onApply={() => this.setState({ variablesEditorOpen: false })}\n            emptyExplanationMessage=\"Global variables are variables that are shared amongst all the scenes of the game.\"\n            emptyExplanationSecondMessage=\"For example, you can have a variable called UnlockedLevelsCount representing the number of levels unlocked by the player.\"\n          />\n        )}\n        {this.state.projectPropertiesDialogOpen && (\n          <ProjectPropertiesDialog\n            open={this.state.projectPropertiesDialogOpen}\n            project={project}\n            onClose={() =>\n              this.setState({ projectPropertiesDialogOpen: false })\n            }\n            onApply={() =>\n              this.setState({ projectPropertiesDialogOpen: false })\n            }\n            onChangeSubscription={this.props.onChangeSubscription}\n          />\n        )}\n        {this.state.extensionsSearchDialogOpen && (\n          <ExtensionsSearchDialog\n            project={project}\n            onClose={() => this.setState({ extensionsSearchDialogOpen: false })}\n          />\n        )}\n      </div>\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport ObjectGroupsList from '.';\nimport { ObjectGroupEditorDialog } from '../ObjectGroupEditor/ObjectGroupEditorDialog';\nimport { type GroupWithContext } from '../ObjectsList/EnumerateObjects';\n\ntype Props = {|\n  globalObjectsContainer: gdObjectsContainer,\n  objectsContainer: gdObjectsContainer,\n  globalObjectGroups: gdObjectGroupsContainer,\n  objectGroups: gdObjectGroupsContainer,\n  onGroupsUpdated?: () => void,\n|};\n\ntype State = {|\n  editedGroup: ?gdObjectGroup,\n|};\n\n/**\n * Helper showing the list of groups and embedding the editor to edit a group.\n */\nexport default class ObjectGroupsListWithObjectGroupEditor extends React.Component<\n  Props,\n  State\n> {\n  state = {\n    editedGroup: null,\n  };\n\n  _onDeleteGroup = (\n    groupWithScope: GroupWithContext,\n    done: boolean => void\n  ) => {\n    //TODO: implement and launch refactoring (using gd.WholeProjectRefactorer)\n    done(true);\n  };\n\n  _onRenameGroup = (\n    groupWithScope: GroupWithContext,\n    newName: string,\n    done: boolean => void\n  ) => {\n    //TODO: implement and launch refactoring (using gd.WholeProjectRefactorer)\n    done(true);\n  };\n\n  editGroup = (editedGroup: ?gdObjectGroup) => this.setState({ editedGroup });\n\n  render() {\n    const {\n      objectsContainer,\n      globalObjectsContainer,\n      objectGroups,\n      globalObjectGroups,\n    } = this.props;\n\n    return (\n      <React.Fragment>\n        <ObjectGroupsList\n          globalObjectGroups={globalObjectGroups}\n          objectGroups={objectGroups}\n          onEditGroup={this.editGroup}\n          onDeleteGroup={this._onDeleteGroup}\n          onRenameGroup={this._onRenameGroup}\n          onGroupAdded={this.props.onGroupsUpdated}\n          onGroupRemoved={this.props.onGroupsUpdated}\n          onGroupRenamed={this.props.onGroupsUpdated}\n        />\n        <ObjectGroupEditorDialog\n          key={globalObjectsContainer.ptr + ';' + objectsContainer.ptr}\n          open={!!this.state.editedGroup}\n          group={this.state.editedGroup}\n          globalObjectsContainer={globalObjectsContainer}\n          objectsContainer={objectsContainer}\n          onCancel={() => this.editGroup(null)}\n          onApply={() => {\n            if (this.props.onGroupsUpdated) this.props.onGroupsUpdated();\n            this.editGroup(null);\n          }}\n        />\n      </React.Fragment>\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\n\nconst styles = {\n  container: {\n    overflowY: 'scroll',\n    flex: 1,\n  },\n};\n\ntype Props = {| children: React.Node |};\n\nexport default ({ children }: Props) => (\n  <div style={{ ...styles.container }}>{children}</div>\n);\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport ObjectGroupsListWithObjectGroupEditor from '../../ObjectGroupsList/ObjectGroupsListWithObjectGroupEditor';\nimport { Tabs, Tab } from 'material-ui/Tabs';\nimport EventsFunctionParametersEditor from './EventsFunctionParametersEditor';\nimport EventsFunctionPropertiesEditor from './EventsFunctionPropertiesEditor';\nimport ScrollView from '../../UI/ScrollView';\nimport { Column } from '../../UI/Grid';\n\ntype Props = {|\n  project: gdProject,\n  globalObjectsContainer: gdObjectsContainer,\n  objectsContainer: gdObjectsContainer,\n  eventsFunction: gdEventsFunction,\n  eventsBasedBehavior: ?gdEventsBasedBehavior,\n  onParametersOrGroupsUpdated: () => void,\n  helpPagePath?: string,\n  onConfigurationUpdated?: () => void,\n  renderConfigurationHeader?: () => React.Node,\n  freezeParameters?: boolean,\n  freezeEventsFunctionType?: boolean,\n|};\n\ntype TabNames = 'config' | 'parameters' | 'groups';\n\ntype State = {|\n  currentTab: TabNames,\n|};\n\nexport default class EventsFunctionConfigurationEditor extends React.Component<\n  Props,\n  State\n> {\n  state = {\n    currentTab: 'config',\n  };\n\n  _chooseTab = (currentTab: TabNames) =>\n    this.setState({\n      currentTab,\n    });\n\n  render() {\n    const {\n      project,\n      globalObjectsContainer,\n      objectsContainer,\n      eventsFunction,\n      eventsBasedBehavior,\n      freezeEventsFunctionType,\n      onConfigurationUpdated,\n      onParametersOrGroupsUpdated,\n      freezeParameters,\n      helpPagePath,\n      renderConfigurationHeader,\n    } = this.props;\n\n    return (\n      <Column expand noMargin>\n        <Tabs value={this.state.currentTab} onChange={this._chooseTab}>\n          <Tab\n            label={<Trans>Configuration</Trans>}\n            value={('config': TabNames)}\n          />\n          <Tab\n            label={<Trans>Parameters</Trans>}\n            value={('parameters': TabNames)}\n          />\n          <Tab\n            label={<Trans>Object groups</Trans>}\n            value={('groups': TabNames)}\n          >\n            {/* Manually display tabs to support flex */}\n          </Tab>\n        </Tabs>\n        {this.state.currentTab === 'config' ? (\n          <ScrollView>\n            <EventsFunctionPropertiesEditor\n              eventsFunction={eventsFunction}\n              eventsBasedBehavior={eventsBasedBehavior}\n              helpPagePath={helpPagePath}\n              onConfigurationUpdated={onConfigurationUpdated}\n              renderConfigurationHeader={renderConfigurationHeader}\n              freezeEventsFunctionType={freezeEventsFunctionType}\n            />\n          </ScrollView>\n        ) : null}\n        {this.state.currentTab === 'parameters' ? (\n          <ScrollView>\n            <EventsFunctionParametersEditor\n              project={project}\n              eventsFunction={eventsFunction}\n              eventsBasedBehavior={eventsBasedBehavior}\n              onParametersUpdated={onParametersOrGroupsUpdated}\n              helpPagePath={helpPagePath}\n              freezeParameters={freezeParameters}\n            />\n          </ScrollView>\n        ) : null}\n        {this.state.currentTab === 'groups' ? (\n          <ObjectGroupsListWithObjectGroupEditor\n            globalObjectsContainer={globalObjectsContainer}\n            objectsContainer={objectsContainer}\n            globalObjectGroups={globalObjectsContainer.getObjectGroups()}\n            objectGroups={eventsFunction.getObjectGroups()}\n            onGroupsUpdated={onParametersOrGroupsUpdated}\n          />\n        ) : null}\n      </Column>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport Dialog from '../../UI/Dialog';\nimport FlatButton from 'material-ui/FlatButton';\nimport Changelog from '.';\n\ntype Props = {|\n  open: boolean,\n  onClose: () => void,\n|};\n\ntype State = {||};\n\nexport default class ChangelogDialog extends React.Component<Props, State> {\n  render() {\n    const { open, onClose } = this.props;\n    if (!open) {\n      // Don't render anything, to avoid in particular sending useless requests.\n      return null;\n    }\n\n    const actions = [\n      <FlatButton\n        label={<Trans>Close</Trans>}\n        primary={true}\n        onClick={onClose}\n      />,\n    ];\n\n    return (\n      <Dialog\n        title={<Trans>What's new in GDevelop?</Trans>}\n        actions={actions}\n        open={open}\n        onRequestClose={onClose}\n        autoScrollBodyContent\n        modal\n      >\n        <p>\n          <Trans>\n            GDevelop was upgraded to a new version! Check out the changes.\n          </Trans>\n        </p>\n        <Changelog\n          onUpdated={() => {\n            this.forceUpdate(); /*Force update to ensure dialog is properly positionned*/\n          }}\n        />\n      </Dialog>\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport ChangelogDialog from './ChangelogDialog';\nimport PreferencesContext from '../Preferences/PreferencesContext';\n\ntype ContainerProps = {|\n  defaultOpen: boolean,\n|};\n\ntype ContainerState = {|\n  open: boolean,\n|};\n\nclass ChangelogDialogContainer extends React.Component<\n  ContainerProps,\n  ContainerState\n> {\n  state = {\n    open: this.props.defaultOpen,\n  };\n\n  render() {\n    const { open } = this.state;\n    return (\n      <ChangelogDialog\n        open={open}\n        onClose={() =>\n          this.setState({\n            open: false,\n          })\n        }\n      />\n    );\n  }\n}\n\n/**\n * The container showing the ChangelogDialog only if a a new version\n * of GDevelop is detected.\n */\nexport default (props: {||}) => (\n  <PreferencesContext.Consumer>\n    {({ values, verifyIfIsNewVersion }) => (\n      <ChangelogDialogContainer\n        defaultOpen={verifyIfIsNewVersion() && values.autoDisplayChangelog}\n      />\n    )}\n  </PreferencesContext.Consumer>\n);\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport { AutoSizer } from 'react-virtualized';\nimport SortableVirtualizedItemList from '../UI/SortableVirtualizedItemList';\nimport SearchBar from 'material-ui-search-bar';\nimport { showWarningBox } from '../UI/Messages/MessageBox';\nimport Background from '../UI/Background';\nimport newNameGenerator from '../Utils/NewNameGenerator';\nimport {\n  enumerateEventsBasedBehaviors,\n  filterEventsBasedBehaviorsList,\n} from './EnumerateEventsBasedBehaviors';\nimport Clipboard from '../Utils/Clipboard';\nimport {\n  serializeToJSObject,\n  unserializeFromJSObject,\n} from '../Utils/Serializer';\n\nconst EVENTS_BASED_BEHAVIOR_CLIPBOARD_KIND = 'Events Based Behavior';\n\nconst styles = {\n  listContainer: {\n    flex: 1,\n  },\n};\n\ntype State = {|\n  renamedEventsBasedBehavior: ?gdEventsBasedBehavior,\n  searchText: string,\n|};\n\ntype Props = {|\n  project: gdProject,\n  eventsBasedBehaviorsList: gdEventsBasedBehaviorsList,\n  selectedEventsBasedBehavior: ?gdEventsBasedBehavior,\n  onSelectEventsBasedBehavior: (\n    eventsBasedBehavior: ?gdEventsBasedBehavior\n  ) => void,\n  onDeleteEventsBasedBehavior: (\n    eventsBasedBehavior: gdEventsBasedBehavior,\n    cb: (boolean) => void\n  ) => void,\n  onRenameEventsBasedBehavior: (\n    eventsBasedBehavior: gdEventsBasedBehavior,\n    newName: string,\n    cb: (boolean) => void\n  ) => void,\n  onEventsBasedBehaviorRenamed: (\n    eventsBasedBehavior: gdEventsBasedBehavior\n  ) => void,\n  onEditProperties: (eventsBasedBehavior: gdEventsBasedBehavior) => void,\n|};\n\nexport default class EventsBasedBehaviorsList extends React.Component<\n  Props,\n  State\n> {\n  static defaultProps = {\n    onDeleteEventsBasedBehavior: (\n      eventsBasedBehavior: gdEventsBasedBehavior,\n      cb: boolean => void\n    ) => cb(true),\n    onRenameEventsBasedBehavior: (\n      eventsBasedBehavior: gdEventsBasedBehavior,\n      newName: string,\n      cb: boolean => void\n    ) => cb(true),\n  };\n\n  sortableList: any;\n  state: State = {\n    renamedEventsBasedBehavior: null,\n    searchText: '',\n  };\n\n  _deleteEventsBasedBehavior = (\n    eventsBasedBehavior: gdEventsBasedBehavior,\n    { askForConfirmation }: {| askForConfirmation: boolean |}\n  ) => {\n    const { eventsBasedBehaviorsList } = this.props;\n\n    if (askForConfirmation) {\n      //eslint-disable-next-line\n      const answer = confirm(\n        \"Are you sure you want to remove this behavior? This can't be undone.\"\n      );\n      if (!answer) return;\n    }\n\n    this.props.onDeleteEventsBasedBehavior(eventsBasedBehavior, doRemove => {\n      if (!doRemove) return;\n\n      eventsBasedBehaviorsList.remove(eventsBasedBehavior.getName());\n      this.forceUpdate();\n    });\n  };\n\n  _editName = (renamedEventsBasedBehavior: ?gdEventsBasedBehavior) => {\n    this.setState(\n      {\n        renamedEventsBasedBehavior,\n      },\n      () => this.sortableList.getWrappedInstance().forceUpdateGrid()\n    );\n  };\n\n  _rename = (eventsBasedBehavior: gdEventsBasedBehavior, newName: string) => {\n    const { eventsBasedBehaviorsList } = this.props;\n    this.setState({\n      renamedEventsBasedBehavior: null,\n    });\n\n    if (eventsBasedBehavior.getName() === newName) return;\n\n    if (eventsBasedBehaviorsList.has(newName)) {\n      showWarningBox('Another behavior with this name already exists.');\n      return;\n    }\n\n    this.props.onRenameEventsBasedBehavior(\n      eventsBasedBehavior,\n      newName,\n      doRename => {\n        if (!doRename) return;\n        eventsBasedBehavior.setName(newName);\n        this.forceUpdate();\n        this.props.onEventsBasedBehaviorRenamed(eventsBasedBehavior);\n      }\n    );\n  };\n\n  _move = (oldIndex: number, newIndex: number) => {\n    const { eventsBasedBehaviorsList } = this.props;\n    eventsBasedBehaviorsList.move(oldIndex, newIndex);\n\n    this.forceUpdateList();\n  };\n\n  forceUpdateList = () => {\n    this.forceUpdate();\n    this.sortableList.getWrappedInstance().forceUpdateGrid();\n  };\n\n  _copyEventsBasedBehavior = (eventsBasedBehavior: gdEventsBasedBehavior) => {\n    Clipboard.set(EVENTS_BASED_BEHAVIOR_CLIPBOARD_KIND, {\n      eventsBasedBehavior: serializeToJSObject(eventsBasedBehavior),\n      name: eventsBasedBehavior.getName(),\n    });\n  };\n\n  _cutEventsBasedBehavior = (eventsBasedBehavior: gdEventsBasedBehavior) => {\n    this._copyEventsBasedBehavior(eventsBasedBehavior);\n    this._deleteEventsBasedBehavior(eventsBasedBehavior, {\n      askForConfirmation: false,\n    });\n  };\n\n  _pasteEventsBasedBehavior = (index: number) => {\n    if (!Clipboard.has(EVENTS_BASED_BEHAVIOR_CLIPBOARD_KIND)) return;\n\n    const {\n      eventsBasedBehavior: copiedEventsBasedBehavior,\n      name,\n    } = Clipboard.get(EVENTS_BASED_BEHAVIOR_CLIPBOARD_KIND);\n    const { project, eventsBasedBehaviorsList } = this.props;\n\n    const newName = newNameGenerator(name, name =>\n      eventsBasedBehaviorsList.has(name)\n    );\n\n    const newEventsBasedBehavior = eventsBasedBehaviorsList.insertNew(\n      newName,\n      index\n    );\n\n    unserializeFromJSObject(\n      newEventsBasedBehavior,\n      copiedEventsBasedBehavior,\n      'unserializeFrom',\n      project\n    );\n    newEventsBasedBehavior.setName(newName);\n\n    this.forceUpdate();\n  };\n\n  _renderEventsBasedBehaviorMenuTemplate = (\n    eventsBasedBehavior: gdEventsBasedBehavior,\n    index: number\n  ) => {\n    return [\n      {\n        label: 'Properties',\n        click: () => this.props.onEditProperties(eventsBasedBehavior),\n      },\n      {\n        type: 'separator',\n      },\n      {\n        label: 'Rename',\n        click: () => this._editName(eventsBasedBehavior),\n      },\n      {\n        label: 'Remove',\n        click: () =>\n          this._deleteEventsBasedBehavior(eventsBasedBehavior, {\n            askForConfirmation: true,\n          }),\n      },\n      {\n        type: 'separator',\n      },\n      {\n        label: 'Copy',\n        click: () => this._copyEventsBasedBehavior(eventsBasedBehavior),\n      },\n      {\n        label: 'Cut',\n        click: () => this._cutEventsBasedBehavior(eventsBasedBehavior),\n      },\n      {\n        label: 'Paste',\n        enabled: Clipboard.has(EVENTS_BASED_BEHAVIOR_CLIPBOARD_KIND),\n        click: () => this._pasteEventsBasedBehavior(index),\n      },\n    ];\n  };\n\n  _addNewEventsBasedBehavior = () => {\n    const { eventsBasedBehaviorsList } = this.props;\n\n    const name = newNameGenerator('MyBehavior', name =>\n      eventsBasedBehaviorsList.has(name)\n    );\n    eventsBasedBehaviorsList.insertNew(\n      name,\n      eventsBasedBehaviorsList.getCount()\n    );\n    this.forceUpdate();\n  };\n\n  render() {\n    const {\n      project,\n      eventsBasedBehaviorsList,\n      selectedEventsBasedBehavior,\n      onSelectEventsBasedBehavior,\n    } = this.props;\n    const { searchText } = this.state;\n\n    const list = [\n      ...filterEventsBasedBehaviorsList(\n        enumerateEventsBasedBehaviors(eventsBasedBehaviorsList),\n        searchText\n      ),\n      {\n        key: 'add-item-row',\n      },\n    ];\n\n    // Force List component to be mounted again if project or eventsBasedBehaviorsList\n    // has been changed. Avoid accessing to invalid objects that could\n    // crash the app.\n    const listKey = project.ptr + ';' + eventsBasedBehaviorsList.ptr;\n\n    return (\n      <Background>\n        <div style={styles.listContainer}>\n          <AutoSizer>\n            {({ height, width }) => (\n              <SortableVirtualizedItemList\n                key={listKey}\n                ref={sortableList => (this.sortableList = sortableList)}\n                fullList={list}\n                width={width}\n                height={height}\n                onAddNewItem={this._addNewEventsBasedBehavior}\n                addNewItemLabel={<Trans>Add a new behavior</Trans>}\n                selectedItem={selectedEventsBasedBehavior}\n                onItemSelected={onSelectEventsBasedBehavior}\n                renamedItem={this.state.renamedEventsBasedBehavior}\n                onRename={this._rename}\n                onSortEnd={({ oldIndex, newIndex }) =>\n                  this._move(oldIndex, newIndex)\n                }\n                buildMenuTemplate={this._renderEventsBasedBehaviorMenuTemplate}\n                helperClass=\"sortable-helper\"\n                distance={20}\n              />\n            )}\n          </AutoSizer>\n        </div>\n        <SearchBar\n          value={searchText}\n          onRequestSearch={() => {}}\n          onChange={text =>\n            this.setState({\n              searchText: text,\n            })\n          }\n        />\n      </Background>\n    );\n  }\n}\n","//@flow\nimport { mapVector } from '../Utils/MapFor';\n\nexport const enumerateEventsBasedBehaviors = (\n  eventsFunctionsContainer: gdEventsBasedBehaviorsList\n): Array<gdEventsBasedBehavior> =>\n  mapVector(\n    eventsFunctionsContainer,\n    eventsBasedBehavior => eventsBasedBehavior\n  );\n\nexport const filterEventsBasedBehaviorsList = (\n  list: Array<gdEventsBasedBehavior>,\n  searchText: string\n): Array<gdEventsBasedBehavior> => {\n  if (!searchText) return list;\n\n  const lowercaseSearchText = searchText.toLowerCase();\n\n  return list.filter(\n    (item: any) =>\n      item\n        .getName()\n        .toLowerCase()\n        .indexOf(lowercaseSearchText) !== -1\n  );\n};\n","// @flow\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport { largeSelectedArea, largeSelectableArea } from '../ClassNames';\nimport { type EventRendererProps } from './EventRenderer.flow';\n\nexport default class UnknownEvent extends React.Component<\n  EventRendererProps,\n  *\n> {\n  render() {\n    return (\n      <p\n        className={classNames({\n          [largeSelectableArea]: true,\n          [largeSelectedArea]: this.props.selected,\n        })}\n      >\n        {'Unknown event of type ' + this.props.event.getType()}\n      </p>\n    );\n  }\n}\n","import UnknownEvent from './Renderers/UnknownEvent';\nimport StandardEvent from './Renderers/StandardEvent';\nimport GroupEvent from './Renderers/GroupEvent';\nimport CommentEvent from './Renderers/CommentEvent';\nimport ForEachEvent from './Renderers/ForEachEvent';\nimport RepeatEvent from './Renderers/RepeatEvent';\nimport WhileEvent from './Renderers/WhileEvent';\nimport LinkEvent from './Renderers/LinkEvent';\nimport JsCodeEvent from './Renderers/JsCodeEvent';\n\nexport default {\n  components: {\n    unknownEvent: UnknownEvent,\n    'BuiltinCommonInstructions::Standard': StandardEvent,\n    'BuiltinCommonInstructions::Group': GroupEvent,\n    'BuiltinCommonInstructions::Comment': CommentEvent,\n    'BuiltinCommonInstructions::ForEach': ForEachEvent,\n    'BuiltinCommonInstructions::Repeat': RepeatEvent,\n    'BuiltinCommonInstructions::While': WhileEvent,\n    'BuiltinCommonInstructions::Link': LinkEvent,\n    'BuiltinCommonInstructions::JsCode': JsCodeEvent,\n  },\n  getEventComponent: function(event) {\n    if (this.components.hasOwnProperty(event.getType()))\n      return this.components[event.getType()];\n    else return this.components.unknownEvent;\n  },\n  registerEvent: function(eventType, renderFunction) {\n    if (!this.components.hasOwnProperty(eventType)) {\n      console.warn(\n        'Tried to register renderer for events \"' +\n          eventType +\n          '\", but a renderer already exists.'\n      );\n      return;\n    }\n\n    this.components[eventType] = renderFunction;\n  },\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport TextField from 'material-ui/TextField';\nimport FlatButton from 'material-ui/FlatButton';\nimport Window from '../Utils/Window';\nimport { List, ListItem } from 'material-ui/List';\nimport { Column } from '../UI/Grid';\nimport algoliasearch from 'algoliasearch/lite';\nimport debounce from 'lodash/debounce';\n\nconst styles = {\n  dropdownMenuContainer: {\n    maxHeight: 300,\n    overflowY: 'scroll',\n  },\n  poweredByText: {\n    textAlign: 'right',\n    opacity: 0.8,\n  },\n};\n\ntype Props = {|\n  onChange: string => void,\n  value: string,\n|};\n\ntype AlgoliaResult = {|\n  content: string,\n  url: string,\n  hierarchy: {|\n    lvl0: ?string,\n    lvl1: ?string,\n    lvl2: ?string,\n    lvl3: ?string,\n    lvl4: ?string,\n    lvl5: ?string,\n    lvl6: ?string,\n  |},\n  objectID: string,\n|};\n\ntype State = {|\n  results: ?Array<AlgoliaResult>,\n|};\n\nconst indexName = 'gdevelop';\nconst appId = 'BH4D9OD16A';\nconst apiKey = '69c73fc1a710bb79543d4b91f6b81c08';\nconst algoliaOptions = { hitsPerPage: 5 };\n\nexport default class DocSearchArea extends React.Component<Props, State> {\n  // $FlowFixMe\n  client = algoliasearch(appId, apiKey, algoliaOptions);\n  state = {\n    results: null,\n  };\n\n  _handleSearchTextChange = (searchText: string) => {\n    this.props.onChange(searchText);\n  };\n\n  _launchSearchRequest = debounce(() => {\n    if (this.props.value) {\n      this.client\n        // $FlowFixMe\n        .search([\n          {\n            indexName: indexName,\n            query: this.props.value,\n            params: algoliaOptions,\n          },\n        ])\n        .then(data => {\n          let hits = data.results[0].hits;\n          console.log(hits);\n\n          this.setState({\n            results: hits,\n          });\n        });\n    }\n  }, 200);\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.value !== this.props.value && this.props.value) {\n      this._launchSearchRequest();\n    }\n  }\n\n  _renderResult = (result: AlgoliaResult) => {\n    const primaryText =\n      result.hierarchy.lvl0 ||\n      result.hierarchy.lvl1 ||\n      result.hierarchy.lvl2 ||\n      result.hierarchy.lvl3 ||\n      result.hierarchy.lvl4 ||\n      result.hierarchy.lvl5 ||\n      result.hierarchy.lvl6;\n\n    const secondaryText = [\n      result.hierarchy.lvl0,\n      result.hierarchy.lvl1,\n      result.hierarchy.lvl2,\n      result.hierarchy.lvl3,\n      result.hierarchy.lvl4,\n      result.hierarchy.lvl5,\n      result.hierarchy.lvl6,\n    ]\n      .filter(text => !!text)\n      .filter(text => text !== primaryText)\n      .join(' - ')\n      .replace(/&quot;/g, '\"');\n\n    return (\n      <ListItem\n        key={result.objectID}\n        primaryText={primaryText}\n        secondaryText={result.content || secondaryText}\n        secondaryTextLines={2}\n        onClick={() => {\n          Window.openExternalURL(result.url);\n        }}\n      />\n    );\n  };\n\n  render() {\n    return (\n      <div>\n        <TextField\n          id={'help-finder-search-bar'}\n          fullWidth\n          hintText={<Trans>Enter what you want to build.</Trans>}\n          value={this.props.value}\n          onChange={(e, text) => this.props.onChange(text)}\n        />\n        <div\n          id=\"help-finder-dropdown-menu-container\"\n          className=\"algolia-autocomplete\"\n          style={{\n            ...styles.dropdownMenuContainer,\n            visibility: !this.props.value ? 'hidden' : undefined,\n          }}\n        />\n        {this.state.results ? (\n          <List>\n            {this.state.results.map(result => this._renderResult(result))}\n          </List>\n        ) : (\n          <React.Fragment>\n            <p>\n              <Trans>Examples:</Trans>\n            </p>\n            <Column expand>\n              <p>\n                Coins in platformer\n                <br />\n                Export on Android\n                <br />\n                Add a score\n                <br />\n                Move enemies\n                <br />\n                ...\n                <br />\n              </p>\n            </Column>\n          </React.Fragment>\n        )}\n        <p style={styles.poweredByText}>\n          This search is powered by{' '}\n          <FlatButton\n            onClick={() => Window.openExternalURL('http://algolia.com/')}\n            label={'Algolia'}\n          />\n        </p>\n      </div>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport Dialog from '../UI/Dialog';\nimport FlatButton from 'material-ui/FlatButton';\nimport Window from '../Utils/Window';\nimport DocSearchArea from './DocSearchArea';\nimport debounce from 'lodash/debounce';\nimport {\n  sendHelpFinderOpened,\n  sendHelpSearch,\n} from '../Utils/Analytics/EventSender';\n\ntype Props = {|\n  open: boolean,\n  onClose: () => void,\n|};\n\ntype State = {|\n  searchText: string,\n|};\n\nexport default class HelpFinder extends React.PureComponent<Props, State> {\n  state = {\n    searchText: '',\n  };\n\n  componentWillReceiveProps(newProps: Props) {\n    if (newProps.open && !this.props.open) {\n      sendHelpFinderOpened();\n    }\n  }\n\n  _handleSearchTextChange = (searchText: string) => {\n    this.setState({\n      searchText,\n    });\n    this._sendHelpSearch();\n  };\n\n  _sendHelpSearch = debounce(() => {\n    if (this.state.searchText) sendHelpSearch(this.state.searchText.trim());\n  }, 2900);\n\n  render() {\n    const { open, onClose } = this.props;\n\n    return (\n      <Dialog\n        title={<Trans>Help!</Trans>}\n        onRequestClose={onClose}\n        actions={[\n          <FlatButton\n            label={<Trans>Close</Trans>}\n            key=\"close\"\n            primary={false}\n            onClick={onClose}\n          />,\n        ]}\n        secondaryActions={[\n          <FlatButton\n            key=\"forum\"\n            primary={false}\n            onClick={() => {\n              Window.openExternalURL('https://forum.gdevelop-app.com');\n            }}\n            label={<Trans>Community forum</Trans>}\n          />,\n          <FlatButton\n            key=\"wiki\"\n            primary={false}\n            onClick={() => {\n              Window.openExternalURL(\n                'http://wiki.compilgames.net/doku.php/gdevelop5/start'\n              );\n            }}\n            label={<Trans>Wiki</Trans>}\n          />,\n        ]}\n        open={open}\n      >\n        <DocSearchArea\n          value={this.state.searchText}\n          onChange={this._handleSearchTextChange}\n        />\n      </Dialog>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport { AutoSizer } from 'react-virtualized';\nimport SortableVirtualizedItemList from '../UI/SortableVirtualizedItemList';\nimport SearchBar from 'material-ui-search-bar';\nimport { showWarningBox } from '../UI/Messages/MessageBox';\nimport Background from '../UI/Background';\nimport newNameGenerator from '../Utils/NewNameGenerator';\nimport {\n  enumerateEventsFunctions,\n  filterEventFunctionsList,\n} from './EnumerateEventsFunctions';\nimport Clipboard from '../Utils/Clipboard';\nimport {\n  serializeToJSObject,\n  unserializeFromJSObject,\n} from '../Utils/Serializer';\n\nconst EVENTS_FUNCTION_CLIPBOARD_KIND = 'Events Function';\n\nconst styles = {\n  listContainer: {\n    flex: 1,\n  },\n};\n\ntype State = {|\n  renamedEventsFunction: ?gdEventsFunction,\n  searchText: string,\n|};\n\ntype Props = {|\n  project: gdProject,\n  eventsFunctionsContainer: gdEventsFunctionsContainer,\n  selectedEventsFunction: ?gdEventsFunction,\n  onSelectEventsFunction: (eventsFunction: ?gdEventsFunction) => void,\n  onDeleteEventsFunction: (\n    eventsFunction: gdEventsFunction,\n    cb: (boolean) => void\n  ) => void,\n  canRename: (eventsFunction: gdEventsFunction) => boolean,\n  onRenameEventsFunction: (\n    eventsFunction: gdEventsFunction,\n    newName: string,\n    cb: (boolean) => void\n  ) => void,\n  onAddEventsFunction: ((doAdd: boolean, name: ?string) => void) => void,\n  onEventsFunctionAdded: (eventsFunction: gdEventsFunction) => void,\n  renderHeader?: () => React.Node,\n|};\n\nexport default class EventsFunctionsList extends React.Component<Props, State> {\n  static defaultProps = {\n    onDeleteEventsFunction: (\n      eventsFunction: gdEventsFunction,\n      cb: boolean => void\n    ) => cb(true),\n    onRenameEventsFunction: (\n      eventsFunction: gdEventsFunction,\n      newName: string,\n      cb: boolean => void\n    ) => cb(true),\n  };\n\n  sortableList: any;\n  state: State = {\n    renamedEventsFunction: null,\n    searchText: '',\n  };\n\n  _deleteEventsFunction = (\n    eventsFunction: gdEventsFunction,\n    { askForConfirmation }: {| askForConfirmation: boolean |}\n  ) => {\n    const { eventsFunctionsContainer } = this.props;\n\n    if (askForConfirmation) {\n      //eslint-disable-next-line\n      const answer = confirm(\n        \"Are you sure you want to remove this function? This can't be undone.\"\n      );\n      if (!answer) return;\n    }\n\n    this.props.onDeleteEventsFunction(eventsFunction, doRemove => {\n      if (!doRemove) return;\n\n      eventsFunctionsContainer.removeEventsFunction(eventsFunction.getName());\n      this.forceUpdate();\n    });\n  };\n\n  _editName = (eventsFunction: ?gdEventsFunction) => {\n    this.setState(\n      {\n        renamedEventsFunction: eventsFunction,\n      },\n      () => this.sortableList.getWrappedInstance().forceUpdateGrid()\n    );\n  };\n\n  _rename = (eventsFunction: gdEventsFunction, newName: string) => {\n    const { eventsFunctionsContainer } = this.props;\n    this.setState({\n      renamedEventsFunction: null,\n    });\n\n    if (eventsFunction.getName() === newName) return;\n\n    if (eventsFunctionsContainer.hasEventsFunctionNamed(newName)) {\n      showWarningBox('Another function with this name already exists.');\n      return;\n    }\n\n    this.props.onRenameEventsFunction(eventsFunction, newName, doRename => {\n      if (!doRename) return;\n      eventsFunction.setName(newName);\n      this.forceUpdate();\n    });\n  };\n\n  _move = (oldIndex: number, newIndex: number) => {\n    const { eventsFunctionsContainer } = this.props;\n    eventsFunctionsContainer.moveEventsFunction(oldIndex, newIndex);\n\n    this.forceUpdateList();\n  };\n\n  forceUpdateList = () => {\n    this.forceUpdate();\n    this.sortableList.getWrappedInstance().forceUpdateGrid();\n  };\n\n  _copyEventsFunction = (eventsFunction: gdEventsFunction) => {\n    Clipboard.set(EVENTS_FUNCTION_CLIPBOARD_KIND, {\n      eventsFunction: serializeToJSObject(eventsFunction),\n      name: eventsFunction.getName(),\n    });\n  };\n\n  _cutEventsFunction = (eventsFunction: gdEventsFunction) => {\n    this._copyEventsFunction(eventsFunction);\n    this._deleteEventsFunction(eventsFunction, { askForConfirmation: false });\n  };\n\n  _pasteEventsFunction = (index: number) => {\n    if (!Clipboard.has(EVENTS_FUNCTION_CLIPBOARD_KIND)) return;\n\n    const { eventsFunction: copiedEventsFunction, name } = Clipboard.get(\n      EVENTS_FUNCTION_CLIPBOARD_KIND\n    );\n    const { project, eventsFunctionsContainer } = this.props;\n\n    const newName = newNameGenerator(name, name =>\n      eventsFunctionsContainer.hasEventsFunctionNamed(name)\n    );\n\n    const newEventsFunction = eventsFunctionsContainer.insertNewEventsFunction(\n      newName,\n      index\n    );\n\n    unserializeFromJSObject(\n      newEventsFunction,\n      copiedEventsFunction,\n      'unserializeFrom',\n      project\n    );\n    newEventsFunction.setName(newName);\n    this.props.onEventsFunctionAdded(newEventsFunction);\n\n    this.forceUpdate();\n  };\n\n  _renderEventsFunctionMenuTemplate = (\n    eventsFunction: gdEventsFunction,\n    index: number\n  ) => {\n    return [\n      {\n        label: 'Rename',\n        click: () => this._editName(eventsFunction),\n        enabled: this.props.canRename(eventsFunction),\n      },\n      {\n        label: 'Remove',\n        click: () =>\n          this._deleteEventsFunction(eventsFunction, {\n            askForConfirmation: true,\n          }),\n      },\n      {\n        type: 'separator',\n      },\n      {\n        label: 'Copy',\n        click: () => this._copyEventsFunction(eventsFunction),\n      },\n      {\n        label: 'Cut',\n        click: () => this._cutEventsFunction(eventsFunction),\n      },\n      {\n        label: 'Paste',\n        enabled: Clipboard.has(EVENTS_FUNCTION_CLIPBOARD_KIND),\n        click: () => this._pasteEventsFunction(index),\n      },\n    ];\n  };\n\n  _addNewEventsFunction = () => {\n    const { eventsFunctionsContainer } = this.props;\n\n    this.props.onAddEventsFunction((doAdd: boolean, name: ?string) => {\n      if (!doAdd) {\n        return;\n      }\n\n      const eventsFunctionName =\n        name ||\n        newNameGenerator('Function', name =>\n          eventsFunctionsContainer.hasEventsFunctionNamed(name)\n        );\n\n      const eventsFunction = eventsFunctionsContainer.insertNewEventsFunction(\n        eventsFunctionName,\n        eventsFunctionsContainer.getEventsFunctionsCount()\n      );\n      this.props.onEventsFunctionAdded(eventsFunction);\n      this.forceUpdate();\n    });\n  };\n\n  render() {\n    const {\n      project,\n      eventsFunctionsContainer,\n      selectedEventsFunction,\n      onSelectEventsFunction,\n      renderHeader,\n    } = this.props;\n    const { searchText } = this.state;\n\n    const list = [\n      ...filterEventFunctionsList(\n        enumerateEventsFunctions(eventsFunctionsContainer),\n        searchText\n      ),\n      {\n        key: 'add-item-row',\n      },\n    ];\n\n    // Force List component to be mounted again if project or objectsContainer\n    // has been changed. Avoid accessing to invalid objects that could\n    // crash the app.\n    const listKey = project.ptr + ';' + eventsFunctionsContainer.ptr;\n\n    return (\n      <Background>\n        {renderHeader ? renderHeader() : null}\n        <div style={styles.listContainer}>\n          <AutoSizer>\n            {({ height, width }) => (\n              <SortableVirtualizedItemList\n                key={listKey}\n                ref={sortableList => (this.sortableList = sortableList)}\n                fullList={list}\n                width={width}\n                height={height}\n                onAddNewItem={this._addNewEventsFunction}\n                addNewItemLabel={<Trans>Add a new function</Trans>}\n                selectedItem={selectedEventsFunction}\n                onItemSelected={onSelectEventsFunction}\n                renamedItem={this.state.renamedEventsFunction}\n                onRename={this._rename}\n                onSortEnd={({ oldIndex, newIndex }) =>\n                  this._move(oldIndex, newIndex)\n                }\n                buildMenuTemplate={this._renderEventsFunctionMenuTemplate}\n                helperClass=\"sortable-helper\"\n                distance={20}\n              />\n            )}\n          </AutoSizer>\n        </div>\n        <SearchBar\n          value={searchText}\n          onRequestSearch={() => {}}\n          onChange={text =>\n            this.setState({\n              searchText: text,\n            })\n          }\n        />\n      </Background>\n    );\n  }\n}\n","//@flow\nimport { mapFor } from '../Utils/MapFor';\n\nexport const enumerateEventsFunctions = (\n  eventsFunctionsContainer: gdEventsFunctionsExtension\n): Array<gdEventsFunction> =>\n  mapFor(0, eventsFunctionsContainer.getEventsFunctionsCount(), i =>\n    eventsFunctionsContainer.getEventsFunctionAt(i)\n  );\n\nexport const filterEventFunctionsList = (\n  list: Array<gdEventsFunction>,\n  searchText: string\n): Array<gdEventsFunction> => {\n  if (!searchText) return list;\n\n  const lowercaseSearchText = searchText.toLowerCase();\n\n  return list.filter(\n    (item: any) =>\n      item\n        .getName()\n        .toLowerCase()\n        .indexOf(lowercaseSearchText) !== -1\n  );\n};\n","//@flow\nimport { findGDJS } from '../Export/LocalExporters/LocalGDJSFinder';\nimport optionalRequire from '../Utils/OptionalRequire';\nconst fs = optionalRequire('fs');\nconst path = optionalRequire('path');\n\nexport const setupAutocompletions = (monaco: any) => {\n  const importAllJsFilesFromFolder = (folderPath: string) =>\n    fs.readdir(folderPath, (error: ?Error, filenames: Array<string>) => {\n      if (error) {\n        console.error(\n          'Unable to read GDJS files for setting up autocompletions:',\n          error\n        );\n        return;\n      }\n\n      filenames.forEach(filename => {\n        if (filename.endsWith('.js')) {\n          const fullPath = path.join(folderPath, filename);\n          fs.readFile(fullPath, 'utf8', (fileError, content) => {\n            if (fileError) {\n              console.error(\n                `Unable to read ${fullPath} for setting up autocompletions:`,\n                fileError\n              );\n              return;\n            }\n\n            monaco.languages.typescript.javascriptDefaults.addExtraLib(\n              content,\n              fullPath\n            );\n          });\n        }\n      });\n    });\n\n  findGDJS(gdjsRoot => {\n    const runtimePath = path.join(gdjsRoot, 'Runtime');\n    const extensionsPath = path.join(runtimePath, 'Extensions');\n    const eventToolsPath = path.join(runtimePath, 'events-tools');\n\n    importAllJsFilesFromFolder(runtimePath);\n    importAllJsFilesFromFolder(eventToolsPath);\n    fs.readdir(extensionsPath, (error: ?Error, folderNames: Array<string>) => {\n      if (error) {\n        console.error(\n          'Unable to read Extensions folders for setting up autocompletions:',\n          error\n        );\n        return;\n      }\n\n      folderNames\n        .filter(\n          folderName =>\n            !folderName.endsWith('.txt') &&\n            !folderName.endsWith('.md') &&\n            !folderName.endsWith('.gitignore')\n        )\n        .forEach(folderName =>\n          importAllJsFilesFromFolder(path.join(extensionsPath, folderName))\n        );\n    });\n\n    monaco.languages.typescript.javascriptDefaults.addExtraLib(\n      `\n/** Represents the scene being played. */\nvar runtimeScene = new gdjs.RuntimeScene();\n\n/** The instances of objects that are passed to your JavaScript function.\n * @type {gdjs.RuntimeObject[]}\n */\nvar objects = new gdjs.RuntimeScene();\n\n/**\n * Get the list of instances of the specified object.\n *\n * @callback GetObjectsFunction\n * @param {string} objectName The name of the object for which instances must be returned.\n * @return {gdjs.RuntimeObject[]} Instances of the specified object.\n */\n\n/**\n * Create a new object from its name. The object is added to the instances\n * living on the scene.\n *\n * @callback CreateObjectFunction\n * @param {string} objectName The name of the object to be created\n * @return {gdjs.RuntimeObject} The created object\n */\n\n/**\n * Get the \"real\" behavior name, that can be used with \\`getBehavior\\`. For example:\n * \\`object.getBehavior(eventsFunctionContext.getBehaviorName(\"MyBehavior\"))\\`\n *\n * @callback GetBehaviorNameFunction\n * @param {string} behaviorName The name of the behavior, as specified in the parameters of the function.\n * @return {string} The name that can be passed to \\`getBehavior\\`.\n */\n\n/**\n * Get the value (string or number) of an argument that was passed to the events function.\n * To get objects, use \\`getObjects\\`.\n *\n * @callback GetArgumentFunction\n * @param {string} argumentName The name of the argument, as specified in the parameters of the function.\n * @return {string|number} The string or number passed for this argument\n */\n\n/** Represents the context of the events function (or the behavior method),\n * if any. If the JS code is running in a scene, this will be undefined (so you can't use this in a scene).\n *\n * @type {?{getObjects: GetObjectsFunction, getBehaviorName: GetBehaviorNameFunction, createObject: CreateObjectFunction, getArgument: GetArgumentFunction, returnValue: boolean | number | string}}\n */\nvar eventsFunctionContext = {};\n`,\n      'this-mock-the-context-of-events.js'\n    );\n  });\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport { setupAutocompletions } from './LocalCodeEditorAutocompletions';\nimport PlaceholderLoader from '../UI/PlaceholderLoader';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport PreferencesContext from '../MainFrame/Preferences/PreferencesContext';\nimport { getAllThemes } from './Theme';\n\nexport type State = {|\n  MonacoEditor: ?any,\n  error: ?Error,\n|};\nexport type Props = {|\n  value: string,\n  onChange: string => void,\n  width: number,\n  onEditorMounted?: () => void,\n|};\n\nconst monacoEditorOptions = {\n  scrollBeyondLastLine: false,\n  minimap: {\n    enabled: false,\n  },\n};\n\n// There is only a single instance of monaco living, keep track\n// of if its initialized or not.\nlet monacoCompletionsInitialized = false;\nlet monacoThemesInitialized = false;\n\nexport class CodeEditor extends React.Component<Props, State> {\n  state = {\n    MonacoEditor: null,\n    error: null,\n  };\n\n  setupEditorThemes = (monaco: any) => {\n    if (!monacoThemesInitialized) {\n      monacoThemesInitialized = true;\n\n      getAllThemes().forEach(codeEditorTheme => {\n        // Builtin themes don't have themeData, don't redefine them.\n        if (codeEditorTheme.themeData) {\n          monaco.editor.defineTheme(\n            codeEditorTheme.themeName,\n            codeEditorTheme.themeData\n          );\n        }\n      });\n    }\n  };\n\n  setupEditorCompletions = (editor: any, monaco: any) => {\n    if (!monacoCompletionsInitialized) {\n      monacoCompletionsInitialized = true;\n\n      monaco.languages.typescript.javascriptDefaults.setCompilerOptions({\n        // noLib: true,\n        target: monaco.languages.typescript.ScriptTarget.ES6,\n        allowNonTsExtensions: true,\n        allowJs: true,\n        checkJs: true,\n      });\n      setupAutocompletions(monaco);\n    }\n\n    if (this.props.onEditorMounted) this.props.onEditorMounted();\n  };\n\n  componentDidMount() {\n    this.loadMonacoEditor();\n  }\n\n  handleLoadError(error: Error) {\n    this.setState({\n      error,\n    });\n  }\n\n  loadMonacoEditor() {\n    this.setState({\n      error: null,\n    });\n    import(/* webpackChunkName: \"react-monaco-editor\" */ 'react-monaco-editor')\n      .then(module =>\n        this.setState({\n          MonacoEditor: module.default,\n        })\n      )\n      .catch(this.handleLoadError);\n  }\n\n  _handleContextMenu = (event: SyntheticEvent<>) => {\n    // Prevent right click to bubble up and trigger the context menu\n    // of the event.\n    event.preventDefault();\n    event.stopPropagation();\n  };\n\n  render() {\n    const { MonacoEditor, error } = this.state;\n    if (error) {\n      return (\n        <React.Fragment>\n          <p>\n            <Trans>Unable to load the code editor</Trans>\n          </p>\n          <RaisedButton\n            label={<Trans>Retry</Trans>}\n            onClick={this.loadMonacoEditor}\n          />\n        </React.Fragment>\n      );\n    }\n\n    if (!MonacoEditor) {\n      return <PlaceholderLoader />;\n    }\n\n    return (\n      <div onContextMenu={this._handleContextMenu}>\n        <PreferencesContext.Consumer>\n          {({ values }) => (\n            <MonacoEditor\n              width={this.props.width || 600}\n              height=\"400\"\n              language=\"javascript\"\n              theme={values.codeEditorThemeName}\n              value={this.props.value}\n              onChange={this.props.onChange}\n              editorWillMount={this.setupEditorThemes}\n              editorDidMount={this.setupEditorCompletions}\n              options={monacoEditorOptions}\n            />\n          )}\n        </PreferencesContext.Consumer>\n      </div>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport { type EventsScope } from '../../EventsScope.flow';\nimport * as React from 'react';\nimport { mapFor } from '../../../Utils/MapFor';\nimport EmptyMessage from '../../../UI/EmptyMessage';\n\nexport type ParameterValues = Array<string>;\n\nconst styles = {\n  container: {\n    display: 'flex',\n    flexDirection: 'column',\n    flex: 1,\n  },\n};\n\ntype Props = {|\n  project?: gdProject,\n  scope: EventsScope,\n  globalObjectsContainer: gdObjectsContainer,\n  objectsContainer: gdObjectsContainer,\n  expressionMetadata: gdExpressionMetadata,\n  parameterValues: ParameterValues,\n  onChangeParameter: (index: number, value: string) => void,\n  parameterRenderingService?: {\n    components: any,\n    getParameterComponent: (type: string) => any,\n  },\n|};\ntype State = {||};\n\nexport default class ExpressionParametersEditor extends React.Component<\n  Props,\n  State\n> {\n  static getNonCodeOnlyParametersCount(\n    expressionMetadata: gdExpressionMetadata\n  ) {\n    return mapFor(0, expressionMetadata.getParametersCount(), i => {\n      const parameterMetadata = expressionMetadata.getParameter(i);\n      return !parameterMetadata.isCodeOnly();\n    }).filter(isVisible => isVisible).length;\n  }\n\n  render() {\n    const {\n      expressionMetadata,\n      parameterValues,\n      project,\n      scope,\n      globalObjectsContainer,\n      objectsContainer,\n      parameterRenderingService,\n    } = this.props;\n\n    if (!parameterRenderingService) {\n      console.error(\n        'Missing parameterRenderingService for ExpressionParametersEditor'\n      );\n      return null;\n    }\n\n    // Create an object mimicking Instruction interface so that it can be used by\n    // ParameterFields components.\n    const parametersCount = expressionMetadata.getParametersCount();\n    const expression = {\n      getParametersCount: () => parametersCount,\n      getParameter: index => {\n        return parameterValues[index] || '';\n      },\n    };\n\n    return (\n      <div style={styles.container}>\n        {mapFor(0, expressionMetadata.getParametersCount(), i => {\n          const parameterMetadata = expressionMetadata.getParameter(i);\n          const ParameterComponent = parameterRenderingService.getParameterComponent(\n            parameterMetadata.getType()\n          );\n\n          if (parameterMetadata.isCodeOnly()) return null;\n          return (\n            <ParameterComponent\n              expressionMetadata={expressionMetadata}\n              expression={expression}\n              parameterMetadata={parameterMetadata}\n              parameterIndex={i}\n              value={parameterValues[i]}\n              onChange={value => this.props.onChangeParameter(i, value)}\n              project={project}\n              scope={scope}\n              globalObjectsContainer={globalObjectsContainer}\n              objectsContainer={objectsContainer}\n              key={i}\n              parameterRenderingService={parameterRenderingService}\n            />\n          );\n        })}\n        {ExpressionParametersEditor.getNonCodeOnlyParametersCount(\n          expressionMetadata\n        ) === 0 && (\n          <EmptyMessage>\n            <Trans>There is nothing to configure.</Trans>\n          </EmptyMessage>\n        )}\n      </div>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport { type EventsScope } from '../../EventsScope.flow';\nimport React, { Component } from 'react';\nimport FlatButton from 'material-ui/FlatButton';\nimport ExpressionParametersEditor from './ExpressionParametersEditor';\nimport Dialog from '../../../UI/Dialog';\n\nexport type ParameterValues = Array<string>;\n\ntype Props = {\n  project?: gdProject,\n  scope: EventsScope,\n  globalObjectsContainer: gdObjectsContainer,\n  objectsContainer: gdObjectsContainer,\n  expressionMetadata: Object,\n  onDone: ParameterValues => void,\n  onRequestClose: () => void,\n  open: boolean,\n  parameterRenderingService?: {\n    components: any,\n    getParameterComponent: (type: string) => any,\n  },\n};\n\ntype State = {\n  parameterValues: ParameterValues,\n};\n\nexport default class ExpressionParametersEditorDialog extends Component<\n  Props,\n  State\n> {\n  state = {\n    parameterValues: [],\n  };\n\n  componentWillMount() {\n    this.setState({\n      parameterValues: Array(\n        this.props.expressionMetadata.getParametersCount()\n      ).fill(''),\n    });\n  }\n\n  render() {\n    const {\n      project,\n      scope,\n      globalObjectsContainer,\n      objectsContainer,\n      expressionMetadata,\n      parameterRenderingService,\n    } = this.props;\n\n    return (\n      <Dialog\n        open={this.props.open}\n        actions={\n          <FlatButton\n            key=\"apply\"\n            label={<Trans>Apply</Trans>}\n            primary\n            onClick={() => this.props.onDone(this.state.parameterValues)}\n          />\n        }\n        modal\n        onRequestClose={this.props.onRequestClose}\n        autoScrollBodyContent\n      >\n        <ExpressionParametersEditor\n          project={project}\n          scope={scope}\n          globalObjectsContainer={globalObjectsContainer}\n          objectsContainer={objectsContainer}\n          expressionMetadata={expressionMetadata}\n          parameterValues={this.state.parameterValues}\n          onChangeParameter={(editedIndex, value) => {\n            this.setState({\n              parameterValues: this.state.parameterValues.map(\n                (oldValue, index) => (index === editedIndex ? value : oldValue)\n              ),\n            });\n          }}\n          parameterRenderingService={parameterRenderingService}\n        />\n      </Dialog>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport React, { Component } from 'react';\nimport { Line } from '../../../../UI/Grid';\nimport ImagePreview from '../../../../ResourcesList/ResourcePreview/ImagePreview';\nimport Replay from 'material-ui/svg-icons/av/replay';\nimport PlayArrow from 'material-ui/svg-icons/av/play-arrow';\nimport Pause from 'material-ui/svg-icons/av/pause';\nimport Timer from 'material-ui/svg-icons/image/timer';\nimport TextField from 'material-ui/TextField';\nimport { FlatButton } from 'material-ui';\n\ntype Props = {|\n  spritesContainer: Object,\n  resourcesLoader: Object,\n  project: Object,\n  timeBetweenFrames: number,\n  onChangeTimeBetweenFrames: number => void,\n|};\n\ntype State = {|\n  currentFrameIndex: number,\n  currentFrameElapsedTime: number,\n  paused: boolean,\n  fps: number,\n|};\n\nconst styles = {\n  timeField: {\n    width: 75,\n  },\n  timeIcon: {\n    paddingLeft: 6,\n    paddingRight: 8,\n  },\n};\n\nexport default class AnimationPreview extends Component<Props, State> {\n  state = {\n    currentFrameIndex: 0,\n    currentFrameElapsedTime: 0,\n    paused: false,\n    fps: Math.round(1 / this.props.timeBetweenFrames),\n  };\n\n  nextUpdate = null;\n\n  componentDidMount() {\n    this.nextUpdate = requestAnimationFrame(this._updateAnimation);\n  }\n\n  componentWillUnmount() {\n    if (this.nextUpdate) cancelAnimationFrame(this.nextUpdate);\n  }\n\n  replay = () =>\n    this.setState({\n      currentFrameIndex: 0,\n      currentFrameElapsedTime: 0,\n      paused: false,\n    });\n\n  play = () =>\n    this.setState({\n      paused: false,\n    });\n\n  pause = () =>\n    this.setState({\n      paused: true,\n    });\n\n  _updateAnimation = () => {\n    const animationSpeedScale = 1;\n\n    const { spritesContainer, timeBetweenFrames } = this.props;\n    const { currentFrameIndex, currentFrameElapsedTime, paused } = this.state;\n\n    const elapsedTime = 1 / 60;\n    let newFrameIndex = currentFrameIndex;\n    let newFrameElapsedTime = currentFrameElapsedTime;\n    newFrameElapsedTime += paused ? 0 : elapsedTime * animationSpeedScale;\n\n    if (newFrameElapsedTime > timeBetweenFrames) {\n      const count = Math.floor(newFrameElapsedTime / timeBetweenFrames);\n      newFrameIndex += count;\n      newFrameElapsedTime = newFrameElapsedTime - count * timeBetweenFrames;\n      if (newFrameElapsedTime < 0) newFrameElapsedTime = 0;\n    }\n\n    if (newFrameIndex >= spritesContainer.getSpritesCount()) {\n      newFrameIndex = spritesContainer.isLooping()\n        ? newFrameIndex % spritesContainer.getSpritesCount()\n        : spritesContainer.getSpritesCount() - 1;\n    }\n    if (newFrameIndex < 0) newFrameIndex = 0; //May happen if there is no frame.\n\n    this.setState({\n      currentFrameIndex: newFrameIndex,\n      currentFrameElapsedTime: newFrameElapsedTime,\n    });\n    this.nextUpdate = requestAnimationFrame(this._updateAnimation);\n  };\n\n  render() {\n    const {\n      spritesContainer,\n      resourcesLoader,\n      project,\n      timeBetweenFrames,\n      onChangeTimeBetweenFrames,\n    } = this.props;\n    const { currentFrameIndex, paused, fps } = this.state;\n\n    const hasValidSprite =\n      currentFrameIndex < spritesContainer.getSpritesCount();\n    const sprite = hasValidSprite\n      ? spritesContainer.getSprite(currentFrameIndex)\n      : null;\n\n    return (\n      <div>\n        <ImagePreview\n          resourceName={sprite ? sprite.getImageName() : ''}\n          resourcesLoader={resourcesLoader}\n          project={project}\n        />\n        <Line noMargin alignItems=\"center\">\n          <span style={styles.timeIcon}>FPS:</span>\n          <TextField\n            value={fps}\n            onChange={(e, text) => {\n              const fps = parseFloat(text);\n              if (fps > 0) {\n                this.setState({ fps });\n                onChangeTimeBetweenFrames(parseFloat((1 / fps).toFixed(4)));\n                this.replay();\n              }\n            }}\n            id=\"direction-time-between-frames\"\n            type=\"number\"\n            step={1}\n            min={1}\n            max={100}\n            style={styles.timeField}\n            autoFocus={true}\n          />\n          <Timer style={styles.timeIcon} />\n          <TextField\n            value={timeBetweenFrames}\n            onChange={(e, text) => {\n              const time = parseFloat(text);\n              if (time > 0) {\n                this.setState({ fps: Math.round(1 / time) });\n                onChangeTimeBetweenFrames(time);\n                this.replay();\n              }\n            }}\n            id=\"direction-time-between-frames\"\n            type=\"number\"\n            step={0.005}\n            precision={2}\n            min={0.01}\n            max={5}\n            style={styles.timeField}\n          />\n          <FlatButton\n            icon={<Replay />}\n            label={<Trans>Replay</Trans>}\n            onClick={this.replay}\n          />\n          <FlatButton\n            icon={paused ? <PlayArrow /> : <Pause />}\n            label={paused ? 'Play' : 'Pause'}\n            onClick={paused ? this.play : this.pause}\n          />\n        </Line>\n      </div>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport React, { Component } from 'react';\nimport Timer from 'material-ui/svg-icons/image/timer';\nimport FlatButton from 'material-ui/FlatButton';\nimport Checkbox from 'material-ui/Checkbox';\nimport Repeat from 'material-ui/svg-icons/av/repeat';\nimport Brush from 'material-ui/svg-icons/image/brush';\nimport PlayArrow from 'material-ui/svg-icons/av/play-arrow';\nimport TextField from 'material-ui/TextField';\nimport Dialog from '../../../UI/Dialog';\nimport AnimationPreview from './AnimationPreview';\nimport ResourcesLoader from '../../../ResourcesLoader';\nimport { type ResourceExternalEditor } from '../../../ResourcesList/ResourceExternalEditor.flow';\n\nconst styles = {\n  container: {\n    paddingLeft: 12,\n    paddingRight: 12,\n    display: 'flex',\n    alignItems: 'center',\n  },\n  timeField: {\n    width: 75,\n  },\n  timeIcon: {\n    paddingLeft: 6,\n    paddingRight: 6,\n  },\n  repeatContainer: {\n    width: 130,\n  },\n  repeatLabel: {\n    whiteSpace: 'nowrap',\n  },\n  spacer: {\n    width: 16,\n  },\n};\n\nconst formatTime = time => Number(time.toFixed(6));\n\ntype Props = {|\n  direction: gdDirection,\n  resourcesLoader: typeof ResourcesLoader,\n  project: gdProject,\n  resourceExternalEditors: Array<ResourceExternalEditor>,\n  onEditWith: ResourceExternalEditor => void,\n|};\n\ntype State = {|\n  timeBetweenFrames: number,\n  timeError: boolean,\n  previewOpen: boolean,\n|};\n\nexport default class DirectionTools extends Component<Props, State> {\n  state = {\n    timeBetweenFrames: formatTime(this.props.direction.getTimeBetweenFrames()),\n    timeError: false,\n    previewOpen: false,\n  };\n\n  componentWillReceiveProps(newProps: Props) {\n    this.setState({\n      timeBetweenFrames: formatTime(\n        this.props.direction.getTimeBetweenFrames()\n      ),\n      timeError: false,\n    });\n  }\n\n  saveTimeBetweenFrames = () => {\n    const { direction } = this.props;\n\n    const newTime = Math.max(parseFloat(this.state.timeBetweenFrames), 0.00001);\n    const newTimeIsValid = !isNaN(newTime);\n\n    if (newTimeIsValid) direction.setTimeBetweenFrames(newTime);\n    this.setState({\n      timeBetweenFrames: formatTime(\n        this.props.direction.getTimeBetweenFrames()\n      ),\n      timeError: newTimeIsValid,\n    });\n  };\n\n  setLooping = (check: boolean) => {\n    const { direction } = this.props;\n\n    direction.setLoop(!!check);\n    this.forceUpdate();\n  };\n\n  openPreview = (open: boolean) => {\n    this.setState({\n      previewOpen: open,\n    });\n    if (!open) {\n      this.saveTimeBetweenFrames();\n    }\n  };\n\n  render() {\n    const {\n      direction,\n      resourcesLoader,\n      project,\n      resourceExternalEditors,\n      onEditWith,\n    } = this.props;\n\n    return (\n      <div style={styles.container}>\n        {!!resourceExternalEditors.length && (\n          <FlatButton\n            label={resourceExternalEditors[0].displayName}\n            icon={<Brush />}\n            onClick={() => onEditWith(resourceExternalEditors[0])}\n          />\n        )}\n        <FlatButton\n          label={<Trans>Preview</Trans>}\n          icon={<PlayArrow />}\n          onClick={() => this.openPreview(true)}\n        />\n        <Timer style={styles.timeIcon} />\n        <TextField\n          value={this.state.timeBetweenFrames}\n          onChange={(e, text) => this.setState({ timeBetweenFrames: text })}\n          onBlur={() => this.saveTimeBetweenFrames()}\n          id=\"direction-time-between-frames\"\n          style={styles.timeField}\n          type=\"number\"\n          step={0.005}\n          precision={2}\n          min={0.01}\n          max={5}\n        />\n        <span style={styles.spacer} />\n        <div style={styles.repeatContainer}>\n          <Checkbox\n            checkedIcon={<Repeat />}\n            uncheckedIcon={<Repeat />}\n            checked={direction.isLooping()}\n            label={direction.isLooping() ? 'Loop' : \"Don't loop\"}\n            onCheck={(e, check) => this.setLooping(check)}\n            labelStyle={styles.repeatLabel}\n          />\n        </div>\n        {this.state.previewOpen && (\n          <Dialog\n            actions={\n              <FlatButton\n                label={<Trans>OK</Trans>}\n                primary\n                onClick={() => this.openPreview(false)}\n              />\n            }\n            autoScrollBodyContent\n            noMargin\n            modal\n            onRequestClose={() => this.openPreview(false)}\n            open={this.state.previewOpen}\n          >\n            <AnimationPreview\n              spritesContainer={direction}\n              resourcesLoader={resourcesLoader}\n              project={project}\n              timeBetweenFrames={this.state.timeBetweenFrames}\n              onChangeTimeBetweenFrames={text =>\n                this.setState({ timeBetweenFrames: text })\n              }\n            />\n          </Dialog>\n        )}\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport IconMenu from 'material-ui/IconMenu';\nimport ReactDOM from 'react-dom';\nimport ElectronMenuImplementation from './ElectronMenuImplementation';\nimport MaterialUIMenuImplementation from './MaterialUIMenuImplementation';\nimport optionalRequire from '../../Utils/OptionalRequire.js';\nconst electron = optionalRequire('electron');\n\nexport default class GDIconMenu extends Component {\n  constructor() {\n    super();\n    this.state = {\n      children: undefined,\n    };\n    this.menuImplementation = electron\n      ? new ElectronMenuImplementation()\n      : new MaterialUIMenuImplementation({ onClose: () => {} });\n  }\n\n  open = event => {\n    if (!this.iconMenu) return;\n\n    const node = ReactDOM.findDOMNode(this.iconMenu);\n    if (!node) return;\n\n    this.setState({\n      children: this.menuImplementation.buildFromTemplate(\n        this.props.buildMenuTemplate()\n      ),\n    });\n    this.menuImplementation.showMenu(node.getBoundingClientRect());\n\n    this.iconMenu.open('unknown', event);\n  };\n\n  _onClick = event => {\n    event.preventDefault();\n    event.stopPropagation();\n    if (!this.iconMenu) return;\n\n    const node = ReactDOM.findDOMNode(this.iconMenu);\n    if (!node) return;\n\n    this.setState({\n      children: this.menuImplementation.buildFromTemplate(\n        this.props.buildMenuTemplate()\n      ),\n    });\n    this.menuImplementation.showMenu(node.getBoundingClientRect());\n  };\n\n  render() {\n    const { buildMenuTemplate, ...iconMenuProps } = this.props; //eslint-disable-line\n\n    // Use disableAutoFocus to avoid making TextField lose focus.\n    // See material-ui bug: https://github.com/callemall/material-ui/issues/4387\n    return (\n      <IconMenu\n        {...iconMenuProps}\n        onClick={this._onClick}\n        ref={iconMenu => (this.iconMenu = iconMenu)}\n        desktop\n        disableAutoFocus\n        {...this.menuImplementation.getMenuProps()}\n      >\n        {this.state.children}\n      </IconMenu>\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport Paper from 'material-ui/Paper';\n\nconst styles = {\n  container: {\n    flex: 1,\n    display: 'flex',\n    height: '100%',\n    flexDirection: 'column',\n  },\n  maxWidth: {\n    maxWidth: '100%',\n  },\n};\n\ntype Props = {|\n  children: ?React.Node,\n  maxWidth?: boolean,\n|};\n\n/**\n * This is the component to be used to display the standard\n * background of editor/windows/dialogs.\n *\n * TODO: All usage of material-ui Paper in other components should be\n * removed in favor of using this component.\n */\nconst Background = (props: Props) => (\n  <Paper\n    style={{\n      ...styles.container,\n      ...(props.maxWidth ? styles.maxWidth : undefined),\n    }}\n  >\n    {props.children}\n  </Paper>\n);\n\nexport default Background;\n","// @flow\nimport createReactContext, { type Context } from 'create-react-context';\n\nexport type AlertMessageIdentifier =\n  | 'use-non-smoothed-textures'\n  | 'use-nearest-scale-mode'\n  | 'maximum-fps-too-low'\n  | 'minimum-fps-too-low'\n  | 'function-extractor-explanation'\n  | 'events-based-behavior-explanation'\n  | 'empty-events-based-behavior-explanation';\n\nexport type PreferencesValues = {|\n  language: string,\n  autoDownloadUpdates: boolean,\n  themeName: string,\n  codeEditorThemeName: string,\n  hiddenAlertMessages: { [AlertMessageIdentifier]: boolean },\n  autoDisplayChangelog: boolean,\n  lastLaunchedVersion: ?string,\n  eventsSheetShowObjectThumbnails: boolean,\n  autosaveOnPreview: boolean,\n|};\n\nexport type Preferences = {|\n  values: PreferencesValues,\n  setLanguage: (language: string) => void,\n  setThemeName: (themeName: string) => void,\n  setCodeEditorThemeName: (codeEditorThemeName: string) => void,\n  setAutoDownloadUpdates: (enabled: boolean) => void,\n  checkUpdates: (forceDownload?: boolean) => void,\n  setAutoDisplayChangelog: (enabled: boolean) => void,\n  showAlertMessage: (identifier: AlertMessageIdentifier, show: boolean) => void,\n  verifyIfIsNewVersion: () => boolean,\n  setEventsSheetShowObjectThumbnails: (enabled: boolean) => void,\n  setAutosaveOnPreview: (enabled: boolean) => void,\n|};\n\nexport const initialPreferences = {\n  values: {\n    language: 'en',\n    autoDownloadUpdates: true,\n    themeName: 'GDevelop default',\n    codeEditorThemeName: 'vs-dark',\n    hiddenAlertMessages: {},\n    autoDisplayChangelog: true,\n    lastLaunchedVersion: undefined,\n    eventsSheetShowObjectThumbnails: true,\n    autosaveOnPreview: true,\n  },\n  setLanguage: () => {},\n  setThemeName: () => {},\n  setCodeEditorThemeName: () => {},\n  setAutoDownloadUpdates: () => {},\n  checkUpdates: () => {},\n  setAutoDisplayChangelog: () => {},\n  showAlertMessage: (identifier: AlertMessageIdentifier, show: boolean) => {},\n  verifyIfIsNewVersion: () => false,\n  setEventsSheetShowObjectThumbnails: () => {},\n  setAutosaveOnPreview: () => {},\n};\n\nconst PreferencesContext: Context<Preferences> = createReactContext(\n  initialPreferences\n);\n\nexport default PreferencesContext;\n","// Note: this file don't use export/imports nor Flow to allow its usage from Node.js\n\nconst optionalRequire = require('../../Utils/OptionalRequire.js');\nconst electron = optionalRequire('electron');\nconst app = electron ? electron.remote.app : null;\nconst fs = optionalRequire('fs');\nconst path = optionalRequire('path');\nconst process = optionalRequire('process');\nvar isDarwin = process && /^darwin/.test(process.platform);\n\nconst tryPath = (\n  path /*: string*/,\n  onExists /*: string => void*/,\n  onNoAccess /*: Function*/\n) =>\n  fs.access(path, fs.constants.R_OK, err => {\n    if (!err) onExists(path);\n    else onNoAccess();\n  });\n\nconst findGDJS = (cb /*: (?string) => void*/) => {\n  if (!path || !process || !fs) return '';\n\n  const appPath = app ? app.getAppPath() : process.cwd();\n\n  // The app path is [...]/*.app/Contents/Resources/app.asar on macOS\n  // and [...]/resources/app.asar on other OSes.\n  const pathToRoot = isDarwin ? '../../../../' : path.join('..', '..');\n  const rootPath = path.join(appPath, pathToRoot);\n\n  // First try to find GDJS in the parent folder (when newIDE is inside IDE)\n  tryPath(path.join(rootPath, '..', 'JsPlatform'), cb, () => {\n    // Or in the resources (for a standalone newIDE)\n    tryPath(path.join(appPath, '..', 'GDJS'), cb, () => {\n      // Or in the resources when developing with Electron\n      const devPath = path.join(\n        appPath,\n        '..',\n        '..',\n        'app',\n        'resources',\n        'GDJS'\n      );\n      tryPath(devPath, cb, () => {\n        cb(null);\n      });\n    });\n  });\n};\n\nmodule.exports = {\n  findGDJS,\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport Paper from 'material-ui/Paper';\nimport Info from 'material-ui/svg-icons/action/info';\nimport Warning from 'material-ui/svg-icons/alert/warning';\nimport { Line } from './Grid';\nimport { FlatButton } from 'material-ui';\n\nconst styles = {\n  icon: { width: 28, height: 28, marginRight: 10, marginLeft: 10 },\n  content: { flex: 1 },\n};\n\ntype Props = {|\n  kind: 'info' | 'warning',\n  children: React.Node,\n  onHide?: () => void,\n|};\n\n/**\n * Show an hint, warning or other message. If you want to allow the user\n * to permanently hide the hint/alert/message, see DismissableAlertMessage.\n */\nconst AlertMessage = ({ kind, children, onHide }: Props) => (\n  <Paper>\n    <Line noMargin alignItems=\"center\">\n      {kind === 'info' && <Info style={styles.icon} />}\n      {kind === 'warning' && <Warning style={styles.icon} />}\n      <p style={styles.content}>{children}</p>\n      {onHide && (\n        <FlatButton label={<Trans>Hide</Trans>} onClick={() => onHide()} />\n      )}\n    </Line>\n  </Paper>\n);\n\nexport default AlertMessage;\n","// @flow\nimport optionalRequire from './OptionalRequire.js';\nconst electron = optionalRequire('electron');\nconst electronClipboard = electron ? electron.clipboard : null;\n\nexport type ClipboardKind = string;\n\nlet internalClipboard = '';\n\nconst mangleClipboardKind = (kind: ClipboardKind): string => {\n  // Mangle the name with GDevelop specific strings and random\n  // characters so that the probability that something that is not\n  // a valid GDevelop clipboard content is recognized as valid is almost 0.\n  return 'GDEVELOP_' + kind + '_CLIPBOARD_KIND-jsBdHbLy912y8Rc';\n};\n\nexport default class Clipboard {\n  static set(kind: ClipboardKind, object: any) {\n    const text = JSON.stringify({\n      '000kind': mangleClipboardKind(kind), /// 000 to ensure the key is written first.\n      content: object,\n    });\n\n    if (electronClipboard) {\n      electronClipboard.writeText(text);\n    } else {\n      internalClipboard = text;\n    }\n  }\n\n  static has(kind: ClipboardKind): boolean {\n    let text = '';\n    if (electronClipboard) {\n      text = electronClipboard.readText();\n    } else {\n      text = internalClipboard;\n    }\n\n    return text.indexOf(mangleClipboardKind(kind)) === 12; /// 12 is the position of '000kind' value\n  }\n\n  static get(kind: ClipboardKind): any {\n    if (!Clipboard.has(kind)) return null;\n\n    let text = '';\n    if (electronClipboard) {\n      text = electronClipboard.readText();\n    } else {\n      text = internalClipboard;\n    }\n\n    try {\n      const parsedText = JSON.parse(text);\n      return parsedText.content;\n    } catch (e) {\n      console.warn('The clipboard content is not valid JSON');\n      return null;\n    }\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport AutoComplete from 'material-ui/AutoComplete';\nimport { defaultAutocompleteProps } from './AutocompleteProps';\n\ntype State = {|\n  focused: boolean,\n  text: ?string,\n|};\n\ntype Props = {|\n  value: string,\n  onChange: string => void,\n  onChoose?: string => void, // Optionally called when Enter pressed or item clicked.\n  dataSource: Array<{|\n    text: string,\n    value: React.Node,\n  |}>,\n\n  // Some AutoComplete props that can be reused:\n  id?: string,\n  onBlur?: (event: {|\n    currentTarget: {|\n      value: string,\n    |},\n  |}) => void,\n  errorText?: React.Node,\n  disabled?: boolean,\n  floatingLabelText?: ?React.Node,\n  hintText?: React.Node,\n  fullWidth?: boolean,\n  textFieldStyle?: Object,\n  menuProps?: {|\n    maxHeight?: number,\n  |},\n  popoverProps?: {\n    canAutoPosition?: boolean,\n  },\n  filter?: (string, string) => boolean,\n  openOnFocus?: boolean,\n|};\n\n/**\n * This component works like a material-ui AutoComplete, except that\n * the value passed as props is not forced into the text field when the user\n * is typing. This is useful if the parent component can do modifications on the value:\n * the user won't be interrupted or have the value changed until he blurs the field.\n */\nexport default class SemiControlledAutoComplete extends React.Component<\n  Props,\n  State\n> {\n  state = { focused: false, text: null };\n  _field: ?AutoComplete;\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  render() {\n    const {\n      floatingLabelText,\n      value,\n      onChange,\n      onChoose,\n      dataSource,\n      onBlur,\n      ...otherProps\n    } = this.props;\n\n    return (\n      <AutoComplete\n        {...defaultAutocompleteProps}\n        {...otherProps}\n        floatingLabelText={floatingLabelText}\n        searchText={this.state.focused ? this.state.text : value}\n        onFocus={() => {\n          this.setState({\n            focused: true,\n            text: value,\n          });\n        }}\n        onUpdateInput={value => {\n          this.setState({\n            focused: true,\n            text: value,\n          });\n        }}\n        onBlur={event => {\n          onChange(event.currentTarget.value);\n          this.setState({\n            focused: false,\n            text: null,\n          });\n\n          if (onBlur) onBlur(event);\n        }}\n        onNewRequest={data => {\n          const callback = onChoose || onChange;\n          // Note that data may be a string or a {text, value} object.\n          if (typeof data === 'string') {\n            callback(data);\n          } else if (typeof data.value === 'string') {\n            callback(data.value);\n          }\n          this.focus(); // Keep the focus after choosing an item\n        }}\n        dataSource={dataSource}\n        ref={field => (this._field = field)}\n      />\n    );\n  }\n}\n","/**\n * RenderedInstance is the base class used for creating renderers of instances,\n * which display on the scene editor, using Pixi.js, the instance of an object (see InstancesEditor).\n *\n * @class RenderedInstance\n * @constructor\n */\nfunction RenderedInstance(\n  project,\n  layout,\n  instance,\n  associatedObject,\n  pixiContainer,\n  pixiResourcesLoader\n) {\n  this._pixiObject = null;\n  this._instance = instance;\n  this._associatedObject = associatedObject;\n  this._pixiContainer = pixiContainer;\n  this._project = project;\n  this._layout = layout;\n  this._pixiResourcesLoader = pixiResourcesLoader;\n  this.wasUsed = true; //Used by InstancesRenderer to track rendered instance that are not used anymore.\n}\n\n/**\n * Convert an angle from degrees to radians.\n */\nRenderedInstance.toRad = function(angleInDegrees) {\n  return (angleInDegrees / 180) * 3.14159;\n};\n\n/**\n * Called when the scene editor is rendered.\n */\nRenderedInstance.prototype.update = function() {\n  //Nothing to do.\n};\n\nRenderedInstance.prototype.getPixiObject = function() {\n  return this._pixiObject;\n};\n\nRenderedInstance.prototype.getInstance = function() {\n  return this._instance;\n};\n\n/**\n * Called to notify the instance renderer that its associated instance was removed from\n * the scene. The PIXI object should probably be removed from the container: This is what\n * the default implementation of the method does.\n */\nRenderedInstance.prototype.instanceRemovedFromScene = function() {\n  if (\n    this._pixiObject !== null &&\n    this._pixiContainer.children.indexOf(this._pixiObject) !== -1\n  )\n    this._pixiContainer.removeChild(this._pixiObject);\n};\n\nRenderedInstance.prototype.getOriginX = function() {\n  return 0;\n};\n\nRenderedInstance.prototype.getOriginY = function() {\n  return 0;\n};\n\n/**\n * Return the width of the instance when the instance doesn't have a custom size.\n */\nRenderedInstance.prototype.getDefaultWidth = function() {\n  return 32;\n};\n\n/**\n * Return the height of the instance when the instance doesn't have a custom size.\n */\nRenderedInstance.prototype.getDefaultHeight = function() {\n  return 32;\n};\n\nexport default RenderedInstance;\n","// @flow\nimport * as React from 'react';\nimport { serializeToJSObject } from '../../Utils/Serializer';\nimport { rgbToHexNumber } from '../../Utils/ColorTransformer';\n\n//TODO: try BaseEditor<Props,State>\nexport default class BaseEditor extends React.Component<*, *> {\n  static defaultProps = {\n    setToolbar: () => {},\n  };\n\n  getProject(): ?gdProject {\n    return this.props.project;\n  }\n\n  getLayout(): ?gdLayout {\n    return null;\n  }\n\n  saveUiSettings = () => {\n    // Implement in the editor, if needed.\n  };\n\n  shouldComponentUpdate(nextProps: *) {\n    // Prevent any update to the editor if the editor is not active,\n    // and so not visible to the user. For editors that do special work when isActive\n    // is set to false (for example to disable PIXI rendering), shouldComponentUpdate\n    // should be overriden with a proper implementation.\n    if (!nextProps.isActive) {\n      return false;\n    }\n\n    return true;\n  }\n\n  updateToolbar() {\n    console.warn('No toolbar defined for this editor');\n\n    if (this.props.setToolbar) this.props.setToolbar(null);\n  }\n\n  getSerializedElements() {\n    throw new Error(\n      'The editor has not implemented getSerializedElements to return what should be serialized'\n    );\n  }\n\n  static getLayoutSerializedElements(layout: ?gdLayout) {\n    if (!layout) return {};\n\n    return {\n      windowTitle: layout.getWindowDefaultTitle(),\n      layers: serializeToJSObject(layout, 'serializeLayersTo'),\n      backgroundColor:\n        '' +\n        rgbToHexNumber(\n          layout.getBackgroundColorRed(),\n          layout.getBackgroundColorGreen(),\n          layout.getBackgroundColorBlue()\n        ),\n    };\n  }\n}\n","// @flow\nimport React, { PureComponent } from 'react';\nimport IconButton from 'material-ui/IconButton';\nimport ThemeConsumer from './Theme/ThemeConsumer';\n// No i18n in this file\n\ntype Props = {\n  src: string,\n  tooltip?: string,\n  disabled?: boolean,\n  isGDevelopIcon?: boolean,\n  iconSize: number,\n};\n\n/**\n * An icon that can be used as the leftIcon of a material-ui ListItem.\n * See also ToolbarIcon.\n */\nexport default class ListIcon extends PureComponent<Props> {\n  render() {\n    const {\n      src,\n      tooltip,\n      disabled,\n      isGDevelopIcon,\n      iconSize,\n      ...otherProps\n    } = this.props;\n\n    const margin = -iconSize / 2;\n\n    return (\n      <ThemeConsumer>\n        {muiTheme => (\n          <IconButton\n            {...otherProps}\n            iconStyle={{\n              //Properly align icons with the rest of the list\n              marginLeft: margin,\n              marginTop: margin,\n              maxWidth: iconSize,\n              maxHeight: iconSize,\n              filter: !isGDevelopIcon\n                ? undefined\n                : disabled\n                ? 'grayscale(100%)'\n                : muiTheme.gdevelopIconsCSSFilter,\n            }}\n          >\n            <img\n              title={tooltip}\n              alt={tooltip}\n              src={src}\n              crossOrigin=\"anonymous\"\n            />\n          </IconButton>\n        )}\n      </ThemeConsumer>\n    );\n  }\n}\n","// TODO: add flow\nimport createReactContext, { type Context } from 'create-react-context';\n\nexport type UserProfile = {|\n  authenticated: boolean,\n  profile: ?Profile,\n  limits: ?Limits,\n  usages: ?Usages,\n  subscription: ?Subscription,\n  onLogout: () => void,\n  onLogin: () => void,\n  onRefreshUserProfile: () => void,\n|};\n\nexport const initialUserProfile = {\n  authenticated: false,\n  profile: null,\n  subscription: null,\n  usages: null,\n  limits: null,\n  onLogout: () => {},\n  onLogin: () => {},\n  onRefreshUserProfile: () => {},\n};\n\nconst UserProfileContext: Context<UserProfile> = createReactContext(\n  initialUserProfile\n);\n\nexport default UserProfileContext;\n","// @flow\n\nexport const getHelpLink = (path: string): string =>\n  `http://wiki.compilgames.net/doku.php/gdevelop5${path}?utm_source=gdevelop&utm_medium=help-link`;\n","import { Trans } from '@lingui/macro';\nimport React, { Component } from 'react';\nimport FlatButton from 'material-ui/FlatButton';\nimport Dialog from '../UI/Dialog';\nimport { withSerializableObject } from '../Utils/SerializableObjectEditorContainer';\nimport VariablesList from './index';\n\nconst gd = global.gd;\n\nexport class VariablesEditorDialog extends Component {\n  render() {\n    const {\n      onCancel,\n      onApply,\n      open,\n      onEditObjectVariables,\n      title,\n      emptyExplanationMessage,\n      emptyExplanationSecondMessage,\n      variablesContainer,\n    } = this.props;\n    const actions = [\n      <FlatButton\n        label={<Trans>Cancel</Trans>}\n        onClick={this.props.onCancel}\n        key={'Cancel'}\n      />,\n      <FlatButton\n        label={<Trans>Apply</Trans>}\n        primary\n        keyboardFocused\n        onClick={onApply}\n        key={'Apply'}\n      />,\n    ];\n    const secondaryActions = onEditObjectVariables ? (\n      <FlatButton\n        label={<Trans>Edit Object Variables</Trans>}\n        primary={false}\n        onClick={onEditObjectVariables}\n      />\n    ) : null;\n\n    return (\n      <Dialog\n        noMargin\n        actions={actions}\n        modal\n        open={open}\n        onRequestClose={onCancel}\n        autoScrollBodyContent\n        secondaryActions={secondaryActions}\n        title={title}\n      >\n        <VariablesList\n          variablesContainer={variablesContainer}\n          emptyExplanationMessage={emptyExplanationMessage}\n          emptyExplanationSecondMessage={emptyExplanationSecondMessage}\n          onSizeUpdated={\n            () =>\n              this.forceUpdate() /*Force update to ensure dialog is properly positionned*/\n          }\n        />\n      </Dialog>\n    );\n  }\n}\n\nexport default withSerializableObject(VariablesEditorDialog, {\n  newObjectCreator: () => new gd.VariablesContainer(),\n  propName: 'variablesContainer',\n});\n","// @flow\nimport * as React from 'react';\nimport AutoComplete from 'material-ui/AutoComplete';\nimport MenuItem from 'material-ui/MenuItem';\nimport Divider from 'material-ui/Divider';\nimport IconButton from 'material-ui/IconButton';\nimport Add from 'material-ui/svg-icons/content/add';\nimport Brush from 'material-ui/svg-icons/image/brush';\nimport {\n  type ResourceSource,\n  type ChooseResourceFunction,\n  type ResourceKind,\n} from '../ResourcesList/ResourceSource.flow';\nimport { type ResourceExternalEditor } from '../ResourcesList/ResourceExternalEditor.flow';\nimport IconMenu from '../UI/Menu/IconMenu';\nimport ResourcesLoader from '../ResourcesLoader';\nimport { defaultAutocompleteProps } from '../UI/AutocompleteProps';\nimport { applyResourceDefaults } from './ResourceUtils';\n\ntype Props = {|\n  project: gdProject,\n  resourceSources: Array<ResourceSource>,\n  onChooseResource: ChooseResourceFunction,\n  resourceExternalEditors: Array<ResourceExternalEditor>,\n  resourcesLoader: typeof ResourcesLoader,\n  resourceKind: ResourceKind,\n  fullWidth?: boolean,\n  initialResourceName: string,\n  onChange: string => void,\n  floatingLabelText?: React.Node,\n  hintText?: React.Node,\n|};\n\ntype State = {|\n  notExistingError: boolean,\n  resourceName: string,\n|};\n\ntype AutoCompleteItem =\n  | {|\n      text: string,\n      value: React.Node,\n      onClick?: () => void,\n    |}\n  | string;\n\nconst styles = {\n  autoComplete: { minWidth: 300 },\n  container: { display: 'flex', flex: 1, alignItems: 'baseline' },\n};\n\nexport default class ResourceSelector extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n\n    this.state = {\n      notExistingError: false,\n      resourceName: props.initialResourceName || '',\n    };\n\n    const { project } = props;\n    if (project) {\n      this._loadFrom(project.getResourcesManager());\n    }\n  }\n\n  allResourcesNames: Array<string>;\n  defaultItems: Array<AutoCompleteItem>;\n  autoCompleteData: ?Array<AutoCompleteItem>;\n  _autoComplete: ?AutoComplete;\n\n  focus() {\n    if (this._autoComplete) this._autoComplete.focus();\n  }\n\n  componentWillReceiveProps(nextProps: Props) {\n    if (nextProps.initialResourceName !== this.props.initialResourceName) {\n      this.setState({\n        resourceName: nextProps.initialResourceName || '',\n      });\n    }\n  }\n\n  _getDefaultItems(): Array<AutoCompleteItem> {\n    const sources = this.props.resourceSources || [];\n    return [\n      ...sources\n        .filter(source => source.kind === this.props.resourceKind)\n        .map(source => ({\n          text: '',\n          value: (\n            <MenuItem primaryText={source.displayName} rightIcon={<Add />} />\n          ),\n          onClick: () => this._addFrom(source),\n        })),\n      {\n        text: '',\n        value: <Divider />,\n      },\n    ];\n  }\n\n  _loadFrom(resourcesManager: gdResourcesManager) {\n    this.allResourcesNames = resourcesManager.getAllResourceNames().toJSArray();\n    if (this.props.resourceKind) {\n      this.allResourcesNames = this.allResourcesNames.filter(resourceName => {\n        return (\n          resourcesManager.getResource(resourceName).getKind() ===\n          this.props.resourceKind\n        );\n      });\n    }\n    this.defaultItems = this._getDefaultItems();\n    this.autoCompleteData = [...this.defaultItems, ...this.allResourcesNames];\n  }\n\n  _addFrom = (source: ResourceSource) => {\n    if (!source) return;\n\n    const { project, onChooseResource } = this.props;\n    onChooseResource(source.name, false)\n      .then(resources => {\n        if (!resources.length) return;\n        const resource = resources[0];\n        applyResourceDefaults(project, resource);\n\n        // addResource will check if a resource with the same name exists, and if it is\n        // the case, no new resource will be added.\n        project.getResourcesManager().addResource(resource);\n\n        this._loadFrom(project.getResourcesManager());\n        this._onUpdate(resource.getName());\n\n        // Important, we are responsible for deleting the resources that were given to us.\n        // Otherwise we have a memory leak, as calling addResource is making a copy of the resource.\n        resources.forEach(resource => resource.delete());\n      })\n      .catch(err => {\n        // TODO: Display an error message\n        console.error('Unable to choose a resource', err);\n      });\n  };\n\n  _onUpdate = (searchText: string) => {\n    this.setState(\n      {\n        resourceName: searchText,\n        notExistingError: this.allResourcesNames.indexOf(searchText) === -1,\n      },\n      () => {\n        if (!this.state.notExistingError) {\n          if (this.props.onChange) this.props.onChange(searchText);\n        }\n\n        // Keep focusing the field after choosing something (won't do anything\n        // if we're just typing text).\n        this.focus();\n      }\n    );\n  };\n\n  _onItemChosen = (text: string, index: number) => {\n    if (index === -1 || index >= this.defaultItems.length)\n      return this._onUpdate(text);\n\n    // We're now sure that onClick is defined\n    // $FlowFixMe\n    const onClick = this.defaultItems[index].onClick;\n    if (onClick) onClick();\n  };\n\n  _editWith = (resourceExternalEditor: ResourceExternalEditor) => {\n    const { project, resourcesLoader, resourceKind } = this.props;\n    const { resourceName } = this.state;\n    const resourcesManager = project.getResourcesManager();\n    const initialResource = resourcesManager.getResource(resourceName);\n\n    let initialResourceMetadata = {};\n    const initialResourceMetadataRaw = initialResource.getMetadata();\n    if (initialResourceMetadataRaw) {\n      try {\n        initialResourceMetadata = JSON.parse(initialResourceMetadataRaw);\n      } catch (e) {\n        console.error('Malformed metadata', e);\n      }\n    }\n\n    if (resourceKind === 'image') {\n      const resourceNames = [];\n      if (resourcesManager.hasResource(resourceName)) {\n        resourceNames.push(resourceName);\n      }\n      const externalEditorOptions = {\n        project,\n        resourcesLoader,\n        singleFrame: true,\n        resourceNames,\n        extraOptions: {\n          fps: 0,\n          name: resourceName,\n          isLooping: false,\n          externalEditorData: initialResourceMetadata,\n        },\n        onChangesSaved: resources => {\n          if (!resources.length) return;\n\n          // Burst the ResourcesLoader cache to force images to be reloaded (and not cached by the browser).\n          resourcesLoader.burstUrlsCacheForResources(project, [\n            resources[0].name,\n          ]);\n          this.props.onChange(resources[0].name);\n        },\n      };\n      resourceExternalEditor.edit(externalEditorOptions);\n    } else if (resourceKind === 'audio') {\n      const externalEditorOptions = {\n        project,\n        resourcesLoader,\n        resourceNames: [resourceName],\n        extraOptions: {\n          initialResourceMetadata,\n        },\n        onChangesSaved: (newResourceData, newResourceName) => {\n          // Burst the ResourcesLoader cache to force audio to be reloaded (and not cached by the browser).\n          resourcesLoader.burstUrlsCacheForResources(project, [\n            newResourceName,\n          ]);\n          this.props.onChange(newResourceName);\n        },\n      };\n      resourceExternalEditor.edit(externalEditorOptions);\n    }\n  };\n\n  render() {\n    const errorText = this.state.notExistingError\n      ? 'This resource does not exist in the game'\n      : null;\n\n    const externalEditors = this.props.resourceExternalEditors.filter(\n      externalEditor => externalEditor.kind === this.props.resourceKind\n    );\n\n    return (\n      <div style={styles.container}>\n        <AutoComplete\n          {...defaultAutocompleteProps}\n          floatingLabelText={this.props.floatingLabelText}\n          hintText={this.props.hintText}\n          openOnFocus\n          dataSource={this.autoCompleteData || []}\n          onUpdateInput={this._onUpdate}\n          onNewRequest={this._onItemChosen}\n          errorText={errorText}\n          searchText={this.state.resourceName}\n          fullWidth={this.props.fullWidth}\n          style={styles.autoComplete}\n          ref={autoComplete => (this._autoComplete = autoComplete)}\n        />\n        {!!externalEditors.length && (\n          <IconMenu\n            iconButtonElement={\n              <IconButton>\n                <Brush />\n              </IconButton>\n            }\n            buildMenuTemplate={() =>\n              externalEditors.map(externalEditor => ({\n                label: externalEditor.displayName,\n                click: () => this._editWith(externalEditor),\n              }))\n            }\n          />\n        )}\n      </div>\n    );\n  }\n}\n","// @flow\nimport ResourcesLoader from '../ResourcesLoader';\nimport optionalRequire from '../Utils/OptionalRequire.js';\nconst fs = optionalRequire('fs');\nconst path = optionalRequire('path');\nconst gd = global.gd;\n\nexport const RESOURCE_EXTENSIONS = {\n  image: 'png,jpg,jpeg,PNG,JPG,JPEG',\n  audio: 'wav,mp3,ogg,WAV,MP3,OGG',\n  font: 'ttf,ttc,otf,TTF,TTC,OTF',\n  video: 'mp4,MP4',\n};\n\nexport const createOrUpdateResource = (\n  project: gdProject,\n  newlyCreatedResource: gdResource,\n  resourceName: string\n) => {\n  const resourcesManager = project.getResourcesManager();\n  if (resourcesManager.hasResource(resourceName)) {\n    resourcesManager.removeResource(resourceName);\n  }\n  newlyCreatedResource.setFile(resourceName);\n  newlyCreatedResource.setName(resourceName);\n  applyResourceDefaults(project, newlyCreatedResource);\n\n  // Important, we are responsible for deleting the resources that was given to us.\n  // Otherwise we have a memory leak.\n  resourcesManager.addResource(newlyCreatedResource);\n\n  newlyCreatedResource.delete();\n};\n\n/**\n * Get the local path of a resource. This works by asking the ResourcesLoader\n * for the resource URL, then stripping anything that is specific to a URL.\n */\nexport const getLocalResourceFullPath = (\n  project: gdProject,\n  resourceName: string\n) => {\n  let resourcePath = ResourcesLoader.getResourceFullUrl(\n    project,\n    resourceName\n  ).substring(7 /* Remove \"file://\" from the URL to get a local path */);\n\n  if (resourcePath.indexOf('?cache=') !== -1) {\n    // Remove, if needed, the cache bursting argument from the URL.\n    resourcePath = resourcePath.substring(\n      0,\n      resourcePath.lastIndexOf('?cache=')\n    );\n  }\n  return resourcePath;\n};\n\nexport const isPathInProjectFolder = (\n  project: gdProject,\n  resourcePath: string\n) => {\n  const projectPath = path.dirname(project.getProjectFile());\n  return resourcePath.includes(projectPath);\n};\n\nexport const confirmResourcePath = (\n  project: gdProject,\n  resourcePath: string\n) => {\n  if (!isPathInProjectFolder(project, resourcePath)) {\n    // eslint-disable-next-line\n    const answer = confirm(\n      resourcePath +\n        ' is located outside of the project folder. If the project is moved, the path to the resource can be broken.\\nAre you sure you want to proceed?'\n    );\n    return answer;\n  }\n  return true;\n};\n\nexport const getResourceFilePathStatus = (\n  project: gdProject,\n  resourceName: string\n) => {\n  if (!fs) return 0;\n  const resourcePath = path.normalize(\n    getLocalResourceFullPath(project, resourceName)\n  );\n\n  // The resource path doesn't exist\n  if (!fs.existsSync(resourcePath)) return 'error';\n\n  // The resource path is outside of the project folder\n  if (!isPathInProjectFolder(project, resourcePath)) return 'warning';\n\n  // The resource path seems ok\n  return '';\n};\n\nexport const applyResourceDefaults = (\n  project: gdProject,\n  newResource: gdResource\n) => {\n  if (newResource instanceof gd.ImageResource) {\n    newResource.setSmooth(project.getScaleMode() !== 'nearest');\n  }\n};\n","// @flow\nimport { mapFor } from '../Utils/MapFor';\nimport flatten from 'lodash/flatten';\nimport { type SelectedTags, hasStringAllTags } from '../Utils/TagsHelper';\nconst gd = global.gd;\n\nexport type EnumeratedObjectMetadata = {|\n  extension: gdPlatformExtension,\n  objectMetadata: gdObjectMetadata,\n  name: string,\n  fullName: string,\n  description: string,\n  iconFilename: string,\n|};\n\nexport type ObjectWithContext = {|\n  object: gdObject,\n  global: boolean,\n|};\n\nexport type GroupWithContext = {|\n  group: gdObjectGroup,\n  global: boolean,\n|};\n\nexport type ObjectWithContextList = Array<ObjectWithContext>;\nexport type GroupWithContextList = Array<GroupWithContext>;\n\nexport const enumerateObjects = (\n  project: gdProject,\n  objectsContainer: gdObjectsContainer,\n  type: ?string = undefined\n) => {\n  const filterObject = (object: gdObject): boolean => {\n    return (\n      !type ||\n      gd.getTypeOfObject(project, objectsContainer, object.getName(), false) ===\n        type\n    );\n  };\n\n  const containerObjectsList: ObjectWithContextList = mapFor(\n    0,\n    objectsContainer.getObjectsCount(),\n    i => objectsContainer.getObjectAt(i)\n  )\n    .filter(filterObject)\n    .map((object: gdObject): ObjectWithContext => ({ object, global: false }));\n\n  const projectObjectsList: ObjectWithContextList =\n    project === objectsContainer\n      ? []\n      : mapFor(0, project.getObjectsCount(), i => project.getObjectAt(i))\n          .filter(filterObject)\n          .map(\n            (object: gdObject): ObjectWithContext => ({\n              object,\n              global: true,\n            })\n          );\n\n  const allObjectsList: ObjectWithContextList = containerObjectsList.concat(\n    projectObjectsList\n  );\n\n  return {\n    containerObjectsList,\n    projectObjectsList,\n    allObjectsList,\n  };\n};\n\nexport const enumerateObjectTypes = (\n  project: gdProject\n): Array<EnumeratedObjectMetadata> => {\n  const platform = project.getCurrentPlatform();\n  const extensionsList = platform.getAllPlatformExtensions();\n\n  return flatten(\n    mapFor(0, extensionsList.size(), i => {\n      const extension = extensionsList.at(i);\n\n      return extension\n        .getExtensionObjectsTypes()\n        .toJSArray()\n        .map(objectType => extension.getObjectMetadata(objectType))\n        .map(objectMetadata => ({\n          extension,\n          objectMetadata,\n          name: objectMetadata.getName(),\n          fullName: objectMetadata.getFullName(),\n          description: objectMetadata.getDescription(),\n          iconFilename: objectMetadata.getIconFilename(),\n        }));\n    })\n  );\n};\n\nexport type ObjectFilteringOptions = {|\n  searchText: string,\n  selectedTags: SelectedTags,\n|};\n\nexport const filterObjectsList = (\n  list: ObjectWithContextList,\n  { searchText, selectedTags }: ObjectFilteringOptions\n): ObjectWithContextList => {\n  if (!searchText && !selectedTags.length) return list;\n\n  const lowercaseSearchText = searchText.toLowerCase();\n\n  return list\n    .filter((objectWithContext: ObjectWithContext) => {\n      if (!selectedTags.length) return true;\n\n      const objectTags = objectWithContext.object.getTags();\n      return hasStringAllTags(objectTags, selectedTags);\n    })\n    .filter((objectWithContext: ObjectWithContext) => {\n      return (\n        objectWithContext.object\n          .getName()\n          .toLowerCase()\n          .indexOf(lowercaseSearchText) !== -1\n      );\n    });\n};\n\nexport const filterGroupsList = (\n  list: GroupWithContextList,\n  searchText: string\n): GroupWithContextList => {\n  if (!searchText) return list;\n\n  const lowercaseSearchText = searchText.toLowerCase();\n\n  return list.filter((groupWithContext: GroupWithContext) => {\n    return (\n      groupWithContext.group\n        .getName()\n        .toLowerCase()\n        .indexOf(lowercaseSearchText) !== -1\n    );\n  });\n};\n\nexport const enumerateGroups = (\n  objectGroups: gdObjectGroupsContainer\n): Array<gdObjectGroup> => {\n  return mapFor(0, objectGroups.count(), i => {\n    return objectGroups.getAt(i);\n  });\n};\n\nexport const enumerateObjectsAndGroups = (\n  globalObjectsContainer: gdObjectsContainer,\n  objectsContainer: gdObjectsContainer,\n  type: ?string = undefined\n) => {\n  const filterObject = (object: gdObject): boolean => {\n    return (\n      !type ||\n      gd.getTypeOfObject(\n        globalObjectsContainer,\n        objectsContainer,\n        object.getName(),\n        false\n      ) === type\n    );\n  };\n  const filterGroup = (group: gdObjectGroup): boolean => {\n    return (\n      !type ||\n      gd.getTypeOfObject(\n        globalObjectsContainer,\n        objectsContainer,\n        group.getName(),\n        true\n      ) === type\n    );\n  };\n\n  const containerObjectsList: ObjectWithContextList = mapFor(\n    0,\n    objectsContainer.getObjectsCount(),\n    i => objectsContainer.getObjectAt(i)\n  )\n    .filter(filterObject)\n    .map(object => ({ object, global: false }));\n\n  const containerGroups = objectsContainer.getObjectGroups();\n  const containerGroupsList: GroupWithContextList = enumerateGroups(\n    containerGroups\n  )\n    .filter(filterGroup)\n    .map(group => ({ group, global: false }));\n\n  const projectObjectsList: ObjectWithContextList =\n    globalObjectsContainer === objectsContainer\n      ? []\n      : mapFor(0, globalObjectsContainer.getObjectsCount(), i =>\n          globalObjectsContainer.getObjectAt(i)\n        )\n          .filter(filterObject)\n          .map(object => ({ object, global: true }));\n\n  const projectGroups = globalObjectsContainer.getObjectGroups();\n  const projectGroupsList: GroupWithContextList =\n    globalObjectsContainer === objectsContainer\n      ? []\n      : enumerateGroups(projectGroups)\n          .filter(filterGroup)\n          .map(group => ({ group, global: true }));\n\n  const allObjectsList: ObjectWithContextList = containerObjectsList.concat(\n    projectObjectsList\n  );\n  const allGroupsList: GroupWithContextList = containerGroupsList.concat(\n    projectGroupsList\n  );\n\n  return {\n    containerObjectsList,\n    projectObjectsList,\n    allObjectsList,\n    containerGroupsList,\n    projectGroupsList,\n    allGroupsList,\n  };\n};\n","// @flow\n\n// Helpers to manipulate tags. See also EditTagsDialog.js\n\nexport type Tags = Array<string>;\nexport type SelectedTags = Tags;\n\nexport const removeTag = (tags: Tags, tag: string): Tags => {\n  return tags.filter(selectedTag => selectedTag !== tag);\n};\n\nexport const addTags = (tags: Tags, newTags: Tags): Tags => {\n  return Array.from(new Set([...tags, ...newTags]));\n};\n\nexport type BuildTagsMenuTemplateOptions = {|\n  noTagLabel: string,\n  getAllTags: () => Array<string>,\n  selectedTags: SelectedTags,\n  onChange: SelectedTags => void,\n  onEditTags?: () => void,\n  editTagsLabel?: string,\n|};\n\nexport const buildTagsMenuTemplate = ({\n  noTagLabel,\n  getAllTags,\n  selectedTags,\n  onChange,\n  onEditTags,\n  editTagsLabel,\n}: BuildTagsMenuTemplateOptions): Array<any> => {\n  const allTags = getAllTags();\n  const footerMenuItems =\n    onEditTags && editTagsLabel\n      ? [\n          {\n            type: 'separator',\n          },\n          {\n            label: editTagsLabel,\n            click: onEditTags,\n          },\n        ]\n      : [];\n\n  if (!allTags.length) {\n    return [\n      {\n        label: noTagLabel,\n        enabled: false,\n      },\n      ...footerMenuItems,\n    ];\n  }\n\n  return allTags\n    .map(tag => ({\n      type: 'checkbox',\n      label: tag,\n      checked: selectedTags.includes(tag),\n      click: () => {\n        if (selectedTags.includes(tag)) {\n          onChange(removeTag(selectedTags, tag));\n        } else {\n          onChange(addTags(selectedTags, [tag]));\n        }\n      },\n    }))\n    .concat(footerMenuItems);\n};\n\nexport const getTagsFromString = (tagsString: string): Tags => {\n  if (tagsString.trim() === '') return [];\n\n  return tagsString.split(',').map(tag => tag.trim());\n};\n\nexport const getStringFromTags = (tags: Tags): string => {\n  return tags.join(', ');\n};\n\nexport const hasStringAllTags = (tagsString: string, tags: Tags) => {\n  for (const tag of tags) {\n    if (tagsString.indexOf(tag) === -1) return false;\n  }\n\n  return true;\n};\n","import RenderedUnknownInstance from './Renderers/RenderedUnknownInstance';\nimport RenderedSpriteInstance from './Renderers/RenderedSpriteInstance';\nimport RenderedTiledSpriteInstance from './Renderers/RenderedTiledSpriteInstance';\nimport RenderedPanelSpriteInstance from './Renderers/RenderedPanelSpriteInstance';\nimport RenderedTextInstance from './Renderers/RenderedTextInstance';\nimport RenderedShapePainterInstance from './Renderers/RenderedShapePainterInstance';\nimport RenderedTextEntryInstance from './Renderers/RenderedTextEntryInstance';\nimport RenderedParticleEmitterInstance from './Renderers/RenderedParticleEmitterInstance';\nimport PixiResourcesLoader from './PixiResourcesLoader';\nimport ResourcesLoader from '../ResourcesLoader';\nimport RenderedInstance from './Renderers/RenderedInstance';\nimport * as PIXI from 'pixi.js';\nconst gd = global.gd;\n\n/**\n * A service containing functions that are called to render instances\n * of objects in a PIXI.Container.\n */\nexport default {\n  renderers: {\n    unknownObjectType: RenderedUnknownInstance,\n    Sprite: RenderedSpriteInstance,\n    'TiledSpriteObject::TiledSprite': RenderedTiledSpriteInstance,\n    'PanelSpriteObject::PanelSprite': RenderedPanelSpriteInstance,\n    'TextObject::Text': RenderedTextInstance,\n    'PrimitiveDrawing::Drawer': RenderedShapePainterInstance,\n    'TextEntryObject::TextEntry': RenderedTextEntryInstance,\n    'ParticleSystem::ParticleEmitter': RenderedParticleEmitterInstance,\n  },\n  getThumbnail: function(project, object) {\n    var objectType = object.getType();\n    if (this.renderers.hasOwnProperty(objectType))\n      return this.renderers[objectType].getThumbnail(\n        project,\n        ResourcesLoader,\n        object\n      );\n    else\n      return this.renderers['unknownObjectType'].getThumbnail(\n        project,\n        ResourcesLoader,\n        object\n      );\n  },\n  createNewInstanceRenderer: function(\n    project,\n    layout,\n    instance,\n    associatedObject,\n    pixiContainer\n  ) {\n    var objectType = associatedObject.getType();\n    if (this.renderers.hasOwnProperty(objectType))\n      return new this.renderers[objectType](\n        project,\n        layout,\n        instance,\n        associatedObject,\n        pixiContainer,\n        PixiResourcesLoader\n      );\n    else {\n      console.warn(\n        `Object with type ${objectType} has no instance renderer registered. Please use registerInstanceRenderer to register your renderer.`\n      );\n      return new this.renderers['unknownObjectType'](\n        project,\n        layout,\n        instance,\n        associatedObject,\n        pixiContainer,\n        PixiResourcesLoader\n      );\n    }\n  },\n  registerInstanceRenderer: function(objectType, renderer) {\n    if (!renderer.getThumbnail) {\n      console.warn(\n        `Tried to register renderer for object \"${objectType}\", but getThumbnail is not defined.`\n      );\n      return;\n    }\n\n    if (this.renderers.hasOwnProperty(objectType)) {\n      console.warn(\n        `Tried to register renderer for object \"${objectType}\", but a renderer already exists.`\n      );\n      return;\n    }\n\n    console.info(`Properly registered renderer for object \"${objectType}\".`);\n    this.renderers[objectType] = renderer;\n  },\n  gd, // Expose gd so that it can be used by renderers\n  PIXI, // Expose PIXI so that it can be used by renderers\n  RenderedInstance, // Expose the base class for renderers so that it can be used by renderers\n};\n","// @flow\nimport { type I18n as I18nType } from '@lingui/core';\nimport { mapVector, mapFor } from '../Utils/MapFor';\nimport { caseSensitiveSlug } from '../Utils/CaseSensitiveSlug';\nimport {\n  declareInstructionOrExpressionMetadata,\n  declareBehaviorInstructionOrExpressionMetadata,\n  declareEventsFunctionParameters,\n  declareBehaviorMetadata,\n  declareExtension,\n  isBehaviorLifecycleFunction,\n  declareBehaviorPropertiesInstructionAndExpressions,\n} from './MetadataDeclarationHelpers';\n\nconst gd = global.gd;\n\nexport type EventsFunctionCodeWriter = {|\n  getIncludeFileFor: (functionName: string) => string,\n  writeFunctionCode: (functionName: string, code: string) => Promise<void>,\n  writeBehaviorCode: (behaviorName: string, code: string) => Promise<void>,\n|};\n\ntype Options = {|\n  skipCodeGeneration?: boolean,\n  eventsFunctionCodeWriter: EventsFunctionCodeWriter,\n  i18n: I18nType,\n|};\n\nconst mangleName = (name: string) => {\n  return caseSensitiveSlug(name, '_', []);\n};\n\n/**\n * Load all events functions of a project in extensions\n */\nexport const loadProjectEventsFunctionsExtensions = (\n  project: gdProject,\n  eventsFunctionCodeWriter: EventsFunctionCodeWriter,\n  i18n: I18nType\n): Promise<Array<void>> => {\n  return Promise.all(\n    // First pass: generate extensions from the events functions extensions,\n    // without writing code for the functions. This is useful as events in functions\n    // could be using other functions, which would not yet be available as\n    // extensions.\n    mapFor(0, project.getEventsFunctionsExtensionsCount(), i => {\n      return loadProjectEventsFunctionsExtension(\n        project,\n        project.getEventsFunctionsExtensionAt(i),\n        { skipCodeGeneration: true, eventsFunctionCodeWriter, i18n }\n      );\n    })\n  ).then(() =>\n    Promise.all(\n      // Second pass: generate extensions, including code.\n      mapFor(0, project.getEventsFunctionsExtensionsCount(), i => {\n        return loadProjectEventsFunctionsExtension(\n          project,\n          project.getEventsFunctionsExtensionAt(i),\n          {\n            skipCodeGeneration: false,\n            eventsFunctionCodeWriter,\n            i18n,\n          }\n        );\n      })\n    )\n  );\n};\n\nconst loadProjectEventsFunctionsExtension = (\n  project: gdProject,\n  eventsFunctionsExtension: gdEventsFunctionsExtension,\n  options: Options\n): Promise<void> => {\n  return generateEventsFunctionExtension(\n    project,\n    eventsFunctionsExtension,\n    options\n  ).then(extension => {\n    gd.JsPlatform.get().addNewExtension(extension);\n    extension.delete();\n  });\n};\n\n/**\n * Generate the code for the events based extension\n */\nconst generateEventsFunctionExtension = (\n  project: gdProject,\n  eventsFunctionsExtension: gdEventsFunctionsExtension,\n  options: Options\n): Promise<gdEventsFunctionsExtension> => {\n  const extension = new gd.PlatformExtension();\n  declareExtension(extension, eventsFunctionsExtension);\n\n  const codeNamespacePrefix =\n    'gdjs.evtsExt__' + mangleName(eventsFunctionsExtension.getName());\n\n  return Promise.all(\n    // Generate all behaviors and their functions\n    mapVector(\n      eventsFunctionsExtension.getEventsBasedBehaviors(),\n      eventsBasedBehavior => {\n        return generateBehavior(\n          project,\n          extension,\n          eventsFunctionsExtension,\n          eventsBasedBehavior,\n          {\n            ...options,\n            codeNamespacePrefix,\n          }\n        );\n      }\n    )\n  )\n    .then(() =>\n      // Generate all free functions\n      Promise.all(\n        mapFor(0, eventsFunctionsExtension.getEventsFunctionsCount(), i => {\n          const eventsFunction = eventsFunctionsExtension.getEventsFunctionAt(\n            i\n          );\n          generateFreeFunction(\n            project,\n            extension,\n            eventsFunctionsExtension,\n            eventsFunction,\n            {\n              ...options,\n              codeNamespacePrefix,\n            }\n          );\n        })\n      )\n    )\n    .then(() => extension);\n};\n\nconst generateFreeFunction = (\n  project: gdProject,\n  extensionOrBehaviorMetadata: gdPlatformExtension | gdBehaviorMetadata,\n  eventsFunctionsExtensionOrEventsBasedBehavior:\n    | gdEventsFunctionsExtension\n    | gdEventsBasedBehavior,\n  eventsFunction: gdEventsFunction,\n  {\n    skipCodeGeneration,\n    eventsFunctionCodeWriter,\n    codeNamespacePrefix,\n  }: {| ...Options, codeNamespacePrefix: string |}\n) => {\n  const instructionOrExpression = declareInstructionOrExpressionMetadata(\n    extensionOrBehaviorMetadata,\n    eventsFunctionsExtensionOrEventsBasedBehavior,\n    eventsFunction\n  );\n  // By convention, first parameter is always the Runtime Scene.\n  instructionOrExpression.addCodeOnlyParameter('currentScene', '');\n  declareEventsFunctionParameters(eventsFunction, instructionOrExpression);\n\n  const codeNamespace =\n    codeNamespacePrefix + '__' + mangleName(eventsFunction.getName());\n  const functionName = codeNamespace + '.func';\n\n  const codeExtraInformation = instructionOrExpression.getCodeExtraInformation();\n  codeExtraInformation\n    .setIncludeFile(eventsFunctionCodeWriter.getIncludeFileFor(functionName))\n    .setFunctionName(functionName);\n\n  if (!skipCodeGeneration) {\n    const includeFiles = new gd.SetString();\n    const code = gd.EventsCodeGenerator.generateEventsFunctionCode(\n      project,\n      eventsFunction,\n      codeNamespace,\n      includeFiles,\n      // For now, always generate functions for runtime (this disables\n      // generation of profiling for groups (see EventsCodeGenerator))\n      // as extensions generated can be used either for preview or export.\n      true\n    );\n\n    // Add any include file required by the function to the list\n    // of include files for this function (so that when used, the \"dependencies\"\n    // are transitively included).\n    includeFiles\n      .toNewVectorString()\n      .toJSArray()\n      .forEach((includeFile: string) => {\n        codeExtraInformation.addIncludeFile(includeFile);\n      });\n\n    includeFiles.delete();\n\n    return eventsFunctionCodeWriter.writeFunctionCode(functionName, code);\n  } else {\n    // Skip code generation if no events function writer is provided.\n    // This is the case during the \"first pass\", where all events functions extensions\n    // are loaded as extensions but not code generated, as events in functions could\n    // themselves be using functions that are not yet available in extensions.\n  }\n};\n\nfunction generateBehavior(\n  project: gdProject,\n  extension: gdPlatformExtension,\n  eventsFunctionsExtension: gdEventsFunctionsExtension,\n  eventsBasedBehavior: gdEventsBasedBehavior,\n  options: {| ...Options, codeNamespacePrefix: string |}\n) {\n  const behaviorMetadata = declareBehaviorMetadata(\n    extension,\n    eventsBasedBehavior\n  );\n\n  const eventsFunctionsContainer = eventsBasedBehavior.getEventsFunctions();\n  const codeNamespace =\n    options.codeNamespacePrefix +\n    '__' +\n    mangleName(eventsBasedBehavior.getName());\n\n  behaviorMetadata.setIncludeFile(\n    options.eventsFunctionCodeWriter.getIncludeFileFor(codeNamespace)\n  );\n\n  return Promise.resolve().then(() => {\n    const behaviorMethodMangledNames = new gd.MapStringString();\n\n    // Declare the instructions/expressions for properties\n    declareBehaviorPropertiesInstructionAndExpressions(\n      options.i18n,\n      behaviorMetadata,\n      eventsBasedBehavior\n    );\n\n    // Declare all the behavior functions\n    mapFor(0, eventsFunctionsContainer.getEventsFunctionsCount(), i => {\n      const eventsFunction = eventsFunctionsContainer.getEventsFunctionAt(i);\n\n      const eventsFunctionMangledName = mangleName(eventsFunction.getName());\n      behaviorMethodMangledNames.set(\n        eventsFunction.getName(),\n        eventsFunctionMangledName\n      );\n\n      const instructionOrExpression = declareBehaviorInstructionOrExpressionMetadata(\n        behaviorMetadata,\n        eventsBasedBehavior,\n        eventsFunction\n      );\n      declareEventsFunctionParameters(eventsFunction, instructionOrExpression);\n\n      // Hide \"lifecycle\" methods as they are called automatically by\n      // the game engine.\n      if (isBehaviorLifecycleFunction(eventsFunction.getName())) {\n        instructionOrExpression.setHidden();\n      }\n\n      const codeExtraInformation = instructionOrExpression.getCodeExtraInformation();\n      codeExtraInformation\n        .setIncludeFile(\n          options.eventsFunctionCodeWriter.getIncludeFileFor(\n            eventsFunctionMangledName\n          )\n        )\n        .setFunctionName(eventsFunctionMangledName);\n    });\n\n    // Generate code for the behavior and its methods\n    if (!options.skipCodeGeneration) {\n      const includeFiles = new gd.SetString();\n      const behaviorCodeGenerator = new gd.BehaviorCodeGenerator(project);\n      const code = behaviorCodeGenerator.generateRuntimeBehaviorCompleteCode(\n        eventsFunctionsExtension.getName(),\n        eventsBasedBehavior,\n        codeNamespace,\n        behaviorMethodMangledNames,\n        includeFiles,\n\n        // For now, always generate functions for runtime (this disables\n        // generation of profiling for groups (see EventsCodeGenerator))\n        // as extensions generated can be used either for preview or export.\n        true\n      );\n      behaviorCodeGenerator.delete();\n      behaviorMethodMangledNames.delete();\n\n      // Add any include file required by the functions to the list\n      // of include files for this behavior (so that when used, the \"dependencies\"\n      // are transitively included).\n      includeFiles\n        .toNewVectorString()\n        .toJSArray()\n        .forEach((includeFile: string) => {\n          behaviorMetadata.addIncludeFile(includeFile);\n        });\n\n      includeFiles.delete();\n\n      return options.eventsFunctionCodeWriter.writeBehaviorCode(\n        codeNamespace,\n        code\n      );\n    } else {\n      // Skip code generation\n      behaviorMethodMangledNames.delete();\n      return Promise.resolve();\n    }\n  });\n}\n\n/**\n * Unload all extensions providing events functions of a project\n */\nexport const unloadProjectEventsFunctionsExtensions = (\n  project: gdProject\n): Promise<Array<void>> => {\n  return Promise.all(\n    mapFor(0, project.getEventsFunctionsExtensionsCount(), i => {\n      gd.JsPlatform.get().removeExtension(\n        project.getEventsFunctionsExtensionAt(i).getName()\n      );\n    })\n  );\n};\n\n/**\n * Given metadata about an instruction or an expression, tells if this was created\n * from an event function.\n */\nexport const isAnEventFunctionMetadata = (\n  instructionOrExpression: gdInstructionMetadata | gdExpressionMetadata\n) => {\n  const parametersCount = instructionOrExpression.getParametersCount();\n  if (parametersCount <= 0) return false;\n\n  return (\n    instructionOrExpression.getParameter(parametersCount - 1).getType() ===\n    'eventsFunctionContext'\n  );\n};\n\n/**\n * Get back the name a function from its type.\n * See also getFreeEventsFunctionType for the reverse operation.\n */\nexport const getFunctionNameFromType = (type: string) => {\n  const parts = type.split('::');\n  if (!parts.length)\n    return {\n      name: '',\n      behaviorName: '',\n      extensionName: '',\n    };\n\n  return {\n    name: parts[parts.length - 1],\n    behaviorName: parts.length > 2 ? parts[1] : undefined,\n    extensionName: parts[0],\n  };\n};\n\n/**\n * Get the type of a Events Function.\n * See also getFunctionNameFromType for the reverse operation.\n */\nexport const getFreeEventsFunctionType = (\n  extensionName: string,\n  eventsFunction: gdEventsFunction\n) => {\n  return extensionName + '::' + eventsFunction.getName();\n};\n\n/**\n * Return the index of the first parameter to be shown to the user:\n * * 0 for a behavior \"method\",\n * * 1 for a free function (as the first parameter is by convention the runtimeScene).\n */\nexport const getParametersIndexOffset = (\n  isEventsBasedBehaviorMethod: boolean\n) => {\n  return isEventsBasedBehaviorMethod\n    ? 0 /*In the case of a behavior events function, the first two parameters are by convention the \"Object\" and \"Behavior\" */\n    : 1; /*In the case of a free events function (i.e: not tied to a behavior), the first parameter is by convention the current scene and is not shown.*/\n};\n","// @flow\nimport * as React from 'react';\nimport Paper from 'material-ui/Paper';\n\ntype Props = {|\n  children: React.Node,\n|};\n\nexport default (props: Props) => {\n  return (\n    <div\n      style={{\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        backgroundColor: 'rgba(0,0,0,0.5)',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n      }}\n    >\n      <Paper\n        zDepth={3}\n        style={{\n          padding: 10,\n          margin: 5,\n        }}\n      >\n        {props.children}\n      </Paper>\n    </div>\n  );\n};\n","import React, { Component } from 'react';\nimport muiThemeable from 'material-ui/styles/muiThemeable';\n\nconst style = {\n  display: 'flex',\n  alignItems: 'center',\n  paddingLeft: 16,\n  paddingRight: 16,\n};\n\nclass ThemableMiniToolbar extends Component {\n  render() {\n    const { muiTheme, justifyContent, smallest } = this.props;\n\n    return (\n      <div\n        style={{\n          ...style,\n          height: smallest ? 34 : 48,\n          backgroundColor: muiTheme.toolbar.backgroundColor,\n          justifyContent,\n        }}\n      >\n        {this.props.children}\n      </div>\n    );\n  }\n}\n\nconst toolbarTextStyle = {\n  marginRight: 5,\n};\n\nexport const MiniToolbarText = ({ children }) => (\n  <p style={toolbarTextStyle}>{children}</p>\n);\n\nexport default muiThemeable()(ThemableMiniToolbar);\n","import React, { Component } from 'react';\nimport IconButton from 'material-ui/IconButton';\nimport ThemeConsumer from './Theme/ThemeConsumer';\n\n/**\n * An icon that can be used in a ToolbarGroup of material-ui Toolbar.\n * See also ListIcon.\n */\nexport default class ToolbarIcon extends Component {\n  render() {\n    const { src, tooltip, disabled, ...otherProps } = this.props;\n\n    return (\n      <ThemeConsumer>\n        {muiTheme => (\n          <IconButton\n            {...otherProps}\n            iconStyle={{\n              //Properly align icons with the rest of the toolbar\n              marginLeft: -4,\n              marginTop: -4,\n              filter: disabled\n                ? 'grayscale(100%)'\n                : muiTheme.gdevelopIconsCSSFilter,\n            }}\n          >\n            <img\n              title={tooltip}\n              alt={tooltip}\n              src={src}\n              width={32}\n              height={32}\n            />\n          </IconButton>\n        )}\n      </ThemeConsumer>\n    );\n  }\n}\n","import React from 'react';\nimport { ToolbarSeparator } from 'material-ui/Toolbar';\n\nexport default props => {\n  return (\n    <ToolbarSeparator\n      style={{\n        marginLeft: 0,\n      }}\n      {...props}\n    />\n  );\n};\n","// @flow\nimport { showErrorBox } from '../UI/Messages/MessageBox';\nimport values from 'lodash/values';\n\nexport type ProjectError = {\n  type: 'error' | 'warning',\n  message: string,\n  extraExplanation: string,\n};\n\nexport type ProjectErrors = {\n  [string]: Array<ProjectError>,\n};\n\ntype TFunction = string => string; //TODO\n\nexport const getErrors = (t: TFunction, project: gdProject): ProjectErrors => {\n  const errors: ProjectErrors = {};\n\n  const addError = (\n    propertyName: string,\n    type: 'error' | 'warning',\n    message: string,\n    extraExplanation: string = ''\n  ) => {\n    if (!errors[propertyName]) errors[propertyName] = [];\n\n    errors[propertyName].push({\n      type,\n      message,\n      extraExplanation,\n    });\n  };\n\n  if (!project.getPackageName()) {\n    addError(\n      'packageName',\n      'error',\n      t('The package name is empty.'),\n      t('Choose and enter a package name in the game properties.')\n    );\n  } else if (project.getPackageName().length >= 255) {\n    addError(\n      'packageName',\n      'error',\n      t('The package name is too long.'),\n      t('Change the package name in the game properties.')\n    );\n  }\n\n  if (!project.getName()) {\n    addError(\n      'name',\n      'error',\n      t('The name of your game is too long.'),\n      t('Change the name in the game properties.')\n    );\n  }\n\n  if (!project.getVersion() || project.getVersion().split('.').length < 3) {\n    addError(\n      'packageName',\n      'error',\n      t(\"The version that you've set for the game is invalid.\"),\n      t('Enter a version in the game properties.')\n    );\n  }\n\n  return errors;\n};\n\nexport const displayProjectErrorsBox = (\n  t: TFunction,\n  errors: ProjectErrors\n): boolean => {\n  if (!Object.keys(errors).length) return true;\n\n  showErrorBox(\n    t(\n      'Your game has some invalid elements, please fix these before continuing:'\n    ) +\n      '\\n\\n' +\n      values(errors)\n        .map(errors =>\n          errors.map((error: ProjectError) => `- ${error.message}`).join('\\n')\n        )\n        .join('\\n')\n  );\n\n  return false;\n};\n","// @flow\nimport createReactContext, { type Context } from 'create-react-context';\nimport {\n  type EventsFunctionsExtensionWriter,\n  type EventsFunctionsExtensionOpener,\n} from './Storage';\n\nexport type EventsFunctionsExtensionsState = {|\n  eventsFunctionsExtensionsError: ?Error,\n  loadProjectEventsFunctionsExtensions: (project: ?gdProject) => Promise<void>,\n  unloadProjectEventsFunctionsExtensions: (project: gdProject) => void,\n  reloadProjectEventsFunctionsExtensions: (\n    project: ?gdProject\n  ) => Promise<void>,\n  getEventsFunctionsExtensionWriter: () => ?EventsFunctionsExtensionWriter,\n  getEventsFunctionsExtensionOpener: () => ?EventsFunctionsExtensionOpener,\n|};\n\nconst defaultState = {\n  eventsFunctionsExtensionsError: null,\n  loadProjectEventsFunctionsExtensions: () =>\n    Promise.reject(new Error('Use a provider')),\n  unloadProjectEventsFunctionsExtensions: () => {},\n  reloadProjectEventsFunctionsExtensions: () =>\n    Promise.reject(new Error('Use a provider')),\n  getEventsFunctionsExtensionWriter: () => null,\n  getEventsFunctionsExtensionOpener: () => null,\n};\n\nconst EventsFunctionsExtensionsContext: Context<EventsFunctionsExtensionsState> = createReactContext(\n  defaultState\n);\n\nexport default EventsFunctionsExtensionsContext;\n","// @flow\nimport * as React from 'react';\nimport Instruction, { reactDndInstructionType } from './Instruction';\nimport { mapFor } from '../../Utils/MapFor';\nimport {\n  isInstructionSelected,\n  type InstructionsListContext,\n  type InstructionContext,\n  type ParameterContext,\n} from '../SelectionHandler';\nimport { actionsContainer, conditionsContainer } from './ClassNames';\nimport {\n  DropTarget,\n  type DropTargetMonitor,\n  type DropTargetConnector,\n  type ConnectDropTarget,\n} from 'react-dnd';\nimport DropIndicator from './DropIndicator';\nimport { Trans } from '@lingui/macro';\n\nconst styles = {\n  addButton: {\n    cursor: 'pointer',\n  },\n};\n\ntype DropTargetProps = {|\n  connectDropTarget: ConnectDropTarget,\n  isOver: boolean,\n  canDrop: boolean,\n|};\n\ntype Props = {\n  instrsList: gdInstructionsList,\n  areConditions: boolean,\n  onAddNewInstruction: InstructionsListContext => void,\n  onMoveToInstruction: (destinationContext: InstructionContext) => void,\n  onMoveToInstructionsList: (\n    destinationContext: InstructionsListContext\n  ) => void,\n  onInstructionClick: InstructionContext => void,\n  onInstructionDoubleClick: InstructionContext => void,\n  onInstructionContextMenu: (x: number, y: number, InstructionContext) => void,\n  onInstructionsListContextMenu: (\n    x: number,\n    y: number,\n    InstructionsListContext\n  ) => void,\n  onParameterClick: ParameterContext => void,\n  selection: any,\n  addButtonLabel?: React.Node,\n  extraClassName?: string,\n  style?: Object,\n  disabled: boolean,\n  renderObjectThumbnail: string => React.Node,\n  ...DropTargetProps,\n};\n\nclass InstructionsList extends React.Component<Props, *> {\n  onAddNewInstruction = () => {\n    if (this.props.onAddNewInstruction)\n      this.props.onAddNewInstruction({\n        instrsList: this.props.instrsList,\n        isCondition: this.props.areConditions,\n      });\n  };\n\n  render() {\n    const {\n      addButtonLabel,\n      areConditions,\n      extraClassName,\n      instrsList,\n      onAddNewInstruction,\n      onMoveToInstruction,\n      onMoveToInstructionsList,\n      onInstructionClick,\n      onInstructionContextMenu,\n      onInstructionDoubleClick,\n      onInstructionsListContextMenu,\n      onParameterClick,\n      selection,\n      style,\n      disabled,\n    } = this.props;\n\n    const { connectDropTarget, isOver, canDrop } = this.props;\n\n    const instructions = mapFor(0, instrsList.size(), i => {\n      const instruction = instrsList.get(i);\n      const instructionContext = {\n        isCondition: areConditions,\n        instrsList: instrsList,\n        instruction,\n        indexInList: i,\n      };\n\n      return (\n        // $FlowFixMe - Flow don't see that DropTarget hoc is being used in instructions?\n        <Instruction\n          instruction={instruction}\n          isCondition={areConditions}\n          key={instruction.ptr}\n          selected={isInstructionSelected(selection, instruction)}\n          onMoveToInstruction={() => onMoveToInstruction(instructionContext)}\n          onClick={() => onInstructionClick(instructionContext)}\n          onDoubleClick={() => onInstructionDoubleClick(instructionContext)}\n          onContextMenu={(x, y) =>\n            onInstructionContextMenu(x, y, instructionContext)\n          }\n          onParameterClick={(domEvent, parameterIndex) =>\n            onParameterClick({\n              isCondition: instructionContext.isCondition,\n              instrsList: instructionContext.instrsList,\n              instruction: instructionContext.instruction,\n              indexInList: instructionContext.indexInList,\n              parameterIndex,\n              domEvent,\n            })\n          }\n          selection={selection}\n          onAddNewSubInstruction={onAddNewInstruction}\n          onMoveToSubInstruction={onMoveToInstruction}\n          onMoveToSubInstructionsList={onMoveToInstructionsList}\n          onSubInstructionClick={onInstructionClick}\n          onSubInstructionDoubleClick={onInstructionDoubleClick}\n          onSubInstructionContextMenu={onInstructionContextMenu}\n          onSubInstructionsListContextMenu={onInstructionsListContextMenu}\n          onSubParameterClick={onParameterClick}\n          disabled={disabled}\n          renderObjectThumbnail={this.props.renderObjectThumbnail}\n        />\n      );\n    });\n\n    const instructionsListContext = {\n      isCondition: areConditions,\n      instrsList: instrsList,\n    };\n    const addButtonDefaultLabel = areConditions ? (\n      <Trans>Add condition</Trans>\n    ) : (\n      <Trans>Add action</Trans>\n    );\n    const instructionsList = connectDropTarget(\n      <div\n        className={`${\n          areConditions ? conditionsContainer : actionsContainer\n        } ${extraClassName || ''}`}\n        style={style}\n      >\n        {instructions}\n        {isOver && <DropIndicator canDrop={canDrop} />}\n        <button\n          style={styles.addButton}\n          className=\"add-link\"\n          onClick={this.onAddNewInstruction}\n          onContextMenu={e => {\n            e.stopPropagation();\n            onInstructionsListContextMenu(\n              e.clientX,\n              e.clientY,\n              instructionsListContext\n            );\n          }}\n        >\n          {addButtonLabel || addButtonDefaultLabel}\n        </button>\n      </div>\n    );\n\n    return instructionsList || null;\n  }\n}\n\n// Drag'n'drop support:\n\nconst instructionsListTarget = {\n  canDrop(props: Props, monitor: DropTargetMonitor) {\n    return (\n      monitor.getItem() && monitor.getItem().isCondition === props.areConditions\n    );\n  },\n  drop(props: Props, monitor: DropTargetMonitor) {\n    if (monitor.didDrop()) {\n      return; // Drop already handled by an instruction\n    }\n    props.onMoveToInstructionsList({\n      isCondition: props.areConditions,\n      instrsList: props.instrsList,\n    });\n  },\n};\n\nfunction targetCollect(\n  connect: DropTargetConnector,\n  monitor: DropTargetMonitor\n): DropTargetProps {\n  return {\n    connectDropTarget: connect.dropTarget(),\n    isOver: monitor.isOver({ shallow: true }),\n    canDrop: monitor.canDrop(),\n  };\n}\n\n// $FlowFixMe - Typing of DragSource/DropTarget is a pain to get correctly\nexport default DropTarget(\n  reactDndInstructionType,\n  instructionsListTarget,\n  targetCollect\n)(InstructionsList);\n","// @flow\n\n/**\n * Convert a rgb color value to a string hex value.\n * @note No \"#\" or \"0x\" are added.\n */\nexport const rgbToHex = (r: number, g: number, b: number) =>\n  '' + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1);\n/**\n * Convert a rgb color value to a hex value.\n */\nexport const rgbToHexNumber = (r: number, g: number, b: number) =>\n  (r << 16) + (g << 8) + b;\n","import React, { Component } from 'react';\nimport Popover from 'material-ui/Popover';\n\nconst styles = {\n  popover: {\n    paddingBottom: 10,\n    paddingLeft: 5,\n    paddingRight: 5,\n    maxWidth: 600,\n    height: 80,\n    overflowY: 'hidden',\n  },\n  contentContainer: {\n    overflow: 'hidden',\n  },\n};\n\nexport default class InlinePopover extends Component {\n  render() {\n    return (\n      <Popover\n        open={this.props.open}\n        anchorEl={this.props.anchorEl}\n        style={styles.popover}\n        anchorOrigin={{ horizontal: 'middle', vertical: 'bottom' }}\n        targetOrigin={{ horizontal: 'middle', vertical: 'top' }}\n        onRequestClose={this.props.onRequestClose}\n      >\n        <div style={styles.contentContainer}>{this.props.children}</div>\n      </Popover>\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport SemiControlledTextField from '../UI/SemiControlledTextField';\nimport InlineCheckbox from '../UI/InlineCheckbox';\nimport ResourceSelector from '../ResourcesList/ResourceSelector';\nimport ResourcesLoader from '../ResourcesLoader';\nimport Subheader from 'material-ui/Subheader';\nimport FlatButton from 'material-ui/FlatButton';\nimport SelectField from 'material-ui/SelectField';\nimport MenuItem from 'material-ui/MenuItem';\nimport Edit from 'material-ui/svg-icons/image/edit';\nimport IconButton from 'material-ui/IconButton';\nimport {\n  type ResourceKind,\n  type ResourceSource,\n  type ChooseResourceFunction,\n} from '../ResourcesList/ResourceSource.flow';\nimport { type ResourceExternalEditor } from '../ResourcesList/ResourceExternalEditor.flow';\n\n// An \"instance\" here is the objects for which properties are shown\nexport type Instance = Object; // This could be improved using generics.\nexport type Instances = Array<Instance>;\n\n// \"Value\" fields are fields displayed in the properties.\nexport type ValueFieldCommonProperties = {|\n  name: string,\n  getLabel?: Instance => string,\n  disabled?: boolean,\n  onEditButtonClick?: Instance => void,\n  onClick?: Instance => void,\n|};\n\n// \"Primitive\" value fields are \"simple\" fields.\nexport type PrimitiveValueField =\n  | {|\n      valueType: 'number',\n      getValue: Instance => number,\n      setValue: (instance: Instance, newValue: number) => void,\n      ...ValueFieldCommonProperties,\n    |}\n  | {|\n      valueType: 'string',\n      getValue: Instance => string,\n      setValue: (instance: Instance, newValue: string) => void,\n      getChoices?: ?() => Array<{| value: string, label: string |}>,\n      ...ValueFieldCommonProperties,\n    |}\n  | {|\n      valueType: 'boolean',\n      getValue: Instance => boolean,\n      setValue: (instance: Instance, newValue: boolean) => void,\n      ...ValueFieldCommonProperties,\n    |};\n\n// \"Resource\" fields are showing a resource selector.\ntype ResourceField = {|\n  valueType: 'resource',\n  resourceKind: ResourceKind,\n  getValue: Instance => string,\n  setValue: (instance: Instance, newValue: string) => void,\n  ...ValueFieldCommonProperties,\n|};\n\n// A value field is a primitive or a resource.\nexport type ValueField = PrimitiveValueField | ResourceField;\n\n// A field can be a primitive, a resource or a list of fields\nexport type Field =\n  | PrimitiveValueField\n  | ResourceField\n  | {|\n      name: string,\n      type: 'row' | 'column',\n      children: Array<Object>,\n    |};\n\n// The schema is the tree of all fields.\nexport type Schema = Array<Field>;\n\n// Mandatory props in any case when using the component\ntype MandatoryProps = {|\n  onInstancesModified?: Instances => void,\n  instances: Instances,\n  schema: Schema,\n  mode?: 'column' | 'row',\n|};\n\ntype Props =\n  // Mandatory props in all cases:\n  | MandatoryProps\n  // Props to be used when you want to display resources:\n  | {|\n      ...MandatoryProps,\n      project: gdProject,\n      resourceSources: Array<ResourceSource>,\n      onChooseResource: ChooseResourceFunction,\n      resourceExternalEditors: Array<ResourceExternalEditor>,\n    |};\n\nconst styles = {\n  columnContainer: {\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  rowContainer: {\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'baseline',\n  },\n  fieldContainer: {\n    flex: 1,\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'baseline',\n  },\n  field: {\n    flex: 1,\n    width: 'auto',\n  },\n  subPropertiesEditorContainer: {\n    marginLeft: 15,\n  },\n  subHeader: {\n    paddingLeft: 0,\n  },\n};\n\nconst getFieldValue = (\n  instances: Instances,\n  field: ValueField,\n  defaultValue?: any\n): any => {\n  if (!instances[0]) {\n    console.log(\n      'getFieldValue was called with an empty list of instances (or containing undefined). This is a bug that should be fixed'\n    );\n    return defaultValue;\n  }\n\n  let value = field.getValue(instances[0]);\n  for (var i = 1; i < instances.length; ++i) {\n    if (value !== field.getValue(instances[i])) {\n      if (typeof defaultValue !== 'undefined') value = defaultValue;\n      break;\n    }\n  }\n\n  return value;\n};\n\nconst getFieldLabel = (instances: Instances, field: ValueField): any => {\n  if (!instances[0]) {\n    console.log(\n      'PropertiesEditor._getFieldLabel was called with an empty list of instances (or containing undefined). This is a bug that should be fixed'\n    );\n    return field.name;\n  }\n\n  if (field.getLabel) return field.getLabel(instances[0]);\n\n  return field.name;\n};\n\nexport default class PropertiesEditor extends React.Component<Props, {||}> {\n  _onInstancesModified = (instances: Instances) => {\n    // This properties editor is dealing with fields that are\n    // responsible to update their state (see field.setValue).\n\n    if (this.props.onInstancesModified)\n      this.props.onInstancesModified(instances);\n    else this.forceUpdate();\n  };\n\n  _renderInputField = (field: ValueField) => {\n    if (field.name === 'PLEASE_ALSO_SHOW_EDIT_BUTTON_THANKS') return null; // This special property was used in GDevelop 4 IDE to ask for a Edit button to be shown, ignore it.\n\n    if (field.valueType === 'boolean') {\n      const { setValue } = field;\n      return (\n        <InlineCheckbox\n          label={getFieldLabel(this.props.instances, field)}\n          key={field.name}\n          checked={getFieldValue(this.props.instances, field)}\n          onCheck={(event, newValue) => {\n            this.props.instances.forEach(i => setValue(i, !!newValue));\n            this._onInstancesModified(this.props.instances);\n          }}\n          disabled={field.disabled}\n        />\n      );\n    } else if (field.valueType === 'number') {\n      const { setValue } = field;\n      return (\n        <SemiControlledTextField\n          value={getFieldValue(this.props.instances, field)}\n          key={field.name}\n          id={field.name}\n          floatingLabelText={getFieldLabel(this.props.instances, field)}\n          floatingLabelFixed\n          onChange={newValue => {\n            this.props.instances.forEach(i =>\n              setValue(i, parseFloat(newValue) || 0)\n            );\n            this._onInstancesModified(this.props.instances);\n          }}\n          type=\"number\"\n          style={styles.field}\n          disabled={field.disabled}\n        />\n      );\n    } else {\n      const { onEditButtonClick, setValue } = field;\n      return (\n        <div style={styles.fieldContainer} key={field.name}>\n          <SemiControlledTextField\n            value={getFieldValue(\n              this.props.instances,\n              field,\n              '(Multiple values)'\n            )}\n            id={field.name}\n            floatingLabelText={getFieldLabel(this.props.instances, field)}\n            floatingLabelFixed\n            onChange={newValue => {\n              this.props.instances.forEach(i => setValue(i, newValue || ''));\n              this._onInstancesModified(this.props.instances);\n            }}\n            style={styles.field}\n            disabled={field.disabled}\n          />\n          {onEditButtonClick && (\n            <IconButton\n              disabled={this.props.instances.length !== 1}\n              onClick={() => onEditButtonClick(this.props.instances[0])}\n            >\n              <Edit />\n            </IconButton>\n          )}\n        </div>\n      );\n    }\n  };\n\n  _renderSelectField = (field: ValueField) => {\n    if (!field.getChoices || !field.getValue) return;\n\n    const children = field\n      .getChoices()\n      .map(({ value, label }) => (\n        <MenuItem key={value} value={value} primaryText={label} />\n      ));\n\n    if (field.valueType === 'number') {\n      const { setValue } = field;\n      return (\n        <SelectField\n          value={getFieldValue(this.props.instances, field)}\n          key={field.name}\n          floatingLabelText={getFieldLabel(this.props.instances, field)}\n          floatingLabelFixed\n          onChange={(event, index, newValue) => {\n            this.props.instances.forEach(i =>\n              setValue(i, parseFloat(newValue) || 0)\n            );\n            this._onInstancesModified(this.props.instances);\n          }}\n          style={styles.field}\n          disabled={field.disabled}\n        >\n          {children}\n        </SelectField>\n      );\n    } else {\n      return (\n        <SelectField\n          value={getFieldValue(\n            this.props.instances,\n            field,\n            '(Multiple values)'\n          )}\n          key={field.name}\n          floatingLabelText={getFieldLabel(this.props.instances, field)}\n          floatingLabelFixed\n          onChange={(event, index, newValue) => {\n            this.props.instances.forEach(i =>\n              field.setValue(i, newValue || '')\n            );\n            this._onInstancesModified(this.props.instances);\n          }}\n          style={styles.field}\n          disabled={field.disabled}\n        >\n          {children}\n        </SelectField>\n      );\n    }\n  };\n\n  _renderButton = (field: ValueField) => {\n    //TODO: multi selection handling\n    return (\n      <FlatButton\n        key={field.name}\n        fullWidth\n        primary\n        label={getFieldLabel(this.props.instances, field)}\n        onClick={() => {\n          if (field.onClick) field.onClick(this.props.instances[0]);\n        }}\n      />\n    );\n  };\n\n  _renderResourceField = (field: ResourceField) => {\n    if (!this.props.project) {\n      console.error(\n        'You tried to display a resource field in a PropertiesEditor that does not support display resources. If you need to display resources, pass additional props (project, resourceSources, etc...)'\n      );\n      return;\n    }\n\n    const { setValue } = field;\n    return (\n      <ResourceSelector\n        key={field.name}\n        project={this.props.project}\n        resourceSources={this.props.resourceSources}\n        onChooseResource={this.props.onChooseResource}\n        resourceExternalEditors={this.props.resourceExternalEditors}\n        resourcesLoader={ResourcesLoader}\n        resourceKind={field.resourceKind}\n        fullWidth\n        initialResourceName={getFieldValue(\n          this.props.instances,\n          field,\n          '(Multiple values)' //TODO\n        )}\n        onChange={newValue => {\n          this.props.instances.forEach(i => setValue(i, newValue));\n          this._onInstancesModified(this.props.instances);\n        }}\n        floatingLabelText={getFieldLabel(this.props.instances, field)}\n      />\n    );\n  };\n\n  render() {\n    const { mode } = this.props;\n\n    return (\n      <div\n        style={mode === 'row' ? styles.rowContainer : styles.columnContainer}\n      >\n        {this.props.schema.map(field => {\n          if (field.children) {\n            if (field.type === 'row') {\n              return (\n                <PropertiesEditor\n                  key={field.name}\n                  schema={field.children}\n                  instances={this.props.instances}\n                  mode=\"row\"\n                />\n              );\n            }\n\n            return (\n              <div key={field.name}>\n                <Subheader style={styles.subHeader}>{field.name}</Subheader>\n                <div style={styles.subPropertiesEditorContainer}>\n                  <PropertiesEditor\n                    schema={field.children}\n                    instances={this.props.instances}\n                    mode=\"column\"\n                  />\n                </div>\n              </div>\n            );\n          } else if (field.valueType === 'resource') {\n            return this._renderResourceField(field);\n          } else {\n            if (field.getChoices && field.getValue)\n              return this._renderSelectField(field);\n            if (field.getValue) return this._renderInputField(field);\n            if (field.onClick) return this._renderButton(field);\n          }\n\n          return null;\n        })}\n      </div>\n    );\n  }\n}\n","// @flow\nimport { mapFor } from '../Utils/MapFor';\nimport { type Schema, type Instance } from '.';\n\n/**\n * Transform a MapStringPropertyDescriptor to a schema that can be used in PropertiesEditor.\n *\n * @param {gdMapStringPropertyDescriptor} properties The properties to use\n * @param {*} getProperties The function called to read again the properties\n * @param {*} onUpdateProperty The function called to update a property of an object\n */\nexport default (\n  properties: gdMapStringPropertyDescriptor,\n  getProperties: (instance: Instance) => any,\n  onUpdateProperty: (\n    instance: Instance,\n    propertyName: string,\n    newValue: string\n  ) => void\n): Schema => {\n  const propertyNames = properties.keys();\n  const propertyFields = mapFor(0, propertyNames.size(), i => {\n    const name = propertyNames.at(i);\n    const property = properties.get(name);\n    const valueType = property.getType().toLowerCase();\n    const getLabel = (instance: Instance) => {\n      const propertyName = getProperties(instance)\n        .get(name)\n        .getLabel();\n      if (propertyName) return propertyName;\n      return (\n        name.charAt(0).toUpperCase() +\n        name\n          .slice(1)\n          .split(/(?=[A-Z])/)\n          .join(' ')\n      );\n    };\n\n    if (property.isHidden()) return null;\n\n    if (valueType === 'number') {\n      return {\n        name,\n        valueType,\n        getValue: (instance: Instance): number => {\n          return parseFloat(\n            getProperties(instance)\n              .get(name)\n              .getValue()\n          );\n        },\n        setValue: (instance: Instance, newValue: number) => {\n          onUpdateProperty(instance, name, '' + newValue);\n        },\n        getLabel,\n      };\n    } else if (valueType === 'string' || valueType === '') {\n      return {\n        name,\n        valueType: 'string',\n        getValue: (instance: Instance): string => {\n          return getProperties(instance)\n            .get(name)\n            .getValue();\n        },\n        setValue: (instance: Instance, newValue: string) => {\n          onUpdateProperty(instance, name, newValue);\n        },\n        getLabel,\n      };\n    } else if (valueType === 'boolean') {\n      return {\n        name,\n        valueType,\n        getValue: (instance: Instance): boolean => {\n          return (\n            getProperties(instance)\n              .get(name)\n              .getValue() === 'true'\n          );\n        },\n        setValue: (instance: Instance, newValue: boolean) => {\n          onUpdateProperty(instance, name, newValue ? '1' : '0');\n        },\n        getLabel,\n      };\n    } else if (valueType === 'choice') {\n      // Choice is a \"string\" (with a selector for the user in the UI)\n      const choices = property\n        .getExtraInfo()\n        .toJSArray()\n        .map(value => ({ value, label: value }));\n      return {\n        name,\n        valueType: 'string',\n        getChoices: () => choices,\n        getValue: (instance: Instance): string => {\n          return getProperties(instance)\n            .get(name)\n            .getValue();\n        },\n        setValue: (instance: Instance, newValue: string) => {\n          onUpdateProperty(instance, name, newValue);\n        },\n        getLabel,\n      };\n    } else if (valueType === 'resource') {\n      // Resource is a \"string\" (with a selector in the UI)\n      const kind = property.getExtraInfo().toJSArray()[0] || '';\n      return {\n        name,\n        valueType: 'resource',\n        resourceKind: kind,\n        getValue: (instance: Instance): string => {\n          return getProperties(instance)\n            .get(name)\n            .getValue();\n        },\n        setValue: (instance: Instance, newValue: string) => {\n          onUpdateProperty(instance, name, newValue);\n        },\n        getLabel,\n      };\n    } else {\n      console.error(\n        `A property with type=${valueType} could not be mapped to a field. Ensure that this type is correct and understood by the IDE.`\n      );\n      return null;\n    }\n  }).filter(Boolean);\n\n  return propertyFields;\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport ResourcesLoader from '../../ResourcesLoader';\n\nconst MARGIN = 50;\n\nconst styles = {\n  imagePreviewContainer: {\n    position: 'relative',\n    display: 'inline-block',\n    width: '100%',\n    textAlign: 'center',\n    border: '#AAAAAA 1px solid',\n    overflow: 'scroll',\n    height: 200,\n    background: 'url(\"res/transparentback.png\") repeat',\n  },\n  spriteThumbnailImage: {\n    pointerEvents: 'none',\n    margin: MARGIN,\n  },\n  overlayContainer: {\n    textAlign: 'initial',\n    position: 'absolute',\n    top: MARGIN,\n    left: '50%',\n    transform: 'translate(-50%, 0)',\n  },\n  box: {\n    border: '1px solid black',\n  },\n};\n\ntype Props = {|\n  project: gdProject,\n  resourceName: string,\n  resourcePath?: string,\n  resourcesLoader: typeof ResourcesLoader,\n  children?: any,\n  style?: Object,\n  onSize?: (number, number) => void,\n|};\n\ntype State = {|\n  errored: boolean,\n  imageWidth: ?number,\n  imageHeight: ?number,\n  imageSource: ?string,\n|};\n\n/**\n * Display the preview for a resource of a project with kind \"image\".\n */\nexport default class ImagePreview extends React.Component<Props, State> {\n  _container: ?HTMLDivElement = null;\n\n  constructor(props: Props) {\n    super(props);\n\n    this.state = this._loadFrom(props);\n  }\n\n  componentWillReceiveProps(newProps: Props) {\n    if (\n      newProps.resourceName !== this.props.resourceName ||\n      newProps.project !== this.props.project ||\n      newProps.resourcesLoader !== this.props.resourcesLoader ||\n      newProps.resourcePath !== this.props.resourcePath\n    ) {\n      this.setState(this._loadFrom(newProps));\n    }\n  }\n\n  _loadFrom(props: Props): State {\n    const { project, resourceName, resourcesLoader } = props;\n    return {\n      errored: false,\n      imageWidth: null,\n      imageHeight: null,\n      imageSource: resourcesLoader.getResourceFullUrl(project, resourceName),\n    };\n  }\n\n  componentDidMount() {\n    if (this._container) {\n      this._container.scrollTop = MARGIN;\n      this._container.scrollLeft = MARGIN;\n    }\n  }\n\n  _handleError = () => {\n    this.setState({\n      errored: true,\n    });\n  };\n\n  _handleImageLoaded = (e: any) => {\n    const imgElement = e.target;\n\n    const imageWidth = imgElement ? imgElement.clientWidth : 0;\n    const imageHeight = imgElement ? imgElement.clientHeight : 0;\n    this.setState({\n      imageWidth,\n      imageHeight,\n    });\n    if (this.props.onSize) this.props.onSize(imageWidth, imageHeight);\n  };\n\n  render() {\n    const { resourceName, style, children } = this.props;\n\n    const { imageHeight, imageWidth, imageSource } = this.state;\n\n    const overlayStyle = {\n      ...styles.overlayContainer,\n      width: this.state.imageWidth,\n      height: this.state.imageHeight,\n    };\n    const canDisplayOverlays = !!imageWidth && !!imageHeight;\n\n    return (\n      <div\n        style={{ ...styles.imagePreviewContainer, ...style }}\n        ref={container => (this._container = container)}\n      >\n        {!!this.state.errored && (\n          <p>\n            <Trans>Unable to load the image</Trans>\n          </p>\n        )}\n        {!this.state.errored && (\n          <img\n            style={styles.spriteThumbnailImage}\n            alt={resourceName}\n            src={imageSource}\n            onError={this._handleError}\n            onLoad={this._handleImageLoaded}\n            crossOrigin=\"anonymous\"\n          />\n        )}\n        {canDisplayOverlays && children && (\n          <div style={{ ...overlayStyle, ...styles.box }} />\n        )}\n        {canDisplayOverlays && children && (\n          <div style={overlayStyle}>\n            {React.cloneElement(children, {\n              imageWidth,\n              imageHeight,\n            })}\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n","import { mapVector, mapFor } from '../../../../Utils/MapFor';\nimport every from 'lodash/every';\nconst gd = global.gd;\n\n/**\n * Return the specified animation, direction and sprite for a SpriteObject.\n * Returns null for these elements if the specified choice is not valid.\n * @param {*} object\n * @param {*} animationIndex\n * @param {*} directionIndex\n * @param {*} spriteIndex\n */\nexport const getCurrentElements = (\n  object,\n  animationIndex,\n  directionIndex,\n  spriteIndex\n) => {\n  const hasValidAnimation = animationIndex < object.getAnimationsCount();\n  const animation = hasValidAnimation\n    ? object.getAnimation(animationIndex)\n    : null;\n  const hasValidDirection =\n    !!animation && directionIndex < animation.getDirectionsCount();\n  const direction = hasValidDirection\n    ? animation.getDirection(directionIndex)\n    : null;\n  const hasValidSprite =\n    !!direction && spriteIndex < direction.getSpritesCount();\n  const sprite = hasValidSprite ? direction.getSprite(spriteIndex) : null;\n\n  return {\n    hasValidAnimation,\n    animation,\n    hasValidDirection,\n    direction,\n    hasValidSprite,\n    sprite,\n  };\n};\n\nexport const copyPoint = (originalPoint, destinationPoint) => {\n  destinationPoint.setX(originalPoint.getX());\n  destinationPoint.setY(originalPoint.getY());\n  destinationPoint.setName(originalPoint.getName());\n};\n\nexport const copySpritePoints = (originalSprite, destinationSprite) => {\n  if (originalSprite.ptr === destinationSprite.ptr) return;\n\n  copyPoint(originalSprite.getCenter(), destinationSprite.getCenter());\n  copyPoint(originalSprite.getOrigin(), destinationSprite.getOrigin());\n  destinationSprite.setDefaultCenterPoint(\n    originalSprite.isDefaultCenterPoint()\n  );\n\n  destinationSprite.getAllNonDefaultPoints().clear();\n  mapVector(originalSprite.getAllNonDefaultPoints(), originalPoint => {\n    destinationSprite.addPoint(originalPoint);\n  });\n};\n\nexport const copyAnimationsSpritePoints = (originalSprite, animation) => {\n  mapFor(0, animation.getDirectionsCount(), i => {\n    const direction = animation.getDirection(i);\n\n    mapFor(0, direction.getSpritesCount(), j => {\n      const sprite = direction.getSprite(j);\n      copySpritePoints(originalSprite, sprite);\n    });\n  });\n};\n\nexport const isSamePoint = (point1, point2) => {\n  return (\n    point1.getX() === point2.getX() &&\n    point1.getY() === point2.getY() &&\n    point1.getName() === point2.getName()\n  );\n};\n\nexport const haveSamePoints = (sprite1, sprite2) => {\n  if (!isSamePoint(sprite1.getCenter(), sprite2.getCenter())) return false;\n  if (!isSamePoint(sprite1.getOrigin(), sprite2.getOrigin())) return false;\n  if (sprite1.isDefaultCenterPoint() !== sprite2.isDefaultCenterPoint())\n    return false;\n\n  if (\n    sprite1.getAllNonDefaultPoints().size() !==\n    sprite2.getAllNonDefaultPoints().size()\n  )\n    return false;\n\n  return every(\n    mapVector(sprite1.getAllNonDefaultPoints(), sprite1Point => {\n      if (!sprite2.hasPoint(sprite1Point.getName())) return false;\n\n      return isSamePoint(\n        sprite1Point,\n        sprite2.getPoint(sprite1Point.getName())\n      );\n    })\n  );\n};\n\nexport const allDirectionSpritesHaveSamePointsAs = (\n  originalSprite,\n  direction\n) => {\n  return every(\n    mapFor(0, direction.getSpritesCount(), j => {\n      const sprite = direction.getSprite(j);\n      return haveSamePoints(sprite, originalSprite);\n    })\n  );\n};\n\nexport const allSpritesHaveSamePointsAs = (originalSprite, animation) => {\n  return every(\n    mapFor(0, animation.getDirectionsCount(), i => {\n      const direction = animation.getDirection(i);\n      return allDirectionSpritesHaveSamePointsAs(originalSprite, direction);\n    })\n  );\n};\n\nexport const copySpritePolygons = (originalSprite, destinationSprite) => {\n  if (originalSprite.ptr === destinationSprite.ptr) return;\n\n  destinationSprite.setCollisionMaskAutomatic(\n    originalSprite.isCollisionMaskAutomatic()\n  );\n\n  destinationSprite.getCustomCollisionMask().clear();\n  mapVector(originalSprite.getCustomCollisionMask(), originalPolygon => {\n    destinationSprite.getCustomCollisionMask().push_back(originalPolygon);\n  });\n};\n\nexport const copyAnimationsSpriteCollisionMasks = (\n  originalSprite,\n  animation\n) => {\n  mapFor(0, animation.getDirectionsCount(), i => {\n    const direction = animation.getDirection(i);\n\n    mapFor(0, direction.getSpritesCount(), j => {\n      const sprite = direction.getSprite(j);\n      copySpritePolygons(originalSprite, sprite);\n    });\n  });\n};\n\nexport const isSamePolygon = (polygon1, polygon2) => {\n  const polygon1Vertices = polygon1.getVertices();\n  const polygon2Vertices = polygon2.getVertices();\n\n  if (polygon1Vertices.size() !== polygon2Vertices.size()) return false;\n\n  return every(\n    mapVector(polygon1Vertices, (point1, index) => {\n      const point2 = polygon2Vertices.at(index);\n      return (\n        point1.get_x() === point2.get_x() && point1.get_y() === point2.get_y()\n      );\n    })\n  );\n};\n\nexport const haveSameCollisionMasks = (sprite1, sprite2) => {\n  if (sprite1.isCollisionMaskAutomatic() !== sprite2.isCollisionMaskAutomatic())\n    return false;\n\n  if (sprite1.isCollisionMaskAutomatic() && sprite2.isCollisionMaskAutomatic())\n    return true;\n\n  const sprite1CollisionMask = sprite1.getCustomCollisionMask();\n  const sprite2CollisionMask = sprite2.getCustomCollisionMask();\n\n  if (sprite1CollisionMask.size() !== sprite2CollisionMask.size()) return false;\n\n  return every(\n    mapVector(sprite1CollisionMask, (sprite1Polygon, index) => {\n      return isSamePolygon(sprite1Polygon, sprite2CollisionMask.at(index));\n    })\n  );\n};\n\nexport const allDirectionSpritesHaveSameCollisionMasksAs = (\n  originalSprite,\n  direction\n) => {\n  return every(\n    mapFor(0, direction.getSpritesCount(), j => {\n      const sprite = direction.getSprite(j);\n      return haveSameCollisionMasks(sprite, originalSprite);\n    })\n  );\n};\n\nexport const allSpritesHaveSameCollisionMasksAs = (\n  originalSprite,\n  animation\n) => {\n  return every(\n    mapFor(0, animation.getDirectionsCount(), i => {\n      const direction = animation.getDirection(i);\n      return allDirectionSpritesHaveSameCollisionMasksAs(\n        originalSprite,\n        direction\n      );\n    })\n  );\n};\n\nexport const deleteSpritesFromAnimation = (animation, spritePtrs) => {\n  mapFor(0, animation.getDirectionsCount(), i => {\n    const direction = animation.getDirection(i);\n\n    const spritesToDelete = mapFor(0, direction.getSpritesCount(), j => {\n      const sprite = direction.getSprite(j);\n\n      return !!spritePtrs[sprite.ptr];\n    });\n\n    // Iterate from the end to the beginning to avoid invalidating indexes.\n    for (\n      let spriteIndex = direction.getSpritesCount() - 1;\n      spriteIndex >= 0;\n      spriteIndex--\n    ) {\n      if (spritesToDelete[spriteIndex]) direction.removeSprite(spriteIndex);\n    }\n  });\n};\n\nexport const duplicateSpritesInAnimation = (animation, spritePtrs) => {\n  mapFor(0, animation.getDirectionsCount(), i => {\n    const direction = animation.getDirection(i);\n\n    const spritesToDuplicate = mapFor(0, direction.getSpritesCount(), j => {\n      const sprite = direction.getSprite(j);\n\n      return !!spritePtrs[sprite.ptr];\n    });\n\n    // Iterate from the end to the beginning to avoid invalidating indexes.\n    for (\n      let spriteIndex = direction.getSpritesCount() - 1;\n      spriteIndex >= 0;\n      spriteIndex--\n    ) {\n      if (spritesToDuplicate[spriteIndex]) {\n        const spriteToDuplicate = direction.getSprite(spriteIndex);\n        const newSprite = new gd.Sprite();\n        newSprite.setImageName(spriteToDuplicate.getImageName());\n        copySpritePoints(spriteToDuplicate, newSprite);\n        copySpritePolygons(spriteToDuplicate, newSprite);\n\n        direction.addSprite(newSprite);\n        direction.moveSprite(direction.getSpritesCount() - 1, spriteIndex);\n      }\n    }\n  });\n};\n","//TODO: Factor with styles.js from LayersList.\nexport default {\n  handleColumn: {\n    width: 24,\n    paddingLeft: 8,\n    paddingRight: 0,\n  },\n  coordinateColumn: {\n    width: 48,\n  },\n  toolColumn: {\n    width: 48,\n  },\n};\n","import React from 'react';\nimport IconButton from 'material-ui/IconButton';\nimport Add from 'material-ui/svg-icons/content/add';\nimport Search from 'material-ui/svg-icons/action/search';\nimport EmptyMessage from '../UI/EmptyMessage';\n// No i18n in this file\n\nconst styles = {\n  item: { height: 48 },\n  message: { padding: 0 },\n};\n\nexport const makeCommonItem = (Item, Icon) => ({\n  onClick,\n  primaryText,\n  style,\n  ...rest\n}) => {\n  return (\n    <Item\n      primaryText={\n        <EmptyMessage style={styles.message}>{primaryText}</EmptyMessage>\n      }\n      style={{ ...styles.item, ...style }}\n      rightIconButton={\n        <IconButton>\n          <Icon\n            onClick={event => {\n              event.stopPropagation();\n              onClick();\n            }}\n          />\n        </IconButton>\n      }\n      onClick={onClick}\n      {...rest}\n    />\n  );\n};\n\n/**\n * An Higher-order component that create an item that must be put at the\n * end of a list to allow the user to add a new item.\n * @param Item The component to wrap. Should act as a material-ui ListItem.\n */\nexport const makeAddItem = Item => makeCommonItem(Item, Add);\n\n/**\n * An Higher-order component that create an item that must be put at the\n * end of a list to allow the user to add a new item.\n * @param Item The component to wrap. Should act as a material-ui ListItem.\n */\nexport const makeSearchItem = Item => makeCommonItem(Item, Search);\n","// @flow\nimport { mapFor } from '../Utils/MapFor';\n\nexport const enumerateLayouts = (project: gdProject): Array<gdLayout> =>\n  mapFor(0, project.getLayoutsCount(), i => project.getLayoutAt(i));\n\nexport const enumerateExternalEvents = (\n  project: gdProject\n): Array<gdExternalEvents> =>\n  mapFor(0, project.getExternalEventsCount(), i =>\n    project.getExternalEventsAt(i)\n  );\n\nexport const enumerateExternalLayouts = (\n  project: gdProject\n): Array<gdExternalLayout> =>\n  mapFor(0, project.getExternalLayoutsCount(), i =>\n    project.getExternalLayoutAt(i)\n  );\n\nexport const enumerateEventsFunctionsExtensions = (\n  project: gdProject\n): Array<gdEventsFunction> =>\n  mapFor(0, project.getEventsFunctionsExtensionsCount(), i =>\n    project.getEventsFunctionsExtensionAt(i)\n  );\n\nexport const filterProjectItemsList = <T>(\n  list: Array<T>,\n  searchText: string\n): Array<T> => {\n  if (!searchText) return list;\n\n  const lowercaseSearchText = searchText.toLowerCase();\n\n  return list.filter(\n    (item: any) =>\n      item\n        .getName()\n        .toLowerCase()\n        .indexOf(lowercaseSearchText) !== -1\n  );\n};\n","// @flow\nimport * as React from 'react';\nimport ReactDOM from 'react-dom';\nimport Popover from 'material-ui/Popover';\nimport Functions from 'material-ui/svg-icons/editor/functions';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport SemiControlledTextField from '../../../UI/SemiControlledTextField';\nimport { mapVector } from '../../../Utils/MapFor';\nimport ExpressionSelector from '../../InstructionEditor/InstructionOrExpressionSelector/ExpressionSelector';\nimport ExpressionParametersEditorDialog, {\n  type ParameterValues,\n} from './ExpressionParametersEditorDialog';\nimport { formatExpressionCall } from './FormatExpressionCall';\nimport { type EnumeratedInstructionOrExpressionMetadata } from '../../InstructionEditor/InstructionOrExpressionSelector/EnumeratedInstructionOrExpressionMetadata.js';\nimport { type ParameterFieldProps } from '../ParameterFieldCommons';\nimport BackgroundHighlighting, {\n  type Highlight,\n} from './BackgroundHighlighting';\nimport debounce from 'lodash/debounce';\nconst gd = global.gd;\n\nconst styles = {\n  container: {\n    display: 'flex',\n    alignItems: 'flex-start',\n  },\n  textFieldContainer: {\n    flex: 1,\n    minWidth: 300,\n  },\n  textFieldAndHightlightContainer: {\n    position: 'relative',\n  },\n  expressionSelector: {\n    maxHeight: 350,\n    overflowY: 'scroll',\n  },\n  input: {\n    fontFamily: '\"Lucida Console\", Monaco, monospace',\n    lineHeight: 1.4,\n  },\n  backgroundHighlighting: {\n    marginTop: 12, //Properly align with the text field\n  },\n  backgroundHighlightingWithDescription: {\n    marginTop: 38, //Properly align with the text field\n  },\n  functionsButton: {\n    marginTop: 7, //Properly align with the text field\n    marginLeft: 10,\n  },\n  functionsButtonWithDescription: {\n    marginTop: 33, //Properly align with the text field\n    marginLeft: 10,\n  },\n};\n\ntype State = {|\n  popoverOpen: boolean,\n  parametersDialogOpen: boolean,\n  selectedExpressionInfo: ?EnumeratedInstructionOrExpressionMetadata,\n  validatedValue: string,\n  errorText: ?string,\n  errorHighlights: Array<Highlight>,\n|};\n\ntype Props = {|\n  expressionType: 'number' | 'string',\n  renderExtraButton?: ({|\n    style: Object,\n  |}) => React.Node,\n  ...ParameterFieldProps,\n|};\n\nexport default class ExpressionField extends React.Component<Props, State> {\n  _field: ?any = null;\n  _fieldElement: ?any = null;\n  _inputElement = null;\n\n  state = {\n    popoverOpen: false,\n    parametersDialogOpen: false,\n    selectedExpressionInfo: null,\n\n    validatedValue: '',\n    errorText: null,\n    errorHighlights: [],\n  };\n\n  componentDidMount() {\n    if (this._field) {\n      this._fieldElement = ReactDOM.findDOMNode(this._field);\n      this._inputElement = this._field ? this._field.getInputNode() : null;\n    }\n  }\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  _openExpressionPopover = () => {\n    this.setState({\n      popoverOpen: true,\n    });\n  };\n\n  _handleFocus = (event: { preventDefault: () => void }) => {\n    // This prevents ghost click.\n    event.preventDefault();\n  };\n\n  _handleRequestClose = () => {\n    this.setState({\n      popoverOpen: false,\n    });\n  };\n\n  _handleChange = (value: string) => {\n    this.setState(\n      {\n        validatedValue: value,\n      },\n      () => this._enqueueValidation()\n    );\n  };\n\n  _handleBlur = (event: { currentTarget: { value: string } }) => {\n    const value = event.currentTarget.value;\n    if (this.props.onChange) this.props.onChange(value);\n    this.setState(\n      {\n        validatedValue: value,\n      },\n      () => {\n        this._enqueueValidation.cancel();\n        this._doValidation();\n      }\n    );\n  };\n\n  _handleMenuMouseDown = (event: any) => {\n    // Keep the TextField focused\n    event.preventDefault();\n  };\n\n  _handleExpressionChosen = (\n    expressionInfo: EnumeratedInstructionOrExpressionMetadata\n  ) => {\n    this.setState({\n      popoverOpen: false,\n      parametersDialogOpen: true,\n      selectedExpressionInfo: expressionInfo,\n    });\n  };\n\n  insertExpression = (\n    expressionInfo: EnumeratedInstructionOrExpressionMetadata,\n    parameterValues: ParameterValues\n  ) => {\n    if (!this._inputElement) return;\n    const cursorPosition = this._inputElement.selectionStart;\n\n    const functionCall = formatExpressionCall(expressionInfo, parameterValues);\n\n    const { value } = this.props;\n    const newValue =\n      value.substr(0, cursorPosition) +\n      functionCall +\n      value.substr(cursorPosition);\n\n    if (this.props.onChange) this.props.onChange(newValue);\n    setTimeout(() => {\n      if (this._field) this._field.focus();\n\n      setTimeout(() => {\n        if (this._inputElement)\n          this._inputElement.setSelectionRange(\n            cursorPosition,\n            cursorPosition + functionCall.length\n          );\n      }, 5);\n    }, 5);\n  };\n\n  _enqueueValidation = debounce(() => {\n    this._doValidation();\n  }, 500);\n\n  _doValidation = () => {\n    const {\n      project,\n      globalObjectsContainer,\n      objectsContainer,\n      expressionType,\n    } = this.props;\n    if (!project) return null;\n\n    // Validation can be time consuming (~1ms for simple expression,\n    // a few milliseconds for complex ones).\n\n    const parser = new gd.ExpressionParser2(\n      gd.JsPlatform.get(),\n      globalObjectsContainer,\n      objectsContainer\n    );\n    const expression = this.state.validatedValue;\n    const expressionNode = parser\n      .parseExpression(expressionType, expression)\n      .get();\n\n    const expressionValidator = new gd.ExpressionValidator();\n    expressionNode.visit(expressionValidator);\n    const errors = expressionValidator.getErrors();\n\n    const errorHighlights: Array<Highlight> = mapVector(errors, error => ({\n      begin: error.getStartPosition(),\n      end: error.getEndPosition() + 1,\n      message: error.getMessage(),\n      type: 'error',\n    }));\n    const hasMultipleErrors = errorHighlights.length > 1;\n    const errorText = errorHighlights\n      .map(\n        (highlight, i) =>\n          (hasMultipleErrors ? `[${i + 1}] ` : '') + highlight.message\n      )\n      .join(' ');\n\n    expressionValidator.delete();\n    parser.delete();\n\n    this.setState({ errorText, errorHighlights });\n  };\n\n  render() {\n    const {\n      value,\n      expressionType,\n      parameterMetadata,\n      project,\n      scope,\n      globalObjectsContainer,\n      objectsContainer,\n      parameterRenderingService,\n    } = this.props;\n    const description = parameterMetadata\n      ? parameterMetadata.getDescription()\n      : undefined;\n\n    const popoverStyle = {\n      width: this._fieldElement ? this._fieldElement.clientWidth : 'auto',\n    };\n\n    const backgroundHighlightingStyle = description\n      ? styles.backgroundHighlightingWithDescription\n      : styles.backgroundHighlighting;\n\n    return (\n      <div style={styles.container}>\n        <div style={styles.textFieldContainer}>\n          <div style={styles.textFieldAndHightlightContainer}>\n            <BackgroundHighlighting\n              value={this.state.validatedValue}\n              style={{ ...styles.input, ...backgroundHighlightingStyle }}\n              highlights={this.state.errorHighlights}\n            />\n            <SemiControlledTextField\n              value={value}\n              floatingLabelText={description}\n              hintText={expressionType === 'string' ? '\"\"' : undefined}\n              inputStyle={styles.input}\n              onChange={this._handleChange}\n              onBlur={this._handleBlur}\n              ref={field => (this._field = field)}\n              onFocus={this._handleFocus}\n              errorText={this.state.errorText}\n              multiLine\n              fullWidth\n            />\n          </div>\n          {this._fieldElement && (\n            <Popover\n              style={popoverStyle}\n              open={this.state.popoverOpen}\n              canAutoPosition={false}\n              anchorEl={this._fieldElement}\n              useLayerForClickAway={false}\n              anchorOrigin={{ horizontal: 'left', vertical: 'bottom' }}\n              targetOrigin={{ horizontal: 'left', vertical: 'top' }}\n              onRequestClose={this._handleRequestClose}\n            >\n              <ExpressionSelector\n                style={styles.expressionSelector}\n                selectedType=\"\"\n                onChoose={(type, expression) => {\n                  this._handleExpressionChosen(expression);\n                }}\n                expressionType={expressionType}\n                focusOnMount\n                scope={scope}\n              />\n            </Popover>\n          )}\n        </div>\n        {!this.props.isInline &&\n          this.props.renderExtraButton &&\n          this.props.renderExtraButton({\n            style: description\n              ? styles.functionsButtonWithDescription\n              : styles.functionsButton,\n          })}\n        {!this.props.isInline && (\n          <RaisedButton\n            icon={<Functions />}\n            label={\n              expressionType === 'string'\n                ? '\"ABC\"'\n                : expressionType === 'number'\n                ? '123'\n                : ''\n            }\n            primary\n            style={\n              description\n                ? styles.functionsButtonWithDescription\n                : styles.functionsButton\n            }\n            onClick={this._openExpressionPopover}\n          />\n        )}\n        {this.state.parametersDialogOpen && this.state.selectedExpressionInfo && (\n          <ExpressionParametersEditorDialog\n            open={true}\n            project={project}\n            scope={scope}\n            globalObjectsContainer={globalObjectsContainer}\n            objectsContainer={objectsContainer}\n            expressionMetadata={this.state.selectedExpressionInfo.metadata}\n            onDone={parameterValues => {\n              if (!this.state.selectedExpressionInfo) return;\n\n              this.insertExpression(\n                this.state.selectedExpressionInfo,\n                parameterValues\n              );\n              this.setState({\n                parametersDialogOpen: false,\n                selectedExpressionInfo: null,\n              });\n            }}\n            onRequestClose={() => {\n              this.setState({\n                parametersDialogOpen: false,\n                selectedExpressionInfo: null,\n              });\n            }}\n            parameterRenderingService={parameterRenderingService}\n          />\n        )}\n      </div>\n    );\n  }\n}\n","// @flow\n\nexport default function getObjectByName(\n  project: gdProject,\n  layout?: ?gdLayout,\n  associatedObjectName: string\n): ?gdObject {\n  let associatedObject = null;\n  if (layout && layout.hasObjectNamed(associatedObjectName))\n    associatedObject = layout.getObject(associatedObjectName);\n  else if (project.hasObjectNamed(associatedObjectName))\n    associatedObject = project.getObject(associatedObjectName);\n  return associatedObject;\n}\n","// @flow\nimport { t } from '@lingui/macro';\n\nexport type Hint = {| kind: 'warning' | 'info', message: string |};\n\nexport const getDeprecatedBehaviorsInformation = (): {\n  [string]: {| warning: string |},\n} => ({\n  'PhysicsBehavior::PhysicsBehavior': {\n    warning: t`A new physics engine (Physics Engine 2.0) is now available. You should prefer using it for new game. For existing games, note that the two behaviors are not compatible, so you should only use one of them with your objects.`,\n  },\n});\n\nexport const getExperimentalObjects = (): {\n  [string]: boolean,\n} => ({\n  'Video::VideoObject': true,\n});\n\nexport const getExtraObjectsInformation = (): {\n  [string]: Array<Hint>,\n} => ({\n  'Video::VideoObject': [\n    {\n      kind: 'warning',\n      message: t`Most browsers will require the user to have interacted with your game before allowing any video to play. Make sure that the player click/touch the screen at the beginning of the game before starting any video.`,\n    },\n    {\n      kind: 'warning',\n      message: t`For a given video resource, only one video will be played in memory and displayed. If you put this object multiple times on the scene, all the instances will be displaying the exact same video (with the same timing and paused/played/stopped state).`,\n    },\n    {\n      kind: 'info',\n      message: t`Video format supported can vary according to devices and browsers. For maximum compatibility, use H.264/mp4 file format (and AAC for audio).`,\n    },\n  ],\n});\n\nexport const getExtraInstructionInformation = (type: string): ?Hint => {\n  if (type.indexOf('PhysicsBehavior::') === 0) {\n    return {\n      kind: 'warning',\n      message: t`This action is deprecated and should not be used anymore. Instead,\n  use for all your objects the behavior called \"Physics2\" and the\n  associated actions (in this case, all objects must be set up to use\n  Physics2, you can't mix the behaviors).`,\n    };\n  }\n  if (type === 'TextObject::Size') {\n    return {\n      kind: 'warning',\n      message: t`This action will create a new texture and re-render the text each time it is called, which is expensive and can reduce performances. Prefer to avoid changing a lot the character size of a text.`,\n    };\n  }\n  if (type === 'PlayMusicCanal' || type === 'PlayMusic') {\n    return {\n      kind: 'warning',\n      message: t`Musics will only be played if the user has interacted with the game before (by clicking/touching it or pressing a key on the keyboard). This is due to browser limitations. Make sure to have the user interact with the game before using this action.`,\n    };\n  }\n\n  return null;\n};\n","// @flow\nimport { type I18n as I18nType } from '@lingui/core';\nimport { t } from '@lingui/macro';\nimport { mapVector } from '../Utils/MapFor';\nconst gd = global.gd;\n\n// This file contains the logic to declare extension metadata from\n// events functions or events based behaviors.\n// These are basically adapters from EventsFunctionsExtension, and children, to a\n// real extension declaration (like in `JsExtension.js` or `Extension.cpp` files).\n\n/**\n * Declare an extension from an events based extension.\n */\nexport const declareExtension = (\n  extension: gdPlatformExtension,\n  eventsFunctionsExtension: gdEventsFunctionsExtension\n) => {\n  extension.setExtensionInformation(\n    eventsFunctionsExtension.getName(),\n    eventsFunctionsExtension.getFullName() ||\n      eventsFunctionsExtension.getName(),\n    eventsFunctionsExtension.getDescription(),\n    '',\n    ''\n  );\n};\n\n/**\n * Declare the behavior for the given\n * events based behavior.\n */\nexport const declareBehaviorMetadata = (\n  extension: gdPlatformExtension,\n  eventsBasedBehavior: gdEventsBasedBehavior\n): gdBehaviorMetadata => {\n  const generatedBehavior = new gd.BehaviorJsImplementation();\n\n  // The functions below are keeping a reference to eventsBasedBehavior.\n  // This should be safe as if eventsBasedBehavior is deleted (i.e: the behavior\n  // is removed from its extension), then extension will be re-generated.\n\n  // Declare the properties of the behavior\n  generatedBehavior.updateProperty = function(\n    behaviorContent: gdBehaviorContent,\n    propertyName: string,\n    newValue: string\n  ) {\n    let propertyFound = false;\n    mapVector(eventsBasedBehavior.getPropertyDescriptors(), property => {\n      if (property.getName() === propertyName) {\n        propertyFound = true;\n        const element = behaviorContent.addChild(propertyName);\n        const propertyType: string = property.getType();\n\n        if (propertyType === 'String' || propertyType === 'Choice') {\n          element.setStringValue(newValue);\n        } else if (propertyType === 'Number') {\n          element.setDoubleValue(parseFloat(newValue));\n        } else if (propertyType === 'Boolean') {\n          element.setBoolValue(newValue === '1');\n        }\n      }\n    });\n\n    return propertyFound;\n  };\n\n  generatedBehavior.getProperties = function(behaviorContent) {\n    var behaviorProperties = new gd.MapStringPropertyDescriptor();\n    mapVector(eventsBasedBehavior.getPropertyDescriptors(), property => {\n      const newProperty = property.toPropertyDescriptor();\n      const propertyType: string = newProperty.getType();\n\n      if (behaviorContent.hasChild(property.getName())) {\n        if (propertyType === 'String' || propertyType === 'Choice') {\n          newProperty.setValue(\n            behaviorContent.getChild(property.getName()).getStringValue()\n          );\n        } else if (propertyType === 'Number') {\n          newProperty.setValue(\n            '' + behaviorContent.getChild(property.getName()).getDoubleValue()\n          );\n        } else if (propertyType === 'Boolean') {\n          newProperty.setValue(\n            behaviorContent.getChild(property.getName()).getBoolValue()\n              ? 'true'\n              : 'false'\n          );\n        }\n      } else {\n        // No value was serialized for this property. `newProperty`\n        // will have the default value coming from `property`.\n      }\n\n      behaviorProperties.set(property.getName(), newProperty);\n    });\n\n    return behaviorProperties;\n  };\n\n  generatedBehavior.initializeContent = function(behaviorContent) {\n    mapVector(eventsBasedBehavior.getPropertyDescriptors(), property => {\n      const element = behaviorContent.addChild(property.getName());\n      const propertyType: string = property.getType();\n\n      if (propertyType === 'String' || propertyType === 'Choice') {\n        element.setStringValue(property.getValue());\n      } else if (propertyType === 'Number') {\n        element.setDoubleValue(parseFloat(property.getValue()) || 0);\n      } else if (propertyType === 'Boolean') {\n        element.setBoolValue(property.getValue() === 'true');\n      }\n    });\n  };\n\n  return extension\n    .addBehavior(\n      eventsBasedBehavior.getName(),\n      eventsBasedBehavior.getFullName() || eventsBasedBehavior.getName(),\n      eventsBasedBehavior.getName(), // Default name is the name\n      eventsBasedBehavior.getDescription(),\n      '',\n      'res/function24.png',\n      eventsBasedBehavior.getName(), // Class name is the name, actually unused\n      generatedBehavior,\n      new gd.BehaviorsSharedData()\n    )\n    .setObjectType(eventsBasedBehavior.getObjectType());\n};\n\n/**\n * Check if the name of the function is the name of a lifecycle function,\n * that will be called automatically by the game engine.\n */\nexport const isBehaviorLifecycleFunction = (functionName: string) => {\n  return (\n    [\n      'onCreated',\n      'onActivate',\n      'onDeActivate',\n      'doStepPreEvents',\n      'doStepPostEvents',\n      'onOwnerRemovedFromScene',\n    ].indexOf(functionName) !== -1\n  );\n};\n\n/**\n * Declare the instruction (action/condition) or expression for the given\n * (free) events function.\n */\nexport const declareInstructionOrExpressionMetadata = (\n  extension: gdPlatformExtension,\n  eventsFunctionsExtension: gdEventsFunctionsExtension,\n  eventsFunction: gdEventsFunction\n): gdInstructionMetadata | gdExpressionMetadata => {\n  const functionType = eventsFunction.getFunctionType();\n  if (functionType === gd.EventsFunction.Expression) {\n    return extension.addExpression(\n      eventsFunction.getName(),\n      eventsFunction.getFullName() || eventsFunction.getName(),\n      eventsFunction.getDescription() || eventsFunction.getFullName(),\n      eventsFunctionsExtension.getFullName() ||\n        eventsFunctionsExtension.getName(),\n      'res/function.png'\n    );\n  } else if (functionType === gd.EventsFunction.StringExpression) {\n    return extension.addStrExpression(\n      eventsFunction.getName(),\n      eventsFunction.getFullName() || eventsFunction.getName(),\n      eventsFunction.getDescription() || eventsFunction.getFullName(),\n      eventsFunctionsExtension.getFullName() ||\n        eventsFunctionsExtension.getName(),\n      'res/function.png'\n    );\n  } else if (functionType === gd.EventsFunction.Condition) {\n    return extension.addCondition(\n      eventsFunction.getName(),\n      eventsFunction.getFullName() || eventsFunction.getName(),\n      eventsFunction.getDescription() || eventsFunction.getFullName(),\n      eventsFunction.getSentence(),\n      eventsFunctionsExtension.getFullName() ||\n        eventsFunctionsExtension.getName(),\n      'res/function.png',\n      'res/function24.png'\n    );\n  } else {\n    return extension.addAction(\n      eventsFunction.getName(),\n      eventsFunction.getFullName() || eventsFunction.getName(),\n      eventsFunction.getDescription() || eventsFunction.getFullName(),\n      eventsFunction.getSentence(),\n      eventsFunctionsExtension.getFullName() ||\n        eventsFunctionsExtension.getName(),\n      'res/function.png',\n      'res/function24.png'\n    );\n  }\n};\n\n/**\n * Declare the instruction (action/condition) or expression for the given\n * behavior events function.\n */\nexport const declareBehaviorInstructionOrExpressionMetadata = (\n  behaviorMetadata: gdBehaviorMetadata,\n  eventsBasedBehavior: gdEventsBasedBehavior,\n  eventsFunction: gdEventsFunction\n): gdInstructionMetadata | gdExpressionMetadata => {\n  const functionType = eventsFunction.getFunctionType();\n  if (functionType === gd.EventsFunction.Expression) {\n    return behaviorMetadata.addExpression(\n      eventsFunction.getName(),\n      eventsFunction.getFullName() || eventsFunction.getName(),\n      eventsFunction.getDescription() || eventsFunction.getFullName(),\n      eventsBasedBehavior.getFullName() || eventsBasedBehavior.getName(),\n      'res/function.png'\n    );\n  } else if (functionType === gd.EventsFunction.StringExpression) {\n    return behaviorMetadata.addStrExpression(\n      eventsFunction.getName(),\n      eventsFunction.getFullName() || eventsFunction.getName(),\n      eventsFunction.getDescription() || eventsFunction.getFullName(),\n      eventsBasedBehavior.getFullName() || eventsBasedBehavior.getName(),\n      'res/function.png'\n    );\n  } else if (functionType === gd.EventsFunction.Condition) {\n    // Use the new \"scoped\" way to declare an instruction, because\n    // we want to prevent any conflict between free functions and\n    // behaviors (that can totally have functions with the same name).\n    return behaviorMetadata.addScopedCondition(\n      eventsFunction.getName(),\n      eventsFunction.getFullName() || eventsFunction.getName(),\n      eventsFunction.getDescription() || eventsFunction.getFullName(),\n      eventsFunction.getSentence(),\n      eventsBasedBehavior.getFullName() || eventsBasedBehavior.getName(),\n      'res/function.png',\n      'res/function24.png'\n    );\n  } else {\n    // Use the new \"scoped\" way to declare an instruction, because\n    // we want to prevent any conflict between free functions and\n    // behaviors (that can totally have functions with the same name).\n    return behaviorMetadata.addScopedAction(\n      eventsFunction.getName(),\n      eventsFunction.getFullName() || eventsFunction.getName(),\n      eventsFunction.getDescription() || eventsFunction.getFullName(),\n      eventsFunction.getSentence(),\n      eventsBasedBehavior.getFullName() || eventsBasedBehavior.getName(),\n      'res/function.png',\n      'res/function24.png'\n    );\n  }\n};\n\n/**\n * Declare the instructions (actions/conditions) and expressions for the\n * properties of the given events based behavior.\n * This is akin to what would happen by manually declaring a JS extension\n * (see `JsExtension.js` files of extensions).\n */\nexport const declareBehaviorPropertiesInstructionAndExpressions = (\n  i18n: I18nType,\n  behaviorMetadata: gdBehaviorMetadata,\n  eventsBasedBehavior: gdEventsBasedBehavior\n): void => {\n  const addObjectAndBehaviorParameters = (\n    instructionOrExpression: gdInstructionMetadata | gdExpressionMetadata\n  ) => {\n    // By convention, first parameter is always the object:\n    instructionOrExpression.addParameter(\n      'object',\n      'Object',\n      '', // See below for adding the extra information\n      false\n    );\n\n    // Manually add the \"extra info\" without relying on addParameter\n    // as this method is prefixing the value passed with the extension namespace (this\n    // was done to ease extension declarations when dealing with object).\n    instructionOrExpression\n      .getParameter(instructionOrExpression.getParametersCount() - 1)\n      .setExtraInfo(eventsBasedBehavior.getObjectType());\n\n    // By convention, second parameter is always the behavior:\n    instructionOrExpression.addParameter(\n      'behavior',\n      'Behavior',\n      eventsBasedBehavior.getName(),\n      false\n    );\n\n    // All property actions/conditions/expressions are private, meaning\n    // they can only be used from the behavior events.\n    instructionOrExpression.setPrivate();\n\n    return instructionOrExpression;\n  };\n\n  mapVector(eventsBasedBehavior.getPropertyDescriptors(), property => {\n    const propertyType = property.getType();\n    const propertyName = property.getName();\n    const getterName = gd.BehaviorCodeGenerator.getBehaviorPropertyGetterName(\n      propertyName\n    );\n    const setterName = gd.BehaviorCodeGenerator.getBehaviorPropertySetterName(\n      propertyName\n    );\n    const propertyLabel =\n      property.getLabel() || i18n._(t`${propertyName} property`);\n\n    if (propertyType === 'String' || propertyType === 'Choice') {\n      addObjectAndBehaviorParameters(\n        behaviorMetadata.addStrExpression(\n          gd.EventsBasedBehavior.getPropertyExpressionName(propertyName),\n          propertyLabel,\n          propertyLabel,\n          eventsBasedBehavior.getFullName() || eventsBasedBehavior.getName(),\n          'res/function.png'\n        )\n      )\n        .getCodeExtraInformation()\n        .setFunctionName(getterName);\n\n      addObjectAndBehaviorParameters(\n        behaviorMetadata.addScopedCondition(\n          gd.EventsBasedBehavior.getPropertyConditionName(propertyName),\n          propertyLabel,\n          i18n._(t`Compare the content of ${propertyLabel}`),\n          i18n._(t`Property ${propertyName} of _PARAM0_ is _PARAM2__PARAM3_`),\n          eventsBasedBehavior.getFullName() || eventsBasedBehavior.getName(),\n          'res/function.png'\n        )\n      )\n        .addParameter(\n          'relationalOperator',\n          i18n._(t`Sign of the test`),\n          '',\n          false\n        )\n        .addParameter('string', i18n._(t`String to compare against`), '', false)\n        .getCodeExtraInformation()\n        .setFunctionName(getterName)\n        .setManipulatedType('string');\n\n      addObjectAndBehaviorParameters(\n        behaviorMetadata.addScopedAction(\n          gd.EventsBasedBehavior.getPropertyActionName(propertyName),\n          propertyLabel,\n          i18n._(t`Update the content of ${propertyLabel}`),\n          i18n._(\n            t`Do _PARAM2__PARAM3_ to property ${propertyName} of _PARAM0_`\n          ),\n          eventsBasedBehavior.getFullName() || eventsBasedBehavior.getName(),\n          'res/function.png'\n        )\n      )\n        .addParameter('operator', i18n._(t`Modification's sign`), '', false)\n        .addParameter('string', i18n._(t`New value`), '', false)\n        .getCodeExtraInformation()\n        .setFunctionName(setterName)\n        .setManipulatedType('string')\n        .setGetter(getterName);\n    } else if (propertyType === 'Number') {\n      addObjectAndBehaviorParameters(\n        behaviorMetadata.addExpression(\n          gd.EventsBasedBehavior.getPropertyExpressionName(propertyName),\n          propertyLabel,\n          propertyLabel,\n          eventsBasedBehavior.getFullName() || eventsBasedBehavior.getName(),\n          'res/function.png'\n        )\n      )\n        .getCodeExtraInformation()\n        .setFunctionName(getterName);\n\n      addObjectAndBehaviorParameters(\n        behaviorMetadata.addScopedCondition(\n          gd.EventsBasedBehavior.getPropertyConditionName(propertyName),\n          propertyLabel,\n          i18n._(t`Compare the value of ${propertyLabel}`),\n          i18n._(t`Property ${propertyName} of _PARAM0_ is _PARAM2__PARAM3_`),\n          eventsBasedBehavior.getFullName() || eventsBasedBehavior.getName(),\n          'res/function.png'\n        )\n      )\n        .addParameter(\n          'relationalOperator',\n          i18n._(t`Sign of the test`),\n          '',\n          false\n        )\n        .addParameter(\n          'expression',\n          i18n._(t`Value to compare against`),\n          '',\n          false\n        )\n        .getCodeExtraInformation()\n        .setFunctionName(getterName)\n        .setManipulatedType('number');\n\n      addObjectAndBehaviorParameters(\n        behaviorMetadata.addScopedAction(\n          gd.EventsBasedBehavior.getPropertyActionName(propertyName),\n          propertyLabel,\n          i18n._(t`Update the value of ${propertyLabel}`),\n          i18n._(\n            t`Do _PARAM2__PARAM3_ to property ${propertyName} of _PARAM0_`\n          ),\n          eventsBasedBehavior.getFullName() || eventsBasedBehavior.getName(),\n          'res/function.png'\n        )\n      )\n        .addParameter('operator', i18n._(t`Modification's sign`), '', false)\n        .addParameter('expression', i18n._(t`New value`), '', false)\n        .getCodeExtraInformation()\n        .setFunctionName(setterName)\n        .setManipulatedType('number')\n        .setGetter(getterName);\n    } else if (propertyType === 'Boolean') {\n      addObjectAndBehaviorParameters(\n        behaviorMetadata.addScopedCondition(\n          gd.EventsBasedBehavior.getPropertyConditionName(propertyName),\n          propertyLabel,\n          i18n._(t`Check the value of ${propertyLabel}`),\n          i18n._(t`Property ${propertyName} of _PARAM0_ is true`),\n          eventsBasedBehavior.getFullName() || eventsBasedBehavior.getName(),\n          'res/function.png',\n          'res/function24.png'\n        )\n      )\n        .getCodeExtraInformation()\n        .setFunctionName(getterName);\n\n      addObjectAndBehaviorParameters(\n        behaviorMetadata.addScopedAction(\n          gd.EventsBasedBehavior.getPropertyActionName(propertyName),\n          propertyLabel,\n          i18n._(t`Update the value of ${propertyLabel}`),\n          i18n._(t`Set property ${propertyName} of _PARAM0_ to _PARAM2_`),\n          eventsBasedBehavior.getFullName() || eventsBasedBehavior.getName(),\n          'res/function.png'\n        )\n      )\n        .addParameter('yesorno', i18n._(t`New value to set`), '', false)\n        .getCodeExtraInformation()\n        .setFunctionName(setterName);\n    }\n  });\n};\n\n/**\n * Add to the instruction (action/condition) or expression the parameters\n * expected by the events function.\n */\nexport const declareEventsFunctionParameters = (\n  eventsFunction: gdEventsFunction,\n  instructionOrExpression: gdInstructionMetadata | gdExpressionMetadata\n) => {\n  mapVector(\n    eventsFunction.getParameters(),\n    (parameter: gdParameterMetadata) => {\n      if (!parameter.isCodeOnly()) {\n        instructionOrExpression.addParameter(\n          parameter.getType(),\n          parameter.getDescription(),\n          '', // See below for adding the extra information\n          parameter.isOptional()\n        );\n      } else {\n        instructionOrExpression.addCodeOnlyParameter(\n          parameter.getType(),\n          '' // See below for adding the extra information\n        );\n      }\n      // Manually add the \"extra info\" without relying on addParameter (or addCodeOnlyParameter)\n      // as these methods are prefixing the value passed with the extension namespace (this\n      // was done to ease extension declarations when dealing with object).\n      instructionOrExpression\n        .getParameter(instructionOrExpression.getParametersCount() - 1)\n        .setExtraInfo(parameter.getExtraInfo());\n    }\n  );\n\n  // By convention, latest parameter is always the eventsFunctionContext of the calling function\n  // (if any).\n  instructionOrExpression.addCodeOnlyParameter('eventsFunctionContext', '');\n};\n","import React, { Component } from 'react';\nimport {\n  MosaicWindow as RMMosaicWindow,\n  MosaicWithoutDragDropContext,\n  getLeaves,\n} from 'react-mosaic-component';\nimport CloseButton from './CloseButton';\nimport ThemeConsumer from '../Theme/ThemeConsumer';\n\n// EditorMosaic default styling:\nimport 'react-mosaic-component/react-mosaic-component.css';\nimport './style.css';\n\nconst addRightNode = (\n  currentNode,\n  newNode,\n  splitPercentage,\n  direction = 'row'\n) => {\n  if (currentNode.second && typeof currentNode.second !== 'string') {\n    return {\n      ...currentNode,\n      second: addRightNode(currentNode.second, newNode, splitPercentage),\n    };\n  }\n\n  return {\n    direction,\n    first: currentNode,\n    second: newNode,\n    splitPercentage,\n  };\n};\n\nconst defaultToolbarControls = [<CloseButton key=\"close\" />];\n\nconst renderMosaicWindowPreview = props => (\n  <div className=\"mosaic-preview\">\n    <div className=\"mosaic-window-toolbar\">\n      <div className=\"mosaic-window-title\">{props.title}</div>\n    </div>\n    <div className=\"mosaic-window-body\" />\n  </div>\n);\n\n/**\n * A window that can be used in a EditorMosaic, with a close button\n * by default in the toolbarControls and a preview when the window is\n * dragged.\n */\nexport const MosaicWindow = props => (\n  <RMMosaicWindow\n    {...props}\n    toolbarControls={props.toolbarControls || defaultToolbarControls}\n    renderPreview={renderMosaicWindowPreview}\n  />\n);\n\n/**\n * @class EditorMosaic\n *\n * Can be used to create a mosaic of resizable editors.\n * Must be used inside a component wrapped in a DragDropContext.\n */\nexport default class EditorMosaic extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      mosaicNode: props.initialNodes,\n    };\n  }\n\n  openEditor = editorName => {\n    if (getLeaves(this.state.mosaicNode).indexOf(editorName) !== -1) {\n      return false;\n    }\n\n    this.setState({\n      mosaicNode: addRightNode(this.state.mosaicNode, editorName, 75),\n    });\n    return true;\n  };\n\n  _onChange = mosaicNode => this.setState({ mosaicNode });\n\n  render() {\n    const { editors } = this.props;\n    return (\n      <ThemeConsumer>\n        {muiTheme => (\n          <MosaicWithoutDragDropContext\n            className={`${\n              muiTheme.mosaicRootClassName\n            } mosaic-blueprint-theme mosaic-gd-theme`}\n            renderTile={(editorName, path) =>\n              React.cloneElement(editors[editorName], { path })\n            }\n            value={this.state.mosaicNode}\n            onChange={this._onChange}\n          />\n        )}\n      </ThemeConsumer>\n    );\n  }\n}\n","import TextEditor from './Editors/TextEditor';\nimport TiledSpriteEditor from './Editors/TiledSpriteEditor';\nimport PanelSpriteEditor from './Editors/PanelSpriteEditor';\nimport SpriteEditor from './Editors/SpriteEditor';\nimport EmptyEditor from './Editors/EmptyEditor';\nimport ShapePainterEditor from './Editors/ShapePainterEditor';\nimport ParticleEmitterEditor from './Editors/ParticleEmitterEditor';\nimport ObjectPropertiesEditor from './Editors/ObjectPropertiesEditor';\nconst gd = global.gd;\n\n/**\n * A service returning editor components for each object type.\n */\nexport default {\n  getEditorConfiguration(objectType: string) {\n    if (!this.editorConfigurations[objectType]) {\n      console.warn(\n        `Object with type ${objectType} has no editor configuration registered. Please use registerEditorConfiguration to register your editor.`\n      );\n    }\n\n    return this.editorConfigurations[objectType];\n  },\n  registerEditorConfiguration: function(objectType, editorConfiguration) {\n    if (!editorConfiguration.component) {\n      console.warn(\n        `Tried to register editor configuration for object \"${objectType}\", but \"component\" property is not defined.`\n      );\n      return;\n    }\n    if (!editorConfiguration.createNewObject) {\n      console.warn(\n        `Tried to register editor configuration for object \"${objectType}\", but \"createNewObject\" property is not defined.`\n      );\n      return;\n    }\n    if (!editorConfiguration.castToObjectType) {\n      console.warn(\n        `Tried to register editor configuration for object \"${objectType}\", but \"castToObjectType\" property is not defined.`\n      );\n      return;\n    }\n\n    if (this.editorConfigurations.hasOwnProperty(objectType)) {\n      console.warn(\n        `Tried to register editor configuration for object \"${objectType}\", but an editor configuration already exists.`\n      );\n      return;\n    }\n\n    console.info(\n      `Properly registered editor configuration for object \"${objectType}\".`\n    );\n    this.editorConfigurations[objectType] = editorConfiguration;\n  },\n  getDefaultObjectJsImplementationPropertiesEditor() {\n    return {\n      component: ObjectPropertiesEditor,\n      createNewObject: object =>\n        gd\n          .asObjectJsImplementation(object)\n          .clone()\n          .release(),\n      castToObjectType: object => gd.asObjectJsImplementation(object),\n    };\n  },\n  editorConfigurations: {\n    Sprite: {\n      component: SpriteEditor,\n      createNewObject: () => new gd.SpriteObject(''),\n      castToObjectType: object => gd.asSpriteObject(object),\n      helpPagePath: '/objects/sprite',\n    },\n    'TiledSpriteObject::TiledSprite': {\n      component: TiledSpriteEditor,\n      createNewObject: () => new gd.TiledSpriteObject(''),\n      castToObjectType: object => gd.asTiledSpriteObject(object),\n      helpPagePath: '/objects/tiled_sprite',\n    },\n    'PanelSpriteObject::PanelSprite': {\n      component: PanelSpriteEditor,\n      createNewObject: () => new gd.PanelSpriteObject(''),\n      castToObjectType: object => gd.asPanelSpriteObject(object),\n      helpPagePath: '/objects/panel_sprite',\n    },\n    'TextObject::Text': {\n      component: TextEditor,\n      createNewObject: () => new gd.TextObject(''),\n      castToObjectType: object => gd.asTextObject(object),\n      helpPagePath: '/objects/text',\n    },\n    'PrimitiveDrawing::Drawer': {\n      component: ShapePainterEditor,\n      createNewObject: () => new gd.ShapePainterObject(''),\n      castToObjectType: object => gd.asShapePainterObject(object),\n      helpPagePath: '/objects/shape_painter',\n    },\n    'TextEntryObject::TextEntry': {\n      component: EmptyEditor,\n      createNewObject: () => new gd.TextEntryObject(''),\n      castToObjectType: object => gd.asTextEntryObject(object),\n      helpPagePath: '/objects/text_entry',\n    },\n    'ParticleSystem::ParticleEmitter': {\n      component: ParticleEmitterEditor,\n      createNewObject: () => new gd.ParticleEmitterObject(''),\n      castToObjectType: object => gd.asParticleEmitterObject(object),\n      helpPagePath: '/objects/particles_emitter',\n    },\n  },\n};\n","// @flow\nimport axios from 'axios';\nimport { GDevelopBuildApi } from './ApiConfigs';\n\nexport const getUrl = (key: string) =>\n  `https://s3-eu-west-1.amazonaws.com/gd-build/${key}`;\n\nexport type TargetName = 'winExe' | 'winZip' | 'macZip' | 'linuxAppImage';\n\nexport type Build = {\n  id: string,\n  userId: string,\n  bucket?: string,\n  logsKey?: string,\n  apkKey?: string,\n  windowsExeKey?: string,\n  windowsZipKey?: string,\n  macosZipKey?: string,\n  linuxAppImageKey?: string,\n  status: 'pending' | 'complete' | 'error',\n  type: 'cordova-build' | 'electron-build',\n  targets?: Array<TargetName>,\n  createdAt: number,\n  updatedAt: number,\n};\n\nexport const buildElectron = (\n  getAuthorizationHeader: () => Promise<string>,\n  userId: string,\n  key: string,\n  targets: Array<TargetName>\n): Promise<Build> => {\n  return getAuthorizationHeader()\n    .then(authorizationHeader =>\n      axios.post(\n        `${GDevelopBuildApi.baseUrl}/build?userId=${encodeURIComponent(\n          userId\n        )}&key=${encodeURIComponent(\n          key\n        )}&type=electron-build&targets=${encodeURIComponent(\n          targets.join(',')\n        )}`,\n        null,\n        {\n          params: {},\n          headers: {\n            Authorization: authorizationHeader,\n          },\n        }\n      )\n    )\n    .then(response => response.data);\n};\n\nexport const buildCordovaAndroid = (\n  getAuthorizationHeader: () => Promise<string>,\n  userId: string,\n  key: string\n): Promise<Build> => {\n  return getAuthorizationHeader()\n    .then(authorizationHeader =>\n      axios.post(\n        `${GDevelopBuildApi.baseUrl}/build?userId=${encodeURIComponent(\n          userId\n        )}&key=${encodeURIComponent(key)}&type=cordova-build`,\n        null,\n        {\n          params: {},\n          headers: {\n            Authorization: authorizationHeader,\n          },\n        }\n      )\n    )\n    .then(response => response.data);\n};\n\nexport const getBuild = (\n  getAuthorizationHeader: () => Promise<string>,\n  userId: string,\n  buildId: string\n): Promise<Build> => {\n  return getAuthorizationHeader()\n    .then(authorizationHeader =>\n      axios.get(`${GDevelopBuildApi.baseUrl}/build/${buildId}`, {\n        params: {\n          userId,\n        },\n        headers: {\n          Authorization: authorizationHeader,\n        },\n      })\n    )\n    .then(response => response.data);\n};\n\nexport const getBuilds = (\n  getAuthorizationHeader: () => Promise<string>,\n  userId: string\n): Promise<Array<Build>> => {\n  return getAuthorizationHeader()\n    .then(authorizationHeader =>\n      axios.get(`${GDevelopBuildApi.baseUrl}/build`, {\n        params: {\n          userId,\n        },\n        headers: {\n          Authorization: authorizationHeader,\n        },\n      })\n    )\n    .then(response => response.data);\n};\n","// @flow\nimport * as React from 'react';\nimport ResourcesLoader from '../../ResourcesLoader';\nimport { type ResourceKind } from '../ResourceSource.flow';\nimport ImageThumbnail from './ImageThumbnail';\n\ntype Props = {|\n  project: gdProject,\n  resourceName: string,\n  resourcesLoader: typeof ResourcesLoader,\n  children?: any,\n  style?: Object,\n  onSize?: (number, number) => void,\n  selectable?: boolean,\n  selected?: boolean,\n  onSelect?: boolean => void,\n  onContextMenu?: (number, number) => void,\n|};\n\ntype State = {|\n  resourceKind: ?ResourceKind,\n|};\n\n/**\n * Display the right thumbnail for any given resource of a project\n */\nexport default class ResourceThumbnail extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n\n    this.state = this._loadFrom(props);\n  }\n\n  componentWillReceiveProps(newProps: Props) {\n    if (\n      newProps.resourceName !== this.props.resourceName ||\n      newProps.project !== this.props.project\n    ) {\n      this.setState(this._loadFrom(newProps));\n    }\n  }\n\n  _loadFrom(props: Props): State {\n    const { project, resourceName } = props;\n    const resourcesManager = project.getResourcesManager();\n    const resourceKind = resourcesManager.hasResource(resourceName)\n      ? resourcesManager.getResource(resourceName).getKind()\n      : null;\n\n    return {\n      resourceKind,\n    };\n  }\n\n  render() {\n    const { resourceKind } = this.state;\n\n    switch (resourceKind) {\n      case 'image':\n        return (\n          <ImageThumbnail\n            project={this.props.project}\n            resourceName={this.props.resourceName}\n            resourcesLoader={this.props.resourcesLoader}\n            children={this.props.children}\n            style={this.props.style}\n            onSize={this.props.onSize}\n            selectable={this.props.selectable}\n            selected={this.props.selected}\n            onSelect={this.props.onSelect}\n            onContextMenu={this.props.onContextMenu}\n          />\n        );\n      default:\n        return null;\n    }\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport ResourcesLoader from '../ResourcesLoader';\nimport ResourceSelector from '../ResourcesList/ResourceSelector';\nimport {\n  type ResourceSource,\n  type ChooseResourceFunction,\n  type ResourceKind,\n} from '../ResourcesList/ResourceSource.flow';\nimport ResourceThumbnail from './ResourceThumbnail';\nimport { type ResourceExternalEditor } from '../ResourcesList/ResourceExternalEditor.flow';\n\ntype Props = {|\n  project: gdProject,\n  resourceSources: Array<ResourceSource>,\n  onChooseResource: ChooseResourceFunction,\n  resourceExternalEditors: Array<ResourceExternalEditor>,\n  resourceKind: ResourceKind,\n  resourceName: string,\n  onChange: string => void,\n  floatingLabelText?: React.Node,\n  hintText?: React.Node,\n|};\n\nconst ResourceSelectorWithThumbnail = ({\n  project,\n  resourceSources,\n  onChooseResource,\n  resourceExternalEditors,\n  resourceKind,\n  resourceName,\n  onChange,\n  floatingLabelText,\n  hintText,\n}: Props) => {\n  return (\n    <div style={{ flex: 1, display: 'flex', alignItems: 'flex-end' }}>\n      <div style={{ flex: 1 }}>\n        <ResourceSelector\n          project={project}\n          resourceSources={resourceSources}\n          onChooseResource={onChooseResource}\n          resourceExternalEditors={resourceExternalEditors}\n          resourcesLoader={ResourcesLoader}\n          resourceKind={resourceKind}\n          fullWidth\n          initialResourceName={resourceName}\n          onChange={onChange}\n          floatingLabelText={floatingLabelText}\n          hintText={hintText}\n        />\n      </div>\n      <ResourceThumbnail\n        resourceName={resourceName}\n        resourcesLoader={ResourcesLoader}\n        project={project}\n        style={{ marginLeft: 10 }}\n      />\n    </div>\n  );\n};\n\nexport default ResourceSelectorWithThumbnail;\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport './MainFrame.css';\nimport IconButton from 'material-ui/IconButton';\nimport Drawer from 'material-ui/Drawer';\nimport Snackbar from 'material-ui/Snackbar';\nimport NavigationClose from 'material-ui/svg-icons/navigation/close';\nimport Toolbar from './Toolbar';\nimport ProjectTitlebar from './ProjectTitlebar';\nimport PreferencesDialog from './Preferences/PreferencesDialog';\nimport AboutDialog from './AboutDialog';\nimport ProjectManager from '../ProjectManager';\nimport PlatformSpecificAssetsDialog from '../PlatformSpecificAssetsEditor/PlatformSpecificAssetsDialog';\nimport LoaderModal from '../UI/LoaderModal';\nimport EditorBar from '../UI/EditorBar';\nimport CloseConfirmDialog from '../UI/CloseConfirmDialog';\nimport ProfileDialog from '../Profile/ProfileDialog';\nimport Window from '../Utils/Window';\nimport { showErrorBox } from '../UI/Messages/MessageBox';\nimport { Tabs, Tab } from '../UI/Tabs';\nimport {\n  getEditorTabsInitialState,\n  openEditorTab,\n  closeEditorTab,\n  changeCurrentTab,\n  getEditors,\n  getCurrentTabIndex,\n  getCurrentTab,\n  closeProjectTabs,\n  closeLayoutTabs,\n  closeExternalLayoutTabs,\n  closeExternalEventsTabs,\n  closeEventsFunctionsExtensionTabs,\n  saveUiSettings,\n  type EditorTabsState,\n  type EditorTab,\n  getEventsFunctionsExtensionEditor,\n} from './EditorTabsHandler';\nimport { watchPromiseInState } from '../Utils/WatchPromiseInState';\nimport { timeFunction } from '../Utils/TimeFunction';\nimport newNameGenerator from '../Utils/NewNameGenerator';\nimport HelpFinder from '../HelpFinder';\n\n// Editors:\nimport DebuggerEditor from './Editors/DebuggerEditor';\nimport EventsEditor from './Editors/EventsEditor';\nimport ExternalEventsEditor from './Editors/ExternalEventsEditor';\nimport SceneEditor from './Editors/SceneEditor';\nimport ExternalLayoutEditor from './Editors/ExternalLayoutEditor';\nimport EventsFunctionsExtensionEditor from './Editors/EventsFunctionsExtensionEditor';\nimport StartPage from './Editors/StartPage';\nimport ResourcesEditor from './Editors/ResourcesEditor';\nimport ErrorBoundary from '../UI/ErrorBoundary';\nimport SubscriptionDialog from '../Profile/SubscriptionDialog';\nimport ResourcesLoader from '../ResourcesLoader/index';\nimport Authentification from '../Utils/GDevelopServices/Authentification';\nimport {\n  type PreviewLauncher,\n  type PreviewOptions,\n} from '../Export/PreviewLauncher.flow';\nimport { type ResourceSource } from '../ResourcesList/ResourceSource.flow';\nimport { type ResourceExternalEditor } from '../ResourcesList/ResourceExternalEditor.flow';\nimport { type JsExtensionsLoader } from '../JsExtensionsLoader';\nimport { type EventsFunctionsExtensionsState } from '../EventsFunctionsExtensionsLoader/EventsFunctionsExtensionsContext';\nimport {\n  getUpdateNotificationTitle,\n  getUpdateNotificationBody,\n  type UpdateStatus,\n} from './UpdaterTools';\nimport { showWarningBox } from '../UI/Messages/MessageBox';\nimport EmptyMessage from '../UI/EmptyMessage';\nimport ChangelogDialogContainer from './Changelog/ChangelogDialogContainer';\nimport { getNotNullTranslationFunction } from '../Utils/i18n/getTranslationFunction';\nimport { type I18n } from '@lingui/core';\nimport { t } from '@lingui/macro';\nimport LanguageDialog from './Preferences/LanguageDialog';\nimport PreferencesContext from './Preferences/PreferencesContext';\nimport { getFunctionNameFromType } from '../EventsFunctionsExtensionsLoader';\n\nconst gd = global.gd;\n\nconst styles = {\n  drawerContent: {\n    overflowX: 'hidden',\n    display: 'flex',\n    flexDirection: 'column',\n  },\n};\n\ntype State = {|\n  createDialogOpen: boolean,\n  exportDialogOpen: boolean,\n  introDialogOpen: boolean,\n  saveDialogOpen: boolean,\n  genericDialogOpen: boolean,\n  loadingProject: boolean,\n  previewLoading: boolean,\n  currentProject: ?gdProject,\n  projectManagerOpen: boolean,\n  editorTabs: EditorTabsState,\n  genericDialog: null,\n  snackMessage: string,\n  snackMessageOpen: boolean,\n  preferencesDialogOpen: boolean,\n  languageDialogOpen: boolean,\n  profileDialogOpen: boolean,\n  subscriptionDialogOpen: boolean,\n  updateStatus: UpdateStatus,\n  aboutDialogOpen: boolean,\n  platformSpecificAssetsDialogOpen: boolean,\n  helpFinderDialogOpen: boolean,\n  eventsFunctionsExtensionsError: ?Error,\n|};\n\ntype Props = {\n  integratedEditor?: boolean,\n  introDialog?: React.Element<*>,\n  onReadFromPathOrURL: (url: string) => Promise<any>,\n  previewLauncher?: React.Element<PreviewLauncher>,\n  onEditObject?: gdObject => void,\n  resourceSources: Array<ResourceSource>,\n  resourceExternalEditors: Array<ResourceExternalEditor>,\n  onChooseProject?: () => Promise<?string>,\n  saveDialog?: React.Element<*>,\n  onSaveProject?: gdProject => Promise<any>,\n  onAutoSaveProject?: (project: gdProject) => void,\n  shouldOpenAutosave?: (\n    filePath: string,\n    autoSavePath: string,\n    compareLastModified: boolean\n  ) => boolean,\n  loading?: boolean,\n  requestUpdate?: () => void,\n  exportDialog?: React.Element<*>,\n  createDialog?: React.Element<*>,\n  authentification: Authentification,\n  extensionsLoader?: JsExtensionsLoader,\n  initialPathsOrURLsToOpen: ?Array<string>,\n  eventsFunctionsExtensionsState: EventsFunctionsExtensionsState,\n  i18n: I18n,\n};\n\nclass MainFrame extends React.Component<Props, State> {\n  state = {\n    createDialogOpen: false,\n    exportDialogOpen: false,\n    introDialogOpen: false,\n    saveDialogOpen: false,\n    genericDialogOpen: false,\n    loadingProject: false,\n    previewLoading: false,\n    currentProject: null,\n    projectManagerOpen: false,\n    editorTabs: getEditorTabsInitialState(),\n    genericDialog: null,\n    snackMessage: '',\n    snackMessageOpen: false,\n    preferencesDialogOpen: false,\n    languageDialogOpen: false,\n    profileDialogOpen: false,\n    subscriptionDialogOpen: false,\n    updateStatus: { message: '', status: 'unknown' },\n    aboutDialogOpen: false,\n    platformSpecificAssetsDialogOpen: false,\n    helpFinderDialogOpen: false,\n    eventsFunctionsExtensionsError: null,\n  };\n  toolbar = null;\n  _resourceSourceDialogs = {};\n  _previewLauncher: ?PreviewLauncher = null;\n  _providers = null;\n\n  componentWillMount() {\n    if (!this.props.integratedEditor) this.openStartPage();\n  }\n\n  componentDidMount() {\n    const { initialPathsOrURLsToOpen } = this.props;\n\n    this._loadExtensions();\n    if (initialPathsOrURLsToOpen && initialPathsOrURLsToOpen[0]) {\n      this.openFromPathOrURL(initialPathsOrURLsToOpen[0], () =>\n        this.openSceneOrProjectManager()\n      );\n    } else if (this.props.introDialog && !Window.isDev())\n      this._openIntroDialog(true);\n  }\n\n  _languageDidChange() {\n    // A change in the language will automatically be applied\n    // on all React components, as it's handled by GDI18nProvider.\n    // We still have this method that will be called when the language\n    // dialog is closed after a language change. We then reload GDevelop\n    // extensions so that they declare all objects/actions/condition/etc...\n    // using the new language.\n    gd.JsPlatform.get().reloadBuiltinExtensions();\n    this._loadExtensions();\n  }\n\n  _loadExtensions = () => {\n    const { extensionsLoader, i18n } = this.props;\n    if (!extensionsLoader) {\n      console.info(\n        'No extensions loader specified, skipping extensions loading.'\n      );\n      return;\n    }\n\n    extensionsLoader\n      .loadAllExtensions(getNotNullTranslationFunction(i18n))\n      .then(loadingResults => {\n        const successLoadingResults = loadingResults.filter(\n          loadingResult => !loadingResult.result.error\n        );\n        const failLoadingResults = loadingResults.filter(\n          loadingResult =>\n            loadingResult.result.error && !loadingResult.result.dangerous\n        );\n        const dangerousLoadingResults = loadingResults.filter(\n          loadingResult =>\n            loadingResult.result.error && loadingResult.result.dangerous\n        );\n        console.info(`Loaded ${successLoadingResults.length} JS extensions.`);\n        if (failLoadingResults.length) {\n          console.error(\n            ` Unable to load ${\n              failLoadingResults.length\n            } JS extensions. Please check these errors:`,\n            failLoadingResults\n          );\n        }\n        if (dangerousLoadingResults.length) {\n          console.error(\n            ` Dangerous exceptions while loading ${\n              dangerousLoadingResults.length\n            } JS extensions.  Please check these errors as they will CRASH GDevelop:`,\n            dangerousLoadingResults\n          );\n        }\n      });\n  };\n\n  loadFromSerializedProject = (\n    serializedProject: gdSerializerElement,\n    cb: Function\n  ) => {\n    timeFunction(\n      () => {\n        const newProject = gd.ProjectHelper.createNewGDJSProject();\n        newProject.unserializeFrom(serializedProject);\n\n        this.closeProject(() => this.loadFromProject(newProject, cb));\n      },\n      time => console.info(`Unserialization took ${time} ms`)\n    );\n  };\n\n  loadFromProject = (project: gdProject, cb: Function) => {\n    const { eventsFunctionsExtensionsState } = this.props;\n    this.closeProject(() => {\n      // Make sure that the ResourcesLoader cache is emptied, so that\n      // the URL to a resource with a name in the old project is not re-used\n      // for another resource with the same name in the new project.\n      ResourcesLoader.burstAllUrlsCache();\n      // TODO: Pixi cache should also be burst\n\n      this.setState(\n        {\n          currentProject: project,\n        },\n        () => {\n          // Load all the EventsFunctionsExtension when the game is loaded. If they are modified,\n          // their editor will take care of reloading them.\n          eventsFunctionsExtensionsState.loadProjectEventsFunctionsExtensions(\n            this.state.currentProject\n          );\n          cb();\n        }\n      );\n    });\n  };\n\n  openFromPathOrURL = (url: string, cb: Function) => {\n    const { i18n, shouldOpenAutosave } = this.props;\n\n    const projectFilePath = url;\n    const autoSavePath = url + '.autosave';\n    if (shouldOpenAutosave && shouldOpenAutosave(url, autoSavePath, true)) {\n      //eslint-disable-next-line\n      const answer = confirm(\n        i18n._(\n          t`An autosave file (backup made automatically by GDevelop) that is newer than the project file exists. Would you like to load it instead?`\n        )\n      );\n      if (answer) url = autoSavePath;\n    }\n\n    this.props.onReadFromPathOrURL(url).then(\n      projectObject => {\n        this.setState({ loadingProject: true }, () =>\n          setTimeout(() => {\n            const serializedProject = gd.Serializer.fromJSObject(projectObject);\n\n            this.loadFromSerializedProject(serializedProject, () => {\n              serializedProject.delete();\n\n              if (this.state.currentProject) {\n                this.state.currentProject.setProjectFile(projectFilePath);\n              }\n\n              this.setState(\n                {\n                  loadingProject: false,\n                },\n                cb\n              );\n            });\n          })\n        );\n      },\n      err => {\n        if (\n          shouldOpenAutosave &&\n          shouldOpenAutosave(projectFilePath, autoSavePath, false)\n        ) {\n          //eslint-disable-next-line\n          const answer = confirm(\n            i18n._(\n              t`The project file appears to be malformed, but an autosave file exists (backup made automatically by GDevelop). Would you like to try to load it instead?`\n            )\n          );\n          if (answer) {\n            this.openFromPathOrURL(autoSavePath, () =>\n              this.openSceneOrProjectManager()\n            );\n          }\n        } else {\n          showErrorBox(\n            i18n._(\n              t`Unable to open this project. Check that the path/URL is correct, that you selected a file that is a game file created with GDevelop and that is was not removed.`\n            ),\n            err\n          );\n          return;\n        }\n      }\n    );\n  };\n\n  closeProject = (cb: Function) => {\n    const { currentProject } = this.state;\n    const { eventsFunctionsExtensionsState } = this.props;\n    if (!currentProject) return cb();\n\n    this.openProjectManager(false);\n    this.setState(\n      {\n        editorTabs: closeProjectTabs(this.state.editorTabs, currentProject),\n      },\n      () => {\n        eventsFunctionsExtensionsState.unloadProjectEventsFunctionsExtensions(\n          currentProject\n        );\n        currentProject.delete();\n        this.setState(\n          {\n            currentProject: null,\n          },\n          () => {\n            this.updateToolbar();\n            cb();\n          }\n        );\n      }\n    );\n  };\n\n  getSerializedElements = () => {\n    const editorTab = getCurrentTab(this.state.editorTabs);\n    if (!editorTab || !editorTab.editorRef) {\n      console.warn('No active editor or reference to the editor');\n      return {};\n    }\n\n    return editorTab.editorRef.getSerializedElements();\n  };\n\n  toggleProjectManager = () => {\n    if (!this.refs.toolbar)\n      this.setState({\n        projectManagerOpen: !this.state.projectManagerOpen,\n      });\n  };\n\n  openProjectManager = (open: boolean = true) => {\n    this.setState({\n      projectManagerOpen: open,\n    });\n  };\n\n  setEditorToolbar = (editorToolbar: any) => {\n    if (!this.toolbar) return;\n\n    this.toolbar.setEditorToolbar(editorToolbar);\n  };\n\n  addLayout = () => {\n    const { currentProject } = this.state;\n    if (!currentProject) return;\n\n    const name = newNameGenerator('NewScene', name =>\n      currentProject.hasLayoutNamed(name)\n    );\n    const newLayout = currentProject.insertNewLayout(\n      name,\n      currentProject.getLayoutsCount()\n    );\n    newLayout.updateBehaviorsSharedData(currentProject);\n    this.forceUpdate();\n  };\n\n  addExternalLayout = () => {\n    const { currentProject } = this.state;\n    if (!currentProject) return;\n\n    const name = newNameGenerator('NewExternalLayout', name =>\n      currentProject.hasExternalLayoutNamed(name)\n    );\n    currentProject.insertNewExternalLayout(\n      name,\n      currentProject.getExternalLayoutsCount()\n    );\n    this.forceUpdate();\n  };\n\n  addExternalEvents = () => {\n    const { currentProject } = this.state;\n    if (!currentProject) return;\n\n    const name = newNameGenerator('NewExternalEvents', name =>\n      currentProject.hasExternalEventsNamed(name)\n    );\n    currentProject.insertNewExternalEvents(\n      name,\n      currentProject.getExternalEventsCount()\n    );\n    this.forceUpdate();\n  };\n\n  addEventsFunctionsExtension = () => {\n    const { currentProject } = this.state;\n    if (!currentProject) return;\n\n    const name = newNameGenerator('NewExtension', name =>\n      currentProject.hasEventsFunctionsExtensionNamed(name)\n    );\n    currentProject.insertNewEventsFunctionsExtension(\n      name,\n      currentProject.getEventsFunctionsExtensionsCount()\n    );\n    this.forceUpdate();\n  };\n\n  deleteLayout = (layout: gdLayout) => {\n    const { currentProject } = this.state;\n    const { i18n } = this.props;\n    if (!currentProject) return;\n\n    //eslint-disable-next-line\n    const answer = confirm(\n      i18n._(\n        t`Are you sure you want to remove this scene? This can't be undone.`\n      )\n    );\n    if (!answer) return;\n\n    this.setState(\n      {\n        editorTabs: closeLayoutTabs(this.state.editorTabs, layout),\n      },\n      () => {\n        currentProject.removeLayout(layout.getName());\n        this.forceUpdate();\n      }\n    );\n  };\n\n  deleteExternalLayout = (externalLayout: gdExternalLayout) => {\n    const { currentProject } = this.state;\n    const { i18n } = this.props;\n    if (!currentProject) return;\n\n    //eslint-disable-next-line\n    const answer = confirm(\n      i18n._(\n        t`Are you sure you want to remove this external layout? This can't be undone.`\n      )\n    );\n    if (!answer) return;\n\n    this.setState(\n      {\n        editorTabs: closeExternalLayoutTabs(\n          this.state.editorTabs,\n          externalLayout\n        ),\n      },\n      () => {\n        currentProject.removeExternalLayout(externalLayout.getName());\n        this.forceUpdate();\n      }\n    );\n  };\n\n  deleteExternalEvents = (externalEvents: gdExternalEvents) => {\n    const { currentProject } = this.state;\n    const { i18n } = this.props;\n    if (!currentProject) return;\n\n    //eslint-disable-next-line\n    const answer = confirm(\n      i18n._(\n        t`Are you sure you want to remove these external events? This can't be undone.`\n      )\n    );\n    if (!answer) return;\n\n    this.setState(\n      {\n        editorTabs: closeExternalEventsTabs(\n          this.state.editorTabs,\n          externalEvents\n        ),\n      },\n      () => {\n        currentProject.removeExternalEvents(externalEvents.getName());\n        this.forceUpdate();\n      }\n    );\n  };\n\n  deleteEventsFunctionsExtension = (\n    externalLayout: gdEventsFunctionsExtension\n  ) => {\n    const { currentProject } = this.state;\n    const { i18n, eventsFunctionsExtensionsState } = this.props;\n    if (!currentProject) return;\n\n    //eslint-disable-next-line\n    const answer = confirm(\n      i18n._(\n        t`Are you sure you want to remove this extension? This can't be undone.`\n      )\n    );\n    if (!answer) return;\n\n    this.setState(\n      {\n        editorTabs: closeEventsFunctionsExtensionTabs(\n          this.state.editorTabs,\n          externalLayout\n        ),\n      },\n      () => {\n        currentProject.removeEventsFunctionsExtension(externalLayout.getName());\n        this.forceUpdate();\n      }\n    );\n\n    // Reload extensions to make sure the deleted extension is removed\n    // from the platform\n    eventsFunctionsExtensionsState.reloadProjectEventsFunctionsExtensions(\n      currentProject\n    );\n  };\n\n  renameLayout = (oldName: string, newName: string) => {\n    const { currentProject } = this.state;\n    const { i18n } = this.props;\n    if (!currentProject) return;\n\n    if (!currentProject.hasLayoutNamed(oldName) || newName === oldName) return;\n\n    if (currentProject.hasLayoutNamed(newName)) {\n      showWarningBox(i18n._(t`Another scene with this name already exists.`));\n      return;\n    }\n\n    const layout = currentProject.getLayout(oldName);\n    this.setState(\n      {\n        editorTabs: closeLayoutTabs(this.state.editorTabs, layout),\n      },\n      () => {\n        layout.setName(newName);\n        this.forceUpdate();\n      }\n    );\n  };\n\n  renameExternalLayout = (oldName: string, newName: string) => {\n    const { currentProject } = this.state;\n    const { i18n } = this.props;\n    if (!currentProject) return;\n\n    if (!currentProject.hasExternalLayoutNamed(oldName) || newName === oldName)\n      return;\n\n    if (currentProject.hasExternalLayoutNamed(newName)) {\n      showWarningBox(\n        i18n._(t`Another external layout with this name already exists.`)\n      );\n      return;\n    }\n\n    const externalLayout = currentProject.getExternalLayout(oldName);\n    this.setState(\n      {\n        editorTabs: closeExternalLayoutTabs(\n          this.state.editorTabs,\n          externalLayout\n        ),\n      },\n      () => {\n        externalLayout.setName(newName);\n        this.forceUpdate();\n      }\n    );\n  };\n\n  renameExternalEvents = (oldName: string, newName: string) => {\n    const { currentProject } = this.state;\n    const { i18n } = this.props;\n    if (!currentProject) return;\n\n    if (!currentProject.hasExternalEventsNamed(oldName) || newName === oldName)\n      return;\n\n    if (currentProject.hasExternalEventsNamed(newName)) {\n      showWarningBox(\n        i18n._(t`Other external events with this name already exist.`)\n      );\n      return;\n    }\n\n    const externalEvents = currentProject.getExternalEvents(oldName);\n    this.setState(\n      {\n        editorTabs: closeExternalEventsTabs(\n          this.state.editorTabs,\n          externalEvents\n        ),\n      },\n      () => {\n        externalEvents.setName(newName);\n        this.forceUpdate();\n      }\n    );\n  };\n\n  renameEventsFunctionsExtension = (oldName: string, newName: string) => {\n    const { currentProject } = this.state;\n    const { i18n } = this.props;\n    const { eventsFunctionsExtensionsState } = this.props;\n    if (!currentProject) return;\n\n    if (\n      !currentProject.hasEventsFunctionsExtensionNamed(oldName) ||\n      newName === oldName\n    )\n      return;\n\n    if (currentProject.hasEventsFunctionsExtensionNamed(newName)) {\n      showWarningBox(\n        i18n._(t`Another extension with this name already exists.`)\n      );\n      return;\n    }\n\n    if (!gd.Project.validateObjectName(newName)) {\n      showWarningBox(\n        i18n._(\n          t`This name contains forbidden characters: please only use alphanumeric characters (0-9, a-z) and underscores in your extension name.`\n        )\n      );\n      return;\n    }\n\n    const eventsFunctionsExtension = currentProject.getEventsFunctionsExtension(\n      oldName\n    );\n    this.setState(\n      {\n        editorTabs: closeEventsFunctionsExtensionTabs(\n          this.state.editorTabs,\n          eventsFunctionsExtension\n        ),\n      },\n      () => {\n        // Refactor the project to update the instructions (and later expressions)\n        // of this extension:\n        gd.WholeProjectRefactorer.renameEventsFunctionsExtension(\n          currentProject,\n          eventsFunctionsExtension,\n          oldName,\n          newName\n        );\n        eventsFunctionsExtension.setName(newName);\n        eventsFunctionsExtensionsState.reloadProjectEventsFunctionsExtensions(\n          currentProject\n        );\n\n        this.forceUpdate();\n      }\n    );\n  };\n\n  _launchLayoutPreview = (\n    project: gdProject,\n    layout: gdLayout,\n    options: PreviewOptions\n  ) =>\n    watchPromiseInState(this, 'previewLoading', () =>\n      this._handlePreviewResult(\n        this._previewLauncher &&\n          this._previewLauncher.launchLayoutPreview(project, layout, options)\n      )\n    );\n\n  _launchExternalLayoutPreview = (\n    project: gdProject,\n    layout: gdLayout,\n    externalLayout: gdExternalLayout,\n    options: PreviewOptions\n  ) =>\n    watchPromiseInState(this, 'previewLoading', () =>\n      this._handlePreviewResult(\n        this._previewLauncher &&\n          this._previewLauncher.launchExternalLayoutPreview(\n            project,\n            layout,\n            externalLayout,\n            options\n          )\n      )\n    );\n\n  _handlePreviewResult = (previewPromise: ?Promise<any>): Promise<void> => {\n    if (!previewPromise) return Promise.reject();\n    const { i18n } = this.props;\n\n    return previewPromise.then(\n      (result: any) => {},\n      (err: any) => {\n        showErrorBox(i18n._(t`Unable to launch the preview!`), err);\n      }\n    );\n  };\n\n  openLayout = (\n    name: string,\n    {\n      openEventsEditor = true,\n      openSceneEditor = true,\n    }: { openEventsEditor: boolean, openSceneEditor: boolean } = {}\n  ) => {\n    const { i18n, onAutoSaveProject } = this.props;\n    const sceneEditorOptions = {\n      name,\n      renderEditor: ({ isActive, editorRef }) => (\n        <PreferencesContext.Consumer>\n          {({ values }) => (\n            <SceneEditor\n              project={this.state.currentProject}\n              layoutName={name}\n              setToolbar={this.setEditorToolbar}\n              onPreview={(project, layout, options) => {\n                this._launchLayoutPreview(project, layout, options);\n                if (values.autosaveOnPreview && onAutoSaveProject) {\n                  onAutoSaveProject(project);\n                }\n              }}\n              showPreviewButton={!!this.props.previewLauncher}\n              showNetworkPreviewButton={\n                this._previewLauncher &&\n                this._previewLauncher.canDoNetworkPreview()\n              }\n              onOpenDebugger={this.openDebugger}\n              onEditObject={this.props.onEditObject}\n              showObjectsList={!this.props.integratedEditor}\n              resourceSources={this.props.resourceSources}\n              onChooseResource={this._onChooseResource}\n              resourceExternalEditors={this.props.resourceExternalEditors}\n              isActive={isActive}\n              ref={editorRef}\n            />\n          )}\n        </PreferencesContext.Consumer>\n      ),\n      key: 'layout ' + name,\n    };\n    const eventsEditorOptions = {\n      name: name + ' ' + i18n._(t`(Events)`),\n      renderEditor: ({ isActive, editorRef }) => (\n        <PreferencesContext.Consumer>\n          {({ values }) => (\n            <EventsEditor\n              project={this.state.currentProject}\n              layoutName={name}\n              setToolbar={this.setEditorToolbar}\n              onPreview={(project, layout, options) => {\n                this._launchLayoutPreview(project, layout, options);\n                if (values.autosaveOnPreview && onAutoSaveProject) {\n                  onAutoSaveProject(project);\n                }\n              }}\n              showPreviewButton={!!this.props.previewLauncher}\n              showNetworkPreviewButton={\n                this._previewLauncher &&\n                this._previewLauncher.canDoNetworkPreview()\n              }\n              onOpenDebugger={this.openDebugger}\n              onOpenExternalEvents={this.openExternalEvents}\n              onOpenLayout={name =>\n                this.openLayout(name, {\n                  openEventsEditor: true,\n                  openSceneEditor: false,\n                })\n              }\n              resourceSources={this.props.resourceSources}\n              onChooseResource={this._onChooseResource}\n              resourceExternalEditors={this.props.resourceExternalEditors}\n              openInstructionOrExpression={this._openInstructionOrExpression}\n              onCreateEventsFunction={this._onCreateEventsFunction}\n              isActive={isActive}\n              ref={editorRef}\n            />\n          )}\n        </PreferencesContext.Consumer>\n      ),\n      key: 'layout events ' + name,\n      dontFocusTab: openSceneEditor,\n    };\n\n    const tabsWithSceneEditor = openSceneEditor\n      ? openEditorTab(this.state.editorTabs, sceneEditorOptions)\n      : this.state.editorTabs;\n    const tabsWithSceneAndEventsEditors = openEventsEditor\n      ? openEditorTab(tabsWithSceneEditor, eventsEditorOptions)\n      : tabsWithSceneEditor;\n\n    this.setState({ editorTabs: tabsWithSceneAndEventsEditors }, () =>\n      this.updateToolbar()\n    );\n    this.openProjectManager(false);\n  };\n\n  openExternalEvents = (name: string) => {\n    this.setState(\n      {\n        editorTabs: openEditorTab(this.state.editorTabs, {\n          name,\n          renderEditor: ({ isActive, editorRef }) => (\n            <ExternalEventsEditor\n              project={this.state.currentProject}\n              externalEventsName={name}\n              setToolbar={this.setEditorToolbar}\n              onOpenExternalEvents={this.openExternalEvents}\n              onOpenLayout={name =>\n                this.openLayout(name, {\n                  openEventsEditor: true,\n                  openSceneEditor: false,\n                })\n              }\n              resourceSources={this.props.resourceSources}\n              onChooseResource={this._onChooseResource}\n              resourceExternalEditors={this.props.resourceExternalEditors}\n              openInstructionOrExpression={this._openInstructionOrExpression}\n              onCreateEventsFunction={this._onCreateEventsFunction}\n              isActive={isActive}\n              ref={editorRef}\n            />\n          ),\n          key: 'external events ' + name,\n        }),\n      },\n      () => this.updateToolbar()\n    );\n    this.openProjectManager(false);\n  };\n\n  openExternalLayout = (name: string) => {\n    this.setState(\n      {\n        editorTabs: openEditorTab(this.state.editorTabs, {\n          name,\n          renderEditor: ({ isActive, editorRef }) => (\n            <PreferencesContext.Consumer>\n              {({ values }) => (\n                <ExternalLayoutEditor\n                  project={this.state.currentProject}\n                  externalLayoutName={name}\n                  setToolbar={this.setEditorToolbar}\n                  onPreview={(project, layout, externalLayout, options) => {\n                    this._launchExternalLayoutPreview(\n                      project,\n                      layout,\n                      externalLayout,\n                      options\n                    );\n                    if (\n                      values.autosaveOnPreview &&\n                      this.props.onAutoSaveProject\n                    ) {\n                      this.props.onAutoSaveProject(project);\n                    }\n                  }}\n                  showPreviewButton={!!this.props.previewLauncher}\n                  showNetworkPreviewButton={\n                    this._previewLauncher &&\n                    this._previewLauncher.canDoNetworkPreview()\n                  }\n                  onOpenDebugger={this.openDebugger}\n                  onEditObject={this.props.onEditObject}\n                  showObjectsList={!this.props.integratedEditor}\n                  resourceSources={this.props.resourceSources}\n                  onChooseResource={this._onChooseResource}\n                  resourceExternalEditors={this.props.resourceExternalEditors}\n                  isActive={isActive}\n                  ref={editorRef}\n                />\n              )}\n            </PreferencesContext.Consumer>\n          ),\n          key: 'external layout ' + name,\n        }),\n      },\n      () => this.updateToolbar()\n    );\n    this.openProjectManager(false);\n  };\n\n  openEventsFunctionsExtension = (\n    name: string,\n    initiallyFocusedFunctionName?: string,\n    initiallyFocusedBehaviorName?: ?string\n  ) => {\n    const { eventsFunctionsExtensionsState } = this.props;\n    this.setState(\n      {\n        editorTabs: openEditorTab(this.state.editorTabs, {\n          name,\n          renderEditor: ({ isActive, editorRef }) => (\n            <EventsFunctionsExtensionEditor\n              project={this.state.currentProject}\n              eventsFunctionsExtensionName={name}\n              setToolbar={this.setEditorToolbar}\n              resourceSources={this.props.resourceSources}\n              onChooseResource={this._onChooseResource}\n              resourceExternalEditors={this.props.resourceExternalEditors}\n              isActive={isActive}\n              initiallyFocusedFunctionName={initiallyFocusedFunctionName}\n              initiallyFocusedBehaviorName={initiallyFocusedBehaviorName}\n              openInstructionOrExpression={this._openInstructionOrExpression}\n              onCreateEventsFunction={this._onCreateEventsFunction}\n              ref={editorRef}\n              onLoadEventsFunctionsExtensions={() => {\n                eventsFunctionsExtensionsState.loadProjectEventsFunctionsExtensions(\n                  this.state.currentProject\n                );\n              }}\n            />\n          ),\n          key: 'events functions extension ' + name,\n        }),\n      },\n      () => this.updateToolbar()\n    );\n    this.openProjectManager(false);\n  };\n\n  openResources = () => {\n    const { i18n } = this.props;\n    this.setState(\n      {\n        editorTabs: openEditorTab(this.state.editorTabs, {\n          name: i18n._(t`Resources`),\n          renderEditor: ({ isActive, editorRef }) => (\n            <ResourcesEditor\n              project={this.state.currentProject}\n              setToolbar={this.setEditorToolbar}\n              onDeleteResource={(resource: gdResource, cb: boolean => void) => {\n                // TODO: Project wide refactoring of objects/events using the resource\n                cb(true);\n              }}\n              onRenameResource={(\n                resource: gdResource,\n                newName: string,\n                cb: boolean => void\n              ) => {\n                // TODO: Project wide refactoring of objects/events using the resource\n                cb(true);\n              }}\n              isActive={isActive}\n              ref={editorRef}\n              onChooseResource={this._onChooseResource}\n              resourceSources={this.props.resourceSources}\n            />\n          ),\n          key: 'resources',\n        }),\n      },\n      () => this.updateToolbar()\n    );\n  };\n\n  openStartPage = () => {\n    const { i18n } = this.props;\n    this.setState(\n      {\n        editorTabs: openEditorTab(this.state.editorTabs, {\n          name: i18n._(t`Start Page`),\n          renderEditor: ({ isActive, editorRef }) => (\n            <StartPage\n              project={this.state.currentProject}\n              setToolbar={this.setEditorToolbar}\n              canOpen={!!this.props.onChooseProject}\n              onOpen={this.chooseProject}\n              onCreate={() => this.openCreateDialog()}\n              onOpenProjectManager={() => this.openProjectManager()}\n              onCloseProject={() => this.askToCloseProject()}\n              onOpenAboutDialog={() => this.openAboutDialog()}\n              onOpenHelpFinder={() => this.openHelpFinderDialog()}\n              onOpenLanguageDialog={() => this.openLanguage()}\n              isActive={isActive}\n              ref={editorRef}\n            />\n          ),\n          key: 'start page',\n          closable: false,\n        }),\n      },\n      () => this.updateToolbar()\n    );\n  };\n\n  openDebugger = () => {\n    const { i18n } = this.props;\n    this.setState(\n      {\n        editorTabs: openEditorTab(this.state.editorTabs, {\n          name: i18n._(t`Debugger`),\n          renderEditor: ({ isActive, editorRef }) => (\n            <DebuggerEditor\n              project={this.state.currentProject}\n              setToolbar={this.setEditorToolbar}\n              isActive={isActive}\n              ref={editorRef}\n              onChangeSubscription={() => this.openSubscription(true)}\n            />\n          ),\n          key: 'debugger',\n        }),\n      },\n      () => this.updateToolbar()\n    );\n  };\n\n  _openInstructionOrExpression = (\n    extension: gdPlatformExtension,\n    type: string\n  ) => {\n    const { currentProject } = this.state;\n    if (!currentProject) return;\n\n    const extensionName = extension.getName();\n    if (currentProject.hasEventsFunctionsExtensionNamed(extensionName)) {\n      // It's an events functions extension, open the editor for it.\n      const eventsFunctionsExtension = currentProject.getEventsFunctionsExtension(\n        extensionName\n      );\n      const functionName = getFunctionNameFromType(type);\n\n      const foundTab = getEventsFunctionsExtensionEditor(\n        this.state.editorTabs,\n        eventsFunctionsExtension\n      );\n      if (foundTab) {\n        // Open the given function and focus the tab\n        foundTab.editor.selectEventsFunctionByName(\n          functionName.name,\n          functionName.behaviorName\n        );\n        this.setState(state => ({\n          editorTabs: changeCurrentTab(state.editorTabs, foundTab.tabIndex),\n        }));\n      } else {\n        // Open a new editor for the extension and the given function\n        this.openEventsFunctionsExtension(\n          extensionName,\n          functionName.name,\n          functionName.behaviorName\n        );\n      }\n    } else {\n      // It's not an events functions extension, we should not be here.\n      console.warn(\n        `Extension with name=${extensionName} can not be opened (no editor for this)`\n      );\n    }\n  };\n\n  _onCreateEventsFunction = (\n    extensionName: string,\n    eventsFunction: gdEventsFunction\n  ) => {\n    const { currentProject } = this.state;\n    if (!currentProject) return;\n    const { eventsFunctionsExtensionsState } = this.props;\n\n    // Names are assumed to be already validated\n    const createNewExtension = !currentProject.hasEventsFunctionsExtensionNamed(\n      extensionName\n    );\n    const extension = createNewExtension\n      ? currentProject.insertNewEventsFunctionsExtension(extensionName, 0)\n      : currentProject.getEventsFunctionsExtension(extensionName);\n\n    if (createNewExtension) {\n      extension.setFullName(extensionName);\n      extension.setDescription(\n        'Originally automatically extracted from events of the project'\n      );\n    }\n\n    extension.insertEventsFunction(eventsFunction, 0);\n    eventsFunctionsExtensionsState.loadProjectEventsFunctionsExtensions(\n      currentProject\n    );\n  };\n\n  openCreateDialog = (open: boolean = true) => {\n    this.setState({\n      createDialogOpen: open,\n    });\n  };\n\n  chooseProject = () => {\n    if (!this.props.onChooseProject) return;\n\n    this.props\n      .onChooseProject()\n      .then(filepath => {\n        if (!filepath) return;\n\n        this.openFromPathOrURL(filepath, () =>\n          this.openSceneOrProjectManager()\n        );\n      })\n      .catch(() => {});\n  };\n\n  save = () => {\n    saveUiSettings(this.state.editorTabs);\n\n    const { currentProject } = this.state;\n    if (!currentProject) return;\n    const { i18n } = this.props;\n\n    if (this.props.saveDialog) {\n      this._openSaveDialog();\n    } else if (this.props.onSaveProject) {\n      this.props.onSaveProject(currentProject).then(\n        () => {\n          this._showSnackMessage(i18n._(t`Project properly saved`));\n        },\n        err => {\n          showErrorBox(\n            i18n._(\n              t`Unable to save the project! Please try again by choosing another location.`\n            ),\n            err\n          );\n        }\n      );\n    }\n  };\n\n  askToCloseProject = (cb: ?Function) => {\n    if (!this.state.currentProject) return;\n    const { i18n } = this.props;\n\n    //eslint-disable-next-line\n    const answer = confirm(\n      i18n._(\n        t`Close the project? Any changes that have not been saved will be lost.`\n      )\n    );\n    if (!answer) return;\n\n    const noop = () => {};\n    this.closeProject(cb || noop);\n  };\n\n  openSceneOrProjectManager = () => {\n    const { currentProject } = this.state;\n    if (!currentProject) return;\n\n    if (currentProject.getLayoutsCount() === 1) {\n      this.openLayout(currentProject.getLayoutAt(0).getName(), {\n        openSceneEditor: true,\n        openEventsEditor: true,\n      });\n    } else {\n      this.openProjectManager();\n    }\n  };\n\n  openExportDialog = (open: boolean = true) => {\n    this.setState({\n      exportDialogOpen: open,\n    });\n  };\n\n  _openIntroDialog = (open: boolean = true) => {\n    this.setState({\n      introDialogOpen: open,\n    });\n  };\n\n  _openSaveDialog = (open: boolean = true) => {\n    this.setState({\n      saveDialogOpen: open,\n    });\n  };\n\n  _openGenericDialog = (open: boolean = true) => {\n    this.setState({\n      genericDialogOpen: open,\n      genericDialog: null,\n    });\n  };\n\n  openPreferences = (open: boolean = true) => {\n    this.setState({\n      preferencesDialogOpen: open,\n    });\n  };\n\n  openLanguage = (open: boolean = true) => {\n    this.setState({\n      languageDialogOpen: open,\n    });\n  };\n\n  openProfile = (open: boolean = true) => {\n    this.setState({\n      profileDialogOpen: open,\n    });\n  };\n\n  openSubscription = (open: boolean = true) => {\n    this.setState({\n      subscriptionDialogOpen: open,\n    });\n  };\n\n  _onChangeEditorTab = (value: number) => {\n    this.setState(\n      {\n        editorTabs: changeCurrentTab(this.state.editorTabs, value),\n      },\n      () => this._onEditorTabActive(getCurrentTab(this.state.editorTabs))\n    );\n  };\n\n  _onEditorTabActive = (editorTab: EditorTab) => {\n    this.updateToolbar();\n  };\n\n  _onCloseEditorTab = (editorTab: EditorTab) => {\n    saveUiSettings(this.state.editorTabs);\n    this.setState(\n      {\n        editorTabs: closeEditorTab(this.state.editorTabs, editorTab),\n      },\n      () => this.updateToolbar()\n    );\n  };\n\n  _onChooseResource = (\n    sourceName: string,\n    multiSelection: boolean = true\n  ): Promise<Array<any>> => {\n    const { currentProject } = this.state;\n    const resourceSourceDialog = this._resourceSourceDialogs[sourceName];\n    if (!resourceSourceDialog) return Promise.resolve([]);\n\n    return resourceSourceDialog.chooseResources(currentProject, multiSelection);\n  };\n\n  updateToolbar() {\n    const editorTab = getCurrentTab(this.state.editorTabs);\n    if (!editorTab || !editorTab.editorRef) {\n      this.setEditorToolbar(null);\n      return;\n    }\n\n    editorTab.editorRef.updateToolbar();\n  }\n\n  openAboutDialog = (open: boolean = true) => {\n    this.setState({\n      aboutDialogOpen: open,\n    });\n  };\n\n  openPlatformSpecificAssets = (open: boolean = true) => {\n    this.setState({\n      platformSpecificAssetsDialogOpen: open,\n    });\n  };\n\n  openHelpFinderDialog = (open: boolean = true) => {\n    this.setState({\n      helpFinderDialogOpen: open,\n    });\n  };\n\n  setUpdateStatus = (updateStatus: UpdateStatus) => {\n    this.setState({\n      updateStatus,\n    });\n\n    const notificationTitle = getUpdateNotificationTitle(updateStatus);\n    const notificationBody = getUpdateNotificationBody(updateStatus);\n    if (notificationTitle) {\n      const notification = new window.Notification(notificationTitle, {\n        body: notificationBody,\n      });\n      notification.onclick = () => this.openAboutDialog(true);\n    }\n  };\n\n  simulateUpdateDownloaded = () =>\n    this.setUpdateStatus({\n      status: 'update-downloaded',\n      message: 'update-downloaded',\n      info: {\n        releaseName: 'Fake update',\n      },\n    });\n\n  simulateUpdateAvailable = () =>\n    this.setUpdateStatus({\n      status: 'update-available',\n      message: 'Update available',\n    });\n\n  _showSnackMessage = (snackMessage: string) =>\n    this.setState({\n      snackMessage,\n      snackMessageOpen: true,\n    });\n\n  _closeSnackMessage = () =>\n    this.setState({\n      snackMessageOpen: false,\n    });\n\n  render() {\n    const {\n      currentProject,\n      genericDialog,\n      projectManagerOpen,\n      profileDialogOpen,\n      subscriptionDialogOpen,\n      updateStatus,\n      aboutDialogOpen,\n      helpFinderDialogOpen,\n      eventsFunctionsExtensionsError,\n    } = this.state;\n    const {\n      exportDialog,\n      createDialog,\n      introDialog,\n      saveDialog,\n      resourceSources,\n      authentification,\n      previewLauncher,\n      resourceExternalEditors,\n      eventsFunctionsExtensionsState,\n    } = this.props;\n    const showLoader =\n      this.state.loadingProject ||\n      this.state.previewLoading ||\n      this.props.loading;\n\n    return (\n      <div className=\"main-frame\">\n        <ProjectTitlebar project={currentProject} />\n        <Drawer\n          open={projectManagerOpen}\n          containerStyle={styles.drawerContent}\n          width={320}\n        >\n          <EditorBar\n            title={currentProject ? currentProject.getName() : 'No project'}\n            showMenuIconButton={false}\n            iconElementRight={\n              <IconButton onClick={this.toggleProjectManager}>\n                <NavigationClose />\n              </IconButton>\n            }\n          />\n          {currentProject && (\n            <ProjectManager\n              project={currentProject}\n              onOpenExternalEvents={this.openExternalEvents}\n              onOpenLayout={this.openLayout}\n              onOpenExternalLayout={this.openExternalLayout}\n              onOpenEventsFunctionsExtension={this.openEventsFunctionsExtension}\n              onAddLayout={this.addLayout}\n              onAddExternalLayout={this.addExternalLayout}\n              onAddEventsFunctionsExtension={this.addEventsFunctionsExtension}\n              onAddExternalEvents={this.addExternalEvents}\n              onDeleteLayout={this.deleteLayout}\n              onDeleteExternalLayout={this.deleteExternalLayout}\n              onDeleteEventsFunctionsExtension={\n                this.deleteEventsFunctionsExtension\n              }\n              onDeleteExternalEvents={this.deleteExternalEvents}\n              onRenameLayout={this.renameLayout}\n              onRenameExternalLayout={this.renameExternalLayout}\n              onRenameEventsFunctionsExtension={\n                this.renameEventsFunctionsExtension\n              }\n              onRenameExternalEvents={this.renameExternalEvents}\n              onSaveProject={this.save}\n              onCloseProject={this.askToCloseProject}\n              onExportProject={this.openExportDialog}\n              onOpenPreferences={() => this.openPreferences(true)}\n              onOpenResources={() => {\n                this.openResources();\n                this.openProjectManager(false);\n              }}\n              onOpenPlatformSpecificAssets={() =>\n                this.openPlatformSpecificAssets()\n              }\n              onChangeSubscription={() => this.openSubscription(true)}\n              eventsFunctionsExtensionsError={eventsFunctionsExtensionsError}\n              onReloadEventsFunctionsExtensions={() => {\n                // Check if load is sufficient\n                eventsFunctionsExtensionsState.reloadProjectEventsFunctionsExtensions(\n                  currentProject\n                );\n              }}\n              freezeUpdate={!projectManagerOpen}\n            />\n          )}\n          {!currentProject && (\n            <EmptyMessage>\n              <Trans>To begin, open or create a new project.</Trans>\n            </EmptyMessage>\n          )}\n        </Drawer>\n        <Toolbar\n          ref={toolbar => (this.toolbar = toolbar)}\n          showProjectIcons={!this.props.integratedEditor}\n          hasProject={!!this.state.currentProject}\n          toggleProjectManager={this.toggleProjectManager}\n          exportProject={() => this.openExportDialog(true)}\n          requestUpdate={this.props.requestUpdate}\n          simulateUpdateDownloaded={this.simulateUpdateDownloaded}\n          simulateUpdateAvailable={this.simulateUpdateAvailable}\n        />\n        <Tabs\n          value={getCurrentTabIndex(this.state.editorTabs)}\n          onChange={this._onChangeEditorTab}\n          hideLabels={!!this.props.integratedEditor}\n        >\n          {getEditors(this.state.editorTabs).map((editorTab, id) => {\n            const isCurrentTab =\n              getCurrentTabIndex(this.state.editorTabs) === id;\n            return (\n              <Tab\n                label={editorTab.name}\n                value={id}\n                key={editorTab.key}\n                onActive={() => this._onEditorTabActive(editorTab)}\n                onClose={() => this._onCloseEditorTab(editorTab)}\n                closable={editorTab.closable}\n              >\n                <div style={{ display: 'flex', flex: 1, height: '100%' }}>\n                  <ErrorBoundary>\n                    {editorTab.render(isCurrentTab)}\n                  </ErrorBoundary>\n                </div>\n              </Tab>\n            );\n          })}\n        </Tabs>\n        <LoaderModal show={showLoader} />\n        <HelpFinder\n          open={helpFinderDialogOpen}\n          onClose={() => this.openHelpFinderDialog(false)}\n        />\n        <Snackbar\n          open={this.state.snackMessageOpen}\n          message={this.state.snackMessage}\n          autoHideDuration={3000}\n          onRequestClose={this._closeSnackMessage}\n        />\n        {!!exportDialog &&\n          React.cloneElement(exportDialog, {\n            open: this.state.exportDialogOpen,\n            onClose: () => this.openExportDialog(false),\n            onChangeSubscription: () => {\n              this.openExportDialog(false);\n              this.openSubscription(true);\n            },\n            project: this.state.currentProject,\n            authentification,\n          })}\n        {!!createDialog &&\n          React.cloneElement(createDialog, {\n            open: this.state.createDialogOpen,\n            onClose: () => this.openCreateDialog(false),\n            onOpen: filepath => {\n              this.openCreateDialog(false);\n              this.openFromPathOrURL(filepath, () =>\n                this.openSceneOrProjectManager()\n              );\n            },\n            onCreate: project => {\n              this.openCreateDialog(false);\n              this.loadFromProject(project, () =>\n                this.openSceneOrProjectManager()\n              );\n            },\n          })}\n        {!!introDialog &&\n          React.cloneElement(introDialog, {\n            open: this.state.introDialogOpen,\n            onClose: () => this._openIntroDialog(false),\n          })}\n        {!!saveDialog &&\n          React.cloneElement(saveDialog, {\n            project: this.state.currentProject,\n            open: this.state.saveDialogOpen,\n            onClose: () => this._openSaveDialog(false),\n          })}\n        {!!this.state.currentProject && (\n          <PlatformSpecificAssetsDialog\n            project={this.state.currentProject}\n            open={this.state.platformSpecificAssetsDialogOpen}\n            onApply={() => this.openPlatformSpecificAssets(false)}\n            onClose={() => this.openPlatformSpecificAssets(false)}\n            resourceSources={resourceSources}\n            onChooseResource={this._onChooseResource}\n            resourceExternalEditors={resourceExternalEditors}\n          />\n        )}\n        {!!genericDialog &&\n          React.cloneElement(genericDialog, {\n            open: this.state.genericDialogOpen,\n            onClose: () => this._openGenericDialog(false),\n          })}\n        {!!previewLauncher &&\n          React.cloneElement(previewLauncher, {\n            ref: (previewLauncher: ?PreviewLauncher) =>\n              (this._previewLauncher = previewLauncher),\n            onExport: () => this.openExportDialog(true),\n            onChangeSubscription: () => this.openSubscription(true),\n          })}\n        {resourceSources.map((resourceSource, index) => {\n          // $FlowFixMe\n          const Component = resourceSource.component;\n          return (\n            // $FlowFixMe\n            <Component\n              key={resourceSource.name}\n              ref={dialog =>\n                (this._resourceSourceDialogs[resourceSource.name] = dialog)\n              }\n            />\n          );\n        })}\n        <ProfileDialog\n          open={profileDialogOpen}\n          onClose={() => this.openProfile(false)}\n          onChangeSubscription={() => this.openSubscription(true)}\n        />\n        <SubscriptionDialog\n          onClose={() => {\n            this.openSubscription(false);\n          }}\n          open={subscriptionDialogOpen}\n        />\n        <PreferencesDialog\n          open={this.state.preferencesDialogOpen}\n          onClose={() => this.openPreferences(false)}\n        />\n        <LanguageDialog\n          open={this.state.languageDialogOpen}\n          onClose={languageChanged => {\n            this.openLanguage(false);\n            if (languageChanged) {\n              this._languageDidChange();\n            }\n          }}\n        />\n        <AboutDialog\n          open={aboutDialogOpen}\n          onClose={() => this.openAboutDialog(false)}\n          updateStatus={updateStatus}\n        />\n        <CloseConfirmDialog shouldPrompt={!!this.state.currentProject} />\n        <ChangelogDialogContainer />\n      </div>\n    );\n  }\n}\n\nexport default MainFrame;\n","// @flow\nimport optionalRequire from '../Utils/OptionalRequire';\nconst electron = optionalRequire('electron');\nconst app = electron ? electron.remote.app : null;\nconst gd = global.gd;\n\nconst gdCoreVersionString: string = gd\n  ? gd.VersionWrapper.fullString()\n  : 'Unknown';\nconst ideVersionString: string = app ? app.getVersion() : '5';\n\nexport const getIDEVersion = () => ideVersionString;\nexport const getGDCoreVersion = () => gdCoreVersionString;\n","import React, { Component } from 'react';\nconst gd = global.gd;\n\n/**\n * Wrap the specified component so that it is able to modify a\n * copy of the serializable object passed as its props (with the prop name\n * being the one specified by propName) and then apply the changes (in which\n * case the original serializable object is modified) or cancel the changes\n * (in which case the original serializable object remains intact).\n */\nexport const withSerializableObject = (\n  WrappedComponent,\n  { newObjectCreator, propName, useProjectToUnserialize } //TODO: Refactor\n) => {\n  return class extends Component {\n    constructor(props) {\n      super(props);\n\n      this.state = {\n        serializableObject: newObjectCreator(),\n      };\n      this._loadFrom(props[propName]);\n    }\n\n    componentWillUnmount() {\n      this.state.serializableObject.delete();\n    }\n\n    componentWillReceiveProps(newProps) {\n      if (\n        (!this.props.open && newProps.open) ||\n        (newProps.open && this.props[propName] !== newProps[propName])\n      ) {\n        this._loadFrom(newProps[propName]);\n      }\n    }\n\n    _loadFrom(serializableObject) {\n      if (!serializableObject) return;\n\n      const serializedElement = new gd.SerializerElement();\n      serializableObject.serializeTo(serializedElement);\n      if (!useProjectToUnserialize) {\n        this.state.serializableObject.unserializeFrom(serializedElement);\n      } else {\n        this.state.serializableObject.unserializeFrom(\n          this.props.project,\n          serializedElement\n        );\n      }\n      serializedElement.delete();\n    }\n\n    _apply = () => {\n      if (!this.props[propName]) return;\n\n      const serializedElement = new gd.SerializerElement();\n      this.state.serializableObject.serializeTo(serializedElement);\n      if (!useProjectToUnserialize) {\n        this.props[propName].unserializeFrom(serializedElement);\n      } else {\n        this.props[propName].unserializeFrom(\n          this.props.project,\n          serializedElement\n        );\n      }\n      serializedElement.delete();\n\n      if (this.props.onApply) this.props.onApply();\n    };\n\n    _cancel = () => {\n      if (this.props.onCancel) this.props.onCancel();\n    };\n\n    render() {\n      const props = this.props;\n\n      return React.createElement(WrappedComponent, {\n        ...props,\n        [propName]: this.state.serializableObject,\n        onCancel: this._cancel,\n        onApply: this._apply,\n      });\n    }\n  };\n};\n","import React from 'react';\nimport DragHandleIcon from 'material-ui/svg-icons/editor/drag-handle';\nimport { SortableHandle } from 'react-sortable-hoc';\n\nconst styles = {\n  handle: {\n    cursor: 'move',\n    marginRight: 4,\n  },\n  handleColor: '#DDD',\n};\n\nconst DragHandle = SortableHandle(() => (\n  <span style={styles.handle}>\n    <DragHandleIcon color={styles.handleColor} />\n  </span>\n));\nexport default DragHandle;\n","export default {\n  toolColumnHeader: {\n    textAlign: 'left',\n    paddingRight: 4,\n  },\n  toolColumn: {\n    minWidth: 48,\n    flex: 0,\n    justifyContent: 'flex-end',\n  },\n  tableChildIndentation: 24,\n  indent: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'flex-end',\n  },\n  indentIconColor: '#DDD', //TODO: Use theme color instead\n  addVariableMessage: {\n    justifyContent: 'flex-end',\n  },\n  emptyExplanation: {\n    justifyContent: 'flex-start',\n  },\n  emptyExplanationMessage: {\n    textAlign: 'left',\n  },\n  fadedButton: {\n    opacity: 0.7,\n  },\n};\n","// @flow\n\nimport * as React from 'react';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport FlatButton from 'material-ui/FlatButton';\nimport Dialog from '../UI/Dialog';\nimport Star from 'material-ui/svg-icons/toggle/star';\nimport Favorite from 'material-ui/svg-icons/action/favorite';\nimport UserProfileContext, { type UserProfile } from './UserProfileContext';\nimport { Column, Line } from '../UI/Grid';\nimport {\n  sendSubscriptionCheckDialogShown,\n  sendSubscriptionCheckDismiss,\n} from '../Utils/Analytics/EventSender';\nimport { Trans } from '@lingui/macro';\n\ntype Props = {|\n  title: React.Node,\n  id: string,\n  onChangeSubscription?: () => void,\n  mode: 'try' | 'mandatory',\n|};\n\ntype DialogProps = {|\n  userProfile: UserProfile,\n  ...$Exact<Props>,\n|};\n\ntype DialogState = {|\n  open: boolean,\n|};\n\nconst styles = {\n  icon: { width: 40, height: 40, marginRight: 20 },\n  iconText: { flex: 1 },\n  thanksText: { textAlign: 'right', marginRight: 20, marginBottom: 0 },\n};\n\nexport class SubscriptionCheckDialog extends React.Component<\n  DialogProps,\n  DialogState\n> {\n  state = { open: false };\n\n  checkHasSubscription() {\n    const { userProfile, mode, id } = this.props;\n    if (userProfile.subscription) {\n      const hasPlan = !!userProfile.subscription.planId;\n      if (hasPlan) {\n        this.setState({\n          open: false,\n        });\n        return true;\n      }\n    }\n\n    this.setState({\n      open: true,\n    });\n    sendSubscriptionCheckDialogShown({ mode, id });\n\n    return false;\n  }\n\n  _closeDialog = () => {\n    sendSubscriptionCheckDismiss();\n    this.setState({ open: false });\n  };\n\n  render() {\n    const { open } = this.state;\n    const { onChangeSubscription, mode } = this.props;\n    if (!open) return null;\n\n    return (\n      <Dialog\n        actions={[\n          onChangeSubscription && (\n            <RaisedButton\n              label={<Trans>Get a subscription or login</Trans>}\n              key=\"subscribe\"\n              primary\n              onClick={() => {\n                this.setState({ open: false });\n                onChangeSubscription();\n              }}\n            />\n          ),\n        ]}\n        secondaryActions={[\n          <FlatButton\n            label={\n              mode === 'try' ? (\n                <Trans>Continue anyway</Trans>\n              ) : (\n                <Trans>Not now, thanks!</Trans>\n              )\n            }\n            key=\"close\"\n            primary={false}\n            onClick={this._closeDialog}\n          />,\n        ]}\n        onRequestClose={this._closeDialog}\n        open={open}\n        autoScrollBodyContent\n        title={this.props.title}\n      >\n        <Column noMargin>\n          <Line noMargin alignItems=\"center\">\n            {mode === 'try' ? (\n              <p>\n                <Trans>\n                  You can try this feature, but if you're using it regularly, we\n                  ask you to get a subscription to GDevelop.\n                </Trans>\n              </p>\n            ) : (\n              <p>\n                <Trans>\n                  To use this feature, we ask you to get a subscription to\n                  GDevelop.\n                </Trans>\n              </p>\n            )}\n          </Line>\n          <Line noMargin alignItems=\"center\">\n            <Star style={styles.icon} />\n            <p style={styles.iconText}>\n              <Trans>\n                Having a subscription allows you to use the one-click export for\n                Android, Windows, macOS and Linux, launch live previews over\n                wifi, disable the GDevelop splashscreen during loading and more!\n              </Trans>\n            </p>\n          </Line>\n          <Line noMargin alignItems=\"center\">\n            <Favorite style={styles.icon} />\n            <p style={styles.iconText}>\n              <Trans>\n                You're also supporting the development of GDevelop, an\n                open-source software! In the future, more online services will\n                be available for users with a subscription.\n              </Trans>\n            </p>\n          </Line>\n          <p style={styles.thanksText}>\n            <b>\n              <Trans>Thanks!</Trans>\n            </b>\n          </p>\n        </Column>\n      </Dialog>\n    );\n  }\n}\n\nclass SubscriptionChecker extends React.Component<Props, {}> {\n  _dialog: ?SubscriptionCheckDialog = null;\n\n  checkHasSubscription() {\n    if (this._dialog) {\n      return this._dialog.checkHasSubscription();\n    }\n\n    return false;\n  }\n\n  render() {\n    return (\n      <UserProfileContext.Consumer>\n        {(userProfile: UserProfile) => (\n          <SubscriptionCheckDialog\n            userProfile={userProfile}\n            ref={dialog => (this._dialog = dialog)}\n            onChangeSubscription={this.props.onChangeSubscription}\n            id={this.props.id}\n            title={this.props.title}\n            mode={this.props.mode}\n          />\n        )}\n      </UserProfileContext.Consumer>\n    );\n  }\n}\n\nexport default SubscriptionChecker;\n","// @flow\nimport * as React from 'react';\nimport PreferencesContext, {\n  type AlertMessageIdentifier,\n} from '../MainFrame/Preferences/PreferencesContext';\nimport AlertMessage from './AlertMessage';\n\ntype Props = {|\n  kind: 'info' | 'warning',\n  children: React.Node,\n  identifier: AlertMessageIdentifier,\n|};\n\n/**\n * Show an alert that can be permanently hidden. Hidden messages\n * will be stored in preferences.\n */\nconst DismissableAlertMessage = ({ identifier, kind, children }: Props) => (\n  <PreferencesContext.Consumer>\n    {({ values, showAlertMessage }) =>\n      !values.hiddenAlertMessages[identifier] && (\n        <AlertMessage\n          kind={kind}\n          children={children}\n          onHide={() => {\n            //eslint-disable-next-line\n            const answer = confirm(\n              \"Are you sure you want to hide this hint? You won't see it again, unless you re-activate it from the preferences.\"\n            );\n\n            if (!answer) return;\n\n            showAlertMessage(identifier, false);\n          }}\n        />\n      )\n    }\n  </PreferencesContext.Consumer>\n);\n\nexport default DismissableAlertMessage;\n","// @flow\nimport * as React from 'react';\nimport CircularProgress from 'material-ui/CircularProgress';\n\nconst styles = {\n  progress: { marginRight: 8, verticalAlign: 'middle' },\n};\n\nexport default ({\n  children,\n  isLoading,\n}: {\n  children: React.Node,\n  isLoading: ?boolean,\n}) => (\n  <span>\n    {isLoading && <CircularProgress size={20} style={styles.progress} />}\n    {children}\n  </span>\n);\n","// @flow\nimport { fuzzyOrEmptyFilter } from '../Utils/FuzzyOrEmptyFilter';\n\n/**\n * Provides props for material-ui AutoComplete components that specify\n * sensible defaults for size and popover size/positioning.\n */\nexport const defaultAutocompleteProps = {\n  fullWidth: true,\n  textFieldStyle: {\n    minWidth: 300,\n  },\n  menuProps: {\n    maxHeight: 250,\n  },\n  popoverProps: {\n    // Ensure that the Popover menu is always visible on screen\n    canAutoPosition: true,\n  },\n  filter: fuzzyOrEmptyFilter,\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport FlatButton from 'material-ui/FlatButton';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport { Column, Line } from '../UI/Grid';\n\nconst styles = {\n  orDivider: {\n    marginLeft: 15,\n    marginTop: 2,\n  },\n};\n\ntype Props = {\n  message?: string,\n  onLogin: Function,\n};\n\nexport default ({ message, onLogin }: Props) => (\n  <Column noMargin>\n    <Line>\n      <p>\n        {message ||\n          'You are not connected. Create an account and connect to access to GDevelop online services, like building your game for Android in one click!'}\n      </p>\n    </Line>\n    <Line justifyContent=\"center\" alignItems=\"center\">\n      <RaisedButton\n        label={<Trans>Create my account</Trans>}\n        onClick={onLogin}\n        primary\n      />\n      <span style={styles.orDivider}>or</span>\n      <FlatButton label={<Trans>Login</Trans>} onClick={onLogin} />\n    </Line>\n  </Column>\n);\n","// @flow\nimport * as React from 'react';\nimport EventsTree from './EventsTree';\nimport InstructionEditorDialog from './InstructionEditor/InstructionEditorDialog';\nimport Toolbar from './Toolbar';\nimport KeyboardShortcuts from '../UI/KeyboardShortcuts';\nimport InlineParameterEditor from './InlineParameterEditor';\nimport ContextMenu from '../UI/Menu/ContextMenu';\nimport Clipboard from '../Utils/Clipboard';\nimport { type PreviewOptions } from '../Export/PreviewLauncher.flow';\nimport {\n  serializeToJSObject,\n  unserializeFromJSObject,\n} from '../Utils/Serializer';\nimport {\n  type HistoryState,\n  undo,\n  redo,\n  canUndo,\n  canRedo,\n  getHistoryInitialState,\n  saveToHistory,\n} from '../Utils/History';\nimport {\n  type SelectionState,\n  type EventContext,\n  type InstructionsListContext,\n  type InstructionContext,\n  type ParameterContext,\n  getInitialSelection,\n  selectEvent,\n  selectInstruction,\n  hasSomethingSelected,\n  hasEventSelected,\n  hasInstructionSelected,\n  hasSelectedAtLeastOneCondition,\n  hasInstructionsListSelected,\n  getSelectedEvents,\n  getSelectedInstructions,\n  clearSelection,\n  getSelectedEventContexts,\n  getSelectedInstructionsContexts,\n  getSelectedInstructionsListsContexts,\n  selectInstructionsList,\n} from './SelectionHandler';\nimport EmptyEventsPlaceholder from './EmptyEventsPlaceholder';\nimport { ensureSingleOnceInstructions } from './OnceInstructionSanitizer';\nimport EventsContextAnalyzerDialog, {\n  type EventsContextResult,\n  toEventsContextResult,\n} from './EventsContextAnalyzerDialog';\nimport SearchPanel from './SearchPanel';\nimport {\n  type ResourceSource,\n  type ChooseResourceFunction,\n} from '../ResourcesList/ResourceSource.flow';\nimport { type ResourceExternalEditor } from '../ResourcesList/ResourceExternalEditor.flow';\nimport EventsSearcher, {\n  type ReplaceInEventsInputs,\n  type SearchInEventsInputs,\n} from './EventsSearcher';\nimport { containsSubInstructions } from './ContainsSubInstruction';\nimport {\n  enumerateEventsMetadata,\n  type EventMetadata,\n} from './EnumerateEventsMetadata';\nimport PreferencesContext from '../MainFrame/Preferences/PreferencesContext';\nimport EventsFunctionExtractorDialog from './EventsFunctionExtractor/EventsFunctionExtractorDialog';\nimport { createNewInstructionForEventsFunction } from './EventsFunctionExtractor';\nimport { type EventsScope } from './EventsScope.flow';\nconst gd = global.gd;\n\nconst CLIPBOARD_KIND = 'EventsAndInstructions';\n\ntype Props = {|\n  project: gdProject,\n  scope: EventsScope,\n  globalObjectsContainer: gdObjectsContainer,\n  objectsContainer: gdObjectsContainer,\n  events: gdEventsList,\n  setToolbar: (?React.Node) => void,\n  showPreviewButton: boolean,\n  showNetworkPreviewButton: boolean,\n  onPreview: (options: PreviewOptions) => void,\n  onOpenDebugger: () => void,\n  onOpenSettings?: ?() => void,\n  onOpenExternalEvents: string => void,\n  onOpenLayout: string => void,\n  resourceSources: Array<ResourceSource>,\n  onChooseResource: ChooseResourceFunction,\n  resourceExternalEditors: Array<ResourceExternalEditor>,\n  openInstructionOrExpression: (\n    extension: gdPlatformExtension,\n    type: string\n  ) => void,\n  onCreateEventsFunction: (\n    extensionName: string,\n    eventsFunction: gdEventsFunction\n  ) => void,\n|};\ntype State = {|\n  history: HistoryState,\n\n  editedInstruction: {\n    //TODO: This could be adapted to be a InstructionContext\n    isCondition: boolean,\n    instruction: ?gdInstruction,\n    instrsList: ?gdInstructionsList,\n    indexInList: number,\n  },\n  editedParameter: {\n    // TODO: This could be adapted to be a ParameterContext\n    isCondition: boolean,\n    instruction: ?gdInstruction,\n    instrsList: ?gdInstructionsList,\n    parameterIndex: number,\n  },\n\n  selection: SelectionState,\n\n  inlineEditing: boolean,\n  inlineEditingAnchorEl: ?any,\n  inlineEditingChangesMade: boolean,\n\n  analyzedEventsContextResult: ?EventsContextResult,\n\n  serializedEventsToExtract: ?Object,\n\n  showSearchPanel: boolean,\n  searchResults: ?Array<gdBaseEvent>,\n  searchFocusOffset: ?number,\n\n  allEventsMetadata: Array<EventMetadata>,\n|};\n\nconst styles = {\n  container: {\n    display: 'flex',\n    width: '100%',\n    flexDirection: 'column',\n  },\n};\n\nexport default class EventsSheet extends React.Component<Props, State> {\n  _eventsTree: ?EventsTree;\n  _eventSearcher: ?EventsSearcher;\n  _searchPanel: ?SearchPanel;\n  _keyboardShortcuts = new KeyboardShortcuts({\n    onDelete: () => {\n      if (this.state.inlineEditing || this.state.editedInstruction.instruction)\n        return;\n\n      this.deleteSelection();\n    },\n    onCopy: () => this.copySelection(),\n    onCut: () => this.cutSelection(),\n    onPaste: () => this.pasteEventsOrInstructions(),\n    onSearch: () => this._toggleSearchPanel(),\n    onUndo: () => this.undo(),\n    onRedo: () => this.redo(),\n  });\n\n  eventContextMenu: ContextMenu;\n  instructionContextMenu: ContextMenu;\n  instructionsListContextMenu: ContextMenu;\n\n  state = {\n    history: getHistoryInitialState(this.props.events, { historyMaxSize: 50 }),\n\n    editedInstruction: {\n      isCondition: true,\n      instruction: null,\n      instrsList: null,\n      indexInList: 0,\n    },\n    editedParameter: {\n      isCondition: true,\n      instruction: null,\n      instrsList: null,\n      parameterIndex: 0,\n    },\n\n    selection: getInitialSelection(),\n\n    inlineEditing: false,\n    inlineEditingAnchorEl: null,\n    inlineEditingChangesMade: false,\n\n    analyzedEventsContextResult: null,\n\n    serializedEventsToExtract: null,\n\n    showSearchPanel: false,\n    searchResults: null,\n    searchFocusOffset: null,\n\n    allEventsMetadata: [],\n  };\n\n  componentDidMount() {\n    this.setState({ allEventsMetadata: enumerateEventsMetadata() });\n  }\n\n  componentWillUnmount() {\n    this._keyboardShortcuts.unmount();\n  }\n\n  updateToolbar() {\n    if (!this.props.setToolbar) return;\n\n    this.props.setToolbar(\n      <Toolbar\n        allEventsMetadata={this.state.allEventsMetadata}\n        onAddStandardEvent={() =>\n          this.addNewEvent('BuiltinCommonInstructions::Standard')\n        }\n        onAddSubEvent={this.addSubEvents}\n        canAddSubEvent={hasEventSelected(this.state.selection)}\n        onAddCommentEvent={() =>\n          this.addNewEvent('BuiltinCommonInstructions::Comment')\n        }\n        onAddEvent={this.addNewEvent}\n        canRemove={hasSomethingSelected(this.state.selection)}\n        onRemove={this.deleteSelection}\n        showPreviewButton={this.props.showPreviewButton}\n        showNetworkPreviewButton={this.props.showNetworkPreviewButton}\n        onPreview={() => this.props.onPreview({})}\n        onNetworkPreview={() => this.props.onPreview({ networkPreview: true })}\n        onOpenDebugger={() => {\n          this.props.onOpenDebugger();\n          this.props.onPreview({});\n        }}\n        canUndo={canUndo(this.state.history)}\n        canRedo={canRedo(this.state.history)}\n        undo={this.undo}\n        redo={this.redo}\n        onOpenSettings={this.props.onOpenSettings}\n        onToggleSearchPanel={this._toggleSearchPanel}\n      />\n    );\n  }\n\n  _toggleSearchPanel = () => {\n    this.setState(\n      state => {\n        const show = !state.showSearchPanel;\n        if (!show) {\n          if (this._eventSearcher) this._eventSearcher.reset();\n        }\n\n        return {\n          showSearchPanel: show,\n        };\n      },\n      () => {\n        if (this.state.showSearchPanel && this._searchPanel) {\n          this._searchPanel.focus();\n        }\n      }\n    );\n  };\n\n  addSubEvents = () => {\n    const { project } = this.props;\n\n    getSelectedEvents(this.state.selection).forEach(event => {\n      if (event.canHaveSubEvents()) {\n        event\n          .getSubEvents()\n          .insertNewEvent(\n            project,\n            'BuiltinCommonInstructions::Standard',\n            event.getSubEvents().getEventsCount()\n          );\n      }\n    });\n\n    this._saveChangesToHistory(() => {\n      if (this._eventsTree) this._eventsTree.forceEventsUpdate();\n    });\n  };\n\n  _selectionCanHaveSubEvents = () => {\n    return getSelectedEvents(this.state.selection).some(event => {\n      return event.canHaveSubEvents();\n    });\n  };\n\n  _selectionCanToggleDisabled = () => {\n    return getSelectedEvents(this.state.selection).some(event => {\n      return event.isExecutable();\n    });\n  };\n\n  addNewEvent = (type: string, context: ?EventContext): Array<gdBaseEvent> => {\n    const { project } = this.props;\n    const hasEventsSelected = hasEventSelected(this.state.selection);\n\n    let insertions: Array<{\n      eventsList: gdEventsList,\n      indexInList: number,\n    }> = [];\n    if (context) {\n      insertions = [context];\n    } else if (hasEventsSelected) {\n      insertions = getSelectedEventContexts(this.state.selection).map(\n        selectedEvent => ({\n          eventsList: selectedEvent.eventsList,\n          indexInList: selectedEvent.indexInList,\n        })\n      );\n    } else {\n      insertions = [\n        {\n          eventsList: this.props.events,\n          indexInList: this.props.events.getEventsCount(),\n        },\n      ];\n    }\n\n    const newEvents = insertions.map(\n      (context: { eventsList: gdEventsList, indexInList: number }) => {\n        return context.eventsList.insertNewEvent(\n          project,\n          type,\n          context.indexInList + 1\n        );\n      }\n    );\n\n    this._saveChangesToHistory(() => {\n      const eventsTree = this._eventsTree;\n      if (!eventsTree) return;\n\n      eventsTree.forceEventsUpdate(() => {\n        if (!context && !hasEventsSelected) {\n          eventsTree.scrollToEvent(newEvents[0]);\n        }\n      });\n    });\n\n    return newEvents;\n  };\n\n  openInstructionEditor = (instructionContext: InstructionContext) => {\n    if (this.state.editedInstruction.instruction) {\n      this.state.editedInstruction.instruction.delete();\n      console.warn(\n        'state.editedInstruction.instruction was containing an instruction - deleting it. Verify the logic handling the state in EventsSheet because that should not happen.'\n      );\n    }\n\n    this.setState({\n      editedInstruction: {\n        instrsList: instructionContext.instrsList,\n        isCondition: instructionContext.isCondition,\n        instruction: instructionContext.instruction\n          ? instructionContext.instruction.clone()\n          : new gd.Instruction(),\n        indexInList: instructionContext.indexInList,\n      },\n    });\n  };\n\n  closeInstructionEditor(saveChanges: boolean = false) {\n    const { instruction } = this.state.editedInstruction;\n    this.setState(\n      {\n        editedInstruction: {\n          isCondition: true,\n          instruction: null,\n          instrsList: null,\n          indexInList: 0,\n        },\n      },\n      () => {\n        // Delete from memory the instruction being edited, *after* resetting\n        // editedInstruction and after the re-rendering, in an effort to be\n        // sure that instruction is not used after deletion.\n        if (instruction) {\n          instruction.delete();\n        }\n        if (saveChanges) {\n          this._saveChangesToHistory();\n        }\n      }\n    );\n  }\n\n  moveSelectionToInstruction = (destinationContext: InstructionContext) => {\n    this.moveSelectionToInstructionsList(\n      {\n        instrsList: destinationContext.instrsList,\n        isCondition: destinationContext.isCondition,\n      },\n      destinationContext.indexInList\n    );\n  };\n\n  moveSelectionToInstructionsList = (\n    destinationContext: InstructionsListContext,\n    indexInList: ?number = undefined\n  ) => {\n    const selectedInstructions = getSelectedInstructions(this.state.selection);\n    const destinationIndex =\n      indexInList === undefined\n        ? destinationContext.instrsList.size()\n        : indexInList;\n\n    const isTryingToDragAnInstructionIntoItsOwnNestedInstructions = !!selectedInstructions.filter(\n      instruction =>\n        containsSubInstructions(instruction, destinationContext.instrsList)\n    ).length;\n\n    if (isTryingToDragAnInstructionIntoItsOwnNestedInstructions) return;\n\n    selectedInstructions.forEach(instruction =>\n      destinationContext.instrsList.insert(instruction, destinationIndex)\n    );\n\n    if (!this._keyboardShortcuts.shouldCloneInstances()) {\n      this.deleteSelection({ deleteEvents: false });\n    } else {\n      this._saveChangesToHistory();\n    }\n  };\n\n  selectEvent = (eventContext: EventContext) => {\n    const multiSelect = this._keyboardShortcuts.shouldMultiSelect();\n    this.setState(\n      {\n        selection: selectEvent(this.state.selection, eventContext, multiSelect),\n      },\n      () => this.updateToolbar()\n    );\n  };\n\n  openEventContextMenu = (x: number, y: number, eventContext: EventContext) => {\n    const multiSelect = this._keyboardShortcuts.shouldMultiSelect();\n    this.setState(\n      {\n        selection: selectEvent(this.state.selection, eventContext, multiSelect),\n      },\n      () => {\n        this.updateToolbar();\n        this.eventContextMenu.open(x, y);\n      }\n    );\n  };\n\n  openInstructionContextMenu = (\n    x: number,\n    y: number,\n    instructionContext: InstructionContext\n  ) => {\n    const multiSelect = this._keyboardShortcuts.shouldMultiSelect();\n    this.setState(\n      {\n        selection: selectInstruction(\n          this.state.selection,\n          instructionContext,\n          multiSelect\n        ),\n      },\n      () => {\n        this.updateToolbar();\n        this.instructionContextMenu.open(x, y);\n      }\n    );\n  };\n\n  openInstructionsListContextMenu = (\n    x: number,\n    y: number,\n    instructionsListContext: InstructionsListContext\n  ) => {\n    this.setState(\n      {\n        selection: selectInstructionsList(\n          this.state.selection,\n          instructionsListContext,\n          false\n        ),\n      },\n      () => {\n        this.updateToolbar();\n        this.instructionsListContextMenu.open(x, y);\n      }\n    );\n  };\n\n  selectInstruction = (instructionContext: InstructionContext) => {\n    const multiSelect = this._keyboardShortcuts.shouldMultiSelect();\n    this.setState(\n      {\n        selection: selectInstruction(\n          this.state.selection,\n          instructionContext,\n          multiSelect\n        ),\n      },\n      () => this.updateToolbar()\n    );\n  };\n\n  openParameterEditor = (parameterContext: ParameterContext) => {\n    // $FlowFixMe\n    this.setState({\n      editedParameter: parameterContext,\n      inlineEditing: true,\n      inlineEditingAnchorEl: parameterContext.domEvent\n        ? parameterContext.domEvent.currentTarget\n        : null,\n      inlineEditingChangesMade: false,\n    });\n  };\n\n  closeParameterEditor = () => {\n    if (this.state.inlineEditingChangesMade) {\n      this._saveChangesToHistory();\n    }\n\n    this.setState({\n      inlineEditing: false,\n      inlineEditingAnchorEl: null,\n      inlineEditingChangesMade: false,\n    });\n  };\n\n  toggleDisabled = () => {\n    getSelectedEvents(this.state.selection).forEach(event =>\n      event.setDisabled(!event.isDisabled())\n    );\n    this._saveChangesToHistory(() => {\n      if (this._eventsTree) this._eventsTree.forceEventsUpdate();\n    });\n  };\n\n  deleteSelection = ({\n    deleteInstructions = true,\n    deleteEvents = true,\n  }: { deleteInstructions?: boolean, deleteEvents?: boolean } = {}) => {\n    const { events } = this.props;\n    const eventsRemover = new gd.EventsRemover();\n    if (deleteEvents) {\n      getSelectedEvents(this.state.selection).forEach(event =>\n        eventsRemover.addEventToRemove(event)\n      );\n    }\n    if (deleteInstructions) {\n      getSelectedInstructions(this.state.selection).forEach(instruction =>\n        eventsRemover.addInstructionToRemove(instruction)\n      );\n    }\n\n    eventsRemover.launch(events);\n\n    // /!\\ Events were changed, so any reference to an existing event can now\n    // be invalid. Make sure to immediately trigger a forced update before\n    // any re-render that could use a deleted/invalid event.\n    if (this._eventsTree) this._eventsTree.forceEventsUpdate();\n\n    this.setState(\n      {\n        selection: clearSelection(),\n        inlineEditing: false,\n        inlineEditingAnchorEl: null,\n      },\n      () => this._saveChangesToHistory()\n    );\n  };\n\n  copySelection = () => {\n    const eventsList = new gd.EventsList();\n    const instructionsList = new gd.InstructionsList();\n\n    getSelectedEvents(this.state.selection).forEach(event =>\n      eventsList.insertEvent(event, eventsList.getEventsCount())\n    );\n    getSelectedInstructions(this.state.selection).forEach(instruction =>\n      instructionsList.insert(instruction, instructionsList.size())\n    );\n\n    Clipboard.set(CLIPBOARD_KIND, {\n      eventsList: serializeToJSObject(eventsList),\n      instructionsList: serializeToJSObject(instructionsList),\n    });\n\n    eventsList.delete();\n    instructionsList.delete();\n  };\n\n  cutSelection = () => {\n    this.copySelection();\n    this.deleteSelection();\n  };\n\n  pasteEvents = () => {\n    if (\n      !hasEventSelected(this.state.selection) ||\n      !Clipboard.has(CLIPBOARD_KIND)\n    )\n      return;\n\n    const eventsList = new gd.EventsList();\n    unserializeFromJSObject(\n      eventsList,\n      Clipboard.get(CLIPBOARD_KIND).eventsList,\n      'unserializeFrom',\n      this.props.project\n    );\n    getSelectedEventContexts(this.state.selection).forEach(eventContext => {\n      eventContext.eventsList.insertEvents(\n        eventsList,\n        0,\n        eventsList.getEventsCount(),\n        eventContext.indexInList\n      );\n    });\n    eventsList.delete();\n\n    this._saveChangesToHistory(() => {\n      if (this._eventsTree) this._eventsTree.forceEventsUpdate();\n    });\n  };\n\n  pasteInstructions = () => {\n    if (\n      (!hasInstructionSelected(this.state.selection) &&\n        !hasInstructionsListSelected(this.state.selection)) ||\n      !Clipboard.has(CLIPBOARD_KIND)\n    )\n      return;\n\n    const instructionsList = new gd.InstructionsList();\n    unserializeFromJSObject(\n      instructionsList,\n      Clipboard.get(CLIPBOARD_KIND).instructionsList,\n      'unserializeFrom',\n      this.props.project\n    );\n    getSelectedInstructionsContexts(this.state.selection).forEach(\n      instructionContext => {\n        instructionContext.instrsList.insertInstructions(\n          instructionsList,\n          0,\n          instructionsList.size(),\n          instructionContext.indexInList\n        );\n      }\n    );\n    getSelectedInstructionsListsContexts(this.state.selection).forEach(\n      instructionsListContext => {\n        instructionsListContext.instrsList.insertInstructions(\n          instructionsList,\n          0,\n          instructionsList.size(),\n          instructionsListContext.instrsList.size()\n        );\n      }\n    );\n    instructionsList.delete();\n\n    this._saveChangesToHistory(() => {\n      if (this._eventsTree) this._eventsTree.forceEventsUpdate();\n    });\n  };\n\n  pasteEventsOrInstructions = () => {\n    if (hasEventSelected(this.state.selection)) this.pasteEvents();\n    else if (hasInstructionSelected(this.state.selection))\n      this.pasteInstructions();\n    else if (hasInstructionsListSelected(this.state.selection))\n      this.pasteInstructions();\n  };\n\n  _invertSelectedConditions = () => {\n    getSelectedInstructionsContexts(this.state.selection).forEach(\n      instructionContext => {\n        if (instructionContext.isCondition) {\n          instructionContext.instruction.setInverted(\n            !instructionContext.instruction.isInverted()\n          );\n        }\n      }\n    );\n\n    this._saveChangesToHistory(() => {\n      if (this._eventsTree) this._eventsTree.forceEventsUpdate();\n    });\n  };\n\n  _saveChangesToHistory = (cb: ?Function) => {\n    this.setState(\n      {\n        history: saveToHistory(this.state.history, this.props.events),\n      },\n      () => {\n        this.updateToolbar();\n        if (cb) cb();\n      }\n    );\n  };\n\n  undo = () => {\n    if (!canUndo(this.state.history)) return;\n\n    const { events, project } = this.props;\n    const newHistory = undo(this.state.history, events, project);\n\n    // /!\\ Events were changed, so any reference to an existing event can now\n    // be invalid. Make sure to immediately trigger a forced update before\n    // any re-render that could use a deleted/invalid event.\n    if (this._eventsTree) this._eventsTree.forceEventsUpdate();\n\n    this.setState({ history: newHistory }, () => this.updateToolbar());\n  };\n\n  redo = () => {\n    if (!canRedo(this.state.history)) return;\n\n    const { events, project } = this.props;\n    const newHistory = redo(this.state.history, events, project);\n\n    // /!\\ Events were changed, so any reference to an existing event can now\n    // be invalid. Make sure to immediately trigger a forced update before\n    // any re-render that could use a deleted/invalid event.\n    if (this._eventsTree) this._eventsTree.forceEventsUpdate();\n\n    this.setState({ history: newHistory }, () => this.updateToolbar());\n  };\n\n  _openEventsContextAnalyzer = () => {\n    const { globalObjectsContainer, objectsContainer } = this.props;\n    const eventsContextAnalyzer = new gd.EventsContextAnalyzer(\n      gd.JsPlatform.get(),\n      globalObjectsContainer,\n      objectsContainer\n    );\n\n    const eventsList = new gd.EventsList();\n    getSelectedEvents(this.state.selection).forEach(event =>\n      eventsList.insertEvent(event, eventsList.getEventsCount())\n    );\n\n    eventsContextAnalyzer.launch(eventsList);\n    eventsList.delete();\n\n    this.setState({\n      analyzedEventsContextResult: toEventsContextResult(\n        eventsContextAnalyzer.getEventsContext()\n      ),\n    });\n    eventsContextAnalyzer.delete();\n  };\n\n  _closeEventsContextAnalyzer = () => {\n    this.setState({\n      analyzedEventsContextResult: null,\n    });\n  };\n\n  extractEventsToFunction = () => {\n    const eventsList = new gd.EventsList();\n\n    getSelectedEvents(this.state.selection).forEach(event =>\n      eventsList.insertEvent(event, eventsList.getEventsCount())\n    );\n\n    this.setState({\n      serializedEventsToExtract: serializeToJSObject(eventsList),\n    });\n\n    eventsList.delete();\n  };\n\n  _replaceSelectionByEventsFunction = (\n    extensionName: string,\n    eventsFunction: gdEventsFunction\n  ) => {\n    const contexts = getSelectedEventContexts(this.state.selection);\n    if (!contexts.length) return;\n\n    const newEvents = this.addNewEvent(\n      'BuiltinCommonInstructions::Standard',\n      contexts[0]\n    );\n    if (!newEvents.length) {\n      console.error('A new event should have been created');\n      return;\n    }\n\n    const action = createNewInstructionForEventsFunction(\n      extensionName,\n      eventsFunction\n    );\n    const standardEvt = gd.asStandardEvent(newEvents[0]);\n    standardEvt.getActions().push_back(action);\n    action.delete();\n\n    this.deleteSelection({ deleteInstructions: false });\n  };\n\n  _ensureEventUnfolded = (cb: () => ?gdBaseEvent) => {\n    const event = cb();\n    if (event && this._eventsTree) {\n      this._eventsTree.unfoldForEvent(event);\n    }\n  };\n\n  _replaceInEvents = (\n    doReplaceInEvents: (inputs: ReplaceInEventsInputs) => void,\n    inputs: ReplaceInEventsInputs\n  ) => {\n    doReplaceInEvents(inputs);\n    this._saveChangesToHistory(() => {\n      if (this._eventsTree) this._eventsTree.forceEventsUpdate();\n    });\n  };\n\n  _searchInEvents = (\n    doSearchInEvents: (inputs: SearchInEventsInputs, cb: () => void) => void,\n    inputs: SearchInEventsInputs\n  ) => {\n    doSearchInEvents(inputs, () => {\n      this.forceUpdate(() => {\n        if (this._eventsTree) this._eventsTree.forceEventsUpdate();\n      });\n    });\n  };\n\n  _onEventMoved = () => {\n    // Move of the event in the list is handled by EventsTree.\n    // This could be refactored and put here if the drag'n'drop of events\n    // is reworked at some point.\n    this._saveChangesToHistory();\n  };\n\n  render() {\n    const {\n      project,\n      scope,\n      events,\n      onOpenExternalEvents,\n      onOpenLayout,\n      globalObjectsContainer,\n      objectsContainer,\n    } = this.props;\n    if (!project) return null;\n\n    return (\n      <PreferencesContext.Consumer>\n        {({ values }) => (\n          <EventsSearcher\n            key={events.ptr}\n            ref={eventSearcher => (this._eventSearcher = eventSearcher)}\n            events={events}\n            globalObjectsContainer={globalObjectsContainer}\n            objectsContainer={objectsContainer}\n            selection={this.state.selection}\n          >\n            {({\n              eventsSearchResultEvents,\n              searchFocusOffset,\n              searchInEvents,\n              replaceInEvents,\n              goToPreviousSearchResult,\n              goToNextSearchResult,\n            }) => (\n              <div\n                className=\"gd-events-sheet\"\n                style={styles.container}\n                onFocus={() => this._keyboardShortcuts.focus()}\n                onBlur={() => this._keyboardShortcuts.blur()}\n                tabIndex={1}\n              >\n                <EventsTree\n                  ref={eventsTree => (this._eventsTree = eventsTree)}\n                  key={events.ptr}\n                  events={events}\n                  project={project}\n                  scope={scope}\n                  globalObjectsContainer={globalObjectsContainer}\n                  objectsContainer={objectsContainer}\n                  selection={this.state.selection}\n                  onInstructionClick={this.selectInstruction}\n                  onInstructionDoubleClick={this.openInstructionEditor}\n                  onInstructionContextMenu={this.openInstructionContextMenu}\n                  onInstructionsListContextMenu={\n                    this.openInstructionsListContextMenu\n                  }\n                  onAddNewInstruction={this.openInstructionEditor}\n                  onMoveToInstruction={this.moveSelectionToInstruction}\n                  onMoveToInstructionsList={\n                    this.moveSelectionToInstructionsList\n                  }\n                  onParameterClick={this.openParameterEditor}\n                  onEventClick={this.selectEvent}\n                  onEventContextMenu={this.openEventContextMenu}\n                  onAddNewEvent={context => {\n                    this.addNewEvent(\n                      'BuiltinCommonInstructions::Standard',\n                      context\n                    );\n                  }}\n                  onOpenExternalEvents={onOpenExternalEvents}\n                  onOpenLayout={onOpenLayout}\n                  searchResults={eventsSearchResultEvents}\n                  searchFocusOffset={searchFocusOffset}\n                  onEventMoved={this._onEventMoved}\n                  showObjectThumbnails={values.eventsSheetShowObjectThumbnails}\n                />\n                {this.state.showSearchPanel && (\n                  <SearchPanel\n                    ref={searchPanel => (this._searchPanel = searchPanel)}\n                    onSearchInEvents={inputs =>\n                      this._searchInEvents(searchInEvents, inputs)\n                    }\n                    onReplaceInEvents={inputs =>\n                      this._replaceInEvents(replaceInEvents, inputs)\n                    }\n                    resultsCount={\n                      eventsSearchResultEvents\n                        ? eventsSearchResultEvents.length\n                        : null\n                    }\n                    hasEventSelected={hasEventSelected(this.state.selection)}\n                    onGoToPreviousSearchResult={() =>\n                      this._ensureEventUnfolded(goToPreviousSearchResult)\n                    }\n                    onGoToNextSearchResult={() =>\n                      this._ensureEventUnfolded(goToNextSearchResult)\n                    }\n                  />\n                )}\n                {events && events.getEventsCount() === 0 && (\n                  <EmptyEventsPlaceholder />\n                )}\n                <InlineParameterEditor\n                  open={this.state.inlineEditing}\n                  anchorEl={this.state.inlineEditingAnchorEl}\n                  onRequestClose={this.closeParameterEditor}\n                  project={project}\n                  scope={scope}\n                  globalObjectsContainer={globalObjectsContainer}\n                  objectsContainer={objectsContainer}\n                  isCondition={this.state.editedParameter.isCondition}\n                  instruction={this.state.editedParameter.instruction}\n                  parameterIndex={this.state.editedParameter.parameterIndex}\n                  onChange={value => {\n                    const {\n                      instruction,\n                      parameterIndex,\n                    } = this.state.editedParameter;\n                    if (!instruction) return;\n                    instruction.setParameter(parameterIndex, value);\n                    this.setState({\n                      inlineEditingChangesMade: true,\n                    });\n                  }}\n                  resourceSources={this.props.resourceSources}\n                  onChooseResource={this.props.onChooseResource}\n                  resourceExternalEditors={this.props.resourceExternalEditors}\n                />\n                <ContextMenu\n                  ref={eventContextMenu =>\n                    (this.eventContextMenu = eventContextMenu)\n                  }\n                  buildMenuTemplate={() => [\n                    {\n                      label: 'Copy',\n                      click: () => this.copySelection(),\n                      accelerator: 'CmdOrCtrl+C',\n                    },\n                    {\n                      label: 'Cut',\n                      click: () => this.cutSelection(),\n                      accelerator: 'CmdOrCtrl+X',\n                    },\n                    {\n                      label: 'Paste',\n                      click: () => this.pasteEvents(),\n                      enabled: Clipboard.has(CLIPBOARD_KIND),\n                      accelerator: 'CmdOrCtrl+V',\n                    },\n                    {\n                      label: 'Delete',\n                      click: () => this.deleteSelection(),\n                      accelerator: 'Delete',\n                    },\n                    {\n                      label: 'Toggle disabled',\n                      click: () => this.toggleDisabled(),\n                      enabled: this._selectionCanToggleDisabled(),\n                    },\n                    { type: 'separator' },\n                    {\n                      label: 'Add New Event Below',\n                      click: () =>\n                        this.addNewEvent('BuiltinCommonInstructions::Standard'),\n                    },\n                    {\n                      label: 'Add Sub Event',\n                      click: () => this.addSubEvents(),\n                      enabled: this._selectionCanHaveSubEvents(),\n                    },\n                    {\n                      label: 'Add Other',\n                      submenu: this.state.allEventsMetadata.map(metadata => {\n                        return {\n                          label: metadata.fullName,\n                          click: () => this.addNewEvent(metadata.type),\n                        };\n                      }),\n                    },\n                    { type: 'separator' },\n                    {\n                      label: 'Undo',\n                      click: this.undo,\n                      enabled: canUndo(this.state.history),\n                      accelerator: 'CmdOrCtrl+Z',\n                    },\n                    {\n                      label: 'Redo',\n                      click: this.redo,\n                      enabled: canRedo(this.state.history),\n                      accelerator: 'CmdOrCtrl+Shift+Z',\n                    },\n                    { type: 'separator' },\n                    {\n                      label: 'Extract Events to a Function',\n                      click: () => this.extractEventsToFunction(),\n                    },\n                    {\n                      label: 'Analyze Objects Used in this Event',\n                      click: this._openEventsContextAnalyzer,\n                    },\n                  ]}\n                />\n                <ContextMenu\n                  ref={instructionContextMenu =>\n                    (this.instructionContextMenu = instructionContextMenu)\n                  }\n                  buildMenuTemplate={() => [\n                    {\n                      label: 'Copy',\n                      click: () => this.copySelection(),\n                      accelerator: 'CmdOrCtrl+C',\n                    },\n                    {\n                      label: 'Cut',\n                      click: () => this.cutSelection(),\n                      accelerator: 'CmdOrCtrl+X',\n                    },\n                    {\n                      label: 'Paste',\n                      click: () => this.pasteInstructions(),\n                      enabled: Clipboard.has(CLIPBOARD_KIND),\n                      accelerator: 'CmdOrCtrl+V',\n                    },\n                    { type: 'separator' },\n                    {\n                      label: 'Delete',\n                      click: () => this.deleteSelection(),\n                      accelerator: 'Delete',\n                    },\n                    { type: 'separator' },\n                    {\n                      label: 'Undo',\n                      click: this.undo,\n                      enabled: canUndo(this.state.history),\n                      accelerator: 'CmdOrCtrl+Z',\n                    },\n                    {\n                      label: 'Redo',\n                      click: this.redo,\n                      enabled: canRedo(this.state.history),\n                      accelerator: 'CmdOrCtrl+Shift+Z',\n                    },\n                    {\n                      label: 'Invert Condition',\n                      click: () => this._invertSelectedConditions(),\n                      visible: hasSelectedAtLeastOneCondition(\n                        this.state.selection\n                      ),\n                    },\n                  ]}\n                />\n                <ContextMenu\n                  ref={instructionsListContextMenu =>\n                    (this.instructionsListContextMenu = instructionsListContextMenu)\n                  }\n                  buildMenuTemplate={() => [\n                    {\n                      label: 'Paste',\n                      click: () => this.pasteInstructions(),\n                      enabled: Clipboard.has(CLIPBOARD_KIND),\n                      accelerator: 'CmdOrCtrl+V',\n                    },\n                    { type: 'separator' },\n                    {\n                      label: 'Undo',\n                      click: this.undo,\n                      enabled: canUndo(this.state.history),\n                      accelerator: 'CmdOrCtrl+Z',\n                    },\n                    {\n                      label: 'Redo',\n                      click: this.redo,\n                      enabled: canRedo(this.state.history),\n                      accelerator: 'CmdOrCtrl+Shift+Z',\n                    },\n                  ]}\n                />\n                {this.state.editedInstruction.instruction && (\n                  <InstructionEditorDialog\n                    project={project}\n                    scope={scope}\n                    globalObjectsContainer={globalObjectsContainer}\n                    objectsContainer={objectsContainer}\n                    instruction={this.state.editedInstruction.instruction}\n                    isCondition={this.state.editedInstruction.isCondition}\n                    isNewInstruction={\n                      this.state.editedInstruction.indexInList === undefined\n                    }\n                    open={true}\n                    onCancel={() => this.closeInstructionEditor()}\n                    onSubmit={() => {\n                      const {\n                        instrsList,\n                        instruction,\n                        indexInList,\n                      } = this.state.editedInstruction;\n                      if (!instrsList) return;\n\n                      if (indexInList !== undefined) {\n                        // Replace an existing instruction\n                        instrsList.set(indexInList, instruction);\n                      } else {\n                        // Add a new instruction\n                        instrsList.insert(instruction, instrsList.size());\n                      }\n\n                      this.closeInstructionEditor(true);\n                      ensureSingleOnceInstructions(instrsList);\n                      if (this._eventsTree)\n                        this._eventsTree.forceEventsUpdate();\n                    }}\n                    resourceSources={this.props.resourceSources}\n                    onChooseResource={this.props.onChooseResource}\n                    resourceExternalEditors={this.props.resourceExternalEditors}\n                    openInstructionOrExpression={(extension, type) => {\n                      this.closeInstructionEditor();\n                      this.props.openInstructionOrExpression(extension, type);\n                    }}\n                  />\n                )}\n                {this.state.analyzedEventsContextResult && (\n                  <EventsContextAnalyzerDialog\n                    onClose={this._closeEventsContextAnalyzer}\n                    eventsContextResult={this.state.analyzedEventsContextResult}\n                  />\n                )}\n                {this.state.serializedEventsToExtract && (\n                  <EventsFunctionExtractorDialog\n                    project={project}\n                    globalObjectsContainer={globalObjectsContainer}\n                    objectsContainer={objectsContainer}\n                    onClose={() =>\n                      this.setState({\n                        serializedEventsToExtract: null,\n                      })\n                    }\n                    serializedEvents={this.state.serializedEventsToExtract}\n                    onCreate={(extensionName, eventsFunction) => {\n                      this.props.onCreateEventsFunction(\n                        extensionName,\n                        eventsFunction\n                      );\n                      this._replaceSelectionByEventsFunction(\n                        extensionName,\n                        eventsFunction\n                      );\n                      this.setState({\n                        serializedEventsToExtract: null,\n                      });\n                    }}\n                  />\n                )}\n              </div>\n            )}\n          </EventsSearcher>\n        )}\n      </PreferencesContext.Consumer>\n    );\n  }\n}\n","// @flow\n\nimport values from 'lodash/values';\n\nexport type InstructionsListContext = {|\n  isCondition: boolean,\n  instrsList: gdInstructionsList,\n|};\n\nexport type InstructionContext = {|\n  isCondition: boolean,\n  instrsList: gdInstructionsList,\n  instruction: gdInstruction,\n  indexInList: number,\n|};\n\nexport type ParameterContext = {|\n  isCondition: boolean,\n  instrsList: gdInstructionsList,\n  instruction: gdInstruction,\n  indexInList: number,\n  parameterIndex: number,\n  domEvent?: any,\n|};\n\nexport type EventContext = {|\n  isCondition: boolean,\n  eventsList: gdEventsList,\n  event: gdBaseEvent,\n  indexInList: number,\n|};\n\nexport type SelectionState = {\n  selectedInstructions: { [number]: InstructionContext },\n  selectedInstructionsLists: { [number]: InstructionsListContext },\n  selectedEvents: { [number]: EventContext },\n};\n\nexport const getInitialSelection = () => {\n  return {\n    selectedInstructions: {},\n    selectedEvents: {},\n    selectedInstructionsLists: {},\n  };\n};\n\nexport const getSelectedEvents = (selection: SelectionState): Array<Object> => {\n  return values(selection.selectedEvents).map(\n    (eventContext: EventContext) => eventContext.event\n  );\n};\n\nexport const getSelectedEventContexts = (\n  selection: SelectionState\n): Array<EventContext> => {\n  return values(selection.selectedEvents);\n};\n\nexport const getSelectedInstructions = (\n  selection: SelectionState\n): Array<gdInstruction> => {\n  return values(selection.selectedInstructions).map(\n    (instructionContext: InstructionContext) => instructionContext.instruction\n  );\n};\n\nexport const getSelectedInstructionsContexts = (\n  selection: SelectionState\n): Array<InstructionContext> => {\n  return values(selection.selectedInstructions);\n};\n\nexport const getSelectedInstructionsListsContexts = (\n  selection: SelectionState\n): Array<InstructionContext> => {\n  return values(selection.selectedInstructionsLists);\n};\n\nexport const isEventSelected = (\n  selection: SelectionState,\n  event: Object\n): boolean => {\n  return !!selection.selectedEvents[event.ptr];\n};\n\nexport const isInstructionSelected = (\n  selection: SelectionState,\n  instruction: gdInstruction\n): boolean => {\n  return !!selection.selectedInstructions[instruction.ptr];\n};\n\nexport const isInstructionsListSelected = (\n  selection: SelectionState,\n  instructionsList: gdInstructionsList\n): boolean => {\n  return !!selection.selectedInstructionsLists[instructionsList.ptr];\n};\n\nexport const hasEventSelected = (selection: SelectionState): boolean => {\n  return !!Object.keys(selection.selectedEvents).length;\n};\n\nexport const hasInstructionSelected = (selection: SelectionState): boolean => {\n  return !!Object.keys(selection.selectedInstructions).length;\n};\n\nexport const hasSelectedAtLeastOneCondition = (\n  selection: SelectionState\n): boolean => {\n  for (let instructionContext of getSelectedInstructionsContexts(selection)) {\n    if (instructionContext.isCondition) {\n      return true;\n    }\n  }\n  return false;\n};\n\nexport const hasInstructionsListSelected = (\n  selection: SelectionState\n): boolean => {\n  return !!Object.keys(selection.selectedInstructionsLists).length;\n};\n\nexport const hasSomethingSelected = (selection: SelectionState): boolean => {\n  return (\n    hasInstructionSelected(selection) ||\n    hasInstructionsListSelected(selection) ||\n    hasEventSelected(selection)\n  );\n};\n\nexport const clearSelection = (): SelectionState => {\n  return getInitialSelection();\n};\n\nexport const selectEvent = (\n  selection: SelectionState,\n  eventContext: EventContext,\n  multiSelection: boolean = false\n): SelectionState => {\n  const event = eventContext.event;\n  if (isEventSelected(selection, event)) return selection;\n\n  const existingSelection = multiSelection ? selection : clearSelection();\n  return {\n    ...existingSelection,\n    selectedEvents: {\n      ...existingSelection.selectedEvents,\n      [event.ptr]: eventContext,\n    },\n  };\n};\n\nexport const selectInstruction = (\n  selection: SelectionState,\n  instructionContext: InstructionContext,\n  multiSelection: boolean = false\n): SelectionState => {\n  const instruction: gdInstruction = instructionContext.instruction;\n  if (isInstructionSelected(selection, instruction)) return selection;\n\n  const existingSelection = multiSelection ? selection : clearSelection();\n  return {\n    ...existingSelection,\n    selectedInstructions: {\n      ...existingSelection.selectedInstructions,\n      [instruction.ptr]: instructionContext,\n    },\n  };\n};\n\nexport const selectInstructionsList = (\n  selection: SelectionState,\n  instructionsListContext: InstructionsListContext,\n  multiSelection: boolean = false\n): SelectionState => {\n  const instructionsList: gdInstructionsList =\n    instructionsListContext.instrsList;\n  if (isInstructionsListSelected(selection, instructionsList)) return selection;\n\n  const existingSelection = multiSelection ? selection : clearSelection();\n  return {\n    ...existingSelection,\n    selectedInstructionsLists: {\n      ...existingSelection.selectedInstructionsLists,\n      [instructionsList.ptr]: instructionsListContext,\n    },\n  };\n};\n","// @flow\nimport * as React from 'react';\nimport {\n  type ParameterInlineRenderer,\n  type ParameterInlineRendererProps,\n} from './ParameterFields/ParameterInlineRenderer.flow';\nimport DefaultField from './ParameterFields/DefaultField';\nimport RelationalOperatorField, {\n  renderInlineRelationalOperator,\n} from './ParameterFields/RelationalOperatorField';\nimport OperatorField from './ParameterFields/OperatorField';\nimport MouseField, { renderInlineMouse } from './ParameterFields/MouseField';\nimport KeyField, { renderInlineKey } from './ParameterFields/KeyField';\nimport ObjectField, {\n  renderInlineObjectWithThumbnail,\n} from './ParameterFields/ObjectField';\nimport YesNoField, { renderInlineYesNo } from './ParameterFields/YesNoField';\nimport TrueFalseField, {\n  renderInlineTrueFalse,\n} from './ParameterFields/TrueFalseField';\nimport ExpressionField from './ParameterFields/ExpressionField';\nimport StringField from './ParameterFields/StringField';\nimport StringWithSelectorField from './ParameterFields/StringWithSelectorField';\nimport BehaviorField from './ParameterFields/BehaviorField';\nimport SceneVariableField, {\n  renderInlineSceneVariable,\n} from './ParameterFields/SceneVariableField';\nimport GlobalVariableField, {\n  renderInlineGlobalVariable,\n} from './ParameterFields/GlobalVariableField';\nimport ObjectVariableField, {\n  renderInlineObjectVariable,\n} from './ParameterFields/ObjectVariableField';\nimport LayerField from './ParameterFields/LayerField';\nimport AudioResourceField from './ParameterFields/AudioResourceField';\nimport VideoResourceField from './ParameterFields/VideoResourceField';\nimport ColorExpressionField from './ParameterFields/ColorExpressionField';\nimport ForceMultiplierField, {\n  renderInlineForceMultiplier,\n} from './ParameterFields/ForceMultiplierField';\nimport SceneNameField from './ParameterFields/SceneNameField';\nconst gd = global.gd;\n\nconst components = {\n  default: DefaultField,\n  mouse: MouseField,\n  object: ObjectField,\n  relationalOperator: RelationalOperatorField,\n  operator: OperatorField,\n  yesorno: YesNoField,\n  trueorfalse: TrueFalseField,\n  expression: ExpressionField,\n  string: StringField,\n  stringWithSelector: StringWithSelectorField,\n  behavior: BehaviorField,\n  scenevar: SceneVariableField,\n  globalvar: GlobalVariableField,\n  objectvar: ObjectVariableField,\n  layer: LayerField,\n  key: KeyField,\n  file: DefaultField, //TODO\n  musicfile: AudioResourceField,\n  soundfile: AudioResourceField,\n  videoResource: VideoResourceField,\n  color: ColorExpressionField,\n  police: DefaultField, //TODO\n  joyaxis: DefaultField, //TODO\n  forceMultiplier: ForceMultiplierField,\n  sceneName: SceneNameField,\n};\nconst inlineRenderers: { [string]: ParameterInlineRenderer } = {\n  forceMultiplier: renderInlineForceMultiplier,\n  globalvar: renderInlineGlobalVariable,\n  scenevar: renderInlineSceneVariable,\n  objectvar: renderInlineObjectVariable,\n  key: renderInlineKey,\n  mouse: renderInlineMouse,\n  object: renderInlineObjectWithThumbnail,\n  yesorno: renderInlineYesNo,\n  trueorfalse: renderInlineTrueFalse,\n  relationalOperator: renderInlineRelationalOperator,\n};\n\nexport default {\n  components,\n  getParameterComponent: (type: string) => {\n    const fieldType = gd.ParameterMetadata.isObject(type) ? 'object' : type;\n\n    if (components.hasOwnProperty(fieldType)) return components[fieldType];\n    else return components.default;\n  },\n  renderInlineParameter: (props: ParameterInlineRendererProps): React.Node => {\n    const rawType = props.parameterMetadata.getType();\n    const fieldType = gd.ParameterMetadata.isObject(rawType)\n      ? 'object'\n      : rawType;\n\n    return inlineRenderers[fieldType]\n      ? inlineRenderers[fieldType](props)\n      : props.value;\n  },\n};\n","// @flow\nimport * as React from 'react';\nimport { type ParameterInlineRendererProps } from './ParameterInlineRenderer.flow';\nimport ObjectSelector from '../../ObjectsList/ObjectSelector';\nimport { type ParameterFieldProps } from './ParameterFieldCommons';\nimport { Trans } from '@lingui/macro';\n\nexport default class ObjectField extends React.Component<\n  ParameterFieldProps,\n  {||}\n> {\n  _description: ?string;\n  _allowedObjectType: ?string;\n  _field: ?ObjectSelector;\n\n  constructor(props: ParameterFieldProps) {\n    super(props);\n\n    const { parameterMetadata } = this.props;\n\n    this._description = parameterMetadata\n      ? parameterMetadata.getDescription()\n      : undefined;\n\n    this._allowedObjectType = parameterMetadata\n      ? parameterMetadata.getExtraInfo()\n      : undefined;\n  }\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  render() {\n    return (\n      <ObjectSelector\n        value={this.props.value}\n        onChange={this.props.onChange}\n        allowedObjectType={this._allowedObjectType}\n        globalObjectsContainer={this.props.globalObjectsContainer}\n        objectsContainer={this.props.objectsContainer}\n        floatingLabelText={this._description}\n        fullWidth\n        errorTextIfInvalid={\n          this._allowedObjectType ? (\n            <Trans>The object does not exist or can't be used here.</Trans>\n          ) : (\n            <Trans>Enter the name of an object.</Trans>\n          )\n        }\n        openOnFocus={\n          !this.props\n            .value /* Only force showing the list if no object is entered, see https://github.com/4ian/GDevelop/issues/859 */\n        }\n        ref={field => (this._field = field)}\n      />\n    );\n  }\n}\n\nexport const renderInlineObjectWithThumbnail = ({\n  value,\n  renderObjectThumbnail,\n}: ParameterInlineRendererProps) => {\n  return (\n    <span title={value}>\n      {renderObjectThumbnail(value)}\n      {value}\n    </span>\n  );\n};\n","// @flow\r\n// Inspired by https://github.com/LoicMahieu/material-ui-color-picker\r\n\r\nimport * as React from 'react';\r\nimport { SketchPicker } from 'react-color';\r\n\r\ntype RGBColor = {|\r\n  r: number,\r\n  g: number,\r\n  b: number,\r\n  a?: number,\r\n|};\r\n\r\ntype ColorResult = {\r\n  rgb: RGBColor,\r\n};\r\n\r\ntype ColorChangeHandler = (color: ColorResult) => void;\r\n\r\ntype Props = {|\r\n  color: ?RGBColor,\r\n  style?: Object,\r\n  onChange?: ColorChangeHandler,\r\n  onChangeComplete?: ColorChangeHandler,\r\n  disableAlpha?: boolean,\r\n|};\r\n\r\ntype State = {|\r\n  displayColorPicker: boolean,\r\n|};\r\n\r\nconst styles = {\r\n  color: {\r\n    width: '36px',\r\n    height: '14px',\r\n    borderRadius: '2px',\r\n    textAlign: 'center',\r\n    fontSize: '10px',\r\n  },\r\n  swatch: {\r\n    padding: '5px',\r\n    background: '#fff',\r\n    borderRadius: '1px',\r\n    boxShadow: '0 0 0 1px rgba(0,0,0,.1)',\r\n    display: 'inline-block',\r\n    cursor: 'pointer',\r\n  },\r\n  popover: {\r\n    position: 'fixed',\r\n    zIndex: '2',\r\n    transform: 'translateX(-174px)',\r\n  },\r\n  cover: {\r\n    position: 'fixed',\r\n    top: '0px',\r\n    right: '0px',\r\n    bottom: '0px',\r\n    left: '0px',\r\n  },\r\n};\r\n\r\nclass ColorPicker extends React.Component<Props, State> {\r\n  state = {\r\n    displayColorPicker: false,\r\n  };\r\n\r\n  open = () => {\r\n    this.setState({ displayColorPicker: true });\r\n  };\r\n\r\n  handleClick = () => {\r\n    this.setState({ displayColorPicker: !this.state.displayColorPicker });\r\n  };\r\n\r\n  handleClose = () => {\r\n    this.setState({ displayColorPicker: false });\r\n  };\r\n\r\n  render() {\r\n    const { style, color, ...otherProps } = this.props;\r\n\r\n    const displayedColor = color\r\n      ? color\r\n      : {\r\n          r: 200,\r\n          g: 200,\r\n          b: 200,\r\n          a: 1,\r\n        };\r\n\r\n    return (\r\n      <div style={style}>\r\n        <div style={styles.swatch} onClick={this.handleClick}>\r\n          <div\r\n            style={{\r\n              ...styles.color,\r\n              background: `rgba(${displayedColor.r}, ${displayedColor.g}, ${\r\n                displayedColor.b\r\n              }, ${displayedColor.a || 1})`,\r\n            }}\r\n          >\r\n            {color ? null : '?'}\r\n          </div>\r\n        </div>\r\n        {this.state.displayColorPicker ? (\r\n          <div style={styles.popover}>\r\n            <div style={styles.cover} onClick={this.handleClose} />\r\n            <SketchPicker color={displayedColor} {...otherProps} />\r\n          </div>\r\n        ) : null}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ColorPicker;\r\n","import React from 'react';\nimport Menu from 'material-ui/Menu';\nimport Popover from 'material-ui/Popover';\nimport ElectronMenuImplementation from './ElectronMenuImplementation';\nimport MaterialUIMenuImplementation from './MaterialUIMenuImplementation';\nimport optionalRequire from '../../Utils/OptionalRequire.js';\nconst electron = optionalRequire('electron');\n\nclass MaterialUIContextMenu extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      open: false,\n    };\n    this.menuImplementation = new MaterialUIMenuImplementation({\n      onClose: this._onClose,\n    });\n  }\n\n  open = (x, y) => {\n    this.setState(\n      {\n        anchorX: x,\n        anchorY: y,\n      },\n      () => {\n        this.setState({\n          open: true,\n        });\n      }\n    );\n  };\n\n  _onClose = () => {\n    this.setState({\n      open: false,\n    });\n  };\n\n  render() {\n    return (\n      <div>\n        <div\n          ref={element => (this.anchorEl = element)}\n          style={{\n            position: 'fixed',\n            pointerEvents: 'none',\n            left: this.state.anchorX,\n            top: this.state.anchorY,\n          }}\n        />\n        <Popover\n          open={this.state.open}\n          anchorEl={this.anchorEl}\n          onRequestClose={this._onClose}\n          {...this.menuImplementation.getMenuProps()}\n        >\n          <Menu desktop width={256}>\n            {this.menuImplementation.buildFromTemplate(\n              this.props.buildMenuTemplate()\n            )}\n          </Menu>\n        </Popover>\n      </div>\n    );\n  }\n}\n\nclass ElectronContextMenu extends React.Component {\n  constructor(props) {\n    super(props);\n    this.menuImplementation = new ElectronMenuImplementation();\n  }\n\n  open = (x, y) => {\n    this.menuImplementation.buildFromTemplate(this.props.buildMenuTemplate());\n    this.menuImplementation.showMenu({\n      left: x || 0,\n      top: y || 0,\n      width: 0,\n      height: 0,\n    });\n  };\n\n  render() {\n    return null;\n  }\n}\n\nexport default (electron ? ElectronContextMenu : MaterialUIContextMenu);\n","// @flow\nimport * as React from 'react';\nimport Checkbox from 'material-ui/Checkbox';\n\nconst styles = {\n  root: {\n    width: 'auto',\n    marginRight: 16,\n  },\n  label: {\n    width: 'auto',\n  },\n};\n\ntype Props = {|\n  label: React.Node,\n  checked: boolean,\n  onCheck?: (e: {||}, checked: boolean) => void,\n  checkedIcon?: React.Node,\n  uncheckedIcon?: React.Node,\n  disabled?: boolean,\n|};\n\n/**\n * A checkbox based on Material-UI Checkbox, but that can be displayed\n * without having it taking the full width of its container.\n */\nexport default (props: Props) => (\n  <Checkbox style={styles.root} labelStyle={styles.label} {...props} />\n);\n","//TODO: Factor with styles.js from LayersList.\nexport default {\n  handleColumn: {\n    width: 24,\n    paddingLeft: 8,\n    paddingRight: 0,\n  },\n  coordinateColumn: {\n    width: 48,\n  },\n  toolColumn: {\n    width: 48,\n  },\n};\n","import { Trans } from '@lingui/macro';\nimport React, { Component } from 'react';\nimport TextField from 'material-ui/TextField';\nimport ColorPicker from './ColorPicker';\n\nconst styles = {\n  container: {\n    position: 'relative',\n    display: 'inline-block',\n  },\n  picker: {\n    position: 'absolute',\n    right: '8px',\n    bottom: '12px',\n  },\n};\n\nexport default class ColorField extends Component {\n  onClick = () => {\n    if (this.textField) this.textField.blur();\n    if (this.picker) this.picker.open();\n  };\n\n  render() {\n    return (\n      <div\n        style={{\n          ...styles.container,\n          width: this.props.fullWidth ? '100%' : undefined,\n        }}\n      >\n        <TextField\n          fullWidth\n          floatingLabelText={this.props.floatingLabelText}\n          floatingLabelFixed\n          type=\"text\"\n          hintText={<Trans>Click to choose</Trans>}\n          onClick={this.onClick}\n          onFocus={this.onClick}\n          value=\"\"\n          ref={textField => (this.textField = textField)}\n        />\n        <div style={styles.picker}>\n          <ColorPicker {...this.props} ref={picker => (this.picker = picker)} />\n        </div>\n      </div>\n    );\n  }\n}\n","// @flow\n\nexport const timeFunction = (fn: Function, onResult: number => void) => {\n  var t0 = performance.now();\n  fn();\n  var t1 = performance.now();\n  onResult(t1 - t0);\n};\n","// @flow\n\nexport const makeTimestampedId = () =>\n  '' + Date.now() + '-' + Math.floor(Math.random() * 1000000);\n","//@flow\nexport const delay = (ms: number): Promise<void> =>\n  new Promise(res => setTimeout(res, ms));\n","// @flow\nimport { type Build, getBuild } from '../../Utils/GDevelopServices/Build';\nimport { delay } from '../../Utils/Delay';\nimport { type UserProfile } from '../../Profile/UserProfileContext';\n\nconst waitTime = 1500;\nconst bulkWaitTime = 5000;\n\nexport default class BuildsWatcher {\n  runningWatchers: { [string]: boolean } = {};\n  nextWatcherId = 0;\n  onBuildUpdated: ?(build: Build) => void;\n  userProfile: ?UserProfile;\n\n  start({\n    userProfile,\n    builds,\n    onBuildUpdated,\n  }: {\n    userProfile: UserProfile,\n    builds: Array<Build>,\n    onBuildUpdated: (build: Build) => void,\n  }) {\n    this.stop();\n    this.userProfile = userProfile;\n    this.onBuildUpdated = onBuildUpdated;\n\n    builds.forEach(build => {\n      if (build.status === 'pending') {\n        this._pollBuild(build.id, builds.length > 1 ? bulkWaitTime : waitTime);\n      }\n    });\n  }\n\n  stop() {\n    this.runningWatchers = {};\n  }\n\n  _pollBuild = async (buildId: string, waitTime: number) => {\n    const watcherId = this.nextWatcherId.toString();\n    this.nextWatcherId++;\n\n    this.runningWatchers[watcherId] = true;\n\n    let build = null;\n    do {\n      if (!this.userProfile) return;\n      const { getAuthorizationHeader, profile } = this.userProfile;\n      try {\n        console.info(`Checking progress of build ${buildId}...`);\n        build = await getBuild(getAuthorizationHeader, profile.uid, buildId);\n        if (this.onBuildUpdated) this.onBuildUpdated(build);\n      } catch (e) {\n        console.warn('Error while watching build progress:', e);\n      }\n\n      await delay(waitTime);\n      if (!this.runningWatchers[watcherId]) {\n        console.info(`Stopping watch of build ${buildId}.`);\n        return;\n      }\n    } while (build && build.status === 'pending');\n\n    console.info(`Watch of build ${buildId} finished.`);\n  };\n}\n","import React from 'react';\nimport { ListItem } from 'material-ui/List';\nimport IconMenu from '../Menu/IconMenu';\nimport ListIcon from '../ListIcon';\nimport IconButton from 'material-ui/IconButton';\nimport TextField from 'material-ui/TextField';\nimport MoreVertIcon from 'material-ui/svg-icons/navigation/more-vert';\nimport muiThemeable from 'material-ui/styles/muiThemeable';\nimport { type Item } from '.';\n\nconst styles = {\n  itemName: {\n    overflow: 'hidden',\n    whiteSpace: 'nowrap',\n    textOverflow: 'ellipsis',\n  },\n  textField: {\n    top: -16,\n  },\n};\n\ntype Props = {\n  index: number,\n  item: Item,\n  onRename: string => void,\n  editingName: boolean,\n  getThumbnail?: () => string,\n  selected: true,\n  onItemSelected: () => void,\n  errorStatus: '' | 'error' | 'warning',\n  buildMenuTemplate: () => any,\n};\n\nclass ThemableItemRow extends React.Component<Props, *> {\n  _renderItemMenu(item) {\n    return (\n      <IconMenu\n        ref={iconMenu => (this._iconMenu = iconMenu)}\n        iconButtonElement={\n          <IconButton>\n            <MoreVertIcon />\n          </IconButton>\n        }\n        buildMenuTemplate={this.props.buildMenuTemplate}\n      />\n    );\n  }\n\n  componentDidUpdate(prevProps) {\n    if (!prevProps.editingName && this.props.editingName) {\n      setTimeout(() => {\n        if (this.textField) this.textField.focus();\n      }, 100);\n    }\n  }\n\n  _onContextMenu = event => {\n    if (this._iconMenu) this._iconMenu.open(event);\n  };\n\n  render() {\n    const {\n      item,\n      selected,\n      style,\n      getThumbnail,\n      errorStatus,\n      muiTheme,\n    } = this.props;\n\n    const itemName = item.getName();\n    const label = this.props.editingName ? (\n      <TextField\n        id=\"rename-item-field\"\n        ref={textField => (this.textField = textField)}\n        defaultValue={itemName}\n        onBlur={e => this.props.onRename(e.target.value)}\n        onKeyPress={event => {\n          if (event.charCode === 13) {\n            // enter key pressed\n            this.textField.blur();\n          }\n        }}\n        fullWidth\n        style={styles.textField}\n      />\n    ) : (\n      <div\n        style={{\n          ...styles.itemName,\n          color: selected ? muiTheme.listItem.selectedTextColor : undefined,\n        }}\n      >\n        {itemName}\n      </div>\n    );\n\n    const itemStyle = {\n      borderBottom: `1px solid ${muiTheme.listItem.separatorColor}`,\n      backgroundColor: selected\n        ? errorStatus === ''\n          ? muiTheme.listItem.selectedBackgroundColor\n          : errorStatus === 'error'\n          ? muiTheme.listItem.selectedErrorBackgroundColor\n          : muiTheme.listItem.selectedWarningBackgroundColor\n        : undefined,\n      color:\n        errorStatus === ''\n          ? undefined\n          : errorStatus === 'error'\n          ? muiTheme.listItem.errorTextColor\n          : muiTheme.listItem.warningTextColor,\n    };\n\n    return (\n      <ListItem\n        style={{ ...itemStyle, ...style }}\n        onContextMenu={this._onContextMenu}\n        primaryText={label}\n        leftIcon={\n          getThumbnail && <ListIcon iconSize={32} src={getThumbnail()} />\n        }\n        rightIconButton={this._renderItemMenu(item)}\n        onClick={() => {\n          if (!this.props.onItemSelected) return;\n          if (this.props.editingName) return;\n\n          this.props.onItemSelected(selected ? null : item);\n        }}\n      />\n    );\n  }\n}\n\nconst ItemRow = muiThemeable()(ThemableItemRow);\nexport default ItemRow;\n","// @flow\nimport * as React from 'react';\nimport { List } from 'react-virtualized';\nimport { ListItem } from 'material-ui/List';\nimport ItemRow from './ItemRow';\nimport { makeAddItem } from '../ListCommonItem';\nimport { SortableContainer, SortableElement } from 'react-sortable-hoc';\n\nconst listItemHeight = 48; // TODO: Move this into theme?\n\nconst AddItemRow = makeAddItem(ListItem);\n\nconst SortableItemRow = SortableElement(props => {\n  const { style, ...otherProps } = props;\n  return (\n    <div style={style}>\n      <ItemRow {...otherProps} />\n    </div>\n  );\n});\n\nconst SortableAddItemRow = SortableElement(props => {\n  return <AddItemRow {...props} />;\n});\n\nexport type Item = {\n  key: string | number,\n  getName: () => string,\n};\n\ntype ItemsListProps = {\n  height: number,\n  width: number,\n  fullList: Array<Item>,\n  selectedItem: ?Item,\n  onAddNewItem?: () => void,\n  onRename: (Item, string) => void,\n  getThumbnail?: Item => string,\n  onItemSelected: (?Item) => void,\n  renamedItem: ?Item,\n  addNewItemLabel: React.Node | string,\n  erroredItems?: { [string]: '' | 'error' | 'warning' },\n  buildMenuTemplate: (Item, index: number) => any,\n};\n\nclass ItemsList extends React.Component<ItemsListProps, *> {\n  list: any;\n\n  forceUpdateGrid() {\n    if (this.list) this.list.forceUpdateGrid();\n  }\n\n  render() {\n    const {\n      height,\n      width,\n      fullList,\n      selectedItem,\n      addNewItemLabel,\n      renamedItem,\n      getThumbnail,\n      erroredItems,\n    } = this.props;\n\n    return (\n      <List\n        ref={list => (this.list = list)}\n        height={height}\n        rowCount={fullList.length}\n        rowHeight={listItemHeight}\n        rowRenderer={({ index, key, style }) => {\n          const item = fullList[index];\n          if (item.key === 'add-item-row') {\n            return (\n              <SortableAddItemRow\n                index={fullList.length}\n                key={key}\n                style={style}\n                disabled\n                onClick={this.props.onAddNewItem}\n                primaryText={addNewItemLabel}\n              />\n            );\n          }\n\n          const nameBeingEdited = renamedItem === item;\n\n          return (\n            <SortableItemRow\n              index={index}\n              key={key}\n              item={item}\n              style={style}\n              onRename={newName => this.props.onRename(item, newName)}\n              editingName={nameBeingEdited}\n              getThumbnail={getThumbnail ? () => getThumbnail(item) : undefined}\n              selected={item === selectedItem}\n              onItemSelected={this.props.onItemSelected}\n              errorStatus={\n                erroredItems ? erroredItems[item.getName()] || '' : ''\n              }\n              buildMenuTemplate={() =>\n                this.props.buildMenuTemplate(item, index)\n              }\n            />\n          );\n        }}\n        width={width}\n      />\n    );\n  }\n}\n\nconst SortableItemsList = SortableContainer(ItemsList, { withRef: true });\nexport default SortableItemsList;\n","// @flow\nimport flatten from 'lodash/flatten';\nimport { mapFor } from '../../Utils/MapFor';\n\nexport const enumerateVariables = (\n  variablesContainer: ?gdVariablesContainer\n): Array<string> => {\n  if (!variablesContainer) {\n    return [];\n  }\n\n  const enumerateVariableAndChildrenNames = (\n    fullName: string,\n    variable: gdVariable\n  ): Array<string> => {\n    const names = [fullName];\n    if (!variable.isStructure()) return names;\n\n    variable\n      .getAllChildrenNames()\n      .toJSArray()\n      .forEach(childName => {\n        enumerateVariableAndChildrenNames(\n          `${fullName}.${childName}`,\n          variable.getChild(childName)\n        ).forEach(name => {\n          names.push(name);\n        });\n      });\n\n    return names;\n  };\n\n  return flatten(\n    mapFor(0, variablesContainer.count(), i => {\n      if (!variablesContainer) return [];\n\n      return enumerateVariableAndChildrenNames(\n        variablesContainer.getNameAt(i),\n        variablesContainer.getAt(i)\n      );\n    })\n  );\n};\n","// @flow\nimport OpenInNew from 'material-ui/svg-icons/action/open-in-new';\nimport React, { Component } from 'react';\nimport AutoComplete from 'material-ui/AutoComplete';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport { enumerateVariables } from './EnumerateVariables';\nimport { type ParameterFieldProps } from './ParameterFieldCommons';\n// import classNames from 'classnames';\n// import { icon } from '../EventsTree/ClassNames';\nimport SemiControlledAutoComplete from '../../UI/SemiControlledAutoComplete';\n\nconst styles = {\n  container: {\n    display: 'flex',\n    alignItems: 'baseline',\n  },\n  moreButton: {\n    marginLeft: 10,\n  },\n};\n\ntype Props = {\n  ...ParameterFieldProps,\n  variablesContainer: ?gdVariablesContainer,\n  onOpenDialog: ?() => void,\n};\n\nexport default class VariableField extends Component<Props, {||}> {\n  _field: ?AutoComplete;\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  render() {\n    const {\n      value,\n      onChange,\n      isInline,\n      onOpenDialog,\n      parameterMetadata,\n      variablesContainer,\n    } = this.props;\n\n    return (\n      <div style={styles.container}>\n        <SemiControlledAutoComplete\n          floatingLabelText={\n            parameterMetadata ? parameterMetadata.getDescription() : undefined\n          }\n          value={value}\n          onChange={onChange}\n          dataSource={enumerateVariables(variablesContainer).map(\n            variableName => ({\n              text: variableName,\n              value: variableName,\n            })\n          )}\n          openOnFocus={!isInline}\n          ref={field => (this._field = field)}\n        />\n        {onOpenDialog && !isInline && (\n          <RaisedButton\n            icon={<OpenInNew />}\n            disabled={!this.props.variablesContainer}\n            primary\n            style={styles.moreButton}\n            onClick={onOpenDialog}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport const renderVariableWithIcon = (\n  value: string,\n  iconPath: string,\n  tooltip: string = ''\n) => {\n  // img disabled while waiting for new icons\n  return (\n    <span title={tooltip}>\n      {/* <img\n        className={classNames({\n          [icon]: true,\n        })}\n        src={iconPath}\n        alt=\"\"\n      /> */}\n      {value}\n    </span>\n  );\n};\n","import optionalRequire from '../../Utils/OptionalRequire.js';\nconst electron = optionalRequire('electron');\n\n/**\n * Wraps an Electron Menu\n */\nexport default class ElectronMenuImplementation {\n  buildFromTemplate(template) {\n    this.menuTemplate = template;\n    return undefined;\n  }\n\n  showMenu(dimensions) {\n    if (!electron) return;\n\n    const { Menu } = electron.remote;\n    const browserWindow = electron.remote.getCurrentWindow();\n    this.menu = Menu.buildFromTemplate(this.menuTemplate);\n    this.menu.popup({\n      window: browserWindow,\n      x: Math.round(dimensions.left),\n      y: Math.round(dimensions.top + dimensions.height),\n      async: true, // Ensure the UI is not blocked on macOS.\n    });\n  }\n\n  getMenuProps() {\n    return {\n      open: false,\n    };\n  }\n}\n","import React from 'react';\nimport MenuItem from 'material-ui/MenuItem';\nimport Divider from 'material-ui/Divider';\nimport { adaptAcceleratorString } from '../AcceleratorString';\nimport ArrowDropRight from 'material-ui/svg-icons/navigation-arrow-drop-right';\n\n/**\n * Construct items for material-ui's Menu, using a template which\n * is partially supporting the Electron Menu API (https://github.com/electron/electron/blob/master/docs/api/menu-item.md).\n *\n * Supported options are:\n *  - click\n *  - visible\n *  - type ('separator' and 'checkbox')\n *  - label\n *  - accelerator\n *  - enabled\n *  - checked (when `type` is 'checkbox')\n *  - submenu\n */\nexport default class MaterialUIMenuImplementation {\n  constructor({ onClose }) {\n    this._onClose = onClose;\n  }\n\n  buildFromTemplate(template) {\n    return template\n      .map((item, id) => {\n        if (item.visible === false) return null;\n\n        if (item.type === 'separator') {\n          return <Divider key={'separator' + id} />;\n        } else if (item.type === 'checkbox') {\n          return (\n            <MenuItem\n              key={item.label}\n              primaryText={item.label}\n              secondaryText={\n                item.accelerator\n                  ? adaptAcceleratorString(item.accelerator)\n                  : undefined\n              }\n              checked={item.checked}\n              insetChildren={!item.checked}\n              disabled={item.enabled === false}\n              onClick={() => {\n                if (item.click) {\n                  item.click();\n                  this._onClose();\n                }\n              }}\n              rightIcon={item.submenu ? <ArrowDropRight /> : undefined}\n              menuItems={\n                item.submenu ? this.buildFromTemplate(item.submenu) : undefined\n              }\n            />\n          );\n        } else {\n          return (\n            <MenuItem\n              key={item.label}\n              primaryText={item.label}\n              secondaryText={\n                item.accelerator\n                  ? adaptAcceleratorString(item.accelerator)\n                  : undefined\n              }\n              disabled={item.enabled === false}\n              onClick={() => {\n                if (item.click) {\n                  item.click();\n                  this._onClose();\n                }\n              }}\n              rightIcon={item.submenu ? <ArrowDropRight /> : undefined}\n              menuItems={\n                item.submenu ? this.buildFromTemplate(item.submenu) : undefined\n              }\n            />\n          );\n        }\n      })\n      .filter(Boolean);\n  }\n\n  showMenu() {\n    // Automatically done by IconMenu\n  }\n\n  getMenuProps() {\n    return {\n      anchorOrigin: {\n        vertical: 'bottom',\n        horizontal: 'left',\n      },\n    };\n  }\n}\n","// @flow\nimport { isMacLike, isMobile } from '../Utils/Platform';\n\nexport const adaptAcceleratorString = (accelerator: string): string => {\n  if (isMobile()) {\n    return ''; // Do not display accelerators on mobile devices\n  } else if (isMacLike()) {\n    return accelerator\n      .replace(/CmdOrCtrl\\+/, '')\n      .replace(/CommandOrControl\\+/, '')\n      .replace(/Super\\+/, '')\n      .replace(/Shift\\+/, '')\n      .replace(/Alt\\+/, '')\n      .replace(/Option\\+/, '')\n      .replace(/Delete/, '')\n      .replace(/Backspace/, '');\n  } else {\n    return accelerator\n      .replace(/CmdOrCtrl\\+/, 'Ctrl+')\n      .replace(/CommandOrControl\\+/, 'Ctrl+')\n      .replace(/Super\\+/, 'Win+')\n      .replace(/Option\\+/, 'Alt+')\n      .replace(/Delete/, 'DEL');\n  }\n};\n","import * as React from 'react';\nimport ThemeConsumer from './Theme/ThemeConsumer';\n// No i18n in this file\n\nconst styles = {\n  messageStyle: {\n    opacity: 0.4,\n    textAlign: 'center',\n    fontSize: '13px',\n  },\n};\n\ntype Props = {|\n  tooltipText?: string,\n  style?: Object,\n  children: React.Node,\n|};\n\nconst BackgroundText = (props: Props) => (\n  <ThemeConsumer>\n    {muiTheme => (\n      <span\n        style={{\n          ...styles.messageStyle,\n          textShadow: `1px 1px 0px ${muiTheme.emptyMessage.shadowColor}`,\n          ...props.style,\n        }}\n        title={props.tooltipText}\n      >\n        {props.children}\n      </span>\n    )}\n  </ThemeConsumer>\n);\n\nexport default BackgroundText;\n","// @flow\n// See ElectronEventsBridge, AboutDialog and electron-app/main.js for handling the updates.\n\nexport type UpdateStatus = {\n  message: string,\n  status:\n    | 'checking-for-update'\n    | 'update-available'\n    | 'update-not-available'\n    | 'error'\n    | 'download-progress'\n    | 'update-downloaded'\n    | 'unknown',\n};\n\nexport const getUpdateNotificationTitle = (updateStatus: UpdateStatus) => {\n  if (updateStatus.status === 'update-available')\n    return 'A new update is available!';\n\n  return '';\n};\n\nexport const getUpdateNotificationBody = (updateStatus: UpdateStatus) => {\n  if (updateStatus.status === 'update-available')\n    return 'It will be downloaded and installed automatically (unless you deactivated this in preferences)';\n\n  return '';\n};\n\nexport const getUpdateStatusLabel = (status: string) => {\n  if (status === 'checking-for-update') return 'Checking for update...';\n  if (status === 'update-available') return 'A new update is available!';\n  if (status === 'update-not-available')\n    return \"No update available. You're using the latest version!\";\n  if (status === 'error') return 'Error while checking update';\n  if (status === 'download-progress')\n    return 'A new update is being downloaded...';\n  if (status === 'update-downloaded')\n    return 'A new update will be installed after you quit and relaunch GDevelop';\n  return '';\n};\n\nexport const getUpdateButtonLabel = (status: string) => {\n  if (status === 'update-available') return 'Update GDevelop to latest version';\n  return 'Check again for new updates';\n};\n\nexport const canDownloadUpdate = (status: string) => {\n  return status === 'update-available';\n};\n","// @flow\nimport * as React from 'react';\nimport {\n  Table,\n  TableHeader,\n  TableHeaderColumn,\n  TableRow,\n} from 'material-ui/Table';\nimport flatten from 'lodash/flatten';\nimport { SortableContainer, SortableElement } from 'react-sortable-hoc';\nimport { mapFor } from '../Utils/MapFor';\nimport EmptyMessage from '../UI/EmptyMessage';\nimport newNameGenerator from '../Utils/NewNameGenerator';\nimport VariableRow from './VariableRow';\nimport EditVariableRow from './EditVariableRow';\nimport styles from './styles';\nimport {\n  getInitialSelection,\n  hasSelection,\n  addToSelection,\n  getSelection,\n} from '../Utils/SelectionHandler';\nimport { CLIPBOARD_KIND } from './ClipboardKind';\nimport Clipboard from '../Utils/Clipboard';\nimport {\n  serializeToJSObject,\n  unserializeFromJSObject,\n} from '../Utils/Serializer';\nimport { type VariableOrigin } from './VariablesList.flow';\n\nconst gd = global.gd;\n\nconst SortableVariableRow = SortableElement(VariableRow);\nconst SortableAddVariableRow = SortableElement(EditVariableRow);\n\nclass VariablesListBody extends React.Component<*, *> {\n  render() {\n    return <div>{this.props.children}</div>;\n  }\n}\n\nconst SortableVariablesListBody = SortableContainer(VariablesListBody);\nSortableVariablesListBody.muiName = 'TableBody';\n\ntype VariableAndName = {| name: string, ptr: number, variable: gdVariable |};\n\ntype Props = {|\n  variablesContainer: gdVariablesContainer,\n  inheritedVariablesContainer?: ?gdVariablesContainer,\n  emptyExplanationMessage?: string,\n  emptyExplanationSecondMessage?: string,\n  onSizeUpdated?: () => void,\n|};\ntype State = {|\n  nameErrors: { [string]: string },\n  selectedVariables: { [number]: ?VariableAndName },\n  mode: 'select' | 'move',\n|};\n\nexport default class VariablesList extends React.Component<Props, State> {\n  state = {\n    nameErrors: {},\n    selectedVariables: getInitialSelection(),\n    mode: 'select',\n  };\n\n  _selectVariable = (variableAndName: VariableAndName, select: boolean) => {\n    this.setState({\n      selectedVariables: addToSelection(\n        this.state.selectedVariables,\n        variableAndName,\n        select\n      ),\n    });\n  };\n\n  copySelection = () => {\n    Clipboard.set(\n      CLIPBOARD_KIND,\n      getSelection(this.state.selectedVariables).map(({ name, variable }) => ({\n        name,\n        serializedVariable: serializeToJSObject(variable),\n      }))\n    );\n  };\n\n  paste = () => {\n    const { variablesContainer, inheritedVariablesContainer } = this.props;\n    if (!Clipboard.has(CLIPBOARD_KIND)) return;\n\n    const variables = Clipboard.get(CLIPBOARD_KIND);\n    variables.forEach(({ name, serializedVariable }) => {\n      const newName = newNameGenerator(\n        name,\n        name =>\n          inheritedVariablesContainer\n            ? inheritedVariablesContainer.has(name) ||\n              variablesContainer.has(name)\n            : variablesContainer.has(name),\n        'CopyOf'\n      );\n      const newVariable = new gd.Variable();\n      unserializeFromJSObject(newVariable, serializedVariable);\n      variablesContainer.insert(\n        newName,\n        newVariable,\n        variablesContainer.count()\n      );\n      newVariable.delete();\n    });\n    this.forceUpdate();\n  };\n\n  deleteSelection = () => {\n    const { variablesContainer } = this.props;\n    const selection: Array<VariableAndName> = getSelection(\n      this.state.selectedVariables\n    );\n\n    // Only delete ancestor variables, as selection can be composed of variables\n    // that are contained inside others.\n    const ancestorOnlyVariables = selection.filter(variableAndName => {\n      // Make sure that the variable has no ancestor containing it\n      return !selection.find(\n        otherVariableAndName =>\n          variableAndName !== otherVariableAndName &&\n          otherVariableAndName.variable.contains(\n            variableAndName.variable,\n            /*recursive=*/ true\n          )\n      );\n    });\n\n    // We don't want to ever manipulate/access to variables that have been deleted (by removeRecursively):\n    // that's why it's important to only delete ancestor variables.\n    ancestorOnlyVariables.forEach(({ variable }: VariableAndName) =>\n      variablesContainer.removeRecursively(variable)\n    );\n    this.clearSelection();\n  };\n\n  clearSelection = () => {\n    this.setState({\n      selectedVariables: getInitialSelection(),\n    });\n  };\n\n  _updateOrDefineVariable = (\n    name: string,\n    variable: gdVariable,\n    newValue: string,\n    index: number,\n    origin: ?VariableOrigin\n  ) => {\n    const { variablesContainer, inheritedVariablesContainer } = this.props;\n\n    if (inheritedVariablesContainer && origin === 'parent') {\n      const serializedVariable = serializeToJSObject(\n        inheritedVariablesContainer.get(name)\n      );\n      const newVariable = new gd.Variable();\n      unserializeFromJSObject(newVariable, serializedVariable);\n      variablesContainer.insert(name, newVariable, index);\n      newVariable.delete();\n\n      variablesContainer.get(name).setString(newValue);\n    } else {\n      variable.setString(newValue);\n    }\n  };\n\n  _renderVariableChildren(\n    name: string,\n    parentVariable: gdVariable,\n    depth: number,\n    origin: VariableOrigin\n  ): Array<React.Node> {\n    const names = parentVariable.getAllChildrenNames().toJSArray();\n\n    return flatten(\n      names.map((name, index) => {\n        const variable = parentVariable.getChild(name);\n        return this._renderVariableAndChildrenRows(\n          name,\n          variable,\n          depth + 1,\n          index,\n          parentVariable,\n          origin\n        );\n      })\n    );\n  }\n\n  _getVariableOrigin = (name: string) => {\n    const { variablesContainer, inheritedVariablesContainer } = this.props;\n\n    if (!inheritedVariablesContainer || !inheritedVariablesContainer.has(name))\n      return '';\n    return variablesContainer.has(name) ? 'inherited' : 'parent';\n  };\n\n  _renderVariableAndChildrenRows(\n    name: string,\n    variable: gdVariable,\n    depth: number,\n    index: number,\n    parentVariable: ?gdVariable,\n    parentOrigin: ?VariableOrigin = null\n  ) {\n    const { variablesContainer } = this.props;\n    const isStructure = variable.isStructure();\n\n    const origin = parentOrigin ? parentOrigin : this._getVariableOrigin(name);\n\n    return (\n      <SortableVariableRow\n        name={name}\n        index={index}\n        key={'variable-' + name}\n        variable={variable}\n        disabled={depth !== 0}\n        depth={depth}\n        origin={origin}\n        errorText={\n          this.state.nameErrors[variable.ptr]\n            ? 'This name is already taken'\n            : undefined\n        }\n        onChangeValue={text => {\n          this._updateOrDefineVariable(name, variable, text, index, origin);\n\n          this.forceUpdate();\n          if (this.props.onSizeUpdated) this.props.onSizeUpdated();\n        }}\n        onResetToDefaultValue={() => {\n          variablesContainer.removeRecursively(variable);\n          this.forceUpdate();\n          if (this.props.onSizeUpdated) this.props.onSizeUpdated();\n        }}\n        onBlur={event => {\n          const text = event.target.value;\n          if (name === text) return;\n\n          let success = true;\n          if (!parentVariable) {\n            success = variablesContainer.rename(name, text);\n          } else {\n            success = parentVariable.renameChild(name, text);\n          }\n\n          this.setState({\n            nameErrors: {\n              ...this.state.nameErrors,\n              [variable.ptr]: !success,\n            },\n          });\n        }}\n        onRemove={() => {\n          if (!parentVariable) {\n            variablesContainer.remove(name);\n          } else {\n            parentVariable.removeChild(name);\n          }\n\n          this.forceUpdate();\n          if (this.props.onSizeUpdated) this.props.onSizeUpdated();\n        }}\n        onAddChild={() => {\n          const name = newNameGenerator('ChildVariable', name =>\n            variable.hasChild(name)\n          );\n          variable.getChild(name).setString('');\n\n          this.forceUpdate();\n          if (this.props.onSizeUpdated) this.props.onSizeUpdated();\n        }}\n        children={\n          isStructure\n            ? this._renderVariableChildren(name, variable, depth, origin)\n            : null\n        }\n        showHandle={this.state.mode === 'move'}\n        showSelectionCheckbox={this.state.mode === 'select'}\n        isSelected={!!this.state.selectedVariables[variable.ptr]}\n        onSelect={select =>\n          this._selectVariable({ name, ptr: variable.ptr, variable }, select)\n        }\n      />\n    );\n  }\n\n  _renderEmpty() {\n    return (\n      !!this.props.emptyExplanationMessage && (\n        <div>\n          <EmptyMessage\n            style={styles.emptyExplanation}\n            messageStyle={styles.emptyExplanationMessage}\n          >\n            {this.props.emptyExplanationMessage}\n          </EmptyMessage>\n          <EmptyMessage\n            style={styles.emptyExplanation}\n            messageStyle={styles.emptyExplanationMessage}\n          >\n            {this.props.emptyExplanationSecondMessage}\n          </EmptyMessage>\n        </div>\n      )\n    );\n  }\n\n  render() {\n    const { variablesContainer, inheritedVariablesContainer } = this.props;\n    if (!variablesContainer) return null;\n\n    // Display inherited variables, if any\n    const containerInheritedVariablesTree = inheritedVariablesContainer\n      ? mapFor(0, inheritedVariablesContainer.count(), index => {\n          const name = inheritedVariablesContainer.getNameAt(index);\n          if (!variablesContainer.has(name)) {\n            // Show only variables from parent container that are not redefined\n            const variable = inheritedVariablesContainer.getAt(index);\n            return this._renderVariableAndChildrenRows(\n              name,\n              variable,\n              0,\n              index,\n              undefined,\n              'parent'\n            );\n          }\n        })\n      : [];\n\n    const containerVariablesTree = mapFor(\n      0,\n      variablesContainer.count(),\n      index => {\n        const variable = variablesContainer.getAt(index);\n        const name = variablesContainer.getNameAt(index);\n\n        return this._renderVariableAndChildrenRows(\n          name,\n          variable,\n          0,\n          index,\n          undefined\n        );\n      }\n    );\n\n    const editRow = (\n      <SortableAddVariableRow\n        index={0}\n        key={'add-variable-row'}\n        disabled\n        onAdd={() => {\n          const variable = new gd.Variable();\n          variable.setString('');\n          const name = newNameGenerator('Variable', name =>\n            inheritedVariablesContainer\n              ? inheritedVariablesContainer.has(name) ||\n                variablesContainer.has(name)\n              : variablesContainer.has(name)\n          );\n          variablesContainer.insert(name, variable, variablesContainer.count());\n          this.forceUpdate();\n          if (this.props.onSizeUpdated) this.props.onSizeUpdated();\n        }}\n        onCopy={this.copySelection}\n        onPaste={this.paste}\n        onDeleteSelection={this.deleteSelection}\n        hasSelection={hasSelection(this.state.selectedVariables)}\n        hasClipboard={Clipboard.has(CLIPBOARD_KIND)}\n      />\n    );\n\n    return (\n      <div>\n        <Table selectable={false}>\n          <TableHeader displaySelectAll={false} adjustForCheckbox={false}>\n            <TableRow>\n              <TableHeaderColumn>Name</TableHeaderColumn>\n              <TableHeaderColumn>Value</TableHeaderColumn>\n              <TableHeaderColumn style={styles.toolColumnHeader} />\n            </TableRow>\n          </TableHeader>\n        </Table>\n        <SortableVariablesListBody\n          variablesContainer={this.props.variablesContainer}\n          onSortEnd={({ oldIndex, newIndex }) => {\n            this.props.variablesContainer.move(oldIndex, newIndex);\n            this.forceUpdate();\n          }}\n          helperClass=\"sortable-helper\"\n          useDragHandle\n          lockToContainerEdges\n        >\n          {!!containerInheritedVariablesTree.length &&\n            containerInheritedVariablesTree}\n          {!containerVariablesTree.length && this._renderEmpty()}\n          {!!containerVariablesTree.length && containerVariablesTree}\n          {editRow}\n        </SortableVariablesListBody>\n      </div>\n    );\n  }\n}\n","import React from 'react';\n\nconst styles = {\n  row: {\n    display: 'flex',\n  },\n  cell: {\n    display: 'flex',\n    flex: 1,\n    alignItems: 'center',\n    paddingLeft: 8,\n    paddingRight: 8,\n  },\n};\n\nexport const TreeTable = props => <div>{props.children}</div>;\n\nexport const TreeTableRow = props => (\n  <div style={{ ...styles.row, ...props.style }}>{props.children}</div>\n);\n\nexport const TreeTableCell = props => (\n  <div style={{ ...styles.cell, ...props.style }}>{props.children}</div>\n);\n","// @flow\nimport React, { Component } from 'react';\nimport Chip from 'material-ui/Chip';\nimport TextField from 'material-ui/TextField';\nimport { Column, Line } from '../UI/Grid';\nimport randomColor from 'randomcolor';\nimport SearchBar from 'material-ui-search-bar';\n\ntype Props = {|\n  value: string,\n  onChange: string => void,\n  chosenChip: string,\n  onChooseChip: string => void,\n  chips: ?Array<{| text: string, value: string |}>,\n  onRequestSearch: () => void,\n|};\n\nconst styles = {\n  chip: {\n    margin: 2,\n  },\n  chipsList: {\n    marginTop: 4,\n    display: 'flex',\n    flexWrap: 'wrap',\n  },\n};\n\nconst getChipColor = (tag: string) => {\n  return randomColor({\n    seed: tag,\n    luminosity: 'light',\n  });\n};\n\nexport default class SearchbarWithChips extends Component<Props> {\n  _textField: ?TextField;\n\n  componentDidMount() {\n    if (this._textField) this._textField.focus();\n  }\n\n  render() {\n    const {\n      chosenChip,\n      onChooseChip,\n      value,\n      onChange,\n      onRequestSearch,\n      chips,\n    } = this.props;\n\n    return (\n      <Column noMargin>\n        <SearchBar\n          value={value}\n          onRequestSearch={onRequestSearch}\n          onChange={value => {\n            onChange(value);\n          }}\n          ref={textField => (this._textField = textField)}\n        />\n        <Line>\n          <Column>\n            <div style={styles.chipsList}>\n              {chips &&\n                chips.map(({ text, value }) => (\n                  <Chip\n                    key={value}\n                    labelColor={\n                      !chosenChip || chosenChip === value ? 'black' : undefined\n                    }\n                    backgroundColor={\n                      !chosenChip || chosenChip === value\n                        ? getChipColor(value)\n                        : undefined\n                    }\n                    style={styles.chip}\n                    onClick={() =>\n                      onChooseChip(chosenChip === value ? '' : value)\n                    }\n                  >\n                    {text}\n                  </Chip>\n                ))}\n            </div>\n          </Column>\n        </Line>\n      </Column>\n    );\n  }\n}\n","// @flow\nimport AutoComplete from 'material-ui/AutoComplete';\n\n/**\n * A filter that can be used with Material-UI Autocomplete to have a fuzzy\n * filter that still return the items with an empty key.\n * @param {*} searchText\n * @param {*} key\n */\nexport const fuzzyOrEmptyFilter = (searchText: string, key: string) => {\n  return !key || AutoComplete.fuzzyFilter(searchText, key);\n};\n","import React from 'react';\nimport Checkbox from 'material-ui/Checkbox';\nimport muiThemeable from 'material-ui/styles/muiThemeable';\n\nconst SPRITE_SIZE = 100;\nexport const thumbnailContainerStyle = {\n  position: 'relative',\n  display: 'inline-block',\n  width: SPRITE_SIZE,\n  height: SPRITE_SIZE,\n  justifyContent: 'center',\n  alignItems: 'center',\n  lineHeight: SPRITE_SIZE + 'px',\n  textAlign: 'center',\n  border: '#AAAAAA 1px solid',\n  borderColor: '#AAAAAA',\n};\n\nconst styles = {\n  spriteThumbnail: {\n    ...thumbnailContainerStyle,\n    background: 'url(\"res/transparentback.png\") repeat',\n  },\n  spriteThumbnailImage: {\n    maxWidth: SPRITE_SIZE,\n    maxHeight: SPRITE_SIZE,\n    verticalAlign: 'middle',\n    pointerEvents: 'none',\n  },\n  checkboxContainer: {\n    textAlign: 'initial',\n    position: 'absolute',\n    width: 24, // Used to position the checkbox near the right border with a proper margin\n    bottom: 0,\n    right: 0,\n  },\n};\n\nconst ThemableImageThumbnail = ({\n  project,\n  resourceName,\n  resourcesLoader,\n  style,\n  selectable,\n  selected,\n  onSelect,\n  onContextMenu,\n  muiTheme,\n}) => {\n  return (\n    <div\n      title={resourceName}\n      style={{\n        ...styles.spriteThumbnail,\n        borderColor: selected\n          ? muiTheme.imageThumbnail.selectedBorderColor\n          : undefined,\n        ...style,\n      }}\n      onContextMenu={e => {\n        e.stopPropagation();\n        if (onContextMenu) onContextMenu(e.clientX, e.clientY);\n      }}\n    >\n      <img\n        style={styles.spriteThumbnailImage}\n        alt={resourceName}\n        src={resourcesLoader.getResourceFullUrl(project, resourceName)}\n        crossOrigin=\"anonymous\"\n      />\n      {selectable && (\n        <div style={styles.checkboxContainer}>\n          <Checkbox\n            checked={selected}\n            onCheck={(e, check) => onSelect(check)}\n          />\n        </div>\n      )}\n    </div>\n  );\n};\n\nconst ImageThumbnail = muiThemeable()(ThemableImageThumbnail);\nexport default ImageThumbnail;\n","import React from 'react';\nimport AppBar from 'material-ui/AppBar';\n\nexport default props => {\n  return (\n    <AppBar\n      style={{\n        paddingLeft: 8,\n        paddingRight: 8,\n        flexShrink: 0,\n      }}\n      titleStyle={{\n        height: 32,\n        fontSize: '15px',\n        lineHeight: '31px',\n      }}\n      iconStyleLeft={{\n        marginTop: -8,\n        marginBottom: -16,\n        marginRight: 4,\n        marginLeft: -16,\n      }}\n      iconStyleRight={{\n        marginTop: -8,\n        marginBottom: -16,\n      }}\n      {...props}\n    />\n  );\n};\n","// @flow\nimport * as React from 'react';\nimport EventsSheet from '../../EventsSheet';\nimport { serializeToJSObject } from '../../Utils/Serializer';\nimport BaseEditor from './BaseEditor';\n\nexport default class EventsEditor extends BaseEditor {\n  editor: ?EventsSheet;\n\n  updateToolbar() {\n    if (this.editor) this.editor.updateToolbar();\n  }\n\n  getSerializedElements() {\n    const layout = this.getLayout();\n    if (!layout) return {};\n\n    return {\n      ...BaseEditor.getLayoutSerializedElements(layout),\n      events: serializeToJSObject(layout.getEvents()),\n    };\n  }\n\n  getLayout(): ?gdLayout {\n    const { project, layoutName } = this.props;\n    if (!project || !project.hasLayoutNamed(layoutName)) return null;\n\n    return project.getLayout(layoutName);\n  }\n\n  render() {\n    const { project, layoutName } = this.props;\n    const layout = this.getLayout();\n    if (!layout) {\n      //TODO: Error component\n      return <div>No layout called {layoutName} found!</div>;\n    }\n\n    return (\n      <EventsSheet\n        {...this.props}\n        ref={editor => (this.editor = editor)}\n        project={project}\n        scope={{\n          layout,\n        }}\n        globalObjectsContainer={project}\n        objectsContainer={layout}\n        events={layout.getEvents()}\n        onPreview={options => this.props.onPreview(project, layout, options)}\n        onOpenExternalEvents={this.props.onOpenExternalEvents}\n        resourceSources={this.props.resourceSources}\n        onChooseResource={this.props.onChooseResource}\n        resourceExternalEditors={this.props.resourceExternalEditors}\n        openInstructionOrExpression={this.props.openInstructionOrExpression}\n      />\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport { dropIndicator, cantDropIndicator } from './ClassNames';\n\nexport default function DropIndicator({ canDrop }: {| canDrop: boolean |}) {\n  return <div className={canDrop ? dropIndicator : cantDropIndicator} />;\n}\n","// @flow\nimport * as React from 'react';\nimport SemiControlledTextField from '../../UI/SemiControlledTextField';\nimport { type ParameterFieldProps } from './ParameterFieldCommons';\n\nexport default class DefaultField extends React.Component<\n  ParameterFieldProps,\n  void\n> {\n  _field: ?any = null;\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  render() {\n    const { parameterMetadata } = this.props;\n    const description = parameterMetadata\n      ? parameterMetadata.getDescription()\n      : undefined;\n\n    return (\n      <SemiControlledTextField\n        commitOnBlur\n        value={this.props.value}\n        floatingLabelText={description}\n        onChange={(text: string) => this.props.onChange(text)}\n        ref={field => (this._field = field)}\n        fullWidth\n      />\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport * as React from 'react';\nimport AutoComplete from 'material-ui/AutoComplete';\nimport Divider from 'material-ui/Divider';\nimport { enumerateObjectsAndGroups } from './EnumerateObjects';\nimport SemiControlledAutoComplete from '../UI/SemiControlledAutoComplete';\n\ntype Props = {|\n  globalObjectsContainer: gdObjectsContainer,\n  objectsContainer: gdObjectsContainer,\n  allowedObjectType?: ?string,\n  noGroups?: boolean,\n\n  onChoose?: string => void,\n  onChange: string => void,\n  value: string,\n  errorTextIfInvalid?: React.Node,\n\n  fullWidth?: boolean,\n  floatingLabelText?: ?string,\n  openOnFocus?: boolean,\n  hintText?: ?React.Node,\n|};\n\ntype DataSource = Array<{| text: string, value: React.Node |}>;\n\nconst getObjectsAndGroupsDataSource = ({\n  globalObjectsContainer,\n  objectsContainer,\n  noGroups,\n  allowedObjectType,\n}: {|\n  globalObjectsContainer: gdObjectsContainer,\n  objectsContainer: gdObjectsContainer,\n  noGroups: ?boolean,\n  allowedObjectType: ?string,\n|}): DataSource => {\n  const list = enumerateObjectsAndGroups(\n    globalObjectsContainer,\n    objectsContainer,\n    allowedObjectType || undefined\n  );\n  const objects = list.allObjectsList.map(({ object }) => {\n    return {\n      text: object.getName(),\n      value: object.getName(),\n    };\n  });\n  const groups = noGroups\n    ? []\n    : list.allGroupsList.map(({ group }) => {\n        return {\n          text: group.getName(),\n          value: group.getName(),\n        };\n      });\n\n  return [...objects, { text: '', value: <Divider /> }, ...groups];\n};\n\nexport default class ObjectSelector extends React.Component<Props, {||}> {\n  _field: ?AutoComplete;\n\n  // Don't add a componentWillUnmount that would call onChange. This can lead to\n  // calling callbacks that would then update a deleted instruction parameters.\n\n  focus() {\n    if (this._field) this._field.focus();\n  }\n\n  render() {\n    const {\n      value,\n      onChange,\n      onChoose,\n      globalObjectsContainer,\n      objectsContainer,\n      allowedObjectType,\n      noGroups,\n      errorTextIfInvalid,\n      ...rest\n    } = this.props;\n\n    const objectAndGroups = getObjectsAndGroupsDataSource({\n      globalObjectsContainer,\n      objectsContainer,\n      noGroups,\n      allowedObjectType,\n    });\n    const hasValidObject =\n      objectAndGroups.filter(choice => value === choice.text).length !== 0;\n\n    return (\n      <SemiControlledAutoComplete\n        hintText={<Trans>Choose an object</Trans>}\n        value={value}\n        onChange={onChange}\n        onChoose={onChoose}\n        dataSource={objectAndGroups}\n        errorText={hasValidObject ? undefined : errorTextIfInvalid}\n        ref={field => (this._field = field)}\n        {...rest}\n      />\n    );\n  }\n}\n","// @flow\nimport {\n  type ResourceSource,\n  type ChooseResourceFunction,\n} from '../../ResourcesList/ResourceSource.flow';\nimport { type ResourceExternalEditor } from '../../ResourcesList/ResourceExternalEditor.flow';\nimport { type EventsScope } from '../EventsScope.flow';\n\ntype CommonProps = {|\n  // The parameter\n  parameterMetadata?: gdParameterMetadata,\n  onChange: string => void,\n  value: string,\n\n  // Context\n  project?: gdProject,\n  scope: EventsScope,\n  globalObjectsContainer: gdObjectsContainer,\n  objectsContainer: gdObjectsContainer,\n  isInline?: boolean,\n  resourceSources?: Array<ResourceSource>,\n  onChooseResource?: ChooseResourceFunction,\n  resourceExternalEditors?: Array<ResourceExternalEditor>,\n\n  // Pass the ParameterRenderingService to allow to render nested parameters\n  parameterRenderingService?: {\n    components: any,\n    getParameterComponent: (type: string) => any,\n  },\n|};\n\nexport type ExpressionParameters = {|\n  getParametersCount: () => number,\n  getParameter: (index: number) => string,\n|};\n\nexport type ParameterFieldProps = {|\n  ...CommonProps,\n\n  // Instruction in which the parameter is.\n  instruction?: gdInstruction,\n  // Metadata of the instruction in which the parameter is.\n  instructionMetadata?: gdInstructionMetadata,\n  // Expression in which the parameter is.\n  expression?: ExpressionParameters,\n  // Metadata of the instruction in which the parameter is.\n  expressionMetadata?: gdExpressionMetadata,\n\n  // The index of the parameter in the instruction or expression.\n  parameterIndex?: number,\n|};\n\nexport const getParameterValueOrDefault = (\n  value: string,\n  parameterMetadata: ?gdParameterMetadata\n) => {\n  const defaultValue =\n    parameterMetadata && parameterMetadata.isOptional()\n      ? parameterMetadata.getDefaultValue()\n      : '';\n  return value ? value : defaultValue;\n};\n","// @flow\nimport * as React from 'react';\nimport { List, ListItem, makeSelectable } from 'material-ui/List';\nimport ListIcon from '../../../UI/ListIcon';\nimport SearchBar from 'material-ui-search-bar';\nimport { type EnumeratedInstructionOrExpressionMetadata } from './EnumeratedInstructionOrExpressionMetadata.js';\nimport { type InstructionOrExpressionTreeNode } from './CreateTree';\nimport ThemeConsumer from '../../../UI/Theme/ThemeConsumer';\nimport { Subheader } from 'material-ui';\n\nconst SelectableList = makeSelectable(List);\n\nconst styles = {\n  searchBar: {\n    margin: '0 auto',\n    backgroundColor: 'transparent',\n  },\n  groupListItemNestedList: {\n    padding: 0,\n  },\n};\n\ntype Props = {|\n  focusOnMount?: boolean,\n  instructionsInfo: Array<EnumeratedInstructionOrExpressionMetadata>,\n  instructionsInfoTree: InstructionOrExpressionTreeNode,\n  selectedType: string,\n  onChoose: (type: string, EnumeratedInstructionOrExpressionMetadata) => void,\n  iconSize: number,\n  style?: Object,\n  useSubheaders?: boolean,\n|};\ntype State = {|\n  search: string,\n  searchResults: Array<EnumeratedInstructionOrExpressionMetadata>,\n|};\n\nexport default class InstructionOrExpressionSelector extends React.Component<\n  Props,\n  State\n> {\n  state = {\n    search: '',\n    searchResults: [],\n  };\n  _searchBar: ?SearchBar;\n\n  componentDidMount() {\n    if (this.props.focusOnMount && this._searchBar) {\n      this._searchBar.focus();\n    }\n  }\n\n  focus = () => {\n    if (this._searchBar) this._searchBar.focus();\n  };\n\n  _matchCritera(\n    instructionInfo: EnumeratedInstructionOrExpressionMetadata,\n    lowercaseSearch: string\n  ) {\n    const { displayedName, fullGroupName } = instructionInfo;\n    return (\n      displayedName.toLowerCase().indexOf(lowercaseSearch) !== -1 ||\n      fullGroupName.toLowerCase().indexOf(lowercaseSearch) !== -1\n    );\n  }\n\n  _computeSearchResults = (\n    search: string\n  ): Array<EnumeratedInstructionOrExpressionMetadata> => {\n    const lowercaseSearch = this.state.search.toLowerCase();\n    return this.props.instructionsInfo.filter(instructionInfo =>\n      this._matchCritera(instructionInfo, lowercaseSearch)\n    );\n  };\n\n  _onSubmitSearch = () => {\n    const { searchResults } = this.state;\n    if (!searchResults.length) return;\n\n    this.props.onChoose(searchResults[0].type, searchResults[0]);\n  };\n\n  _renderTree(\n    muiTheme: any,\n    instructionInfoTree: InstructionOrExpressionTreeNode,\n    depth: number = 0\n  ): Array<React.Node> {\n    return Object.keys(instructionInfoTree).map(key => {\n      // $FlowFixMe - in theory, we should have a way to distinguish\n      // between instruction (leaf nodes) and group (nodes). We use\n      // the \"type\" properties, but this will fail if a group is called \"type\"\n      // (hence the flow errors, which are valid warnings)\n      const instructionOrGroup = instructionInfoTree[key];\n      if (!instructionOrGroup) return null;\n\n      if (typeof instructionOrGroup.type === 'string') {\n        // $FlowFixMe - see above\n        const instructionInformation: EnumeratedInstructionOrExpressionMetadata = instructionOrGroup;\n        return (\n          <ListItem\n            key={key}\n            primaryText={key}\n            value={instructionOrGroup.type}\n            leftIcon={\n              <ListIcon\n                iconSize={this.props.iconSize}\n                src={instructionInformation.iconFilename}\n              />\n            }\n            onClick={() => {\n              this.props.onChoose(\n                instructionInformation.type,\n                instructionInformation\n              );\n            }}\n          />\n        );\n      } else {\n        // $FlowFixMe - see above\n        const groupOfInstructionInformation = (instructionOrGroup: InstructionOrExpressionTreeNode);\n        const isDeprecated = key.indexOf('(deprecated)') !== -1;\n        if (this.props.useSubheaders && depth === 0) {\n          return (\n            <React.Fragment key={key}>\n              <Subheader>{key}</Subheader>\n              {this._renderTree(\n                muiTheme,\n                groupOfInstructionInformation,\n                depth + 1\n              )}\n            </React.Fragment>\n          );\n        } else {\n          return (\n            <ListItem\n              key={key}\n              style={{\n                borderBottom: `1px solid ${muiTheme.listItem.separatorColor}`,\n              }}\n              nestedListStyle={styles.groupListItemNestedList}\n              primaryText={\n                <div\n                  style={{\n                    color: isDeprecated\n                      ? muiTheme.listItem.deprecatedGroupTextColor\n                      : muiTheme.listItem.groupTextColor,\n                  }}\n                >\n                  {key}\n                </div>\n              }\n              primaryTogglesNestedList={true}\n              autoGenerateNestedIndicator={true}\n              nestedItems={this._renderTree(\n                muiTheme,\n                groupOfInstructionInformation,\n                depth + 1\n              )}\n            />\n          );\n        }\n      }\n    });\n  }\n\n  _renderSearchResults = (): Array<React.Node> => {\n    return this.state.searchResults.map(instructionInfo => {\n      return (\n        <ListItem\n          key={instructionInfo.type}\n          primaryText={instructionInfo.displayedName}\n          secondaryText={instructionInfo.fullGroupName}\n          value={instructionInfo.type}\n          onClick={() => {\n            this.props.onChoose(instructionInfo.type, instructionInfo);\n          }}\n        />\n      );\n    });\n  };\n\n  render() {\n    const { selectedType, instructionsInfoTree, style } = this.props;\n\n    return (\n      <ThemeConsumer>\n        {muiTheme => (\n          <div\n            style={{\n              backgroundColor: muiTheme.list.itemsBackgroundColor,\n              ...style,\n            }}\n          >\n            <SearchBar\n              onChange={text =>\n                this.setState({\n                  search: text,\n                  searchResults: this._computeSearchResults(text),\n                })\n              }\n              onRequestSearch={this._onSubmitSearch}\n              style={styles.searchBar}\n              ref={searchBar => (this._searchBar = searchBar)}\n            />\n            <SelectableList value={selectedType}>\n              {this.state.search\n                ? this._renderSearchResults()\n                : this._renderTree(muiTheme, instructionsInfoTree)}\n            </SelectableList>\n          </div>\n        )}\n      </ThemeConsumer>\n    );\n  }\n}\n","// @flow\nimport update from 'lodash/update';\nimport compact from 'lodash/compact';\nimport { type EnumeratedInstructionOrExpressionMetadata } from './EnumeratedInstructionOrExpressionMetadata.js';\n\nconst GROUP_DELIMITER = '/';\n\nexport type InstructionOrExpressionTreeNode =\n  | EnumeratedInstructionOrExpressionMetadata\n  | {\n      [string]: InstructionOrExpressionTreeNode,\n    };\n\nexport const createTree = (\n  allExpressions: Array<EnumeratedInstructionOrExpressionMetadata>\n): InstructionOrExpressionTreeNode => {\n  const tree = {};\n  allExpressions.forEach(\n    (expressionInfo: EnumeratedInstructionOrExpressionMetadata) => {\n      update(\n        tree,\n        compact(expressionInfo.fullGroupName.split(GROUP_DELIMITER)),\n        groupInfo => {\n          const existingGroupInfo = groupInfo || {};\n          return {\n            ...existingGroupInfo,\n            [expressionInfo.displayedName]: expressionInfo,\n          };\n        }\n      );\n    }\n  );\n\n  return tree;\n};\n","//@flow\nimport { type EventsScope } from '../../EventsScope.flow';\nconst gd = global.gd;\n\nexport type InstructionOrExpressionScope = {|\n  objectMetadata?: ?gdObjectMetadata,\n  behaviorMetadata?: ?gdBehaviorMetadata,\n|};\n\n// An object representing InstructionMetadata or ExpressionMetadata.\n// Allow to use most information without paying the cost to call the\n// InstructionMetadata/ExpressionMetadata methods. In theory,\n// this type and objects are redundant with InstructionMetadata and ExpressionMetadata.\nexport type EnumeratedInstructionOrExpressionMetadata = {|\n  type: string,\n  displayedName: string,\n  fullGroupName: string,\n  iconFilename: string,\n  metadata: gdInstructionMetadata | gdExpressionMetadata,\n  scope: InstructionOrExpressionScope,\n  isPrivate: boolean,\n\n  name?: string, // For expressions\n  parameters?: Array<any>, // For expressions\n|};\n\nexport const filterEnumeratedInstructionOrExpressionMetadataByScope = (\n  list: Array<EnumeratedInstructionOrExpressionMetadata>,\n  scope: EventsScope\n): Array<EnumeratedInstructionOrExpressionMetadata> => {\n  // This is copied from gd::WholeProjectRefactorer (see GetBehaviorFullType)\n  // Could be factored into a single C++ function in gd::PlatformExtension?\n  const separator = gd.PlatformExtension.getNamespaceSeparator();\n  const getBehaviorFullType = (extensionName: string, behaviorName: string) => {\n    return extensionName + separator + behaviorName;\n  };\n\n  return list.filter(enumeratedInstructionOrExpressionMetadata => {\n    if (!enumeratedInstructionOrExpressionMetadata.isPrivate) return true;\n\n    const {\n      behaviorMetadata,\n    } = enumeratedInstructionOrExpressionMetadata.scope;\n    const { eventsBasedBehavior, eventsFunctionsExtension } = scope;\n\n    if (\n      behaviorMetadata &&\n      eventsBasedBehavior &&\n      eventsFunctionsExtension &&\n      getBehaviorFullType(\n        eventsFunctionsExtension.getName(),\n        eventsBasedBehavior.getName()\n      ) === behaviorMetadata.getName()\n    ) {\n      return true;\n    }\n\n    return false;\n  });\n};\n","// @flow\nimport { type ExpressionParameters } from './ParameterFieldCommons';\nconst gd = global.gd;\n\n/**\n * Given an instruction or an expression and a parameter number,\n * return the name of the object that this parameter (usually, a \"behavior\" or a \"objectvar\") should use.\n *\n * This is an extension to ParameterMetadataTools.cpp and ParameterMetadataTools.h.\n * It's only here to ease to search of the object name in fields like BehaviorField or\n * ObjectVariableField.\n */\nexport const getLastObjectParameterValue = ({\n  instructionMetadata,\n  instruction,\n  expressionMetadata,\n  expression,\n  parameterIndex,\n}: {|\n  instructionMetadata: ?gdInstructionMetadata,\n  instruction: ?gdInstruction,\n  expressionMetadata: ?gdExpressionMetadata,\n  expression: ?ExpressionParameters,\n  parameterIndex: ?number,\n|}): ?string => {\n  if (parameterIndex === undefined || parameterIndex == null) {\n    // No parameter index given: the parameter is not even in a list of parameters\n    return null;\n  }\n\n  let objectName = null;\n  if (instructionMetadata && instruction) {\n    const objectParameterIndex = gd.ParameterMetadataTools.getObjectParameterIndexFor(\n      instructionMetadata.getParameters(),\n      parameterIndex\n    );\n    if (\n      objectParameterIndex >= 0 &&\n      objectParameterIndex < instruction.getParametersCount()\n    ) {\n      objectName = instruction.getParameter(objectParameterIndex);\n    }\n  } else if (expressionMetadata && expression) {\n    const objectParameterIndex = gd.ParameterMetadataTools.getObjectParameterIndexFor(\n      expressionMetadata.getParameters(),\n      parameterIndex\n    );\n    if (\n      objectParameterIndex >= 0 &&\n      objectParameterIndex < expression.getParametersCount()\n    ) {\n      objectName = expression.getParameter(objectParameterIndex);\n    }\n  }\n\n  return objectName;\n};\n","// @flow\n\nexport const shortenString = (str: string, maxLength: number) => {\n  return str.length > maxLength ? str.substring(0, maxLength) + '...' : str;\n};\n\nexport const makeNonBreakable = (str: string) => {\n  return str.replace(/\\s/g, '\\xa0'); // Non-breakable space is char 0xa0 (160 dec)\n};\n","import RenderedInstance from './RenderedInstance';\nimport * as PIXI from 'pixi.js';\n\n/**\n * Create a renderer for an type of object displayed as an icon\n *\n * @extends RenderedInstance\n * @class RenderedIconInstance\n * @constructor\n */\nexport default function makeRenderer(iconPath) {\n  class RenderedIconInstance extends RenderedInstance {\n    constructor(\n      project,\n      layout,\n      instance,\n      associatedObject,\n      pixiContainer,\n      pixiResourcesLoader\n    ) {\n      super(\n        project,\n        layout,\n        instance,\n        associatedObject,\n        pixiContainer,\n        pixiResourcesLoader\n      );\n\n      this._pixiObject = new PIXI.Sprite(PIXI.Texture.fromImage(iconPath));\n      this._pixiContainer.addChild(this._pixiObject);\n    }\n\n    update() {\n      this._pixiObject.position.x = this._instance.getX();\n      this._pixiObject.position.y = this._instance.getY();\n      this._pixiObject.rotation = (this._instance.getAngle() * Math.PI) / 180.0;\n    }\n\n    static getThumbnail(project, resourcesLoader, object) {\n      return iconPath;\n    }\n  }\n\n  return RenderedIconInstance;\n}\n","// @flow\nimport slugs from 'slugs';\nimport * as PIXI from 'pixi.js';\nimport ResourcesLoader from '../ResourcesLoader';\nimport { loadFontFace } from '../Utils/FontFaceLoader';\nconst gd = global.gd;\n\nconst loadedFontFamilies = {};\nconst loadedTextures = {};\nconst invalidTexture = PIXI.Texture.fromImage('res/error48.png');\n\n/**\n * Expose functions to load PIXI textures or fonts, given the names of\n * resources and a gd.Project.\n *\n * This internally uses ResourcesLoader to get the URL of the resources.\n */\nexport default class PixiResourcesLoader {\n  static _initializeTexture(resource: gdResource, texture: any) {\n    if (resource.getKind() !== 'image') return;\n\n    const imageResource = gd.asImageResource(resource);\n    if (!imageResource.isSmooth()) {\n      texture.baseTexture.scaleMode = PIXI.SCALE_MODES.NEAREST;\n    }\n  }\n\n  /**\n   * (Re)load the PIXI texture represented by the given resources.\n   */\n  static loadTextures(\n    project: gdProject,\n    resourceNames: Array<string>,\n    onProgress: (number, number) => void,\n    onComplete: () => void\n  ) {\n    const resourcesManager = project.getResourcesManager();\n    const loader = PIXI.loader;\n    loader.reset();\n    loader.removeAllListeners();\n\n    const allResources = {};\n    resourceNames.forEach(resourceName => {\n      const resource = resourcesManager.getResource(resourceName);\n      const filename = ResourcesLoader.getResourceFullUrl(\n        project,\n        resourceName\n      );\n      loader.add(resourceName, filename);\n      allResources[resourceName] = resource;\n    });\n\n    const totalCount = resourceNames.length;\n    if (!totalCount) {\n      onComplete();\n      return;\n    }\n\n    let loadingCount = 0;\n    loader.once('complete', function(loader, loadedResources) {\n      //Store the loaded textures so that they are ready to use.\n      for (const resourceName in loadedResources) {\n        if (loadedResources.hasOwnProperty(resourceName)) {\n          const resource = resourcesManager.getResource(resourceName);\n          if (resource.getKind() !== 'image') continue;\n\n          loadedTextures[resourceName] = loadedResources[resourceName].texture;\n          PixiResourcesLoader._initializeTexture(\n            resource,\n            loadedTextures[resourceName]\n          );\n        }\n      }\n\n      onComplete();\n    });\n    loader.on('progress', function() {\n      loadingCount++;\n      onProgress(loadingCount, totalCount);\n    });\n\n    loader.load();\n  }\n\n  /**\n   * Return the PIXI texture represented by the given resource.\n   * If not loaded, it will load it.\n   * @returns The PIXI.Texture to be used. It can be loading, so you\n   * should listen to PIXI.Texture `update` event, and refresh your object\n   * if this event is triggered.\n   */\n  static getPIXITexture(project: gdProject, resourceName: string) {\n    if (loadedTextures[resourceName]) {\n      return loadedTextures[resourceName];\n    }\n\n    if (!project.getResourcesManager().hasResource(resourceName))\n      return invalidTexture;\n\n    const resource = project.getResourcesManager().getResource(resourceName);\n    if (resource.getKind() !== 'image') return invalidTexture;\n\n    loadedTextures[resourceName] = PIXI.Texture.fromImage(\n      ResourcesLoader.getResourceFullUrl(project, resourceName),\n      true /* Treats request as cross-origin */\n    );\n\n    PixiResourcesLoader._initializeTexture(\n      resource,\n      loadedTextures[resourceName]\n    );\n    return loadedTextures[resourceName];\n  }\n\n  /**\n   * Return the PIXI video texture represented by the given resource.\n   * If not loaded, it will load it.\n   * @returns The PIXI.Texture to be used. It can be loading, so you\n   * should listen to PIXI.Texture `update` event, and refresh your object\n   * if this event is triggered.\n   */\n  static getPIXIVideoTexture(project: gdProject, resourceName: string) {\n    if (loadedTextures[resourceName]) {\n      return loadedTextures[resourceName];\n    }\n\n    if (!project.getResourcesManager().hasResource(resourceName))\n      return invalidTexture;\n\n    const resource = project.getResourcesManager().getResource(resourceName);\n    if (resource.getKind() !== 'video') return invalidTexture;\n\n    loadedTextures[resourceName] = PIXI.Texture.fromVideo(\n      ResourcesLoader.getResourceFullUrl(\n        project,\n        resourceName,\n        true /* Disable cache bursting for video because it prevent the video to be recognized as such? */\n      ),\n      PIXI.SCALE_MODES.LINEAR,\n      true /* Treats request as cross-origin */,\n      false /* autoplay */\n    );\n\n    return loadedTextures[resourceName];\n  }\n\n  /**\n   * Load the given font from its url/filename.\n   * @returns a Promise that resolves with the font-family to be used\n   * to render a text with the font.\n   */\n  static loadFontFamily(\n    project: gdProject,\n    resourceName: string\n  ): Promise<string> {\n    // Avoid reloading a font if it's already cached\n    if (loadedFontFamilies[resourceName]) {\n      return Promise.resolve(loadedFontFamilies[resourceName]);\n    }\n\n    const fontFamily = slugs(resourceName);\n    let fullFilename = null;\n    if (project.getResourcesManager().hasResource(resourceName)) {\n      const resource = project.getResourcesManager().getResource(resourceName);\n      if (resource.getKind() === 'font') {\n        fullFilename = ResourcesLoader.getResourceFullUrl(\n          project,\n          resourceName\n        );\n      }\n    } else {\n      // Compatibility with GD <= 5.0-beta56\n      // Assume resourceName is just the filename to the font\n      fullFilename = ResourcesLoader.getFullUrl(project, resourceName);\n      // end of compatibility code\n    }\n\n    if (!fullFilename) {\n      // If no resource is found/resource is not a font, default to Arial,\n      // as done by the game engine too.\n      return Promise.resolve('Arial');\n    }\n\n    return loadFontFace(fontFamily, `url(\"${fullFilename}\")`, {}).then(\n      loadedFace => {\n        loadedFontFamilies[resourceName] = fontFamily;\n\n        return fontFamily;\n      }\n    );\n  }\n\n  /**\n   * Get the font family name for the given font resource.\n   * The font won't be loaded.\n   * @returns The font-family to be used to render a text with the font.\n   */\n  static getFontFamily(project: gdProject, resourceName: string) {\n    if (loadedFontFamilies[resourceName]) {\n      return loadedFontFamilies[resourceName];\n    }\n\n    const fontFamily = slugs(resourceName);\n    return fontFamily;\n  }\n\n  static getInvalidPIXITexture() {\n    return invalidTexture;\n  }\n}\n","import { isMacLike } from '../../Utils/Platform';\n\nconst CTRL_KEY = 17;\nconst SHIFT_KEY = 16;\nconst LEFT_KEY = 37;\nconst UP_KEY = 38;\nconst RIGHT_KEY = 39;\nconst DOWN_KEY = 40;\nconst BACKSPACE_KEY = 8;\nconst SPACE_KEY = 32;\nconst DELETE_KEY = 46;\nconst EQUAL_KEY = 187;\nconst MINUS_KEY = 189;\nconst NUMPAD_ADD = 107;\nconst NUMPAD_SUBSTRACT = 109;\nconst C_KEY = 67;\nconst F_KEY = 70;\nconst V_KEY = 86;\nconst X_KEY = 88;\nconst Y_KEY = 89;\nconst Z_KEY = 90;\nconst MID_MOUSE_BUTTON = 1;\n\nexport default class KeyboardShortcuts {\n  constructor({\n    onDelete,\n    onMove,\n    onCopy,\n    onCut,\n    onPaste,\n    onUndo,\n    onRedo,\n    onSearch,\n    onZoomOut,\n    onZoomIn,\n  }) {\n    this.onDelete = onDelete || this._noop;\n    this.onMove = onMove || this._noop;\n    this.onCopy = onCopy || this._noop;\n    this.onCut = onCut || this._noop;\n    this.onPaste = onPaste || this._noop;\n    this.onUndo = onUndo || this._noop;\n    this.onRedo = onRedo || this._noop;\n    this.onZoomOut = onZoomOut || this._noop;\n    this.onZoomIn = onZoomIn || this._noop;\n    this.onSearch = onSearch || this._noop;\n    this.isFocused = false;\n    this.shiftPressed = false;\n    this.rawCtrlPressed = false;\n    this.metaPressed = false;\n    this.spacePressed = false;\n    this.mouseMidButtonPressed = false;\n    this.mount();\n  }\n\n  shouldCloneInstances() {\n    return this._isControlPressed();\n  }\n\n  shouldMultiSelect() {\n    return this.shiftPressed;\n  }\n\n  shouldFollowAxis() {\n    return this.shiftPressed;\n  }\n\n  shouldNotSnapToGrid() {\n    return this.altPressed;\n  }\n\n  shouldResizeProportionally() {\n    return this.shiftPressed;\n  }\n\n  shouldScrollHorizontally() {\n    return this.altPressed;\n  }\n\n  shouldZoom() {\n    if (isMacLike()) {\n      return this._isControlPressed();\n    } else {\n      if (!this._isControlPressed() && !this.altPressed && !this.shiftPressed) {\n        return true;\n      } else {\n        return false;\n      }\n    }\n  }\n\n  shouldMoveView() {\n    return this.spacePressed || this.mouseMidButtonPressed;\n  }\n\n  _isControlPressed = () => {\n    // On macOS, meta key (Apple/Command key) acts as Control key on Windows/Linux.\n    return this.metaPressed || this.rawCtrlPressed;\n  };\n\n  _onKeyDown = evt => {\n    if (!this.isFocused) return;\n    if (evt.metaKey) this.metaPressed = true;\n    if (evt.altKey) this.altPressed = true;\n    if (evt.which === CTRL_KEY) this.rawCtrlPressed = true;\n    if (evt.which === SHIFT_KEY) this.shiftPressed = true;\n    if (evt.which === SPACE_KEY) this.spacePressed = true;\n\n    const textEditorSelectors = 'textarea, input, [contenteditable=\"true\"]';\n    if (evt.target && evt.target.closest(textEditorSelectors)) {\n      return; // Something else is currently being edited.\n    }\n\n    if (this.onMove) {\n      if (evt.which === UP_KEY) {\n        this.onMove(0, -1);\n      } else if (evt.which === DOWN_KEY) {\n        this.onMove(0, 1);\n      } else if (evt.which === LEFT_KEY) {\n        this.onMove(-1, 0);\n      } else if (evt.which === RIGHT_KEY) {\n        this.onMove(1, 0);\n      }\n    }\n    if (evt.which === BACKSPACE_KEY || evt.which === DELETE_KEY) {\n      this.onDelete();\n    }\n    if (this._isControlPressed() && evt.which === C_KEY) {\n      this.onCopy();\n    }\n    if (this._isControlPressed() && evt.which === X_KEY) {\n      this.onCut();\n    }\n    if (this._isControlPressed() && evt.which === V_KEY) {\n      this.onPaste();\n    }\n    if (this._isControlPressed() && evt.which === Z_KEY) {\n      this.onUndo();\n    }\n    if (this._isControlPressed() && this.shiftPressed && evt.which === Z_KEY) {\n      this.onRedo();\n    }\n    if (this._isControlPressed() && evt.which === Y_KEY) {\n      this.onRedo();\n    }\n    if (this._isControlPressed() && evt.which === F_KEY) {\n      this.onSearch();\n    }\n\n    if (isMacLike()) {\n      //Mac specific shortcuts -- zooming done differently on windows and linux\n      if (this._isControlPressed() && evt.which === MINUS_KEY) {\n        this.onZoomOut();\n      }\n      if (this._isControlPressed() && evt.which === EQUAL_KEY) {\n        this.onZoomIn();\n      }\n      if (evt.which === NUMPAD_SUBSTRACT) {\n        this.onZoomOut();\n      }\n      if (evt.which === NUMPAD_ADD) {\n        this.onZoomIn();\n      }\n    }\n  };\n\n  _onKeyUp = evt => {\n    // Always handle key up event, even if we don't have the focus,\n    // for modifier keys to ensure we don't lose track of their pressed/unpressed status.\n\n    if (!evt.metaKey) this.metaPressed = false;\n    if (!evt.altKey) this.altPressed = false;\n    if (evt.which === CTRL_KEY) this.rawCtrlPressed = false;\n    if (evt.which === SHIFT_KEY) this.shiftPressed = false;\n    if (evt.which === SPACE_KEY) this.spacePressed = false;\n  };\n\n  _onMouseDown = evt => {\n    if (!this.isFocused) return;\n\n    if (!isMacLike()) {\n      if (evt.button === MID_MOUSE_BUTTON) {\n        this.mouseMidButtonPressed = true;\n      } else {\n        this.mouseMidButtonPressed = false;\n      }\n    }\n  };\n\n  _onMouseUp = evt => {\n    if (!this.isFocused) return;\n\n    if (!isMacLike() && evt.button === MID_MOUSE_BUTTON) {\n      this.mouseMidButtonPressed = false;\n    }\n  };\n\n  _onKeyPress = evt => {};\n\n  _noop = () => {};\n\n  focus() {\n    this.isFocused = true;\n  }\n\n  blur() {\n    this.isFocused = false;\n  }\n\n  mount() {\n    if (typeof document === 'undefined') return;\n\n    document.addEventListener('keydown', this._onKeyDown, true);\n    document.addEventListener('keyup', this._onKeyUp, true);\n    document.addEventListener('keypress', this._onKeyPress, true);\n    document.addEventListener('mousedown', this._onMouseDown, true);\n    document.addEventListener('mouseup', this._onMouseUp, true);\n  }\n\n  unmount() {\n    if (typeof document === 'undefined') return;\n\n    document.removeEventListener('keydown', this._onKeyDown, true);\n    document.removeEventListener('keyup', this._onKeyUp, true);\n    document.removeEventListener('keypress', this._onKeyPress, true);\n    document.removeEventListener('mousedown', this._onMouseDown, true);\n    document.removeEventListener('mouseup', this._onMouseUp, true);\n  }\n}\n","// @flow\nimport { serializeToJSObject, unserializeFromJSObject } from './Serializer';\n\n// Tools function to keep track of the history of changes made\n// on a serializable object from libGD.js\n\nexport type HistoryState = {|\n  undoHistory: Array<Object>,\n  current: Object,\n  redoHistory: Array<Object>,\n  maxSize: number,\n|};\n\n/**\n * Return the initial state of the history\n * @param {*} serializableObject\n */\nexport const getHistoryInitialState = (\n  serializableObject: gdSerializable,\n  { historyMaxSize }: { historyMaxSize: number }\n): HistoryState => {\n  return {\n    undoHistory: [],\n    current: serializeToJSObject(serializableObject),\n    redoHistory: [],\n    maxSize: historyMaxSize,\n  };\n};\n\n/**\n * Return true if redo can be applied for the given history\n * @param {*} history\n */\nexport const canRedo = (history: HistoryState): boolean => {\n  return !!history.redoHistory.length;\n};\n\n/**\n * Return true if undo can be applied for the given history\n * @param {*} history\n */\nexport const canUndo = (history: HistoryState): boolean => {\n  return !!history.undoHistory.length;\n};\n\n/**\n * Save a new state of the given serializableObject to the history\n * @param {*} history\n * @param {*} serializableObject\n */\nexport const saveToHistory = (\n  history: HistoryState,\n  serializableObject: gdSerializable\n): HistoryState => {\n  const newUndoHistory = [...history.undoHistory, history.current];\n  if (newUndoHistory.length > history.maxSize) {\n    newUndoHistory.splice(0, newUndoHistory.length - history.maxSize);\n  }\n\n  return {\n    undoHistory: newUndoHistory,\n    current: serializeToJSObject(serializableObject),\n    redoHistory: [],\n    maxSize: history.maxSize,\n  };\n};\n\n/**\n * Update the serializableObject to undo the last changes.\n * /!\\ This mutates the serializableObject and there could be objects owned by it\n * deleted or becoming invalid. Be sure to drop/refresh any reference to them.\n *\n * @param {*} history\n * @param {*} serializableObject\n */\nexport const undo = (\n  history: HistoryState,\n  serializableObject: gdSerializable,\n  project: ?gdProject = undefined\n): HistoryState => {\n  if (!history.undoHistory.length) {\n    return history;\n  }\n\n  const newCurrent = history.undoHistory[history.undoHistory.length - 1];\n  unserializeFromJSObject(\n    serializableObject,\n    newCurrent,\n    'unserializeFrom',\n    project\n  );\n\n  return {\n    undoHistory: history.undoHistory.slice(0, -1),\n    current: newCurrent,\n    redoHistory: [...history.redoHistory, history.current],\n    maxSize: history.maxSize,\n  };\n};\n\n/**\n * Update the serializableObject to undo the last changes.\n * /!\\ This mutates the serializableObject and there could be objects owned by it\n * deleted or becoming invalid. Be sure to drop/refresh any reference to them.\n *\n * @param {*} history\n * @param {*} serializableObject\n */\nexport const redo = (\n  history: HistoryState,\n  serializableObject: gdSerializable,\n  project: ?gdProject = undefined\n): HistoryState => {\n  if (!history.redoHistory.length) {\n    return history;\n  }\n\n  const newCurrent = history.redoHistory[history.redoHistory.length - 1];\n  unserializeFromJSObject(\n    serializableObject,\n    newCurrent,\n    'unserializeFrom',\n    project\n  );\n\n  return {\n    undoHistory: [...history.undoHistory, history.current],\n    current: newCurrent,\n    redoHistory: history.redoHistory.slice(0, -1),\n    maxSize: history.maxSize,\n  };\n};\n","// @flow\nimport { unserializeFromJSObject } from '../../Utils/Serializer';\nimport { mapVector } from '../../Utils/MapFor';\nimport { getFreeEventsFunctionType } from '../../EventsFunctionsExtensionsLoader';\nimport getObjectGroupByName from '../../Utils/GetObjectGroupByName';\nconst gd = global.gd;\n\n/**\n * Set up an events function with the given serialized events,\n * so that the function contains these events, expecting the objects\n * as parameters.\n */\nexport const setupFunctionFromEvents = ({\n  globalObjectsContainer,\n  objectsContainer,\n  serializedEvents,\n  project,\n  eventsFunction,\n}: {\n  project: gdProject,\n  globalObjectsContainer: gdObjectsContainer,\n  objectsContainer: gdObjectsContainer,\n  serializedEvents: Object,\n  eventsFunction: gdEventsFunction,\n}) => {\n  // Set up the function\n  eventsFunction.setName('MyFunction');\n  eventsFunction.setFunctionType(gd.EventsFunction.Action);\n  unserializeFromJSObject(\n    eventsFunction.getEvents(),\n    serializedEvents,\n    'unserializeFrom',\n    project\n  );\n\n  // Analyze events...\n  const eventsContextAnalyzer = new gd.EventsContextAnalyzer(\n    gd.JsPlatform.get(),\n    globalObjectsContainer,\n    objectsContainer\n  );\n  eventsContextAnalyzer.launch(eventsFunction.getEvents());\n  const eventsContext = eventsContextAnalyzer.getEventsContext();\n\n  // ...to extract objects and groups\n  const objectOrGroupNames: Array<string> = eventsContext\n    .getReferencedObjectOrGroupNames()\n    .toNewVectorString()\n    .toJSArray();\n  const objectNames: Array<string> = eventsContext\n    .getObjectNames()\n    .toNewVectorString()\n    .toJSArray();\n  const groups: Array<gdObjectGroup> = objectOrGroupNames\n    // Filter to only keep groups\n    .filter(\n      (objectOrGroupName: string) =>\n        objectNames.indexOf(objectOrGroupName) === -1\n    )\n    .map(groupName =>\n      getObjectGroupByName(globalObjectsContainer, objectsContainer, groupName)\n    )\n    .filter(Boolean);\n\n  // Compute what the parameters should be:\n  // 1) The groups, but only the ones that have no object directly referenced.\n  const parameterGroups: Array<gdObjectGroup> = groups.filter(group => {\n    return !objectOrGroupNames.some(referencedObjectOrGroupName =>\n      group.find(referencedObjectOrGroupName)\n    );\n  });\n  const parameterGroupNames: Array<string> = parameterGroups.map(group =>\n    group.getName()\n  );\n\n  // 2) The objects, but only the ones that are already in the groups in parameters\n  const parameterObjectNames: Array<string> = objectNames.filter(objectName => {\n    return !parameterGroups.some(group => group.find(objectName));\n  });\n\n  // Create parameters for these objects (or these groups without any object directly referenced)\n  const parameters = eventsFunction.getParameters();\n  parameters.clear();\n  [...parameterGroupNames, ...parameterObjectNames].forEach(objectName => {\n    const newParameter = new gd.ParameterMetadata();\n    newParameter.setType('objectList');\n    newParameter.setName(objectName);\n    newParameter.setExtraInfo(\n      gd.getTypeOfObject(\n        globalObjectsContainer,\n        objectsContainer,\n        objectName,\n        true\n      )\n    );\n    parameters.push_back(newParameter);\n\n    const behaviorNames: Array<string> = eventsContext\n      .getBehaviorNamesOfObjectOrGroup(objectName)\n      .toNewVectorString()\n      .toJSArray();\n\n    behaviorNames.forEach(behaviorName => {\n      const newParameter = new gd.ParameterMetadata();\n      newParameter.setType('behavior');\n      newParameter.setName(behaviorName);\n      newParameter.setExtraInfo(\n        gd.getTypeOfBehavior(\n          globalObjectsContainer,\n          objectsContainer,\n          behaviorName\n        )\n      );\n      parameters.push_back(newParameter);\n    });\n  });\n\n  // Import groups that are used in events, but are not in parameters,\n  // inside the events function groups.\n  groups\n    .filter(group => !parameterGroupNames.includes(group.getName()))\n    .forEach(group => {\n      if (group) {\n        eventsFunction.getObjectGroups().insert(group, 0);\n      }\n    });\n\n  eventsContextAnalyzer.delete();\n};\n\n/**\n * Create an instruction to call the given events function\n */\nexport const createNewInstructionForEventsFunction = (\n  extensionName: string,\n  eventsFunction: gdEventsFunction\n): gdInstruction => {\n  const action = new gd.Instruction(); //Add a simple action\n  const runtimeSceneParameterCount = 1; // By convention, first parameter is always the Runtime Scene.\n  const contextParameterCount = 1; // By convention, latest parameter is always the eventsFunctionContext of the calling function (if any).\n\n  action.setType(getFreeEventsFunctionType(extensionName, eventsFunction));\n  action.setParametersCount(\n    eventsFunction.getParameters().size() +\n      runtimeSceneParameterCount +\n      contextParameterCount\n  );\n\n  mapVector(eventsFunction.getParameters(), (parameterMetadata, index) => {\n    action.setParameter(\n      runtimeSceneParameterCount + index,\n      parameterMetadata.getName()\n    );\n  });\n\n  return action;\n};\n\n/**\n * Validate that a function name is valid.\n */\nexport const validateEventsFunctionName = (functionName: string) => {\n  return gd.Project.validateObjectName(functionName);\n};\n\n/**\n * Validate that an events functions extension name is valid.\n */\nexport const validateExtensionName = (extensionName: string) => {\n  return gd.Project.validateObjectName(extensionName);\n};\n\n/**\n * Validate that an events functions extension name is unique in a project.\n */\nexport const validateExtensionNameUniqueness = (\n  project: gdProject,\n  extensionName: string\n) => {\n  return !project.hasEventsFunctionsExtensionNamed(extensionName);\n};\n\n/**\n * Validate that an events function name is unique in a project extension.\n */\nexport const validateEventsFunctionNameUniqueness = (\n  project: gdProject,\n  extensionName: string,\n  eventsFunction: gdEventsFunction\n) => {\n  if (project.hasEventsFunctionsExtensionNamed(extensionName)) {\n    const eventsFunctionsExtension = project.getEventsFunctionsExtension(\n      extensionName\n    );\n\n    return !eventsFunctionsExtension.hasEventsFunctionNamed(\n      eventsFunction.getName()\n    );\n  }\n\n  return true;\n};\n\n/**\n * Return true if the events function can be added to the given extension\n * without any conflict/invalid name.\n */\nexport const canCreateEventsFunction = (\n  project: gdProject,\n  extensionName: string,\n  eventsFunction: gdEventsFunction\n) => {\n  return (\n    extensionName !== '' &&\n    validateExtensionName(extensionName) &&\n    eventsFunction.getName() !== '' &&\n    validateEventsFunctionName(eventsFunction.getName()) &&\n    validateEventsFunctionNameUniqueness(\n      project,\n      extensionName,\n      eventsFunction\n    ) &&\n    eventsFunction.getFullName() !== '' &&\n    eventsFunction.getSentence() !== ''\n  );\n};\n\n/**\n * Return true if the function is considered to have more parameters than usual.\n */\nexport const functionHasLotsOfParameters = (\n  eventsFunction: gdEventsFunction\n) => {\n  return eventsFunction.getParameters().size() > 7;\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport { t } from '@lingui/macro';\nimport { I18n } from '@lingui/react';\nimport { type I18n as I18nType } from '@lingui/core';\nimport * as React from 'react';\nimport { Column, Line, Spacer } from '../../UI/Grid';\nimport SelectField from 'material-ui/SelectField';\nimport MenuItem from 'material-ui/MenuItem';\nimport { mapVector } from '../../Utils/MapFor';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport IconButton from 'material-ui/IconButton';\nimport EmptyMessage from '../../UI/EmptyMessage';\nimport IconMenu from '../../UI/Menu/IconMenu';\nimport MoreVertIcon from 'material-ui/svg-icons/navigation/more-vert';\nimport HelpButton from '../../UI/HelpButton';\nimport SemiControlledTextField from '../../UI/SemiControlledTextField';\nimport MiniToolbar, { MiniToolbarText } from '../../UI/MiniToolbar';\nimport { showWarningBox } from '../../UI/Messages/MessageBox';\nimport ObjectTypeSelector from '../../ObjectTypeSelector';\nimport BehaviorTypeSelector from '../../BehaviorTypeSelector';\nimport { isBehaviorLifecycleFunction } from '../../EventsFunctionsExtensionsLoader/MetadataDeclarationHelpers';\nimport { getParametersIndexOffset } from '../../EventsFunctionsExtensionsLoader';\n\nconst gd = global.gd;\n\ntype Props = {|\n  project: gdProject,\n  eventsFunction: gdEventsFunction,\n  eventsBasedBehavior: ?gdEventsBasedBehavior,\n  onParametersUpdated: () => void,\n  helpPagePath?: string,\n  freezeParameters?: boolean,\n|};\n\nconst styles = {\n  parametersContainer: {\n    flex: 1,\n  },\n};\n\nconst validateParameterName = (i18n: I18nType, newName: string) => {\n  if (!gd.Project.validateObjectName(newName)) {\n    showWarningBox(\n      i18n._(\n        t`This name contains forbidden characters: please only use alphanumeric characters (0-9, a-z) and underscores in your parameter name.`\n      )\n    );\n    return false;\n  }\n\n  return true;\n};\n\nexport default class EventsFunctionParametersEditor extends React.Component<\n  Props,\n  {||}\n> {\n  _addParameter = () => {\n    const { eventsFunction } = this.props;\n    const parameters = eventsFunction.getParameters();\n\n    const newParameter = new gd.ParameterMetadata();\n    newParameter.setType('objectList');\n    parameters.push_back(newParameter);\n    newParameter.delete();\n    this.forceUpdate();\n    this.props.onParametersUpdated();\n  };\n\n  _removeParameter = (index: number) => {\n    const { eventsFunction } = this.props;\n    const parameters = eventsFunction.getParameters();\n\n    gd.removeFromVectorParameterMetadata(parameters, index);\n    this.forceUpdate();\n    this.props.onParametersUpdated();\n  };\n\n  render() {\n    const {\n      project,\n      eventsFunction,\n      eventsBasedBehavior,\n      freezeParameters,\n      helpPagePath,\n    } = this.props;\n\n    const parameters = eventsFunction.getParameters();\n    const isABehaviorLifecycleFunction =\n      !!eventsBasedBehavior &&\n      isBehaviorLifecycleFunction(eventsFunction.getName());\n    if (isABehaviorLifecycleFunction) {\n      return (\n        <EmptyMessage>\n          This is a \"lifecycle method\". It will be called automatically by the\n          game engine and has two parameters: \"Object\" (the object the behavior\n          is acting on) and \"Behavior\" (the behavior itself).\n        </EmptyMessage>\n      );\n    }\n\n    const isParameterDisabled = index => {\n      return !!freezeParameters || (!!eventsBasedBehavior && index < 2);\n    };\n    const isParameterDescriptionAndTypeShown = index => {\n      // The first two parameters of a behavior method should not be changed at all,\n      // so we even hide their description and type to avoid cluttering the interface.\n      return !eventsBasedBehavior || index >= 2;\n    };\n    const parametersIndexOffset = getParametersIndexOffset(\n      !!eventsBasedBehavior\n    );\n\n    return (\n      <I18n>\n        {({ i18n }) => (\n          <Column noMargin>\n            <Line noMargin>\n              <div style={styles.parametersContainer}>\n                {mapVector(\n                  parameters,\n                  (parameter: gdParameterMetadata, i: number) => (\n                    <React.Fragment key={i}>\n                      <MiniToolbar>\n                        <MiniToolbarText>\n                          <Trans>Parameter #{i + parametersIndexOffset}:</Trans>\n                        </MiniToolbarText>\n                        <Column expand noMargin>\n                          <SemiControlledTextField\n                            commitOnBlur\n                            hintText={<Trans>Enter the parameter name</Trans>}\n                            value={parameter.getName()}\n                            onChange={text => {\n                              if (!validateParameterName(i18n, text)) return;\n\n                              parameter.setName(text);\n                              this.forceUpdate();\n                              this.props.onParametersUpdated();\n                            }}\n                            disabled={isParameterDisabled(i)}\n                            errorText={\n                              parameter.getName() ? null : (\n                                <Trans>\n                                  Name of the parameter is mandatory.\n                                </Trans>\n                              )\n                            }\n                            fullWidth\n                          />\n                        </Column>\n                        <IconMenu\n                          iconButtonElement={\n                            <IconButton>\n                              <MoreVertIcon />\n                            </IconButton>\n                          }\n                          buildMenuTemplate={() => [\n                            {\n                              label: i18n._(t`Delete`),\n                              enabled: !isParameterDisabled(i),\n                              click: () => this._removeParameter(i),\n                            },\n                          ]}\n                        />\n                      </MiniToolbar>\n                      <Line expand noMargin>\n                        {isParameterDescriptionAndTypeShown(i) && (\n                          <Column expand>\n                            <SelectField\n                              floatingLabelText={<Trans>Type</Trans>}\n                              value={parameter.getType()}\n                              onChange={(e, i, value) => {\n                                parameter.setType(value);\n                                this.forceUpdate();\n                                this.props.onParametersUpdated();\n                              }}\n                              disabled={isParameterDisabled(i)}\n                              fullWidth\n                            >\n                              <MenuItem\n                                value=\"objectList\"\n                                primaryText={<Trans>Objects</Trans>}\n                              />\n                              <MenuItem\n                                value=\"behavior\"\n                                primaryText={\n                                  <Trans>\n                                    Behavior (for the previous object)\n                                  </Trans>\n                                }\n                              />\n                              <MenuItem\n                                value=\"expression\"\n                                primaryText={<Trans>Number</Trans>}\n                              />\n                              <MenuItem\n                                value=\"string\"\n                                primaryText={<Trans>String (text)</Trans>}\n                              />\n                              <MenuItem\n                                value=\"key\"\n                                primaryText={<Trans>Keyboard Key (text)</Trans>}\n                              />\n                              <MenuItem\n                                value=\"mouse\"\n                                primaryText={<Trans>Mouse button (text)</Trans>}\n                              />\n                              <MenuItem\n                                value=\"color\"\n                                primaryText={<Trans>Color (text)</Trans>}\n                              />\n                              <MenuItem\n                                value=\"layer\"\n                                primaryText={<Trans>Layer (text)</Trans>}\n                              />\n                              <MenuItem\n                                value=\"sceneName\"\n                                primaryText={<Trans>Scene name (text)</Trans>}\n                              />\n                            </SelectField>\n                          </Column>\n                        )}\n                        {gd.ParameterMetadata.isObject(parameter.getType()) && (\n                          <Column expand>\n                            <ObjectTypeSelector\n                              project={project}\n                              value={parameter.getExtraInfo()}\n                              onChange={(value: string) => {\n                                parameter.setExtraInfo(value);\n                                this.forceUpdate();\n                                this.props.onParametersUpdated();\n                              }}\n                              disabled={isParameterDisabled(i)}\n                            />\n                          </Column>\n                        )}\n                        {parameter.getType() === 'behavior' && (\n                          <Column expand>\n                            <BehaviorTypeSelector\n                              project={project}\n                              value={parameter.getExtraInfo()}\n                              onChange={(value: string) => {\n                                parameter.setExtraInfo(value);\n                                this.forceUpdate();\n                                this.props.onParametersUpdated();\n                              }}\n                              disabled={isParameterDisabled(i)}\n                            />\n                          </Column>\n                        )}\n                      </Line>\n                      {isParameterDescriptionAndTypeShown(i) && (\n                        <Line expand noMargin>\n                          <Column expand>\n                            <SemiControlledTextField\n                              commitOnBlur\n                              floatingLabelText={<Trans>Description</Trans>}\n                              floatingLabelFixed\n                              value={parameter.getDescription()}\n                              onChange={text => {\n                                parameter.setDescription(text);\n                                this.forceUpdate();\n                              }}\n                              fullWidth\n                              disabled={\n                                false /* Description, if shown, can always be changed */\n                              }\n                            />\n                          </Column>\n                        </Line>\n                      )}\n                    </React.Fragment>\n                  )\n                )}\n                {parameters.size() === 0 ? (\n                  <EmptyMessage>\n                    <Trans>No parameters for this function.</Trans>\n                  </EmptyMessage>\n                ) : null}\n                <Line justifyContent=\"center\">\n                  {!freezeParameters && (\n                    <RaisedButton\n                      primary\n                      label={<Trans>Add a parameter</Trans>}\n                      onClick={this._addParameter}\n                    />\n                  )}\n                </Line>\n              </div>\n            </Line>\n            {helpPagePath ? (\n              <Line>\n                <HelpButton helpPagePath={helpPagePath} />\n              </Line>\n            ) : (\n              <Spacer />\n            )}\n          </Column>\n        )}\n      </I18n>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport SelectField from 'material-ui/SelectField';\nimport MenuItem from 'material-ui/MenuItem';\nimport {\n  enumerateObjectTypes,\n  type EnumeratedObjectMetadata,\n} from '../ObjectsList/EnumerateObjects';\n\ntype Props = {|\n  project: gdProject,\n  floatingLabelText?: React.Node,\n  value: string,\n  onChange: string => void,\n  disabled?: boolean,\n  allowedObjectTypes?: ?Array<string>,\n|};\ntype State = {|\n  objectMetadata: Array<EnumeratedObjectMetadata>,\n|};\n\nexport default class ObjectTypeSelector extends React.Component<Props, State> {\n  state = {\n    objectMetadata: enumerateObjectTypes(this.props.project),\n  };\n\n  render() {\n    const {\n      disabled,\n      value,\n      onChange,\n      floatingLabelText,\n      allowedObjectTypes,\n    } = this.props;\n    const { objectMetadata } = this.state;\n\n    const isDisabled = (type: string) => {\n      if (!allowedObjectTypes) return false;\n\n      return allowedObjectTypes.indexOf(type) === -1;\n    };\n\n    return (\n      <SelectField\n        floatingLabelText={floatingLabelText || <Trans>Object type</Trans>}\n        floatingLabelFixed\n        value={value}\n        onChange={(e, i, value) => {\n          onChange(value);\n        }}\n        disabled={disabled}\n        fullWidth\n      >\n        <MenuItem\n          value=\"\"\n          primaryText={<Trans>Any object</Trans>}\n          disabled={isDisabled('')}\n        />\n        {objectMetadata.map((metadata: EnumeratedObjectMetadata) => {\n          if (metadata.name === '') {\n            // Base object is an \"abstract\" object\n            return null;\n          }\n\n          return (\n            <MenuItem\n              key={metadata.name}\n              value={metadata.name}\n              primaryText={metadata.fullName}\n              disabled={isDisabled(metadata.name)}\n            />\n          );\n        })}\n      </SelectField>\n    );\n  }\n}\n","// @flow\nimport { mapFor } from '../Utils/MapFor';\nimport flatten from 'lodash/flatten';\n\nexport type EnumeratedBehaviorMetadata = {|\n  extension: gdPlatformExtension,\n  behaviorMetadata: gdBehaviorMetadata,\n  type: string,\n  objectType: string,\n  defaultName: string,\n  fullName: string,\n  description: string,\n  iconFilename: string,\n|};\n\nexport const enumerateBehaviorsMetadata = (\n  platform: gdPlatform,\n  project: gdProject\n): Array<EnumeratedBehaviorMetadata> => {\n  const extensionsList = platform.getAllPlatformExtensions();\n\n  return flatten(\n    mapFor(0, extensionsList.size(), i => {\n      const extension = extensionsList.at(i);\n\n      return extension\n        .getBehaviorsTypes()\n        .toJSArray()\n        .map(behaviorType => ({\n          behaviorType,\n          behaviorMetadata: extension.getBehaviorMetadata(behaviorType),\n        }))\n        .map(({ behaviorType, behaviorMetadata }) => ({\n          extension,\n          behaviorMetadata,\n          type: behaviorType,\n          defaultName: behaviorMetadata.getDefaultName(),\n          fullName: behaviorMetadata.getFullName(),\n          description: behaviorMetadata.getDescription(),\n          iconFilename: behaviorMetadata.getIconFilename(),\n          objectType: behaviorMetadata.getObjectType(),\n        }));\n    })\n  );\n};\n\nexport const filterEnumeratedBehaviorMetadata = (\n  list: Array<EnumeratedBehaviorMetadata>,\n  searchText: string\n): Array<EnumeratedBehaviorMetadata> => {\n  if (!searchText) return list;\n\n  const lowercaseSearchText = searchText.toLowerCase();\n\n  return list.filter(enumerateBehaviorsMetadata => {\n    return (\n      enumerateBehaviorsMetadata.fullName\n        .toLowerCase()\n        .indexOf(lowercaseSearchText) !== -1 ||\n      enumerateBehaviorsMetadata.description\n        .toLowerCase()\n        .indexOf(lowercaseSearchText) !== -1\n    );\n  });\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport { t } from '@lingui/macro';\nimport { I18n } from '@lingui/react';\nimport { type I18n as I18nType } from '@lingui/core';\n\nimport * as React from 'react';\nimport { Column, Line, Spacer } from '../../UI/Grid';\nimport SelectField from 'material-ui/SelectField';\nimport MenuItem from 'material-ui/MenuItem';\nimport { mapVector } from '../../Utils/MapFor';\nimport HelpButton from '../../UI/HelpButton';\nimport SemiControlledTextField from '../../UI/SemiControlledTextField';\nimport { isBehaviorLifecycleFunction } from '../../EventsFunctionsExtensionsLoader/MetadataDeclarationHelpers';\nimport EmptyMessage from '../../UI/EmptyMessage';\nimport { getParametersIndexOffset } from '../../EventsFunctionsExtensionsLoader';\n\nconst gd = global.gd;\n\ntype Props = {|\n  eventsFunction: gdEventsFunction,\n  eventsBasedBehavior: ?gdEventsBasedBehavior,\n  helpPagePath?: string,\n  onConfigurationUpdated?: () => void,\n  renderConfigurationHeader?: () => React.Node,\n  freezeEventsFunctionType?: boolean,\n|};\n\ntype State = {||};\n\nconst styles = {\n  icon: {\n    width: 32,\n    height: 32,\n    marginRight: 8,\n  },\n};\n\nconst getSentenceErrorText = (\n  i18n: I18nType,\n  eventsBasedBehavior: ?gdEventsBasedBehavior,\n  eventsFunction: gdEventsFunction\n) => {\n  const sentence = eventsFunction.getSentence();\n  if (!sentence)\n    return i18n._(\n      t`Enter the sentence that will be displayed in the events sheet`\n    );\n\n  const parametersIndexOffset = getParametersIndexOffset(!!eventsBasedBehavior);\n\n  const missingParameters = mapVector(\n    eventsFunction.getParameters(),\n    (parameter, index) => {\n      if (gd.ParameterMetadata.isBehavior(parameter.getType())) {\n        return null; // Behaviors are usually not shown in sentences.\n      }\n\n      const expectedString = `_PARAM${index + parametersIndexOffset}_`;\n      if (sentence.indexOf(expectedString) === -1) return expectedString;\n\n      return null;\n    }\n  ).filter(Boolean);\n\n  if (missingParameters.length) {\n    return (\n      i18n._(t`The sentence is probably missing this/these parameter(s):`) +\n      missingParameters.join(', ')\n    );\n  }\n\n  return undefined;\n};\n\nexport default class EventsFunctionPropertiesEditor extends React.Component<\n  Props,\n  State\n> {\n  render() {\n    const {\n      eventsFunction,\n      freezeEventsFunctionType,\n      onConfigurationUpdated,\n      helpPagePath,\n      renderConfigurationHeader,\n      eventsBasedBehavior,\n    } = this.props;\n\n    const type = eventsFunction.getFunctionType();\n    const isABehaviorLifecycleFunction =\n      !!eventsBasedBehavior &&\n      isBehaviorLifecycleFunction(eventsFunction.getName());\n    if (isABehaviorLifecycleFunction) {\n      return (\n        <EmptyMessage>\n          This is a \"lifecycle method\". It will be called automatically by the\n          game engine.\n        </EmptyMessage>\n      );\n    }\n\n    return (\n      <I18n>\n        {({ i18n }) => (\n          <Column>\n            {renderConfigurationHeader ? renderConfigurationHeader() : null}\n            <Line alignItems=\"center\">\n              <img src=\"res/function32.png\" alt=\"\" style={styles.icon} />\n              <Column expand>\n                <SelectField\n                  value={type}\n                  fullWidth\n                  disabled={!!freezeEventsFunctionType}\n                  onChange={(e, i, value) => {\n                    eventsFunction.setFunctionType(value);\n                    if (onConfigurationUpdated) onConfigurationUpdated();\n                    this.forceUpdate();\n                  }}\n                >\n                  <MenuItem\n                    value={gd.EventsFunction.Action}\n                    primaryText={<Trans>Action</Trans>}\n                  />\n                  <MenuItem\n                    value={gd.EventsFunction.Condition}\n                    primaryText={<Trans>Condition</Trans>}\n                  />\n                  <MenuItem\n                    value={gd.EventsFunction.Expression}\n                    primaryText={<Trans>Expression</Trans>}\n                  />\n                  <MenuItem\n                    value={gd.EventsFunction.StringExpression}\n                    primaryText={<Trans>String Expression</Trans>}\n                  />\n                </SelectField>\n              </Column>\n              <Column expand>\n                <SemiControlledTextField\n                  commitOnBlur\n                  hintText={<Trans>Full name displayed in editor</Trans>}\n                  value={eventsFunction.getFullName()}\n                  onChange={text => {\n                    eventsFunction.setFullName(text);\n                    if (onConfigurationUpdated) onConfigurationUpdated();\n                    this.forceUpdate();\n                  }}\n                  fullWidth\n                />\n              </Column>\n            </Line>\n            <Line noMargin>\n              <SemiControlledTextField\n                commitOnBlur\n                hintText={<Trans>Description, displayed in editor</Trans>}\n                fullWidth\n                multiLine\n                value={eventsFunction.getDescription()}\n                onChange={text => {\n                  eventsFunction.setDescription(text);\n                  if (onConfigurationUpdated) onConfigurationUpdated();\n                  this.forceUpdate();\n                }}\n              />\n            </Line>\n            <Line>\n              {type === gd.EventsFunction.Action ||\n              type === gd.EventsFunction.Condition ? (\n                <SemiControlledTextField\n                  commitOnBlur\n                  hintText={\n                    <Trans>\n                      Sentence in Events Sheet (write _PARAMx_ for parameters,\n                      e.g: _PARAM1_)\n                    </Trans>\n                  }\n                  fullWidth\n                  value={eventsFunction.getSentence()}\n                  onChange={text => {\n                    eventsFunction.setSentence(text);\n                    if (onConfigurationUpdated) onConfigurationUpdated();\n                    this.forceUpdate();\n                  }}\n                  errorText={getSentenceErrorText(\n                    i18n,\n                    eventsBasedBehavior,\n                    eventsFunction\n                  )}\n                />\n              ) : null}\n            </Line>\n            {helpPagePath ? (\n              <Line>\n                <HelpButton helpPagePath={helpPagePath} />\n              </Line>\n            ) : (\n              <Spacer />\n            )}\n          </Column>\n        )}\n      </I18n>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport IconButton from 'material-ui/IconButton';\nimport Close from 'material-ui/svg-icons/navigation/close';\nimport { MosaicWindowContext, MosaicContext } from 'react-mosaic-component';\n\nconst styles = {\n  container: {\n    padding: 0,\n    width: 32,\n    height: 32,\n  },\n};\n\nexport default class CloseButton extends Component {\n  render() {\n    return (\n      <MosaicContext.Consumer>\n        {({ mosaicActions }) => (\n          <MosaicWindowContext.Consumer>\n            {({ mosaicWindowActions }) => (\n              <IconButton\n                onClick={() => {\n                  mosaicActions.remove(mosaicWindowActions.getPath());\n                }}\n                style={styles.container}\n              >\n                <Close color=\"white\" />\n              </IconButton>\n            )}\n          </MosaicWindowContext.Consumer>\n        )}\n      </MosaicContext.Consumer>\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport EventsFunctionsExtensionEditor from '../../EventsFunctionsExtensionEditor';\nimport BaseEditor from './BaseEditor';\n\nconst styles = {\n  container: {\n    display: 'flex',\n    flex: 1,\n  },\n};\n\nexport default class EventsFunctionsExtensionEditorWrapper extends BaseEditor {\n  editor: ?EventsFunctionsExtensionEditor;\n\n  updateToolbar() {\n    if (this.editor) this.editor.updateToolbar();\n  }\n\n  shouldComponentUpdate(nextProps: *) {\n    // This optimization is a bit more cautious than the one is BaseEditor,\n    // to still be notified when isActive goes from true to false.\n    if (!this.props.isActive && !nextProps.isActive) {\n      return false;\n    }\n\n    return true;\n  }\n\n  componentDidUpdate(prevProps: *) {\n    if (prevProps.isActive && !this.props.isActive) {\n      this.props.onLoadEventsFunctionsExtensions();\n    }\n  }\n\n  _onBehaviorEdited = () => {\n    // Immediately trigger the reload/regeneration of extensions\n    // as a change in the properties of a behavior can create changes\n    // in actions/conditions/expressions to manipulate these properties.\n    this.props.onLoadEventsFunctionsExtensions();\n  };\n\n  getEventsFunctionsExtension(): ?gdEventsFunctionsExtension {\n    const { project, eventsFunctionsExtensionName } = this.props;\n    if (\n      !project.hasEventsFunctionsExtensionNamed(eventsFunctionsExtensionName)\n    ) {\n      return null;\n    }\n    return project.getEventsFunctionsExtension(eventsFunctionsExtensionName);\n  }\n\n  selectEventsFunctionByName(\n    eventsFunctionName: string,\n    behaviorName: ?string\n  ) {\n    if (this.editor)\n      this.editor.selectEventsFunctionByName(eventsFunctionName, behaviorName);\n  }\n\n  render() {\n    const { project, eventsFunctionsExtensionName } = this.props;\n    const eventsFunctionsExtension = this.getEventsFunctionsExtension();\n\n    if (!eventsFunctionsExtension) {\n      //TODO: Error component\n      return (\n        <div>No extension called {eventsFunctionsExtensionName} found!</div>\n      );\n    }\n\n    return (\n      <div style={styles.container}>\n        <EventsFunctionsExtensionEditor\n          key={eventsFunctionsExtension.ptr}\n          project={project}\n          eventsFunctionsExtension={eventsFunctionsExtension}\n          setToolbar={this.props.setToolbar}\n          resourceSources={this.props.resourceSources}\n          onChooseResource={this.props.onChooseResource}\n          resourceExternalEditors={this.props.resourceExternalEditors}\n          openInstructionOrExpression={this.props.openInstructionOrExpression}\n          onCreateEventsFunction={this.props.onCreateEventsFunction}\n          initiallyFocusedFunctionName={this.props.initiallyFocusedFunctionName}\n          initiallyFocusedBehaviorName={this.props.initiallyFocusedBehaviorName}\n          onBehaviorEdited={this._onBehaviorEdited}\n          ref={editor => (this.editor = editor)}\n        />\n      </div>\n    );\n  }\n}\n","import { Trans } from '@lingui/macro';\nimport React, { Component } from 'react';\nimport FlatButton from 'material-ui/FlatButton';\nimport ObjectGroupEditor from '.';\nimport Dialog from '../UI/Dialog';\nimport { withSerializableObject } from '../Utils/SerializableObjectEditorContainer';\nconst gd = global.gd;\n\nexport class ObjectGroupEditorDialog extends Component {\n  render() {\n    const { group } = this.props;\n    if (!group) return null;\n\n    const actions = [\n      <FlatButton\n        label={<Trans>Cancel</Trans>}\n        keyboardFocused\n        onClick={this.props.onCancel}\n      />,\n      <FlatButton\n        label={<Trans>Apply</Trans>}\n        primary\n        keyboardFocused\n        onClick={this.props.onApply}\n      />,\n    ];\n\n    return (\n      <Dialog\n        key={group.ptr}\n        actions={actions}\n        autoScrollBodyContent\n        noMargin\n        modal\n        onRequestClose={this.props.onCancel}\n        open={this.props.open}\n        title={`Edit ${group.getName()} group`}\n      >\n        <ObjectGroupEditor\n          group={group}\n          globalObjectsContainer={this.props.globalObjectsContainer}\n          objectsContainer={this.props.objectsContainer}\n          onSizeUpdated={\n            () =>\n              this.forceUpdate() /*Force update to ensure dialog is properly positionned*/\n          }\n        />\n      </Dialog>\n    );\n  }\n}\n\nexport default withSerializableObject(ObjectGroupEditorDialog, {\n  newObjectCreator: () => new gd.ObjectGroup(),\n  propName: 'group',\n});\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport React from 'react';\nimport EventsSheet from '../../EventsSheet';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport { serializeToJSObject } from '../../Utils/Serializer';\nimport PlaceholderMessage from '../../UI/PlaceholderMessage';\nimport BaseEditor from './BaseEditor';\nimport LayoutChooserDialog from './LayoutChooserDialog';\n\nconst styles = {\n  container: {\n    display: 'flex',\n    flex: 1,\n  },\n};\n\nexport default class ExternalEventsEditor extends BaseEditor {\n  editor: ?EventsSheet;\n\n  state = {\n    layoutChooserOpen: false,\n  };\n\n  updateToolbar() {\n    if (this.editor) this.editor.updateToolbar();\n  }\n\n  getSerializedElements() {\n    const externalEvents = this.getExternalEvents();\n    const layout = this.getLayout();\n    if (!externalEvents) return {};\n\n    return {\n      ...BaseEditor.getLayoutSerializedElements(layout),\n      events: serializeToJSObject(externalEvents),\n    };\n  }\n\n  getExternalEvents(): ?gdExternalEvents {\n    const { project, externalEventsName } = this.props;\n    if (!project.hasExternalEventsNamed(externalEventsName)) {\n      return null;\n    }\n    return project.getExternalEvents(externalEventsName);\n  }\n\n  getLayout() {\n    const { project } = this.props;\n\n    const externalEvents = this.getExternalEvents();\n    if (!externalEvents) return null;\n\n    const layoutName = externalEvents.getAssociatedLayout();\n    if (!project.hasLayoutNamed(layoutName)) {\n      return null;\n    }\n    return project.getLayout(layoutName);\n  }\n\n  setAssociatedLayout = (layoutName: string) => {\n    const externalEvents = this.getExternalEvents();\n    if (!externalEvents) return;\n\n    externalEvents.setAssociatedLayout(layoutName);\n    this.setState(\n      {\n        layoutChooserOpen: false,\n      },\n      () => this.updateToolbar()\n    );\n  };\n\n  openLayoutChooser = () => {\n    this.setState({\n      layoutChooserOpen: true,\n    });\n  };\n\n  render() {\n    const { project, externalEventsName } = this.props;\n    const externalEvents = this.getExternalEvents();\n    const layout = this.getLayout();\n\n    if (!externalEvents) {\n      //TODO: Error component\n      return <div>No external events called {externalEventsName} found!</div>;\n    }\n\n    return (\n      <div style={styles.container}>\n        {layout && (\n          <EventsSheet\n            {...this.props}\n            ref={editor => (this.editor = editor)}\n            project={project}\n            scope={{\n              layout,\n            }}\n            globalObjectsContainer={project}\n            objectsContainer={layout}\n            events={externalEvents.getEvents()}\n            onPreview={() => this.props.onPreview(project, layout)}\n            onOpenSettings={this.openLayoutChooser}\n            onOpenExternalEvents={this.props.onOpenExternalEvents}\n            resourceSources={this.props.resourceSources}\n            onChooseResource={this.props.onChooseResource}\n            resourceExternalEditors={this.props.resourceExternalEditors}\n            openInstructionOrExpression={this.props.openInstructionOrExpression}\n          />\n        )}\n        {!layout && (\n          <PlaceholderMessage>\n            To edit the external events, choose the scene in which it will be\n            included:\n            <RaisedButton\n              label={<Trans>Choose the scene</Trans>}\n              primary\n              onClick={this.openLayoutChooser}\n            />\n          </PlaceholderMessage>\n        )}\n        <LayoutChooserDialog\n          title={<Trans>Choose the associated scene</Trans>}\n          helpText=\"You still need to add a Link event in the scene to import the external events\"\n          open={this.state.layoutChooserOpen}\n          project={project}\n          onChoose={this.setAssociatedLayout}\n          onClose={() => this.setState({ layoutChooserOpen: false })}\n        />\n      </div>\n    );\n  }\n}\n","import { Trans } from '@lingui/macro';\nimport React, { Component } from 'react';\nimport FlatButton from 'material-ui/FlatButton';\nimport { RadioButton, RadioButtonGroup } from 'material-ui/RadioButton';\nimport Dialog from '../../UI/Dialog';\nimport { mapFor } from '../../Utils/MapFor';\n\nexport default class LayoutChooserDialog extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedLayoutName: props.layoutName,\n    };\n  }\n\n  componentWillReceiveProps(newProps) {\n    if (newProps.layoutName !== this.props.layoutName) {\n      this.setState({\n        selectedLayoutName: newProps.layoutName,\n      });\n    }\n  }\n\n  chooseLayout(layoutName) {\n    this.setState({\n      selectedLayoutName: layoutName,\n    });\n  }\n\n  render() {\n    const actions = [\n      <FlatButton\n        label={<Trans>Cancel</Trans>}\n        primary={false}\n        onClick={this.props.onClose}\n      />,\n      <FlatButton\n        label={<Trans>Choose</Trans>}\n        primary={true}\n        keyboardFocused={true}\n        onClick={() => this.props.onChoose(this.state.selectedLayoutName)}\n        disabled={!this.state.selectedLayoutName}\n      />,\n    ];\n\n    const { project } = this.props;\n    const { selectedLayoutName } = this.state;\n    const layoutNames = mapFor(0, project.getLayoutsCount(), i => {\n      return project.getLayoutAt(i).getName();\n    });\n\n    return (\n      <Dialog\n        actions={actions}\n        open={this.props.open}\n        title={this.props.title}\n        onRequestClose={this.props.onClose}\n        autoScrollBodyContent={true}\n        contentStyle={{ width: '350px' }}\n      >\n        {this.props.helpText && <p>{this.props.helpText}</p>}\n        <RadioButtonGroup\n          name=\"associated-layout\"\n          valueSelected={selectedLayoutName}\n          onChange={(e, layoutName) => this.chooseLayout(layoutName)}\n        >\n          {layoutNames.map(name => (\n            <RadioButton value={name} label={name} key={name} />\n          ))}\n        </RadioButtonGroup>\n      </Dialog>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport SceneEditor from '../../SceneEditor';\nimport {\n  serializeToJSObject,\n  unserializeFromJSObject,\n} from '../../Utils/Serializer';\nimport PlaceholderMessage from '../../UI/PlaceholderMessage';\nimport BaseEditor from './BaseEditor';\nimport LayoutChooserDialog from './LayoutChooserDialog';\n\nconst styles = {\n  container: {\n    display: 'flex',\n    flex: 1,\n  },\n};\n\nexport default class ExternalLayoutEditor extends BaseEditor {\n  editor: ?SceneEditor;\n  state = {\n    layoutChooserOpen: false,\n  };\n\n  shouldComponentUpdate(nextProps: *) {\n    // This optimization is a bit more cautious than the one is BaseEditor, to still allow\n    // children, and in particular SceneEditor and InstancesEditor, to be notified when isActive\n    // goes from true to false (in which case PIXI rendering is halted). If isActive was false\n    // and remains false, it's safe to stop update here (PIXI rendering is already halted).\n    if (!this.props.isActive && !nextProps.isActive) {\n      return false;\n    }\n\n    return true;\n  }\n\n  updateToolbar() {\n    if (this.editor) this.editor.updateToolbar();\n  }\n\n  getSerializedElements() {\n    const externalLayout = this.getExternalLayout();\n    const layout = this.getLayout();\n    if (!externalLayout || !layout) return {};\n\n    return {\n      ...BaseEditor.getLayoutSerializedElements(layout),\n      instances: serializeToJSObject(externalLayout.getInitialInstances()),\n      uiSettings: this.editor ? this.editor.getUiSettings() : {},\n    };\n  }\n\n  getExternalLayout(): ?gdExternalLayout {\n    const { project, externalLayoutName } = this.props;\n    if (!project.hasExternalLayoutNamed(externalLayoutName)) {\n      return null;\n    }\n    return project.getExternalLayout(externalLayoutName);\n  }\n\n  getLayout(): ?gdLayout {\n    const { project } = this.props;\n\n    const externalLayout = this.getExternalLayout();\n    if (!externalLayout) return null;\n\n    const layoutName = externalLayout.getAssociatedLayout();\n    if (!project.hasLayoutNamed(layoutName)) {\n      return null;\n    }\n    return project.getLayout(layoutName);\n  }\n\n  setAssociatedLayout = (layoutName: string) => {\n    const externalLayout = this.getExternalLayout();\n    if (!externalLayout) return;\n\n    externalLayout.setAssociatedLayout(layoutName);\n    this.setState(\n      {\n        layoutChooserOpen: false,\n      },\n      () => this.updateToolbar()\n    );\n  };\n\n  openLayoutChooser = () => {\n    this.setState({\n      layoutChooserOpen: true,\n    });\n  };\n\n  saveUiSettings = () => {\n    const layout = this.getExternalLayout();\n    const editor = this.editor;\n\n    if (editor && layout) {\n      unserializeFromJSObject(\n        layout.getAssociatedSettings(),\n        editor.getUiSettings()\n      );\n    }\n  };\n\n  render() {\n    const { project, externalLayoutName, isActive } = this.props;\n    const externalLayout = this.getExternalLayout();\n    const layout = this.getLayout();\n\n    if (!externalLayout) {\n      //TODO: Error component\n      return <div>No external layout called {externalLayoutName} found!</div>;\n    }\n\n    return (\n      <div style={styles.container}>\n        {layout && (\n          <SceneEditor\n            {...this.props}\n            ref={editor => (this.editor = editor)}\n            project={project}\n            layout={layout}\n            initialInstances={externalLayout.getInitialInstances()}\n            initialUiSettings={serializeToJSObject(\n              externalLayout.getAssociatedSettings()\n            )}\n            onPreview={options =>\n              this.props.onPreview(project, layout, externalLayout, options)\n            }\n            onOpenDebugger={this.props.onOpenDebugger}\n            onOpenMoreSettings={this.openLayoutChooser}\n            isActive={isActive}\n          />\n        )}\n        {!layout && (\n          <PlaceholderMessage>\n            To edit the external layout, choose the scene in which it will be\n            included:\n            <RaisedButton\n              label={<Trans>Choose the scene</Trans>}\n              primary\n              onClick={this.openLayoutChooser}\n            />\n          </PlaceholderMessage>\n        )}\n        <LayoutChooserDialog\n          title={<Trans>Choose the associated scene</Trans>}\n          open={this.state.layoutChooserOpen}\n          project={project}\n          onChoose={this.setAssociatedLayout}\n          onClose={() => this.setState({ layoutChooserOpen: false })}\n        />\n      </div>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport { I18n } from '@lingui/react';\nimport { type I18n as I18nType } from '@lingui/core';\nimport { t } from '@lingui/macro';\n\nimport * as React from 'react';\nimport uniq from 'lodash/uniq';\nimport ObjectsList from '../ObjectsList';\nimport ObjectGroupsList from '../ObjectGroupsList';\nimport ObjectsRenderingService from '../ObjectsRendering/ObjectsRenderingService';\nimport InstancesEditor from '../InstancesEditor';\nimport InstancePropertiesEditor from '../InstancesEditor/InstancePropertiesEditor';\nimport InstancesList from '../InstancesEditor/InstancesList';\nimport LayersList from '../LayersList';\nimport LayerRemoveDialog from '../LayersList/LayerRemoveDialog';\nimport VariablesEditorDialog from '../VariablesList/VariablesEditorDialog';\nimport ObjectEditorDialog from '../ObjectEditor/ObjectEditorDialog';\nimport ObjectGroupEditorDialog from '../ObjectGroupEditor/ObjectGroupEditorDialog';\nimport InstancesSelection from './InstancesSelection';\nimport SetupGridDialog from './SetupGridDialog';\nimport ScenePropertiesDialog from './ScenePropertiesDialog';\nimport Toolbar from './Toolbar';\nimport {\n  serializeToJSObject,\n  unserializeFromJSObject,\n} from '../Utils/Serializer';\nimport Clipboard from '../Utils/Clipboard';\nimport { passFullSize } from '../UI/FullSizeMeasurer';\nimport { addScrollbars } from '../InstancesEditor/ScrollbarContainer';\nimport { type PreviewOptions } from '../Export/PreviewLauncher.flow';\nimport Drawer from 'material-ui/Drawer';\nimport IconButton from 'material-ui/IconButton';\nimport NavigationClose from 'material-ui/svg-icons/navigation/close';\nimport EditorMosaic, { MosaicWindow } from '../UI/EditorMosaic';\nimport EditorBar from '../UI/EditorBar';\nimport InfoBar from '../UI/Messages/InfoBar';\nimport ContextMenu from '../UI/Menu/ContextMenu';\nimport { showWarningBox } from '../UI/Messages/MessageBox';\nimport { shortenString } from '../Utils/StringHelpers';\nimport { roundPosition } from '../Utils/GridHelpers';\nimport getObjectByName from '../Utils/GetObjectByName';\n\nimport {\n  type ResourceSource,\n  type ChooseResourceFunction,\n} from '../ResourcesList/ResourceSource.flow';\nimport { type ResourceExternalEditor } from '../ResourcesList/ResourceExternalEditor.flow';\nimport {\n  type HistoryState,\n  undo,\n  redo,\n  canUndo,\n  canRedo,\n  getHistoryInitialState,\n  saveToHistory,\n} from '../Utils/History';\nimport PixiResourcesLoader from '../ObjectsRendering/PixiResourcesLoader';\nimport {\n  type ObjectWithContext,\n  type GroupWithContext,\n  enumerateObjects,\n} from '../ObjectsList/EnumerateObjects';\nimport TagsButton from '../UI/EditorMosaic/TagsButton';\nimport CloseButton from '../UI/EditorMosaic/CloseButton';\nimport { buildTagsMenuTemplate, getTagsFromString } from '../Utils/TagsHelper';\nconst gd = global.gd;\n\nconst INSTANCES_CLIPBOARD_KIND = 'Instances';\n\nconst FullSizeInstancesEditor = passFullSize(addScrollbars(InstancesEditor), {\n  useFlex: true,\n});\n\nconst styles = {\n  container: {\n    display: 'flex',\n    flex: 1,\n    position: 'relative',\n    overflow: 'hidden',\n  },\n};\n\ntype Props = {|\n  initialInstances: gdInitialInstancesContainer,\n  initialUiSettings: Object,\n  layout: gdLayout,\n  onEditObject: (object: gdObject) => void,\n  onOpenDebugger: () => void,\n  onOpenMoreSettings: () => void,\n  onPreview: (options: PreviewOptions) => void,\n  project: gdProject,\n  setToolbar: (?React.Node) => void,\n  showNetworkPreviewButton: boolean,\n  showObjectsList: boolean,\n  showPreviewButton: boolean,\n  resourceSources: Array<ResourceSource>,\n  onChooseResource: ChooseResourceFunction,\n  resourceExternalEditors: Array<ResourceExternalEditor>,\n  isActive: boolean,\n|};\n\ntype State = {|\n  objectsListOpen: boolean,\n  instancesListOpen: boolean,\n  setupGridOpen: boolean,\n  scenePropertiesDialogOpen: boolean,\n  layersListOpen: boolean,\n  layerRemoveDialogOpen: boolean,\n  onCloseLayerRemoveDialog: ?(doRemove: boolean, newLayer: string) => void,\n  layerRemoved: ?string,\n  editedObjectWithContext: ?ObjectWithContext,\n  variablesEditedInstance: ?gdInitialInstance,\n  variablesEditedObject: ?gdObject,\n  selectedObjectNames: Array<string>,\n  newObjectInstancePosition: ?[number, number],\n\n  editedGroup: ?gdObjectGroup,\n\n  // State for \"drag'n'dropping\" from the objects list to the instances editor:\n  objectDraggedFromList: ?gdObject,\n  canDropDraggedObject: boolean,\n\n  uiSettings: Object,\n  history: HistoryState,\n\n  showObjectsListInfoBar: boolean,\n  layoutVariablesDialogOpen: boolean,\n  showPropertiesInfoBar: boolean,\n\n  // State for tags of objects:\n  selectedObjectTags: Array<string>,\n|};\n\ntype CopyCutPasteOptions = { useLastCursorPosition?: boolean };\n\nexport default class SceneEditor extends React.Component<Props, State> {\n  static defaultProps = {\n    showObjectsList: true,\n    setToolbar: () => {},\n  };\n\n  zOrderFinder: ?gd.HighestZOrderFinder;\n  instancesSelection: InstancesSelection;\n  editor: ?InstancesEditor;\n  contextMenu: ?ContextMenu;\n  editorMosaic: ?EditorMosaic;\n  _objectsList: ?ObjectsList;\n  _propertiesEditor: ?InstancePropertiesEditor;\n\n  constructor(props: Props) {\n    super(props);\n\n    this.instancesSelection = new InstancesSelection();\n    this.state = {\n      objectsListOpen: false,\n      instancesListOpen: false,\n      setupGridOpen: false,\n      scenePropertiesDialogOpen: false,\n      layersListOpen: false,\n      layerRemoveDialogOpen: false,\n      onCloseLayerRemoveDialog: null,\n      layerRemoved: null,\n      editedObjectWithContext: null,\n      variablesEditedInstance: null,\n      variablesEditedObject: null,\n      selectedObjectNames: [],\n      newObjectInstancePosition: null,\n      editedGroup: null,\n\n      // State for \"drag'n'dropping\" from the objects list to the instances editor:\n      objectDraggedFromList: null,\n      canDropDraggedObject: false,\n\n      uiSettings: props.initialUiSettings,\n      history: getHistoryInitialState(props.initialInstances, {\n        historyMaxSize: 50,\n      }),\n\n      showObjectsListInfoBar: false,\n      layoutVariablesDialogOpen: false,\n      showPropertiesInfoBar: false,\n\n      selectedObjectTags: [],\n    };\n  }\n\n  componentWillMount() {\n    this.zOrderFinder = new gd.HighestZOrderFinder();\n  }\n\n  getUiSettings() {\n    return this.state.uiSettings;\n  }\n\n  updateToolbar() {\n    this.props.setToolbar(\n      <Toolbar\n        showPreviewButton={this.props.showPreviewButton}\n        onPreview={() => this.props.onPreview({})}\n        showNetworkPreviewButton={this.props.showNetworkPreviewButton}\n        onNetworkPreview={() => this.props.onPreview({ networkPreview: true })}\n        onOpenDebugger={() => {\n          this.props.onOpenDebugger();\n          this.props.onPreview({});\n        }}\n        showObjectsList={this.props.showObjectsList}\n        instancesSelection={this.instancesSelection}\n        openObjectsList={this.openObjectsList}\n        openObjectGroupsList={this.openObjectGroupsList}\n        openProperties={this.openProperties}\n        deleteSelection={this.deleteSelection}\n        toggleInstancesList={this.toggleInstancesList}\n        toggleLayersList={this.toggleLayersList}\n        toggleWindowMask={this.toggleWindowMask}\n        toggleGrid={this.toggleGrid}\n        isGridShown={() => !!this.state.uiSettings.grid}\n        isWindowMaskShown={() => !!this.state.uiSettings.windowMask}\n        openSetupGrid={this.openSetupGrid}\n        setZoomFactor={this.setZoomFactor}\n        canUndo={canUndo(this.state.history)}\n        canRedo={canRedo(this.state.history)}\n        undo={this.undo}\n        redo={this.redo}\n        zoomIn={this.zoomIn}\n        zoomOut={this.zoomOut}\n        onOpenSettings={this.openSceneProperties}\n      />\n    );\n  }\n\n  componentWillReceiveProps(nextProps: Props) {\n    if (\n      this.props.layout !== nextProps.layout ||\n      this.props.initialInstances !== nextProps.initialInstances ||\n      this.props.project !== nextProps.project\n    ) {\n      this.instancesSelection.clearSelection();\n      this.openSetupGrid(false);\n      this.editInstanceVariables(null);\n      this.openSceneProperties(false);\n    }\n  }\n\n  openObjectsList = () => {\n    if (!this.editorMosaic) return;\n    if (!this.editorMosaic.openEditor('objects-list')) {\n      this.setState({\n        showObjectsListInfoBar: true,\n      });\n    }\n  };\n\n  openProperties = () => {\n    if (!this.editorMosaic) return;\n    if (!this.editorMosaic.openEditor('properties')) {\n      this.setState({\n        showPropertiesInfoBar: true,\n      });\n    }\n  };\n\n  openObjectGroupsList = () => {\n    if (!this.editorMosaic) return;\n    this.editorMosaic.openEditor('object-groups-list');\n  };\n\n  toggleInstancesList = () => {\n    this.setState({ instancesListOpen: !this.state.instancesListOpen });\n  };\n\n  toggleLayersList = () => {\n    this.setState({ layersListOpen: !this.state.layersListOpen });\n  };\n\n  toggleWindowMask = () => {\n    this.setState({\n      uiSettings: {\n        ...this.state.uiSettings,\n        windowMask: !this.state.uiSettings.windowMask,\n      },\n    });\n  };\n\n  toggleGrid = () => {\n    this.setState({\n      uiSettings: {\n        ...this.state.uiSettings,\n        grid: !this.state.uiSettings.grid,\n        snap: !this.state.uiSettings.grid,\n      },\n    });\n  };\n\n  openSetupGrid = (open: boolean = true) => {\n    this.setState({ setupGridOpen: open });\n  };\n\n  openSceneProperties = (open: boolean = true) => {\n    this.setState({ scenePropertiesDialogOpen: open });\n  };\n\n  openObjectEditor = () => {\n    if (!this.instancesSelection.hasSelectedInstances()) {\n      return;\n    }\n    const selectedInstanceObjectName = this.instancesSelection\n      .getSelectedInstances()[0]\n      .getObjectName();\n    this.editObjectByName(selectedInstanceObjectName);\n  };\n\n  editInstanceVariables = (instance: ?gdInitialInstance) => {\n    this.setState({ variablesEditedInstance: instance });\n  };\n\n  editObjectVariables = (object: ?gdObject) => {\n    this.setState({ variablesEditedObject: object });\n  };\n\n  editLayoutVariables = (open: boolean = true) => {\n    this.setState({ layoutVariablesDialogOpen: open });\n  };\n\n  editObject = (editedObject: ?gdObject) => {\n    const { project } = this.props;\n    if (editedObject) {\n      this.setState({\n        editedObjectWithContext: {\n          object: editedObject,\n          global: project.hasObjectNamed(editedObject.getName()),\n        },\n      });\n    } else {\n      this.setState({\n        editedObjectWithContext: null,\n      });\n    }\n  };\n\n  editObjectByName = (objectName: string) => {\n    const { project, layout } = this.props;\n    if (layout.hasObjectNamed(objectName))\n      this.editObject(layout.getObject(objectName));\n    else if (project.hasObjectNamed(objectName))\n      this.editObject(project.getObject(objectName));\n  };\n\n  /**\n   * Called when an object is started to be dragged from the object list.\n   * See `_onPointerOverInstancesEditor`, `_onPointerOutInstancesEditor` and\n   * `_onPointerUpInstancesEditor` for the drag'n'drop workflow.\n   */\n  _onStartDraggingObjectFromList = (object: gdObject) => {\n    // \"Hijack\" the name of the object that is dragged in the objects list.\n    // We'll then listen to \"pointer over\" events to see if the object\n    // is the dragged on the instances editor.\n    this.setState({\n      objectDraggedFromList: object,\n    });\n  };\n\n  _onEndDraggingObjectFromList = () => {\n    // If the dragged object is not being dropped on the instances editor,\n    // clear the dragged object so that we don't keep it the state (otherwise\n    // we could think later that a dragging is still occuring when cursor\n    // is over the instances editor).\n    if (!this.state.canDropDraggedObject) {\n      this.setState({\n        objectDraggedFromList: null,\n      });\n    }\n  };\n\n  _onPointerOverInstancesEditor = () => {\n    // If an object is dragged, and cursor is over the instances editor,\n    // mark in the state that we can drop an instance of this object.\n    if (this.state.objectDraggedFromList && !this.state.canDropDraggedObject) {\n      this.setState({\n        canDropDraggedObject: true,\n      });\n    }\n  };\n\n  _onPointerOutInstancesEditor = () => {\n    // If cursor is going out of the instances editor,\n    // mark in the state that we cannot drop an instance anymore.\n    if (this.state.canDropDraggedObject) {\n      this.setState({\n        canDropDraggedObject: false,\n      });\n    }\n  };\n\n  _onPointerUpInstancesEditor = () => {\n    if (this.state.canDropDraggedObject) {\n      if (this.editor) {\n        const cursorPosition = this.editor.getLastCursorPosition();\n\n        if (this.state.objectDraggedFromList)\n          this._addInstance(\n            cursorPosition[0],\n            cursorPosition[1],\n            this.state.objectDraggedFromList.getName()\n          );\n      }\n      // Wait 30ms after dropping the object before reseting the canDropDraggedObject state boolean\n      // to ensure ObjectsList will be prevented to actually move object in the list.\n      setTimeout(\n        () =>\n          this.setState({\n            canDropDraggedObject: false,\n            objectDraggedFromList: null,\n          }),\n        30 // This value is very conservative, and timeout may not be needed at all\n      );\n    }\n  };\n\n  editGroup = (group: ?gdObjectGroup) => {\n    this.setState({ editedGroup: group });\n  };\n\n  setUiSettings = (uiSettings: Object) => {\n    this.setState({\n      uiSettings: {\n        ...this.state.uiSettings,\n        ...uiSettings,\n      },\n    });\n  };\n\n  undo = () => {\n    this.instancesSelection.clearSelection();\n    this.setState(\n      {\n        history: undo(this.state.history, this.props.initialInstances),\n      },\n      () => {\n        // /!\\ Force the instances editor to destroy and mount again the\n        // renderers to avoid keeping any references to existing instances\n        if (this.editor) this.editor.forceRemount();\n        this.updateToolbar();\n      }\n    );\n  };\n\n  redo = () => {\n    this.instancesSelection.clearSelection();\n    this.setState(\n      {\n        history: redo(this.state.history, this.props.initialInstances),\n      },\n      () => {\n        // /!\\ Force the instances editor to destroy and mount again the\n        // renderers to avoid keeping any references to existing instances\n        if (this.editor) this.editor.forceRemount();\n        this.updateToolbar();\n      }\n    );\n  };\n\n  _onObjectSelected = (selectedObjectName: string) => {\n    if (!selectedObjectName) {\n      this.setState({\n        selectedObjectNames: [],\n      });\n    } else {\n      this.setState({\n        selectedObjectNames: [selectedObjectName],\n      });\n    }\n  };\n\n  _createNewObjectAndInstanceUnderCursor = () => {\n    if (!this.editor) {\n      return;\n    }\n\n    // Remember where to create the instance, when the object will be created\n    this.setState({\n      newObjectInstancePosition: this.editor.getLastCursorPosition(),\n    });\n\n    if (this._objectsList)\n      this._objectsList.setState({ newObjectDialogOpen: true });\n  };\n\n  _onAddInstanceUnderCursor = () => {\n    if (!this.state.selectedObjectNames.length || !this.editor) {\n      return;\n    }\n\n    const objectSelected = this.state.selectedObjectNames[0];\n    const cursorPosition = this.editor.getLastCursorPosition();\n    this._addInstance(cursorPosition[0], cursorPosition[1], objectSelected);\n    this.setState({\n      selectedObjectNames: [objectSelected],\n    });\n  };\n\n  _addInstance = (x: number, y: number, objectName: string) => {\n    if (!objectName) return;\n\n    const instance = this.props.initialInstances.insertNewInitialInstance();\n    instance.setObjectName(objectName);\n    if (this.state.uiSettings.grid) {\n      x = roundPosition(\n        x,\n        this.state.uiSettings.gridWidth,\n        this.state.uiSettings.gridOffsetX\n      );\n      y = roundPosition(\n        y,\n        this.state.uiSettings.gridHeight,\n        this.state.uiSettings.gridOffsetY\n      );\n    }\n    instance.setX(x);\n    instance.setY(y);\n    this.props.initialInstances.iterateOverInstances(this.zOrderFinder);\n    if (this.zOrderFinder) {\n      instance.setZOrder(this.zOrderFinder.getHighestZOrder() + 1);\n    }\n    this.setState(\n      {\n        selectedObjectNames: [],\n        history: saveToHistory(this.state.history, this.props.initialInstances),\n      },\n      () => this.updateToolbar()\n    );\n  };\n\n  _onInstancesSelected = (instances: Array<gdInitialInstance>) => {\n    this.setState({\n      selectedObjectNames: uniq(\n        instances.map(instance => instance.getObjectName())\n      ),\n    });\n    this.forceUpdatePropertiesEditor();\n    this.updateToolbar();\n  };\n\n  _onInstancesMoved = (instances: Array<gdInitialInstance>) => {\n    this.setState(\n      {\n        history: saveToHistory(this.state.history, this.props.initialInstances),\n      },\n      () => this.forceUpdatePropertiesEditor()\n    );\n  };\n\n  _onInstancesResized = (instances: Array<gdInitialInstance>) => {\n    this.setState(\n      {\n        history: saveToHistory(this.state.history, this.props.initialInstances),\n      },\n      () => this.forceUpdatePropertiesEditor()\n    );\n  };\n\n  _onInstancesRotated = (instances: Array<gdInitialInstance>) => {\n    this.setState(\n      {\n        history: saveToHistory(this.state.history, this.props.initialInstances),\n      },\n      () => this.forceUpdatePropertiesEditor()\n    );\n  };\n\n  _onInstancesModified = (instances: Array<gdInitialInstance>) => {\n    this.forceUpdate();\n    //TODO: Save for redo with debounce (and cancel on unmount)\n  };\n\n  _onSelectInstances = (\n    instances: Array<gdInitialInstance>,\n    centerView: boolean = true\n  ) => {\n    this.instancesSelection.selectInstances(instances, false);\n\n    if (centerView) {\n      if (this.editor) this.editor.centerViewOn(instances);\n    }\n    this.forceUpdatePropertiesEditor();\n    this.updateToolbar();\n  };\n\n  /**\n   * Create an instance of the given object, at the position\n   * previously chosen (see `newObjectInstancePosition`).\n   */\n  _addNewObjectInstance = (newObjectName: string) => {\n    const { newObjectInstancePosition } = this.state;\n    if (!newObjectInstancePosition) {\n      return;\n    }\n\n    this._addInstance(\n      newObjectInstancePosition[0],\n      newObjectInstancePosition[1],\n      newObjectName\n    );\n    this.setState({ newObjectInstancePosition: null });\n  };\n\n  _onRemoveLayer = (layerName: string, done: boolean => void) => {\n    this.setState({\n      layerRemoveDialogOpen: true,\n      layerRemoved: layerName,\n      onCloseLayerRemoveDialog: (doRemove, newLayer) => {\n        this.setState(\n          {\n            layerRemoveDialogOpen: false,\n          },\n          () => {\n            if (doRemove) {\n              if (newLayer === null) {\n                this.props.initialInstances.removeAllInstancesOnLayer(\n                  layerName\n                );\n              } else {\n                this.props.initialInstances.moveInstancesToLayer(\n                  layerName,\n                  newLayer\n                );\n              }\n            }\n\n            done(doRemove);\n            // /!\\ Force the instances editor to destroy and mount again the\n            // renderers to avoid keeping any references to existing instances\n            if (this.editor) this.editor.forceRemount();\n            this.updateToolbar();\n          }\n        );\n      },\n    });\n  };\n\n  _onRenameLayer = (\n    oldName: string,\n    newName: string,\n    done: boolean => void\n  ) => {\n    this.props.initialInstances.moveInstancesToLayer(oldName, newName);\n    done(true);\n  };\n\n  _onDeleteObject = (\n    objectWithContext: ObjectWithContext,\n    done: boolean => void\n  ) => {\n    const { object, global } = objectWithContext;\n    const { project, layout } = this.props;\n\n    //eslint-disable-next-line\n    const answer = confirm(\n      'Do you want to remove all references to this object in groups and events (actions and conditions using the object)?'\n    );\n\n    if (global) {\n      gd.WholeProjectRefactorer.globalObjectRemoved(\n        project,\n        object.getName(),\n        !!answer\n      );\n    } else {\n      gd.WholeProjectRefactorer.objectRemovedInLayout(\n        project,\n        layout,\n        object.getName(),\n        !!answer\n      );\n    }\n    done(true);\n  };\n\n  _canObjectUseNewName = (\n    objectWithContext: ObjectWithContext,\n    newName: string\n  ) => {\n    const { project, layout } = this.props;\n    const { object } = objectWithContext;\n\n    if (object.getName() === newName) {\n      return true;\n    } else if (\n      layout.hasObjectNamed(newName) ||\n      project.hasObjectNamed(newName)\n    ) {\n      showWarningBox('Another object with this name already exists.');\n      return false;\n    } else if (!gd.Project.validateObjectName(newName)) {\n      showWarningBox(\n        'This name contains forbidden characters: please only use alphanumeric characters (0-9, a-z) and underscores in your object name.'\n      );\n      return false;\n    }\n\n    return true;\n  };\n\n  _onRenameEditedObject = (newName: string) => {\n    const { editedObjectWithContext } = this.state;\n\n    if (editedObjectWithContext) {\n      this._onRenameObject(editedObjectWithContext, newName, () => {});\n    }\n  };\n\n  _onRenameObject = (\n    objectWithContext: ObjectWithContext,\n    newName: string,\n    done: boolean => void\n  ) => {\n    const { object, global } = objectWithContext;\n    const { project, layout } = this.props;\n\n    if (!gd.Project.validateObjectName(newName)) {\n      done(false);\n      return;\n    }\n\n    // Avoid triggering renaming refactoring if name has not really changed\n    if (object.getName() !== newName) {\n      if (global) {\n        gd.WholeProjectRefactorer.globalObjectRenamed(\n          project,\n          object.getName(),\n          newName\n        );\n      } else {\n        gd.WholeProjectRefactorer.objectRenamedInLayout(\n          project,\n          layout,\n          object.getName(),\n          newName\n        );\n      }\n    }\n\n    object.setName(newName);\n    done(true);\n  };\n\n  _onDeleteGroup = (\n    groupWithScope: GroupWithContext,\n    done: boolean => void\n  ) => {\n    //TODO: implement and launch refactoring (using gd.WholeProjectRefactorer)\n    done(true);\n  };\n\n  _onRenameGroup = (\n    groupWithScope: GroupWithContext,\n    newName: string,\n    done: boolean => void\n  ) => {\n    //TODO: implement and launch refactoring (using gd.WholeProjectRefactorer)\n    done(true);\n  };\n\n  deleteSelection = () => {\n    const selectedInstances = this.instancesSelection.getSelectedInstances();\n    selectedInstances.map(instance =>\n      this.props.initialInstances.removeInstance(instance)\n    );\n\n    this.instancesSelection.clearSelection();\n    if (this.editor) this.editor.clearHighlightedInstance();\n\n    this.setState(\n      {\n        selectedObjectNames: [],\n        history: saveToHistory(this.state.history, this.props.initialInstances),\n      },\n      () => {\n        this.updateToolbar();\n        this.forceUpdatePropertiesEditor();\n      }\n    );\n  };\n\n  setZoomFactor = (zoomFactor: number) => {\n    if (this.editor) this.editor.setZoomFactor(zoomFactor);\n  };\n\n  zoomIn = () => {\n    if (this.editor) this.editor.zoomBy(0.1);\n  };\n\n  zoomOut = () => {\n    if (this.editor) this.editor.zoomBy(-0.1);\n  };\n\n  _onContextMenu = (x: number, y: number) => {\n    if (this.contextMenu) this.contextMenu.open(x, y);\n  };\n\n  copySelection = ({ useLastCursorPosition }: CopyCutPasteOptions = {}) => {\n    const serializedSelection = this.instancesSelection\n      .getSelectedInstances()\n      .map(instance => serializeToJSObject(instance));\n\n    if (this.editor) {\n      const position = useLastCursorPosition\n        ? this.editor.getLastCursorPosition()\n        : this.editor.getLastContextMenuPosition();\n      Clipboard.set(INSTANCES_CLIPBOARD_KIND, {\n        x: position[0],\n        y: position[1],\n        instances: serializedSelection,\n      });\n    }\n  };\n\n  cutSelection = (options: CopyCutPasteOptions = {}) => {\n    this.copySelection(options);\n    this.deleteSelection();\n  };\n\n  paste = ({ useLastCursorPosition }: CopyCutPasteOptions = {}) => {\n    const clipboardContent = Clipboard.get(INSTANCES_CLIPBOARD_KIND);\n    if (!clipboardContent || !this.editor) return;\n\n    const position = useLastCursorPosition\n      ? this.editor.getLastCursorPosition()\n      : this.editor.getLastContextMenuPosition();\n    const { x, y } = clipboardContent;\n    clipboardContent.instances\n      .map(serializedInstance => {\n        const instance = new gd.InitialInstance();\n        unserializeFromJSObject(instance, serializedInstance);\n        return instance;\n      })\n      .forEach(instance => {\n        instance.setX(instance.getX() - x + position[0]);\n        instance.setY(instance.getY() - y + position[1]);\n        this.props.initialInstances.insertInitialInstance(instance);\n        instance.delete();\n      });\n  };\n\n  updateBehaviorsSharedData = () => {\n    const { layout, project } = this.props;\n    layout.updateBehaviorsSharedData(project);\n  };\n\n  forceUpdateObjectsList = () => {\n    if (this._objectsList) this._objectsList.forceUpdateList();\n  };\n\n  forceUpdatePropertiesEditor = () => {\n    if (this._propertiesEditor) this._propertiesEditor.forceUpdate();\n  };\n\n  reloadResourcesFor = (object: gdObject) => {\n    const { project } = this.props;\n\n    const resourcesInUse = new gd.ResourcesInUseHelper();\n    object.exposeResources(resourcesInUse);\n    const objectResourceNames = resourcesInUse\n      .getAllImages()\n      .toNewVectorString()\n      .toJSArray();\n\n    PixiResourcesLoader.loadTextures(\n      project,\n      objectResourceNames,\n      () => {},\n      () => {\n        if (this.editor) this.editor.resetRenderersFor(object.getName());\n      }\n    );\n  };\n\n  _getAllObjectTags = (): Array<string> => {\n    const { project, layout } = this.props;\n\n    const tagsSet: Set<string> = new Set();\n    enumerateObjects(project, layout).allObjectsList.forEach(({ object }) => {\n      getTagsFromString(object.getTags()).forEach(tag => tagsSet.add(tag));\n    });\n\n    return Array.from(tagsSet);\n  };\n\n  _buildObjectTagsMenuTemplate = (i18n: I18nType): Array<any> => {\n    const { selectedObjectTags } = this.state;\n\n    return buildTagsMenuTemplate({\n      noTagLabel: i18n._(t`No tags - add a tag to an object first`),\n      getAllTags: this._getAllObjectTags,\n      selectedTags: selectedObjectTags,\n      onChange: selectedObjectTags => {\n        this.setState({ selectedObjectTags });\n      },\n    });\n  };\n\n  render() {\n    const {\n      project,\n      layout,\n      initialInstances,\n      resourceSources,\n      onChooseResource,\n      resourceExternalEditors,\n      isActive,\n    } = this.props;\n    const selectedInstances = this.instancesSelection.getSelectedInstances();\n\n    const editors = {\n      properties: (\n        <MosaicWindow title={<Trans>Properties</Trans>}>\n          <InstancePropertiesEditor\n            project={project}\n            layout={layout}\n            instances={selectedInstances}\n            editInstanceVariables={this.editInstanceVariables}\n            editObjectVariables={this.editObjectVariables}\n            onEditObjectByName={this.editObjectByName}\n            ref={propertiesEditor =>\n              (this._propertiesEditor = propertiesEditor)\n            }\n          />\n        </MosaicWindow>\n      ),\n      'instances-editor': (\n        <FullSizeInstancesEditor\n          project={project}\n          layout={layout}\n          initialInstances={initialInstances}\n          onAddInstance={this._addInstance}\n          options={this.state.uiSettings}\n          onChangeOptions={this.setUiSettings}\n          instancesSelection={this.instancesSelection}\n          onDeleteSelection={this.deleteSelection}\n          onInstancesSelected={this._onInstancesSelected}\n          onInstancesMoved={this._onInstancesMoved}\n          onInstancesResized={this._onInstancesResized}\n          onInstancesRotated={this._onInstancesRotated}\n          onPointerUp={this._onPointerUpInstancesEditor}\n          onPointerOver={this._onPointerOverInstancesEditor}\n          onPointerOut={this._onPointerOutInstancesEditor}\n          onContextMenu={this._onContextMenu}\n          onCopy={() => this.copySelection({ useLastCursorPosition: true })}\n          onCut={() => this.cutSelection({ useLastCursorPosition: true })}\n          onPaste={() => this.paste({ useLastCursorPosition: true })}\n          onUndo={this.undo}\n          onRedo={this.redo}\n          onZoomOut={this.zoomOut}\n          onZoomIn={this.zoomIn}\n          showDropCursor={this.state.canDropDraggedObject}\n          wrappedEditorRef={editor => (this.editor = editor)}\n          pauseRendering={!isActive}\n        />\n      ),\n      'objects-list': (\n        <MosaicWindow\n          title={<Trans>Objects</Trans>}\n          toolbarControls={[\n            <I18n key=\"tags\">\n              {({ i18n }) => (\n                <TagsButton\n                  buildMenuTemplate={() =>\n                    this._buildObjectTagsMenuTemplate(i18n)\n                  }\n                />\n              )}\n            </I18n>,\n            <CloseButton key=\"close\" />,\n          ]}\n          selectedObjectNames={\n            this.state\n              .selectedObjectNames /*Ensure MosaicWindow content is updated when selectedObjectNames changes*/\n          }\n          canDropDraggedObject={\n            this.state\n              .canDropDraggedObject /*Ensure MosaicWindow content is updated when canDropDraggedObject changes*/\n          }\n          selectedObjectTags={\n            this.state\n              .selectedObjectTags /*Ensure MosaicWindow content is updated when selectedObjectTags changes*/\n          }\n        >\n          <ObjectsList\n            getThumbnail={ObjectsRenderingService.getThumbnail.bind(\n              ObjectsRenderingService\n            )}\n            project={project}\n            objectsContainer={layout}\n            selectedObjectNames={this.state.selectedObjectNames}\n            onEditObject={this.props.onEditObject || this.editObject}\n            onDeleteObject={this._onDeleteObject}\n            canRenameObject={(\n              objectWithContext: ObjectWithContext,\n              newName: string\n            ) => {\n              return this._canObjectUseNewName(objectWithContext, newName);\n            }}\n            onObjectCreated={this._addNewObjectInstance}\n            onObjectSelected={this._onObjectSelected}\n            onRenameObject={this._onRenameObject}\n            onObjectPasted={() => this.updateBehaviorsSharedData()}\n            onStartDraggingObject={this._onStartDraggingObjectFromList}\n            onEndDraggingObject={this._onEndDraggingObjectFromList}\n            canMoveObjects={!this.state.canDropDraggedObject}\n            selectedObjectTags={this.state.selectedObjectTags}\n            onChangeSelectedObjectTags={selectedObjectTags =>\n              this.setState({\n                selectedObjectTags,\n              })\n            }\n            getAllObjectTags={this._getAllObjectTags}\n            ref={objectsList => (this._objectsList = objectsList)}\n          />\n        </MosaicWindow>\n      ),\n      'object-groups-list': (\n        <MosaicWindow title={<Trans>Object Groups</Trans>}>\n          <ObjectGroupsList\n            globalObjectGroups={project.getObjectGroups()}\n            objectGroups={layout.getObjectGroups()}\n            onEditGroup={this.editGroup}\n            onDeleteGroup={this._onDeleteGroup}\n            onRenameGroup={this._onRenameGroup}\n          />\n        </MosaicWindow>\n      ),\n    };\n    return (\n      <div style={styles.container}>\n        <EditorMosaic\n          editors={editors}\n          ref={editorMosaic => (this.editorMosaic = editorMosaic)}\n          initialNodes={{\n            direction: 'row',\n            first: 'properties',\n            splitPercentage: 23,\n            second: {\n              direction: 'row',\n              first: 'instances-editor',\n              second: this.props.showObjectsList ? 'objects-list' : null,\n              splitPercentage: 77,\n            },\n          }}\n        />\n        {this.state.editedObjectWithContext && (\n          <ObjectEditorDialog\n            open\n            object={this.state.editedObjectWithContext.object}\n            project={project}\n            resourceSources={resourceSources}\n            resourceExternalEditors={resourceExternalEditors}\n            onChooseResource={onChooseResource}\n            onCancel={() => {\n              if (this.state.editedObjectWithContext) {\n                this.reloadResourcesFor(\n                  this.state.editedObjectWithContext.object\n                );\n              }\n              this.editObject(null);\n            }}\n            canRenameObject={tryName => {\n              return (\n                this.state.editedObjectWithContext &&\n                this._canObjectUseNewName(\n                  this.state.editedObjectWithContext,\n                  tryName\n                )\n              );\n            }}\n            onRename={newName => {\n              this._onRenameEditedObject(newName);\n            }}\n            onApply={() => {\n              if (this.state.editedObjectWithContext) {\n                this.reloadResourcesFor(\n                  this.state.editedObjectWithContext.object\n                );\n              }\n              this.editObject(null);\n              this.updateBehaviorsSharedData();\n              this.forceUpdateObjectsList();\n            }}\n          />\n        )}\n        <ObjectGroupEditorDialog\n          open={!!this.state.editedGroup}\n          group={this.state.editedGroup}\n          objectsContainer={layout}\n          globalObjectsContainer={project}\n          onCancel={() => this.editGroup(null)}\n          onApply={() => this.editGroup(null)}\n        />\n        <Drawer\n          open={this.state.instancesListOpen}\n          width={500}\n          openSecondary={true}\n          containerStyle={{ overflow: 'hidden' }}\n        >\n          <EditorBar\n            title={<Trans>Instances</Trans>}\n            iconElementLeft={\n              <IconButton onClick={this.toggleInstancesList}>\n                <NavigationClose />\n              </IconButton>\n            }\n          />\n          <InstancesList\n            freezeUpdate={!this.state.instancesListOpen}\n            instances={initialInstances}\n            selectedInstances={selectedInstances}\n            onSelectInstances={this._onSelectInstances}\n          />\n        </Drawer>\n        <Drawer\n          open={this.state.layersListOpen}\n          width={400}\n          openSecondary={true}\n        >\n          <EditorBar\n            title={<Trans>Layers</Trans>}\n            iconElementLeft={\n              <IconButton onClick={this.toggleLayersList}>\n                <NavigationClose />\n              </IconButton>\n            }\n          />\n          <LayersList\n            freezeUpdate={!this.state.layersListOpen}\n            onRemoveLayer={this._onRemoveLayer}\n            onRenameLayer={this._onRenameLayer}\n            layersContainer={layout}\n          />\n        </Drawer>\n        <InfoBar\n          message={\n            <Trans>\n              Drag and Drop the object to the scene or use the right click menu\n              to add an instance of it.\n            </Trans>\n          }\n          show={!!this.state.selectedObjectNames.length}\n        />\n        <InfoBar\n          message={\n            <Trans>\n              Objects panel is already opened: use it to add and edit objects.\n            </Trans>\n          }\n          show={!!this.state.showObjectsListInfoBar}\n        />\n        <InfoBar\n          message={<Trans>Properties panel is already opened.</Trans>}\n          show={!!this.state.showPropertiesInfoBar}\n        />\n        <SetupGridDialog\n          open={this.state.setupGridOpen}\n          gridOptions={this.state.uiSettings}\n          onCancel={() => this.openSetupGrid(false)}\n          onApply={gridOptions => {\n            this.setUiSettings(gridOptions);\n            this.openSetupGrid(false);\n          }}\n        />\n        <VariablesEditorDialog\n          open={!!this.state.variablesEditedInstance}\n          variablesContainer={\n            this.state.variablesEditedInstance &&\n            this.state.variablesEditedInstance.getVariables()\n          }\n          onCancel={() => this.editInstanceVariables(null)}\n          onApply={() => this.editInstanceVariables(null)}\n          emptyExplanationMessage=\"Instance variables will override the default values of the variables of the object.\"\n          title=\"Instance Variables\"\n          onEditObjectVariables={() => {\n            if (!this.instancesSelection.hasSelectedInstances()) {\n              return;\n            }\n            const associatedObjectName = this.instancesSelection\n              .getSelectedInstances()[0]\n              .getObjectName();\n            const object = getObjectByName(\n              project,\n              layout,\n              associatedObjectName\n            );\n            if (object) {\n              this.editObjectVariables(object);\n              this.editInstanceVariables(null);\n            }\n          }}\n        />\n        <VariablesEditorDialog\n          open={!!this.state.variablesEditedObject}\n          variablesContainer={\n            this.state.variablesEditedObject &&\n            this.state.variablesEditedObject.getVariables()\n          }\n          onCancel={() => this.editObjectVariables(null)}\n          onApply={() => this.editObjectVariables(null)}\n          emptyExplanationMessage=\"When you add variables to an object, any instance of the object put on the scene or created during the game will have these variables attached to it.\"\n          title=\"Object Variables\"\n        />\n        <LayerRemoveDialog\n          open={!!this.state.layerRemoveDialogOpen}\n          layersContainer={layout}\n          layerRemoved={this.state.layerRemoved}\n          onClose={this.state.onCloseLayerRemoveDialog}\n        />\n        {this.state.scenePropertiesDialogOpen && (\n          <ScenePropertiesDialog\n            open\n            project={project}\n            layout={layout}\n            onClose={() => this.openSceneProperties(false)}\n            onApply={() => this.openSceneProperties(false)}\n            onEditVariables={() => this.editLayoutVariables(true)}\n            onOpenMoreSettings={this.props.onOpenMoreSettings}\n          />\n        )}\n        <VariablesEditorDialog\n          open={!!this.state.layoutVariablesDialogOpen}\n          variablesContainer={layout.getVariables()}\n          onCancel={() => this.editLayoutVariables(false)}\n          onApply={() => this.editLayoutVariables(false)}\n          title=\"Scene variables\"\n          emptyExplanationMessage=\"Scene variables can be used to store any value or text during the game.\"\n          emptyExplanationSecondMessage=\"For example, you can have a variable called Score representing the current score of the player.\"\n        />\n        <ContextMenu\n          ref={contextMenu => (this.contextMenu = contextMenu)}\n          buildMenuTemplate={() => [\n            {\n              label: this.state.selectedObjectNames.length\n                ? 'Add an Instance of ' +\n                  shortenString(this.state.selectedObjectNames[0], 7)\n                : '',\n              click: () => this._onAddInstanceUnderCursor(),\n              visible: this.state.selectedObjectNames.length > 0,\n            },\n            {\n              label: 'Insert a New Object',\n              click: () => this._createNewObjectAndInstanceUnderCursor(),\n              visible: this.state.selectedObjectNames.length === 0,\n            },\n            {\n              label: this.state.selectedObjectNames.length\n                ? 'Edit Object ' +\n                  shortenString(this.state.selectedObjectNames[0], 14)\n                : '',\n              click: () =>\n                this.editObjectByName(this.state.selectedObjectNames[0]),\n              visible: this.state.selectedObjectNames.length > 0,\n            },\n            {\n              label: 'Scene properties',\n              click: () => this.openSceneProperties(true),\n            },\n            { type: 'separator' },\n            {\n              label: 'Copy',\n              click: () => this.copySelection(),\n              enabled: this.instancesSelection.hasSelectedInstances(),\n              accelerator: 'CmdOrCtrl+C',\n            },\n            {\n              label: 'Cut',\n              click: () => this.cutSelection(),\n              enabled: this.instancesSelection.hasSelectedInstances(),\n              accelerator: 'CmdOrCtrl+X',\n            },\n            {\n              label: 'Paste',\n              click: () => this.paste(),\n              enabled: Clipboard.has(INSTANCES_CLIPBOARD_KIND),\n              accelerator: 'CmdOrCtrl+V',\n            },\n            { type: 'separator' },\n            {\n              label: 'Undo',\n              click: this.undo,\n              enabled: canUndo(this.state.history),\n              accelerator: 'CmdOrCtrl+Z',\n            },\n            {\n              label: 'Redo',\n              click: this.redo,\n              enabled: canRedo(this.state.history),\n              accelerator: 'CmdOrCtrl+Shift+Z',\n            },\n            {\n              label: 'Delete',\n              click: () => this.deleteSelection(),\n              enabled: this.instancesSelection.hasSelectedInstances(),\n            },\n          ]}\n        />\n      </div>\n    );\n  }\n}\n","// @flow\nimport * as PIXI from 'pixi.js';\n\ntype Props = {|\n  initialViewX: number,\n  initialViewY: number,\n  width: number,\n  height: number,\n  options: any,\n|};\n\nexport default class ViewPosition {\n  viewX: number = 0;\n  viewY: number = 0;\n  _width: number;\n  _height: number;\n  options: any;\n  _pixiContainer = new PIXI.Container();\n\n  constructor({ initialViewX, initialViewY, width, height, options }: Props) {\n    this.viewX = initialViewX;\n    this.viewY = initialViewY;\n    this.options = options;\n    this.resize(width, height);\n  }\n\n  setOptions(options: any) {\n    this.options = options;\n  }\n\n  resize(width: number, height: number) {\n    this._width = width;\n    this._height = height;\n  }\n\n  getWidth() {\n    return this._width;\n  }\n\n  getHeight() {\n    return this._height;\n  }\n\n  /**\n   * Convert a point from the canvas coordinates (for example, the mouse position) to the\n   * \"world\" coordinates.\n   */\n  toSceneCoordinates = (x: number, y: number): [number, number] => {\n    x -= this._width / 2;\n    y -= this._height / 2;\n    x /= Math.abs(this._pixiContainer.scale.x);\n    y /= Math.abs(this._pixiContainer.scale.y);\n\n    var viewRotation = 0;\n    var tmp = x;\n    x =\n      Math.cos((viewRotation / 180) * Math.PI) * x -\n      Math.sin((viewRotation / 180) * Math.PI) * y;\n    y =\n      Math.sin((viewRotation / 180) * Math.PI) * tmp +\n      Math.cos((viewRotation / 180) * Math.PI) * y;\n\n    return [x + this.viewX, y + this.viewY];\n  };\n\n  /**\n   * Convert a point from the \"world\" coordinates (for example, an object position) to the\n   * canvas coordinates.\n   */\n  toCanvasCoordinates = (x: number, y: number): [number, number] => {\n    x -= this.viewX;\n    y -= this.viewY;\n\n    var viewRotation = -0;\n    var tmp = x;\n    x =\n      Math.cos((viewRotation / 180) * Math.PI) * x -\n      Math.sin((viewRotation / 180) * Math.PI) * y;\n    y =\n      Math.sin((viewRotation / 180) * Math.PI) * tmp +\n      Math.cos((viewRotation / 180) * Math.PI) * y;\n\n    x *= Math.abs(this._pixiContainer.scale.x);\n    y *= Math.abs(this._pixiContainer.scale.y);\n\n    return [x + this._width / 2, y + this._height / 2];\n  };\n\n  scrollBy(x: number, y: number) {\n    this.viewX += x;\n    this.viewY += y;\n  }\n\n  scrollTo(x: number, y: number) {\n    this.viewX = x;\n    this.viewY = y;\n  }\n\n  scrollToInstance(instance: gdInitialInstance) {\n    this.viewX = instance.getX();\n    this.viewY = instance.getY();\n  }\n\n  getViewX() {\n    return this.viewX;\n  }\n\n  getViewY() {\n    return this.viewY;\n  }\n\n  getPixiContainer() {\n    return this._pixiContainer;\n  }\n\n  render() {\n    this._pixiContainer.position.x = -this.viewX * this.options.zoomFactor;\n    this._pixiContainer.position.y = -this.viewY * this.options.zoomFactor;\n    this._pixiContainer.position.x += this._width / 2;\n    this._pixiContainer.position.y += this._height / 2;\n    this._pixiContainer.scale.x = this.options.zoomFactor;\n    this._pixiContainer.scale.y = this.options.zoomFactor;\n  }\n}\n","// @flow\n\nexport const roundPosition = (\n  pos: number,\n  gridSize: number,\n  gridOffset: number\n) => {\n  if (gridSize <= 0) {\n    return Math.round(pos);\n  }\n  return Math.floor((pos - gridOffset) / gridSize) * gridSize + gridOffset;\n};\n","import { mapFor } from '../Utils/MapFor';\n\nexport default layersContainer =>\n  mapFor(0, layersContainer.getLayersCount(), i => {\n    return {\n      value: layersContainer.getLayerAt(i).getName(),\n      label: layersContainer.getLayerAt(i).getName() || 'Base layer',\n    };\n  });\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport SelectField from 'material-ui/SelectField';\nimport MenuItem from 'material-ui/MenuItem';\n\nimport Toggle from 'material-ui/Toggle';\nimport { Line } from '../../../../UI/Grid';\nimport { mapFor } from '../../../../Utils/MapFor';\nimport { getCurrentElements } from './SpriteObjectHelper';\n\ntype Props = {|\n  spriteObject: gdSpriteObject,\n\n  animationIndex: number,\n  directionIndex: number,\n  spriteIndex: number,\n\n  chooseAnimation: number => void,\n  chooseDirection: number => void,\n  chooseSprite: number => void,\n\n  sameForAllAnimations: boolean,\n  sameForAllSprites: boolean,\n\n  setSameForAllAnimations: boolean => void,\n  setSameForAllSprites: number => void,\n\n  setSameForAllAnimationsLabel: string,\n  setSameForAllSpritesLabel: string,\n|};\n\n/**\n * A component that displays selector to browse the animations/directions/sprite\n * of a Sprite object. Also have toggles so that the user can choose if the edited property\n * (typically, the points or the collision masks of the sprite) should be shared between\n * all sprites of an animation, or between all sprites of all animations of the object.\n */\nexport default class SpriteSelector extends React.Component<Props, void> {\n  render() {\n    const {\n      spriteObject,\n      animationIndex,\n      directionIndex,\n      spriteIndex,\n      sameForAllAnimations,\n      sameForAllSprites,\n      chooseAnimation,\n      chooseDirection,\n      chooseSprite,\n      setSameForAllAnimations,\n      setSameForAllSprites,\n      setSameForAllAnimationsLabel,\n      setSameForAllSpritesLabel,\n    } = this.props;\n\n    const {\n      hasValidAnimation,\n      animation,\n      hasValidDirection,\n      direction,\n    } = getCurrentElements(\n      spriteObject,\n      animationIndex,\n      directionIndex,\n      spriteIndex\n    );\n\n    return (\n      <React.Fragment>\n        <Line>\n          <SelectField\n            floatingLabelText={<Trans>Animation</Trans>}\n            value={this.props.animationIndex}\n            onChange={(e, i, value) => chooseAnimation(value)}\n          >\n            {mapFor(0, spriteObject.getAnimationsCount(), i => {\n              const animation = spriteObject.getAnimation(i);\n              return (\n                <MenuItem\n                  key={i}\n                  value={i}\n                  primaryText={`Animation #${i} ${animation.getName()}`}\n                />\n              );\n            })}\n          </SelectField>\n          {hasValidAnimation && animation.getDirectionsCount() > 1 && (\n            <SelectField\n              floatingLabelText={<Trans>Direction</Trans>}\n              value={this.props.directionIndex}\n              onChange={(e, i, value) => chooseDirection(value)}\n            >\n              {mapFor(0, animation.getDirectionsCount(), i => {\n                return (\n                  <MenuItem value={i} key={i} primaryText={`Direction #${i}`} />\n                );\n              })}\n            </SelectField>\n          )}\n          {hasValidDirection && (\n            <SelectField\n              floatingLabelText={<Trans>Frame</Trans>}\n              value={this.props.spriteIndex}\n              onChange={(e, i, value) => chooseSprite(value)}\n            >\n              {mapFor(0, direction.getSpritesCount(), i => {\n                return (\n                  <MenuItem value={i} key={i} primaryText={`Frame #${i}`} />\n                );\n              })}\n            </SelectField>\n          )}\n        </Line>\n        <Toggle\n          label={setSameForAllAnimationsLabel}\n          labelPosition=\"right\"\n          toggled={sameForAllAnimations}\n          onToggle={(e, checked) => setSameForAllAnimations(checked)}\n        />\n        <Toggle\n          label={setSameForAllSpritesLabel}\n          labelPosition=\"right\"\n          toggled={sameForAllSprites}\n          onToggle={(e, checked) => setSameForAllSprites(checked)}\n        />\n      </React.Fragment>\n    );\n  }\n}\n","// @flow\nexport const isNullPtr = (\n  gd: libGDevelop,\n  object: gdEmscriptenObject\n): boolean => gd.getPointer(object) === 0;\n","import { Trans } from '@lingui/macro';\nimport React, { Component } from 'react';\nimport Snackbar from 'material-ui/Snackbar';\n\nexport default class InfoBar extends Component {\n  constructor() {\n    super();\n    this.state = {\n      dismissed: false,\n    };\n  }\n\n  handleGotIt = () => {\n    if (this.props.messageId) {\n      localStorage.setItem(\n        `gdevelop.hiddenMessages.${this.props.messageId}`,\n        true\n      );\n    }\n    this.setState({ dismissed: true });\n  };\n\n  componentWillReceiveProps(newProps) {\n    if (this.props.message !== newProps.message) {\n      this.setState({ dismissed: false });\n    }\n  }\n\n  render() {\n    const hidden =\n      this.props.messageId &&\n      localStorage.getItem(`gdevelop.hiddenMessages.${this.props.messageId}`);\n\n    return (\n      <Snackbar\n        open={this.props.show && !hidden && !this.state.dismissed}\n        message={this.props.message}\n        onRequestClose={() => this.setState({ dismissed: true })}\n        action={<Trans>Got it</Trans>}\n        onActionClick={this.handleGotIt}\n      />\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport SceneEditor from '../../SceneEditor';\nimport {\n  serializeToJSObject,\n  unserializeFromJSObject,\n} from '../../Utils/Serializer';\nimport BaseEditor from './BaseEditor';\nimport { type PreviewOptions } from '../../Export/PreviewLauncher.flow';\n\nexport default class SceneEditorContainer extends BaseEditor {\n  editor: ?SceneEditor;\n\n  shouldComponentUpdate(nextProps: *) {\n    // This optimization is a bit more cautious than the one is BaseEditor, to still allow\n    // children, and in particular SceneEditor and InstancesEditor, to be notified when isActive\n    // goes from true to false (in which case PIXI rendering is halted). If isActive was false\n    // and remains false, it's safe to stop update here (PIXI rendering is already halted).\n    if (!this.props.isActive && !nextProps.isActive) {\n      return false;\n    }\n\n    return true;\n  }\n\n  updateToolbar() {\n    if (this.editor) this.editor.updateToolbar();\n  }\n\n  getSerializedElements() {\n    const layout = this.getLayout();\n    if (!layout) return {};\n\n    return {\n      ...BaseEditor.getLayoutSerializedElements(layout),\n      instances: serializeToJSObject(layout.getInitialInstances()),\n      uiSettings: this.editor ? this.editor.getUiSettings() : {},\n    };\n  }\n\n  getLayout(): ?gdLayout {\n    const { project, layoutName } = this.props;\n    if (!project || !project.hasLayoutNamed(layoutName)) return null;\n\n    return project.getLayout(layoutName);\n  }\n\n  saveUiSettings = () => {\n    const layout = this.getLayout();\n    const editor = this.editor;\n\n    if (editor && layout) {\n      unserializeFromJSObject(\n        layout.getAssociatedSettings(),\n        editor.getUiSettings()\n      );\n    }\n  };\n\n  render() {\n    const { project, layoutName, isActive } = this.props;\n    const layout = this.getLayout();\n    if (!layout) {\n      //TODO: Error component\n      return <div>No layout called {layoutName} found!</div>;\n    }\n\n    return (\n      <SceneEditor\n        {...this.props}\n        ref={editor => (this.editor = editor)}\n        project={project}\n        layout={layout}\n        initialInstances={layout.getInitialInstances()}\n        initialUiSettings={serializeToJSObject(layout.getAssociatedSettings())}\n        onPreview={(options: PreviewOptions) =>\n          this.props.onPreview(project, layout, options)\n        }\n        onOpenDebugger={this.props.onOpenDebugger}\n        isActive={isActive}\n      />\n    );\n  }\n}\n","// @flow\nimport React from 'react';\n\nexport const watchPromiseInState = (\n  component: React.Component<*, *>,\n  stateField: string,\n  fn: () => Promise<any>\n) => {\n  component.setState({\n    [stateField]: true,\n  });\n  return fn()\n    .then(value => {\n      component.setState({\n        [stateField]: false,\n      });\n      return value;\n    })\n    .catch(err => {\n      component.setState({\n        [stateField]: false,\n      });\n      throw err;\n    });\n};\n","// @flow\nimport axios from 'axios';\nimport { GDevelopUsageApi } from './ApiConfigs';\n\nexport type Usage = {\n  id: string,\n  userId: string,\n  type: string,\n  createdAt: number,\n};\nexport type Usages = Array<Usage>;\n\nexport type Subscription = {|\n  userId: string,\n  planId: string | null,\n  createdAt: number,\n  updatedAt: number,\n  stripeSubscriptionId?: string,\n  stripeCustomerId?: string,\n|};\n\nexport type Limit = {|\n  limitReached: boolean,\n  current: number,\n  max: number,\n|};\n\nexport type Limits = {\n  [string]: Limit,\n};\n\nexport type PlanDetails = {\n  planId: string | null,\n  name: string,\n  monthlyPriceInEuros: number,\n  smallDescription: string,\n  descriptionBullets: Array<string>,\n  extraDescription?: string,\n};\n\nexport const getSubscriptionPlans = (): Array<PlanDetails> => [\n  {\n    planId: 'gdevelop_pro',\n    name: 'GDevelop Pro',\n    monthlyPriceInEuros: 7,\n    smallDescription: 'Ideal for advanced game makers',\n    descriptionBullets: [\n      'Package your game for Android up to 70 times a day.',\n      'One-click packaging for Windows, macOS and Linux up to 70 times a day.',\n      'Use Live Preview over Wifi to quickly test your game on mobiles and tablets.',\n      'Use the Debugger to find and solve issues in your games.',\n      'Immerse your players by removing GDevelop logo when the game loads.',\n    ],\n    extraDescription:\n      \"You'll also have access to online packaging for iOS or other services when they are released.\",\n  },\n  {\n    planId: 'gdevelop_indie',\n    name: 'GDevelop Indie',\n    monthlyPriceInEuros: 2,\n    smallDescription: 'Ideal for beginners',\n    descriptionBullets: [\n      'Package your game for Android up to 10 times a day.',\n      'One-click packaging for Windows, macOS and Linux up to 10 times a day.',\n      'Use Live Preview over Wifi to quickly test your game on mobiles and tablets',\n      'Use the Debugger to find and solve issues in your games.',\n      'Immerse your players by removing GDevelop logo when the game loads',\n    ],\n    extraDescription:\n      \"You'll also have access to online packaging for iOS or other services when they are released.\",\n  },\n  {\n    planId: null,\n    name: 'No subscription',\n    monthlyPriceInEuros: 0,\n    smallDescription: '',\n    descriptionBullets: [\n      'You can use GDevelop for free! Online packaging for Android, Windows, macOS and Linux is limited to twice a day to avoid overloading the services.',\n    ],\n  },\n];\n\nexport const getUserUsages = (\n  getAuthorizationHeader: () => Promise<string>,\n  userId: string\n): Promise<Usages> => {\n  return getAuthorizationHeader()\n    .then(authorizationHeader =>\n      axios.get(`${GDevelopUsageApi.baseUrl}/usage`, {\n        params: {\n          userId,\n        },\n        headers: {\n          Authorization: authorizationHeader,\n        },\n      })\n    )\n    .then(response => response.data);\n};\n\nexport const getUserLimits = (\n  getAuthorizationHeader: () => Promise<string>,\n  userId: string\n): Promise<Limits> => {\n  return getAuthorizationHeader()\n    .then(authorizationHeader =>\n      axios.get(`${GDevelopUsageApi.baseUrl}/limits`, {\n        params: {\n          userId,\n        },\n        headers: {\n          Authorization: authorizationHeader,\n        },\n      })\n    )\n    .then(response => response.data.limits);\n};\n\nexport const getUserSubscription = (\n  getAuthorizationHeader: () => Promise<string>,\n  userId: string\n): Promise<Subscription> => {\n  return getAuthorizationHeader()\n    .then(authorizationHeader =>\n      axios.get(`${GDevelopUsageApi.baseUrl}/subscription`, {\n        params: {\n          userId,\n        },\n        headers: {\n          Authorization: authorizationHeader,\n        },\n      })\n    )\n    .then(response => response.data);\n};\n\nexport const changeUserSubscription = (\n  getAuthorizationHeader: () => Promise<string>,\n  userId: string,\n  newSubscriptionDetails: { planId: string | null, stripeToken?: any }\n): Promise<Subscription> => {\n  return getAuthorizationHeader()\n    .then(authorizationHeader =>\n      axios.post(\n        `${GDevelopUsageApi.baseUrl}/subscription`,\n        newSubscriptionDetails,\n        {\n          params: {\n            userId,\n          },\n          headers: {\n            Authorization: authorizationHeader,\n          },\n        }\n      )\n    )\n    .then(response => response.data);\n};\n","// @flow\nimport { type I18n } from '@lingui/core';\n\ntype TranslationFunction = (string => string) | null;\ntype NotNullTranslationFunction = string => string;\n\n/**\n * Given the i18n object, return the function that can be used\n * to translate strings. Useful for wiring i18n to extensions\n * and libGD.js, where translations is done with a simple string\n * to string function.\n */\nexport const getTranslationFunction = (i18n: ?I18n): TranslationFunction => {\n  const i18nModule = i18n; // Make flow happy, ensure i18nModule is const.\n  if (i18nModule) {\n    return (str: string) => i18nModule._(str);\n  }\n\n  return null;\n};\n\n/**\n * Given the i18n object, return the function that can be used\n * to translate strings. Useful for wiring i18n to extensions\n * and libGD.js, where translations is done with a simple string\n * to string function.\n */\nexport const getNotNullTranslationFunction = (\n  i18n: ?I18n\n): NotNullTranslationFunction => {\n  const i18nModule = i18n; // Make flow happy, ensure i18nModule is const.\n  if (i18nModule) {\n    return (str: string) => i18nModule._(str);\n  }\n\n  return (str: string) => str;\n};\n","import { Trans } from '@lingui/macro';\nimport * as React from 'react';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport FlatButton from 'material-ui/FlatButton';\nimport { Spacer, Line } from '../../UI/Grid';\nimport EmptyMessage from '../../UI/EmptyMessage';\nimport difference_in_seconds from 'date-fns/difference_in_seconds';\nimport LinearProgress from 'material-ui/LinearProgress';\n\nconst buildTypesConfig = {\n  'cordova-build': {\n    estimatedTimeInSeconds: () => 180,\n    completeDescription:\n      'You can download it on your Android phone and install it.',\n  },\n  'electron-build': {\n    estimatedTimeInSeconds: (build: Build) =>\n      150 * (build.targets ? build.targets.length : 0),\n    completeDescription: '',\n  },\n};\n\ntype Props = {|\n  build: Build,\n  onDownload: (key: string) => void,\n|};\n\n/**\n * Show an estimate of the progress of a build or the button\n * to download the artifacts.\n */\nexport default ({ build, onDownload }: Props) => {\n  const buttons = [\n    {\n      displayName: 'Download',\n      key: 'apkKey',\n    },\n    {\n      displayName: 'Windows (zip)',\n      key: 'windowsZipKey',\n    },\n    {\n      displayName: 'Windows (exe)',\n      key: 'windowsExeKey',\n    },\n    {\n      displayName: 'macOS (zip)',\n      key: 'macosZipKey',\n    },\n    {\n      displayName: 'Linux (AppImage)',\n      key: 'linuxAppImageKey',\n    },\n  ];\n\n  const config = buildTypesConfig[build.type];\n  const secondsSinceLastUpdate = Math.abs(\n    difference_in_seconds(build.updatedAt, Date.now())\n  );\n  const estimatedRemainingTime = Math.max(\n    config ? config.estimatedTimeInSeconds(build) - secondsSinceLastUpdate : 0,\n    0\n  );\n\n  return build.status === 'error' ? (\n    <React.Fragment>\n      <Line alignItems=\"center\">\n        <p>\n          <Trans>Something wrong happened :(</Trans>\n        </p>\n        <Spacer />\n        <RaisedButton\n          label={<Trans>See logs</Trans>}\n          onClick={() => onDownload('logsKey')}\n        />\n      </Line>\n      <Line alignItems=\"center\">\n        <EmptyMessage>\n          <Trans>\n            Check the logs to see if there is an explanation about what went\n            wrong, or try again later.\n          </Trans>\n        </EmptyMessage>\n      </Line>\n    </React.Fragment>\n  ) : build.status === 'pending' ? (\n    <Line alignItems=\"center\" expand>\n      <LinearProgress\n        style={{ flex: 1 }}\n        max={config.estimatedTimeInSeconds(build)}\n        value={config.estimatedTimeInSeconds(build) - estimatedRemainingTime}\n        mode={estimatedRemainingTime > 0 ? 'determinate' : 'indeterminate'}\n      />\n      <Spacer />\n      {estimatedRemainingTime > 0 ? (\n        <p>\n          <Trans>~{Math.round(estimatedRemainingTime / 60)} minutes.</Trans>\n        </p>\n      ) : (\n        <p>\n          <Trans>Should finish soon.</Trans>\n        </p>\n      )}\n    </Line>\n  ) : build.status === 'complete' ? (\n    <React.Fragment>\n      <Line expand>\n        {buttons\n          .filter(button => !!build[button.key])\n          .map((button, index) => (\n            <React.Fragment key={button.key}>\n              {index !== 0 && <Spacer />}\n              <RaisedButton\n                label={button.displayName}\n                primary\n                onClick={() => onDownload(button.key)}\n              />\n            </React.Fragment>\n          ))}\n        <FlatButton\n          label={<Trans>See logs</Trans>}\n          onClick={() => onDownload('logsKey')}\n        />\n      </Line>\n      <Line expand>{config && config.completeDescription}</Line>\n    </React.Fragment>\n  ) : (\n    <Line>\n      <Trans>Unknown status</Trans>\n    </Line>\n  );\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport { Column, Line } from '../UI/Grid';\nimport { List, ListItem } from 'material-ui/List';\nimport PlaceholderLoader from '../UI/PlaceholderLoader';\nimport ExamplesSearchbar from './ExamplesSearchbar';\nimport ExamplesInformation from './ExamplesInformation';\nimport Window from '../Utils/Window';\nimport { fuzzyOrEmptyFilter } from '../Utils/FuzzyOrEmptyFilter';\nimport optionalRequire from '../Utils/OptionalRequire.js';\nconst electron = optionalRequire('electron');\n\ntype ExtensionUsage = Array<{\n  fullName: string,\n  name: string,\n}>;\n\ntype ExampleInformation = {|\n  description: string,\n  usedExtensions: ExtensionUsage,\n|};\n\ntype SearchEnhancedExampleInformation = {|\n  ...ExampleInformation,\n  searchableDescription: string,\n|};\n\ntype Props = {|\n  exampleNames: ?Array<string>,\n  onCreateFromExample: string => void,\n|};\n\ntype State = {|\n  searchText: string,\n  chosenExtensionName: string,\n|};\n\nconst searchableExamplesInformation: {\n  [string]: SearchEnhancedExampleInformation,\n} = {};\nObject.keys(ExamplesInformation).forEach(exampleName => {\n  const exampleInformation = ExamplesInformation[exampleName];\n  searchableExamplesInformation[exampleName] = {\n    ...exampleInformation,\n    searchableDescription: exampleInformation.description\n      .replace(/ /g, '')\n      .toLowerCase(),\n  };\n});\n\nconst formatExampleName = (name: string) => {\n  if (!name.length) return '';\n\n  return name[0].toUpperCase() + name.substr(1).replace(/-/g, ' ');\n};\n\nconst getExampleInformation = (\n  name: string\n): SearchEnhancedExampleInformation => {\n  return (\n    searchableExamplesInformation[name] || {\n      description: '',\n      searchableDescription: '',\n      usedExtensions: [],\n    }\n  );\n};\n\nconst isUsingExtension = (\n  extensionUsage: ?ExtensionUsage,\n  extensionName: string\n) => {\n  return (\n    !extensionName ||\n    (extensionUsage &&\n      !!extensionUsage.find(usage => usage.name === extensionName))\n  );\n};\n\nexport default class LocalExamples extends React.Component<Props, State> {\n  state = {\n    searchText: '',\n    chosenExtensionName: '',\n  };\n\n  changeSearchText = (searchText: string) => {\n    this.setState({\n      searchText,\n      chosenExtensionName: '',\n    });\n  };\n\n  chooseExtensionName = (chosenExtensionName: string) => {\n    this.setState({\n      searchText: '',\n      chosenExtensionName,\n    });\n  };\n\n  _submitExample() {\n    const body = `Hi!\n\n  I'd like to submit a new example to be added to GDevelop.\n  Here is the link to download it: **INSERT the link to your game here, or add it as an attachment**.\n\n  I confirm that any assets can be used freely by anybody, including for commercial usage.\n  `;\n    Window.openExternalURL(\n      `https://github.com/4ian/GDevelop/issues/new?body=${encodeURIComponent(\n        body\n      )}&title=New%20example`\n    );\n  }\n\n  render() {\n    const { searchText, chosenExtensionName } = this.state;\n    const lowercaseSearchText = searchText.toLowerCase();\n\n    return (\n      <Column noMargin>\n        <Line noMargin>\n          <ExamplesSearchbar\n            value={searchText}\n            onChange={this.changeSearchText}\n            chosenExtensionName={chosenExtensionName}\n            onExtensionNameChosen={this.chooseExtensionName}\n          />\n        </Line>\n        <Line noMargin>\n          <Column expand noMargin>\n            <List>\n              {this.props.exampleNames &&\n                this.props.exampleNames.map(exampleName => {\n                  const exampleFullName = formatExampleName(exampleName);\n                  const exampleInformation = getExampleInformation(exampleName);\n                  if (\n                    (searchText &&\n                      (!fuzzyOrEmptyFilter(searchText, exampleFullName) &&\n                        exampleInformation.searchableDescription.indexOf(\n                          lowercaseSearchText\n                        ) === -1)) ||\n                    !isUsingExtension(\n                      exampleInformation.usedExtensions,\n                      chosenExtensionName\n                    )\n                  ) {\n                    return null;\n                  }\n\n                  return (\n                    <ListItem\n                      key={exampleName}\n                      primaryText={exampleFullName}\n                      secondaryText={exampleInformation.description}\n                      secondaryTextLines={2}\n                      onClick={() =>\n                        this.props.onCreateFromExample(exampleName)\n                      }\n                    />\n                  );\n                })}\n              {!this.props.exampleNames && <PlaceholderLoader />}\n            </List>\n            {!!electron && (\n              <Column expand>\n                <p>\n                  <Trans>Want to contribute to the examples?</Trans>\n                </p>\n                <Line alignItems=\"center\" justifyContent=\"center\">\n                  <RaisedButton\n                    label={<Trans>Submit your example</Trans>}\n                    onClick={this._submitExample}\n                  />\n                </Line>\n              </Column>\n            )}\n          </Column>\n        </Line>\n      </Column>\n    );\n  }\n}\n","import React from 'react';\nimport SvgIcon from 'material-ui/SvgIcon';\n\nexport default props => (\n  <SvgIcon {...props}>\n    <path d=\"M5,3H19A2,2 0 0,1 21,5V19A2,2 0 0,1 19,21H5A2,2 0 0,1 3,19V5A2,2 0 0,1 5,3M18,5H15.5A3.5,3.5 0 0,0 12,8.5V11H10V14H12V21H15V14H18V11H15V9A1,1 0 0,1 16,8H18V5Z\" />\n  </SvgIcon>\n);\n","import React from 'react';\nimport SvgIcon from 'material-ui/SvgIcon';\n\nexport default props => (\n  <SvgIcon {...props}>\n    <path d=\"M20.18,21.55H16.94L17.17,18.82H15.58L15.35,21.55H8.65L8.42,18.82H6.83L7.06,21.55H3.82L2,9.73L6.55,2.45H17.45L22,9.73L20.18,21.55M16.55,6.09H13.62L13.82,7.45H10.18L10.38,6.09H7.45L5.64,9.73L6.55,17H17.45L18.36,9.73L16.55,6.09M14.95,14.59C14.7,14.59 14.5,13.83 14.5,12.9C14.5,11.96 14.7,11.2 14.95,11.2C15.21,11.2 15.41,11.96 15.41,12.9C15.41,13.83 15.21,14.59 14.95,14.59M9.22,14.73C8.96,14.73 8.76,13.97 8.76,13.04C8.76,12.1 8.96,11.35 9.22,11.35C9.47,11.35 9.67,12.1 9.67,13.04C9.67,13.97 9.47,14.73 9.22,14.73Z\" />\n  </SvgIcon>\n);\n","import React from 'react';\nimport SvgIcon from 'material-ui/SvgIcon';\n\nexport default props => (\n  <SvgIcon {...props}>\n    <path d=\"M12,20L15.46,14H15.45C15.79,13.4 16,12.73 16,12C16,10.8 15.46,9.73 14.62,9H19.41C19.79,9.93 20,10.94 20,12A8,8 0 0,1 12,20M4,12C4,10.54 4.39,9.18 5.07,8L8.54,14H8.55C9.24,15.19 10.5,16 12,16C12.45,16 12.88,15.91 13.29,15.77L10.89,19.91C7,19.37 4,16.04 4,12M15,12A3,3 0 0,1 12,15A3,3 0 0,1 9,12A3,3 0 0,1 12,9A3,3 0 0,1 15,12M12,4C14.96,4 17.54,5.61 18.92,8H12C10.06,8 8.45,9.38 8.08,11.21L5.7,7.08C7.16,5.21 9.44,4 12,4M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z\" />\n  </SvgIcon>\n);\n","// @flow\n// Note: this file does not use export/imports and use Flow comments to allow its usage from Node.js\n\nconst some = require('lodash/some');\n/*flow-include \nexport type TranslationFunction = (string) => string;\n\nexport type JsExtensionModule = {\n  createExtension(_: TranslationFunction, gd: any): gdPlatformExtension,\n  runExtensionSanityTests(gd: any, extension: gdPlatformExtension): Array<string>,\n};\n\nexport type ExtensionLoadingResult = {\n  error: boolean,\n  message: string,\n  dangerous?: boolean,\n  rawError?: any,\n};\n\nexport interface JsExtensionsLoader {\n  loadAllExtensions(_: TranslationFunction): Promise<\n    Array<{ extensionModulePath: string, result: ExtensionLoadingResult }>\n  >,\n}\n*/\n\n/**\n * Run extensions tests and check for any non-empty results.\n */\nconst runExtensionSanityTests = (\n  gd /*: any */,\n  extension /*: gdPlatformExtension*/,\n  jsExtensionModule /*: JsExtensionModule*/\n) /*: ExtensionLoadingResult*/ => {\n  if (!jsExtensionModule.runExtensionSanityTests) {\n    return {\n      error: true,\n      message:\n        'Missing runExtensionSanityTests in the extension module exports',\n    };\n  }\n\n  const testResults = jsExtensionModule.runExtensionSanityTests(gd, extension);\n  if (some(testResults)) {\n    return {\n      error: true,\n      message: 'One or more tests are failing for the extension (see rawError)',\n      rawError: testResults,\n    };\n  }\n\n  return {\n    error: false,\n    message: 'Tests passed successfully',\n  };\n};\n\n/**\n * Load an extension from the specified JavaScript module, which is supposed\n * to contain a \"createExtension\" function returning a gd.PlatformExtension.\n */\nconst loadExtension = (\n  _ /*: TranslationFunction */,\n  gd /*: any */,\n  platform /*: gdPlatform*/,\n  jsExtensionModule /*: JsExtensionModule*/\n) /*: ExtensionLoadingResult*/ => {\n  if (!jsExtensionModule.createExtension) {\n    return {\n      message:\n        'Extension module found, but no createExtension method is exported',\n      error: true,\n    };\n  }\n\n  let extension = null;\n  try {\n    extension = jsExtensionModule.createExtension(_, gd);\n    if (!extension) {\n      return {\n        message: `createExtension did not return any extension. Did you forget to return the extension created?`,\n        error: true,\n      };\n    }\n  } catch (ex) {\n    return {\n      message: ` Exception caught while running createExtension.  Please fix this error as this will make GDevelop crash at some point.`,\n      error: true,\n      dangerous: true,\n      rawError: ex,\n    };\n  }\n\n  try {\n    const testsResult = runExtensionSanityTests(\n      gd,\n      extension,\n      jsExtensionModule\n    );\n    if (testsResult.error) {\n      extension.delete();\n      return testsResult;\n    }\n  } catch (ex) {\n    return {\n      message: ` Exception caught while running runExtensionSanityTests.  Please fix this error as this will make GDevelop crash at some point.`,\n      error: true,\n      dangerous: true,\n      rawError: ex,\n    };\n  }\n\n  platform.addNewExtension(extension);\n  extension.delete(); // Release the extension as it was copied inside gd.JsPlatform\n\n  return {\n    message: ' Successfully loaded the extension.',\n    error: false,\n  };\n};\n\nmodule.exports = {\n  runExtensionSanityTests,\n  loadExtension,\n};\n","// @flow\nimport * as React from 'react';\nimport { ToolbarGroup } from 'material-ui/Toolbar';\nimport ToolbarIcon from '../UI/ToolbarIcon';\nimport ToolbarSeparator from '../UI/ToolbarSeparator';\nimport { I18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\n\ntype Props = {|\n  onPlay: () => void,\n  canPlay: boolean,\n  onPause: () => void,\n  canPause: boolean,\n  onOpenProfiler: () => void,\n|};\n\nexport class Toolbar extends React.PureComponent<Props> {\n  render() {\n    const { onPlay, onPause, canPlay, canPause, onOpenProfiler } = this.props;\n\n    return (\n      <I18n>\n        {({ i18n }) => (\n          <ToolbarGroup lastChild>\n            <ToolbarIcon\n              onClick={onPlay}\n              src=\"res/ribbon_default/preview32.png\"\n              disabled={!canPlay}\n              tooltip={i18n._(t`Play the game`)}\n            />\n            <ToolbarIcon\n              onClick={onPause}\n              src=\"res/ribbon_default/pause32.png\"\n              disabled={!canPause}\n              tooltip={i18n._(t`Pause the game`)}\n            />\n            <ToolbarSeparator />\n            <ToolbarIcon\n              onClick={onOpenProfiler}\n              src=\"res/ribbon_default/profiler32.png\"\n              tooltip={i18n._(t`Open the performance profiler`)}\n            />\n          </ToolbarGroup>\n        )}\n      </I18n>\n    );\n  }\n}\n\nexport default Toolbar;\n","// @flow\nimport * as React from 'react';\nimport { List, ListItem } from 'material-ui/List';\nimport get from 'lodash/get';\nimport {\n  type InspectorDescription,\n  type InspectorDescriptionsGetter,\n  type GameData,\n} from './GDJSInspectorDescriptions';\n\ntype Props = {|\n  gameData: GameData,\n  getInspectorDescriptions: InspectorDescriptionsGetter,\n  onChooseInspector: (\n    InspectorDescription,\n    fullInspectorPath: Array<string>\n  ) => void,\n|};\n\nconst styles = {\n  container: {\n    flex: 1,\n    display: 'flex',\n  },\n  list: {\n    overflowY: 'scroll',\n    flex: 1,\n  },\n};\n\n/**\n * Generate a visual list of inspectors, using gameData and getInspectorDescriptions\n */\nexport default class InspectorsList extends React.Component<Props, void> {\n  _renderInspectorList(\n    gameData: GameData,\n    getInspectorDescriptions: InspectorDescriptionsGetter,\n    path: Array<string>\n  ): Array<React.Node> {\n    return getInspectorDescriptions(gameData).map(inspectorDescription => {\n      if (!inspectorDescription) return null;\n      const fullInspectorPath = path.concat(inspectorDescription.key);\n\n      const getSubInspectors = inspectorDescription.getSubInspectors;\n      const nestedItems = getSubInspectors\n        ? this._renderInspectorList(\n            get(gameData, inspectorDescription.key, null),\n            getSubInspectors,\n            fullInspectorPath\n          )\n        : undefined;\n\n      return (\n        <ListItem\n          key={fullInspectorPath.join('.')}\n          primaryText={inspectorDescription.label}\n          initiallyOpen={!!inspectorDescription.initiallyOpen}\n          onClick={() =>\n            this.props.onChooseInspector(\n              inspectorDescription,\n              fullInspectorPath\n            )\n          }\n          nestedItems={nestedItems}\n          primaryTogglesNestedList\n        />\n      );\n    });\n  }\n\n  render() {\n    return this.props.gameData ? (\n      <List style={styles.list}>\n        {this._renderInspectorList(\n          this.props.gameData,\n          this.props.getInspectorDescriptions,\n          []\n        )}\n      </List>\n    ) : null;\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport ReactJsonView from 'react-json-view';\nimport {\n  type GameData,\n  type EditFunction,\n  type CallFunction,\n} from '../GDJSInspectorDescriptions';\nimport mapValues from 'lodash/mapValues';\n\ntype Props = {|\n  variablesContainer: GameData,\n  onCall: CallFunction,\n  onEdit: EditFunction,\n|};\n\nconst styles = {\n  container: {\n    flex: 1,\n    overflowY: 'scroll',\n  },\n};\n\nconst transformVariable = variable => {\n  if (!variable) return null;\n\n  if (!variable._isStructure) {\n    return variable._stringDirty ? variable._value : variable._str;\n  } else {\n    if (!variable._children) return null;\n\n    return mapValues(variable._children, transformVariable);\n  }\n};\n\nconst transform = variablesContainer => {\n  if (\n    !variablesContainer ||\n    !variablesContainer._variables ||\n    !variablesContainer._variables.items\n  )\n    return null;\n\n  return mapValues(variablesContainer._variables.items, transformVariable);\n};\n\nconst handleEdit = (edit, { onCall, onEdit }: Props) => {\n  // Reconstruct the path to the variable to edit\n  const path = ['_variables', 'items'];\n  edit.namespace.forEach(variableName => {\n    path.push(variableName);\n    path.push('_children');\n  });\n  path.push(edit.name);\n\n  // Guess the type of the new value (number or string)\n  if (parseFloat(edit.new_value).toString() === edit.new_value) {\n    path.push('setNumber');\n    onCall(path, [parseFloat(edit.new_value)]);\n  } else {\n    path.push('setString');\n    onCall(path, ['' + edit.new_value]);\n  }\n\n  return true;\n};\n\nexport default (props: Props) => (\n  <div style={styles.container}>\n    <ReactJsonView\n      collapsed={false}\n      name={false}\n      src={\n        props.variablesContainer ? transform(props.variablesContainer) : null\n      }\n      enableClipboard={false}\n      displayDataTypes={false}\n      displayObjectSize={false}\n      onEdit={edit => handleEdit(edit, props)}\n      groupArraysAfterLength={50}\n      theme=\"monokai\"\n    />\n  </div>\n);\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport ReactJsonView from 'react-json-view';\nimport {\n  type GameData,\n  type EditFunction,\n  type CallFunction,\n} from '../GDJSInspectorDescriptions';\nimport VariablesContainerInspector from './VariablesContainerInspector';\n\ntype Props = {|\n  runtimeObject: GameData,\n  onCall: CallFunction,\n  onEdit: EditFunction,\n|};\n\nconst styles = {\n  container: {\n    flex: 1,\n    overflowY: 'scroll',\n  },\n};\n\nconst transform = runtimeObject => {\n  if (!runtimeObject) return null;\n  return {\n    'X position': runtimeObject.x,\n    'Y position': runtimeObject.y,\n    Angle: runtimeObject.angle,\n    Layer: runtimeObject.layer,\n    'Z order': runtimeObject.zOrder,\n    'Is hidden?': runtimeObject.hidden,\n  };\n};\n\nconst handleEdit = (edit, { onCall, onEdit }: Props) => {\n  if (edit.name === 'X position') {\n    onCall(['setX'], [parseFloat(edit.new_value)]);\n  } else if (edit.name === 'Y position') {\n    onCall(['setY'], [parseFloat(edit.new_value)]);\n  } else if (edit.name === 'Angle') {\n    onCall(['setAngle'], [parseFloat(edit.new_value)]);\n  } else if (edit.name === 'Layer') {\n    onCall(['setLayer'], [edit.new_value]);\n  } else if (edit.name === 'Z order') {\n    onCall(['setZOrder'], [parseFloat(edit.new_value)]);\n  } else if (edit.name === 'Is hidden?') {\n    onCall(['hide'], [!!edit.new_value]);\n  } else return false;\n\n  return true;\n};\n\nexport default (props: Props) => (\n  <div style={styles.container}>\n    <p>\n      <Trans>General:</Trans>\n    </p>\n    <ReactJsonView\n      collapsed={false}\n      name={false}\n      src={transform(props.runtimeObject)}\n      enableClipboard={false}\n      displayDataTypes={false}\n      displayObjectSize={false}\n      onEdit={edit => handleEdit(edit, props)}\n      groupArraysAfterLength={50}\n      theme=\"monokai\"\n    />\n    <p>\n      <Trans>Instance variables:</Trans>\n    </p>\n    <VariablesContainerInspector\n      variablesContainer={\n        props.runtimeObject ? props.runtimeObject._variables : null\n      }\n      // TODO: onEdit and onCall could benefit from a \"forward\" utility function\n      // (can also be applied in DebuggerContent.js)\n      onEdit={(path, newValue) =>\n        props.onEdit(['_variables'].concat(path), newValue)\n      }\n      onCall={(path, args) => props.onCall(['_variables'].concat(path), args)}\n    />\n  </div>\n);\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport ReactJsonView from 'react-json-view';\nimport {\n  type GameData,\n  type EditFunction,\n  type CallFunction,\n} from '../GDJSInspectorDescriptions';\nimport { Line } from '../../UI/Grid';\nimport mapValues from 'lodash/mapValues';\nimport AutoComplete from 'material-ui/AutoComplete';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport { defaultAutocompleteProps } from '../../UI/AutocompleteProps';\n\ntype Props = {|\n  runtimeScene: GameData,\n  onCall: CallFunction,\n  onEdit: EditFunction,\n|};\n\ntype State = {|\n  newObjectName: string,\n|};\n\nconst styles = {\n  container: {\n    flex: 1,\n    overflowY: 'scroll',\n  },\n};\n\nconst transformLayer = layer => {\n  if (!layer) return null;\n  return {\n    'Camera rotation (in deg)': layer._cameraRotation,\n    'Camera zoom': layer._zoomFactor,\n    'Layer is hidden': !!layer._hidden,\n    'Camera X position': layer._cameraX,\n    'Camera Y position': layer._cameraY,\n    'Time scale': layer._timeScale,\n  };\n};\n\nconst transform = runtimeScene => {\n  if (!runtimeScene) return null;\n\n  return {\n    'Time scale': runtimeScene._timeManager\n      ? runtimeScene._timeManager._timeScale\n      : null,\n    Layers:\n      runtimeScene._layers && runtimeScene._layers.items\n        ? mapValues(runtimeScene._layers.items, transformLayer)\n        : null,\n  };\n};\n\nconst handleEdit = (edit, { onCall, onEdit }: Props) => {\n  if (edit.namespace.length === 0 && edit.name === 'Time scale') {\n    onCall(['_timeManager', 'setTimeScale'], [parseFloat(edit.new_value)]);\n  } else if (edit.namespace.length >= 2) {\n    if (edit.namespace[0] === 'Layers') {\n      if (edit.name === 'Camera rotation (in deg)') {\n        onCall(\n          ['_layers', 'items', edit.namespace[1], 'setCameraRotation'],\n          [parseFloat(edit.new_value)]\n        );\n      } else if (edit.name === 'Camera zoom') {\n        onCall(\n          ['_layers', 'items', edit.namespace[1], 'setCameraZoom'],\n          [parseFloat(edit.new_value)]\n        );\n      } else if (edit.name === 'Layer is hidden') {\n        onCall(\n          ['_layers', 'items', edit.namespace[1], 'show'],\n          [!edit.new_value]\n        );\n      } else if (edit.name === 'Camera X position') {\n        onCall(\n          ['_layers', 'items', edit.namespace[1], 'setCameraX'],\n          [parseFloat(edit.new_value)]\n        );\n      } else if (edit.name === 'Camera Y position') {\n        onCall(\n          ['_layers', 'items', edit.namespace[1], 'setCameraY'],\n          [parseFloat(edit.new_value)]\n        );\n      } else if (edit.name === 'Time scale') {\n        onCall(\n          ['_layers', 'items', edit.namespace[1], 'setTimeScale'],\n          [parseFloat(edit.new_value)]\n        );\n      }\n    }\n  } else return false;\n\n  return true;\n};\n\nexport default class RuntimeSceneInspector extends React.Component<\n  Props,\n  State\n> {\n  state = {\n    newObjectName: '',\n  };\n\n  render() {\n    const { runtimeScene, onCall } = this.props;\n    if (!runtimeScene) return null;\n\n    return (\n      <div style={styles.container}>\n        <p>\n          <Trans>Layers:</Trans>\n        </p>\n        <ReactJsonView\n          collapsed={false}\n          name={false}\n          src={transform(runtimeScene)}\n          enableClipboard={false}\n          displayDataTypes={false}\n          displayObjectSize={false}\n          onEdit={edit => handleEdit(edit, this.props)}\n          groupArraysAfterLength={50}\n          theme=\"monokai\"\n        />\n        <p>\n          <Trans>\n            Create a new instance on the scene (will be at position 0;0):\n          </Trans>\n        </p>\n        {runtimeScene._objects && runtimeScene._objects.items && (\n          <Line noMargin alignItems=\"baseline\">\n            <AutoComplete\n              {...defaultAutocompleteProps}\n              hintText={<Trans>Enter the name of the object</Trans>}\n              searchText={this.state.newObjectName}\n              onUpdateInput={value => {\n                this.setState({\n                  newObjectName: value,\n                });\n              }}\n              onNewRequest={data => {\n                // Note that data may be a string or a {text, value} object.\n                if (typeof data === 'string') {\n                  this.setState({\n                    newObjectName: data,\n                  });\n                } else if (typeof data.value === 'string') {\n                  this.setState({\n                    newObjectName: data.value,\n                  });\n                }\n              }}\n              dataSource={Object.keys(runtimeScene._objects.items).map(\n                objectName => ({\n                  text: objectName,\n                  value: objectName,\n                })\n              )}\n            />\n            <RaisedButton\n              label={<Trans>Create</Trans>}\n              primary\n              onClick={() =>\n                onCall(['createObject'], [this.state.newObjectName])\n              }\n            />\n          </Line>\n        )}\n      </div>\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport RuntimeObjectInspector from './Inspectors/RuntimeObjectInspector';\nimport VariablesContainerInspector from './Inspectors/VariablesContainerInspector';\nimport RuntimeSceneInspector from './Inspectors/RuntimeSceneInspector';\n\nexport type GameData = any;\nexport type EditFunction = (path: Array<string>, newValue: any) => boolean;\nexport type CallFunction = (path: Array<string>, args: Array<any>) => boolean;\n\nexport type InspectorDescriptionsGetter = (\n  gameData: GameData\n) => Array<InspectorDescription>; //eslint-disable-line\n\nexport type InspectorDescription = {|\n  label: string,\n  key: string | Array<string>,\n  renderInspector: (\n    gameData: GameData,\n    {\n      onCall: CallFunction,\n      onEdit: EditFunction,\n    }\n  ) => React.Node,\n  getSubInspectors?: InspectorDescriptionsGetter,\n  initiallyOpen?: boolean,\n|};\n\n/**\n * Returns the list of inspectors, given the data coming from a GDJS RuntimeGame.\n * @param {*} gdjsRuntimeGame\n */\nexport const getInspectorDescriptions = (\n  gdjsRuntimeGame: GameData\n): Array<InspectorDescription> => {\n  return [\n    {\n      label: 'Global variables',\n      key: '_variables',\n      renderInspector: (gameData, { onCall, onEdit }) => (\n        <VariablesContainerInspector\n          variablesContainer={gameData}\n          onCall={onCall}\n          onEdit={onEdit}\n        />\n      ),\n    },\n    {\n      label: 'Scenes',\n      key: ['_sceneStack', '_stack'],\n      renderInspector: () => null,\n      initiallyOpen: true,\n      getSubInspectors: gdjsStack => {\n        if (!gdjsStack) return [];\n\n        return gdjsStack.map((runtimeScene, index) => ({\n          label: runtimeScene._name,\n          key: index,\n          renderInspector: (gameData, { onCall, onEdit }) => (\n            <RuntimeSceneInspector\n              runtimeScene={gameData}\n              onCall={onCall}\n              onEdit={onEdit}\n            />\n          ),\n          initiallyOpen: true,\n          getSubInspectors: runtimeScene => [\n            {\n              label: 'Scene variables',\n              key: `_variables`,\n              renderInspector: (gameData, { onCall, onEdit }) => (\n                <VariablesContainerInspector\n                  variablesContainer={gameData}\n                  onCall={onCall}\n                  onEdit={onEdit}\n                />\n              ),\n            },\n            {\n              label: 'Instances',\n              key: `_instances`,\n              renderInspector: () => null,\n              initiallyOpen: true,\n              getSubInspectors: instances => {\n                if (!instances || !instances.items) return [];\n\n                return Object.keys(instances.items).map(objectName => {\n                  if (\n                    !instances.items[objectName] ||\n                    typeof instances.items[objectName].length === undefined\n                  )\n                    return null;\n\n                  return {\n                    label: `${objectName} (${\n                      instances.items[objectName].length\n                    })`,\n                    key: ['items', objectName],\n                    renderInspector: () => null,\n                    getSubInspectors: instancesList =>\n                      instancesList\n                        ? instancesList\n                            .filter(runtimeObject => !!runtimeObject)\n                            .map((runtimeObject, index) => {\n                              return {\n                                label: `#${runtimeObject.id}`,\n                                key: index,\n                                renderInspector: (\n                                  gameData,\n                                  { onCall, onEdit }\n                                ) => (\n                                  <RuntimeObjectInspector\n                                    runtimeObject={gameData}\n                                    onCall={onCall}\n                                    onEdit={onEdit}\n                                  />\n                                ),\n                              };\n                            })\n                        : [],\n                  };\n                });\n              },\n            },\n          ],\n        }));\n      },\n    },\n  ];\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport ReactJsonView from 'react-json-view';\nimport { type GameData } from '../GDJSInspectorDescriptions';\nimport EmptyMessage from '../../UI/EmptyMessage';\n\ntype Props = {|\n  gameData: GameData,\n  onEdit: (path: Array<string>, newValue: any) => boolean,\n|};\n\nconst styles = {\n  container: {\n    flex: 1,\n    overflowY: 'scroll',\n  },\n};\n\n/**\n * A very simple inspector that display the raw information given by the gameData\n * object.\n */\nexport default ({ gameData, onEdit }: Props) => (\n  <div style={styles.container}>\n    <EmptyMessage>\n      <Trans>\n        You are in raw mode. You can edit the fields, but be aware that this can\n        lead to unexpected results or even crash the debugged game!\n      </Trans>\n    </EmptyMessage>\n    <ReactJsonView\n      collapsed={1}\n      name={false}\n      src={gameData}\n      onEdit={edit => {\n        return onEdit(edit.namespace.concat(edit.name), edit.new_value);\n      }}\n      groupArraysAfterLength={50}\n      theme=\"monokai\"\n    />\n  </div>\n);\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport { AutoSizer, Table, Column } from 'react-virtualized';\nimport ThemeConsumer from '../../UI/Theme/ThemeConsumer';\nimport flatMap from 'lodash/flatMap';\nimport { type ProfilerMeasuresSection } from '..';\nimport IconButton from 'material-ui/IconButton';\nimport ExpandMore from 'material-ui/svg-icons/navigation/expand-more';\nimport ChevronRight from 'material-ui/svg-icons/navigation/chevron-right';\n\nconst styles = {\n  indent: {\n    display: 'flex',\n    alignItems: 'center',\n  },\n};\n\ntype Props = {|\n  profilerMeasures: ?ProfilerMeasuresSection,\n|};\n\ntype ProfilerRowData = {|\n  name: string,\n  time: string,\n  parentPercent: string,\n  totalPercent: string,\n  depth: number,\n  hasSubsections: boolean,\n  path: string,\n  isCollapsed: boolean,\n|};\n\ntype State = {|\n  collapsedPaths: { [string]: boolean },\n|};\n\nexport default class MeasuresTable extends React.Component<Props, State> {\n  state = {\n    collapsedPaths: {},\n  };\n\n  _convertToDataRows = (\n    name: string,\n    parentSection: ?ProfilerMeasuresSection,\n    section: ProfilerMeasuresSection,\n    depth: number = 0,\n    path: string = ''\n  ): Array<ProfilerRowData> => {\n    const { profilerMeasures } = this.props;\n\n    const parentPercent =\n      parentSection && section.time && parentSection.time !== 0\n        ? (section.time / parentSection.time) * 100\n        : 100;\n    const totalPercent =\n      profilerMeasures && section.time && profilerMeasures.time !== 0\n        ? (section.time / profilerMeasures.time) * 100\n        : 100;\n    const isCollapsed = this._isSectionCollapsed(path);\n\n    return [\n      {\n        name,\n        time: section.time ? `${section.time.toFixed(2)}ms` : '?',\n        parentPercent: `${parentPercent.toFixed(2)}%`,\n        totalPercent: `${totalPercent.toFixed(2)}%`,\n        depth,\n        hasSubsections: !!Object.keys(section.subsections).length,\n        path,\n        isCollapsed,\n      },\n      ...(isCollapsed\n        ? []\n        : flatMap(section.subsections, (subsection, subsectionName) =>\n            this._convertToDataRows(\n              subsectionName,\n              section,\n              subsection,\n              depth + 1,\n              `${path}>${depth}.${subsectionName}`\n            )\n          )),\n    ];\n  };\n\n  _isSectionCollapsed = (path: string) => {\n    return this.state.collapsedPaths[path];\n  };\n\n  _toggleSection = (path: string) => {\n    this.setState(state => ({\n      collapsedPaths: {\n        ...state.collapsedPaths,\n        [path]: !state.collapsedPaths[path],\n      },\n    }));\n  };\n\n  _rowClassName = ({ index }: { index: number }) => {\n    if (index < 0) {\n      return 'tableHeaderRow';\n    } else {\n      return index % 2 === 0 ? 'tableEvenRow' : 'tableOddRow';\n    }\n  };\n\n  _renderSectionNameCell = ({ rowData }: { rowData: ProfilerRowData }) => {\n    return (\n      <div style={styles.indent}>\n        <div style={{ width: rowData.depth * 8 }} />\n        {rowData.hasSubsections ? (\n          <IconButton onClick={() => this._toggleSection(rowData.path)}>\n            {rowData.isCollapsed ? <ChevronRight /> : <ExpandMore />}\n          </IconButton>\n        ) : (\n          <div style={{ width: 24 }} />\n        )}\n        {rowData.name}\n      </div>\n    );\n  };\n\n  render() {\n    const { profilerMeasures } = this.props;\n    if (!profilerMeasures) return null;\n\n    const dataRows = this._convertToDataRows('All', null, profilerMeasures);\n\n    return (\n      <ThemeConsumer>\n        {muiTheme => (\n          <AutoSizer>\n            {({ height, width }) => (\n              <Table\n                headerHeight={30}\n                height={height}\n                className={muiTheme.tableRootClassName}\n                headerClassName={'tableHeaderColumn'}\n                rowCount={dataRows.length}\n                rowGetter={({ index }) => dataRows[index]}\n                rowHeight={35}\n                onRowClick={() => {}}\n                rowClassName={this._rowClassName}\n                width={width}\n              >\n                <Column\n                  label={<Trans>Section name</Trans>}\n                  dataKey=\"name\"\n                  width={width * 0.4}\n                  className={'tableColumn'}\n                  cellRenderer={this._renderSectionNameCell}\n                />\n                <Column\n                  label={<Trans>Time (ms)</Trans>}\n                  dataKey=\"time\"\n                  width={width * 0.2}\n                  className={'tableColumn'}\n                />\n                <Column\n                  label={<Trans>% of parent</Trans>}\n                  dataKey=\"parentPercent\"\n                  width={width * 0.2}\n                  className={'tableColumn'}\n                />\n                <Column\n                  label={<Trans>% of total</Trans>}\n                  dataKey=\"totalPercent\"\n                  width={width * 0.2}\n                  className={'tableColumn'}\n                />\n              </Table>\n            )}\n          </AutoSizer>\n        )}\n      </ThemeConsumer>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport RaisedButton from 'material-ui/RaisedButton/RaisedButton';\nimport MeasuresTable from './MeasuresTable';\nimport { type ProfilerOutput } from '..';\nimport EmptyMessage from '../../UI/EmptyMessage';\nimport { Line } from '../../UI/Grid';\nimport Background from '../../UI/Background';\nimport LinearProgress from 'material-ui/LinearProgress';\n\nconst styles = {\n  tableContainer: {\n    flex: 1,\n  },\n};\n\ntype Props = {|\n  onStart: () => void,\n  onStop: () => void,\n  profilerOutput: ?ProfilerOutput,\n  profilingInProgress: boolean,\n|};\n\nexport default class Profiler extends React.Component<Props, void> {\n  render() {\n    const { onStart, onStop, profilerOutput, profilingInProgress } = this.props;\n\n    return (\n      <Background>\n        <Line alignItems=\"center\" justifyContent=\"center\">\n          {!profilingInProgress && profilerOutput && (\n            <p>\n              <Trans>\n                Last run collected on {profilerOutput.stats.framesCount} frames.\n              </Trans>\n            </p>\n          )}\n          {!profilingInProgress && profilerOutput && (\n            <RaisedButton label={<Trans>Restart</Trans>} onClick={onStart} />\n          )}\n          {!profilingInProgress && !profilerOutput && (\n            <RaisedButton\n              label={<Trans>Start profiling</Trans>}\n              onClick={onStart}\n            />\n          )}\n          {profilingInProgress && (\n            <RaisedButton\n              label={<Trans>Stop profiling</Trans>}\n              onClick={onStop}\n            />\n          )}\n        </Line>\n        {profilingInProgress && (\n          <Line alignItems=\"center\">\n            <LinearProgress style={{ flex: 1 }} mode={'indeterminate'} />\n          </Line>\n        )}\n        <div style={styles.tableContainer}>\n          {profilerOutput && (\n            <MeasuresTable\n              profilerMeasures={profilerOutput.framesAverageMeasures}\n            />\n          )}\n          {!profilerOutput && (\n            <EmptyMessage>\n              <Trans>\n                Start profiling and then stop it after a few seconds to see the\n                results.\n              </Trans>\n            </EmptyMessage>\n          )}\n        </div>\n      </Background>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport EditorMosaic, { MosaicWindow } from '../UI/EditorMosaic';\nimport Background from '../UI/Background';\nimport get from 'lodash/get';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport { Column, Line } from '../UI/Grid';\nimport InspectorsList from './InspectorsList';\nimport {\n  getInspectorDescriptions,\n  type InspectorDescription,\n  type EditFunction,\n  type CallFunction,\n} from './GDJSInspectorDescriptions';\nimport RawContentInspector from './Inspectors/RawContentInspector';\nimport EmptyMessage from '../UI/EmptyMessage';\nimport Checkbox from 'material-ui/Checkbox';\nimport Flash from 'material-ui/svg-icons/image/flash-on';\nimport FlashOff from 'material-ui/svg-icons/image/flash-off';\nimport HelpButton from '../UI/HelpButton';\nimport Profiler from './Profiler';\nimport { type ProfilerOutput } from '.';\n\ntype Props = {|\n  gameData: ?any,\n  onEdit: EditFunction,\n  onCall: CallFunction,\n  onPlay: () => void,\n  onPause: () => void,\n  onRefresh: () => void,\n  onStartProfiler: () => void,\n  onStopProfiler: () => void,\n  profilerOutput: ?ProfilerOutput,\n  profilingInProgress: boolean,\n|};\n\ntype State = {|\n  selectedInspector: ?InspectorDescription,\n  selectedInspectorFullPath: Array<string>,\n  rawMode: boolean,\n|};\n\n/**\n * The debugger interface: show the list of inspectors for a game, along with the\n * currently selected inspector.\n */\nexport default class DebuggerContent extends React.Component<Props, State> {\n  state = {\n    selectedInspector: null,\n    selectedInspectorFullPath: [],\n    rawMode: false,\n  };\n\n  _editors: ?EditorMosaic = null;\n\n  openProfiler = () => {\n    if (this._editors) this._editors.openEditor('profiler', 'bottom');\n  };\n\n  render() {\n    const {\n      gameData,\n      onRefresh,\n      onCall,\n      onEdit,\n      onStartProfiler,\n      onStopProfiler,\n      profilerOutput,\n      profilingInProgress,\n    } = this.props;\n    const {\n      selectedInspector,\n      selectedInspectorFullPath,\n      rawMode,\n    } = this.state;\n\n    return (\n      <EditorMosaic\n        ref={editors => (this._editors = editors)}\n        editors={{\n          inspectors: (\n            <MosaicWindow\n              title={<Trans>Inspectors</Trans>}\n              toolbarControls={[]}\n              gameData={gameData}\n            >\n              <Background>\n                <Column expand noMargin>\n                  <Line justifyContent=\"center\">\n                    <RaisedButton\n                      label={<Trans>Refresh</Trans>}\n                      onClick={onRefresh}\n                      primary\n                    />\n                  </Line>\n                  <Line expand noMargin>\n                    <InspectorsList\n                      gameData={gameData}\n                      getInspectorDescriptions={getInspectorDescriptions}\n                      onChooseInspector={(\n                        selectedInspector,\n                        selectedInspectorFullPath\n                      ) =>\n                        this.setState({\n                          selectedInspector,\n                          selectedInspectorFullPath,\n                        })\n                      }\n                    />\n                  </Line>\n                </Column>\n              </Background>\n            </MosaicWindow>\n          ),\n          'selected-inspector': (\n            <Column expand noMargin>\n              {' '}\n              {selectedInspector ? (\n                rawMode ? (\n                  <RawContentInspector\n                    gameData={get(gameData, selectedInspectorFullPath, null)}\n                    onEdit={(path, newValue) =>\n                      onEdit(selectedInspectorFullPath.concat(path), newValue)\n                    }\n                  />\n                ) : (\n                  selectedInspector.renderInspector(\n                    get(gameData, selectedInspectorFullPath, null),\n                    {\n                      onCall: (path, args) =>\n                        onCall(selectedInspectorFullPath.concat(path), args),\n                      onEdit: (path, newValue) =>\n                        onEdit(\n                          selectedInspectorFullPath.concat(path),\n                          newValue\n                        ),\n                    }\n                  ) || (\n                    <EmptyMessage>\n                      <Trans>\n                        No inspector, choose another element in the list or\n                        toggle the raw data view.\n                      </Trans>\n                    </EmptyMessage>\n                  )\n                )\n              ) : (\n                <EmptyMessage>\n                  {gameData\n                    ? 'Choose an element to inspect in the list'\n                    : 'Pause the game (from the toolbar) or hit refresh (on the left) to inspect the game'}\n                </EmptyMessage>\n              )}\n              <Column>\n                <Line justifyContent=\"space-between\" alignItems=\"center\">\n                  <HelpButton helpPagePath=\"/interface/debugger\" />\n                  <div>\n                    <Checkbox\n                      checkedIcon={<Flash />}\n                      uncheckedIcon={<FlashOff />}\n                      checked={rawMode}\n                      onCheck={(e, enabled) =>\n                        this.setState({\n                          rawMode: enabled,\n                        })\n                      }\n                    />\n                  </div>\n                </Line>\n              </Column>\n            </Column>\n          ),\n          profiler: (\n            <MosaicWindow\n              title={<Trans>Profiler</Trans>}\n              // Pass profilerOutput to force MosaicWindow update when profilerOutput is changed\n              profilerOutput={profilerOutput}\n              profilingInProgress={profilingInProgress}\n            >\n              <Profiler\n                onStart={onStartProfiler}\n                onStop={onStopProfiler}\n                profilerOutput={profilerOutput}\n                profilingInProgress={profilingInProgress}\n              />\n            </MosaicWindow>\n          ),\n        }}\n        initialNodes={{\n          direction: 'column',\n          first: {\n            direction: 'row',\n            first: 'inspectors',\n            second: 'selected-inspector',\n            splitPercentage: 25,\n          },\n          second: 'profiler',\n          splitPercentage: 65,\n        }}\n      />\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport SelectField from 'material-ui/SelectField';\nimport MenuItem from 'material-ui/MenuItem';\nimport { Column } from '../UI/Grid';\nimport { type DebuggerId } from '.';\n\ntype Props = {|\n  selectedId: DebuggerId,\n  debuggerIds: Array<DebuggerId>,\n  onChooseDebugger: DebuggerId => void,\n|};\n\nexport default class DebuggerSelector extends React.Component<Props, void> {\n  render() {\n    const hasDebuggers = !!this.props.debuggerIds.length;\n    return (\n      <Column>\n        <SelectField\n          fullWidth\n          value={hasDebuggers ? this.props.selectedId : 0}\n          onChange={(e, i, value) => this.props.onChooseDebugger(value)}\n          disabled={!hasDebuggers}\n        >\n          {this.props.debuggerIds.map(id => (\n            <MenuItem value={id} key={id} primaryText={'Game preview #' + id} />\n          ))}\n          {!hasDebuggers && (\n            <MenuItem\n              value={0}\n              primaryText={\n                'No preview running. Run a preview and you will be able to inspect it with the debugger'\n              }\n            />\n          )}\n        </SelectField>\n      </Column>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport Toolbar from './Toolbar';\nimport DebuggerContent from './DebuggerContent';\nimport DebuggerSelector from './DebuggerSelector';\nimport { Column } from '../UI/Grid';\nimport PlaceholderLoader from '../UI/PlaceholderLoader';\nimport PlaceholderMessage from '../UI/PlaceholderMessage';\nimport Background from '../UI/Background';\nimport optionalRequire from '../Utils/OptionalRequire';\nimport EmptyMessage from '../UI/EmptyMessage';\nconst electron = optionalRequire('electron');\nconst ipcRenderer = electron ? electron.ipcRenderer : null;\n\n//Each game connected to the debugger server is identified by a unique number\nexport type DebuggerId = number;\n\nexport type ProfilerMeasuresSection = {|\n  time: number,\n  subsections: { [string]: ProfilerMeasuresSection },\n|};\n\nexport type ProfilerOutput = {|\n  framesAverageMeasures: ProfilerMeasuresSection,\n  stats: {\n    framesCount: number,\n  },\n|};\n\ntype Props = {|\n  project: gdProject,\n  setToolbar: React.Node => void,\n  isActive: boolean,\n|};\n\ntype State = {|\n  debuggerServerStarted: boolean,\n  debuggerServerError: ?any,\n\n  debuggerIds: Array<DebuggerId>,\n  debuggerGameData: { [DebuggerId]: any },\n  profilerOutputs: { [DebuggerId]: ProfilerOutput },\n  profilingInProgress: { [DebuggerId]: boolean },\n  selectedId: DebuggerId,\n|};\n\n/**\n * Start the debugger server, listen to commands received and issue commands to it.\n * This is only supported on Electron runtime for now.\n */\nexport default class Debugger extends React.Component<Props, State> {\n  state = {\n    debuggerServerStarted: false,\n    debuggerServerError: null,\n    debuggerIds: [],\n    debuggerGameData: {},\n    profilerOutputs: {},\n    profilingInProgress: {},\n    selectedId: 0,\n  };\n\n  _debuggerContents: { [DebuggerId]: ?DebuggerContent } = {};\n\n  updateToolbar() {\n    if (!this.props.isActive) return;\n\n    this.props.setToolbar(\n      <Toolbar\n        onPlay={() => this._play(this.state.selectedId)}\n        onPause={() => this._pause(this.state.selectedId)}\n        canPlay={this._hasSelectedDebugger()}\n        canPause={this._hasSelectedDebugger()}\n        onOpenProfiler={() => {\n          if (this._debuggerContents[this.state.selectedId])\n            this._debuggerContents[this.state.selectedId].openProfiler();\n        }}\n      />\n    );\n  }\n\n  componentDidMount() {\n    if (this.props.isActive) {\n      this._startServer();\n    }\n  }\n\n  componentWillReceiveProps(nextProps: Props) {\n    if (nextProps.isActive && !this.props.isActive) {\n      this._startServer();\n    }\n  }\n\n  componentWillUnmount() {\n    this._removeServerListeners();\n  }\n\n  _removeServerListeners = () => {\n    if (!ipcRenderer) return;\n\n    ipcRenderer.removeAllListeners('debugger-send-message-done');\n    ipcRenderer.removeAllListeners('debugger-error-received');\n    ipcRenderer.removeAllListeners('debugger-connection-closed');\n    ipcRenderer.removeAllListeners('debugger-connection-opened');\n    ipcRenderer.removeAllListeners('debugger-start-server-done');\n    ipcRenderer.removeAllListeners('debugger-message-received');\n  };\n\n  _startServer = () => {\n    if (!ipcRenderer) return;\n\n    this.setState({\n      debuggerServerStarted: false,\n    });\n    this._removeServerListeners();\n\n    ipcRenderer.on('debugger-error-received', (event, err) => {\n      this.setState(\n        {\n          debuggerServerError: err,\n        },\n        () => this.updateToolbar()\n      );\n    });\n\n    ipcRenderer.on('debugger-connection-closed', (event, { id }) => {\n      const { debuggerIds, selectedId } = this.state;\n      const remainingDebuggerIds = debuggerIds.filter(\n        debuggerId => debuggerId !== id\n      );\n      this.setState(\n        {\n          debuggerIds: remainingDebuggerIds,\n          selectedId:\n            selectedId !== id\n              ? selectedId\n              : remainingDebuggerIds.length\n              ? remainingDebuggerIds[remainingDebuggerIds.length - 1]\n              : selectedId,\n        },\n        () => this.updateToolbar()\n      );\n    });\n\n    ipcRenderer.on('debugger-connection-opened', (event, { id }) => {\n      this.setState(\n        {\n          debuggerIds: [...this.state.debuggerIds, id],\n          selectedId: id,\n        },\n        () => this.updateToolbar()\n      );\n    });\n\n    ipcRenderer.on('debugger-start-server-done', event => {\n      this.setState(\n        {\n          debuggerServerStarted: true,\n        },\n        () => this.updateToolbar()\n      );\n    });\n\n    ipcRenderer.on('debugger-message-received', (event, { id, message }) => {\n      console.log('Processing message received for debugger');\n      try {\n        const data = JSON.parse(message);\n        this._handleMessage(id, data);\n      } catch (e) {\n        console.warn(\n          'Error while parsing message received from debugger client:',\n          e\n        );\n      }\n    });\n    ipcRenderer.send('debugger-start-server');\n  };\n\n  _handleMessage = (id: DebuggerId, data: any) => {\n    if (data.command === 'dump') {\n      this.setState({\n        debuggerGameData: {\n          ...this.state.debuggerGameData,\n          [id]: data.payload,\n        },\n      });\n    } else if (data.command === 'profiler.output') {\n      this.setState({\n        profilerOutputs: {\n          ...this.state.profilerOutputs,\n          [id]: data.payload,\n        },\n      });\n    } else if (data.command === 'profiler.started') {\n      this.setState(state => ({\n        profilingInProgress: { ...state.profilingInProgress, [id]: true },\n      }));\n    } else if (data.command === 'profiler.stopped') {\n      this.setState(state => ({\n        profilingInProgress: { ...state.profilingInProgress, [id]: false },\n      }));\n    } else {\n      console.warn(\n        'Unknown command received from debugger client:',\n        data.command\n      );\n    }\n  };\n\n  _play = (id: DebuggerId) => {\n    if (!ipcRenderer) return;\n\n    ipcRenderer.send('debugger-send-message', {\n      id,\n      message: '{\"command\": \"play\"}',\n    });\n  };\n\n  _pause = (id: DebuggerId) => {\n    if (!ipcRenderer) return;\n\n    ipcRenderer.send('debugger-send-message', {\n      id,\n      message: '{\"command\": \"pause\"}',\n    });\n  };\n\n  _refresh = (id: DebuggerId) => {\n    if (!ipcRenderer) return;\n\n    ipcRenderer.send('debugger-send-message', {\n      id,\n      message: '{\"command\": \"refresh\"}',\n    });\n  };\n\n  _edit = (id: DebuggerId, path: Array<string>, newValue: any) => {\n    if (!ipcRenderer) return false;\n\n    ipcRenderer.send('debugger-send-message', {\n      id,\n      message: JSON.stringify({\n        command: 'set',\n        path,\n        newValue,\n      }),\n    });\n\n    setTimeout(() => this._refresh(id), 100);\n    return true;\n  };\n\n  _call = (id: DebuggerId, path: Array<string>, args: Array<any>) => {\n    if (!ipcRenderer) return false;\n\n    ipcRenderer.send('debugger-send-message', {\n      id,\n      message: JSON.stringify({\n        command: 'call',\n        path,\n        args,\n      }),\n    });\n\n    setTimeout(() => this._refresh(id), 100);\n    return true;\n  };\n\n  _startProfiler = (id: DebuggerId) => {\n    if (!ipcRenderer) return;\n\n    ipcRenderer.send('debugger-send-message', {\n      id,\n      message: '{\"command\": \"profiler.start\"}',\n    });\n  };\n\n  _stopProfiler = (id: DebuggerId) => {\n    if (!ipcRenderer) return;\n\n    ipcRenderer.send('debugger-send-message', {\n      id,\n      message: '{\"command\": \"profiler.stop\"}',\n    });\n  };\n\n  _hasSelectedDebugger = () => {\n    const { selectedId, debuggerIds } = this.state;\n    return debuggerIds.indexOf(selectedId) !== -1;\n  };\n\n  render() {\n    const {\n      debuggerServerError,\n      debuggerServerStarted,\n      selectedId,\n      debuggerIds,\n      debuggerGameData,\n      profilerOutputs,\n      profilingInProgress,\n    } = this.state;\n\n    return (\n      <Background>\n        {!debuggerServerStarted && !debuggerServerError && (\n          <PlaceholderMessage>\n            <PlaceholderLoader />\n            <p>\n              <Trans>Debugger is starting...</Trans>\n            </p>\n          </PlaceholderMessage>\n        )}\n        {!debuggerServerStarted && debuggerServerError && (\n          <PlaceholderMessage>\n            <p>\n              <Trans>\n                Unable to start the debugger server! Make sure that you are\n                authorized to run servers on this computer.\n              </Trans>\n            </p>\n          </PlaceholderMessage>\n        )}\n        {debuggerServerStarted && (\n          <Column expand noMargin>\n            <DebuggerSelector\n              selectedId={selectedId}\n              debuggerIds={debuggerIds}\n              onChooseDebugger={id =>\n                this.setState({\n                  selectedId: id,\n                })\n              }\n            />\n            {this._hasSelectedDebugger() && (\n              <DebuggerContent\n                ref={debuggerContent =>\n                  (this._debuggerContents[selectedId] = debuggerContent)\n                }\n                gameData={debuggerGameData[selectedId]}\n                onPlay={() => this._play(selectedId)}\n                onPause={() => this._pause(selectedId)}\n                onRefresh={() => this._refresh(selectedId)}\n                onEdit={(path, args) => this._edit(selectedId, path, args)}\n                onCall={(path, args) => this._call(selectedId, path, args)}\n                onStartProfiler={() => this._startProfiler(selectedId)}\n                onStopProfiler={() => this._stopProfiler(selectedId)}\n                profilerOutput={profilerOutputs[selectedId]}\n                profilingInProgress={profilingInProgress[selectedId]}\n              />\n            )}\n            {!this._hasSelectedDebugger() && (\n              <EmptyMessage>\n                <Trans>\n                  Run a preview and you will be able to inspect it with the\n                  debugger.\n                </Trans>\n              </EmptyMessage>\n            )}\n          </Column>\n        )}\n      </Background>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport Debugger from '../../Debugger';\nimport BaseEditor from './BaseEditor';\nimport SubscriptionChecker from '../../Profile/SubscriptionChecker';\n\nexport default class DebuggerEditor extends BaseEditor {\n  editor: ?Debugger;\n  _subscriptionChecker: ?SubscriptionChecker;\n  state = {\n    subscriptionChecked: false,\n  };\n\n  updateToolbar() {\n    if (this.editor) this.editor.updateToolbar();\n  }\n\n  componentWillReceiveProps() {\n    this._checkHasSubscription();\n  }\n\n  componentDidMount() {\n    this._checkHasSubscription();\n  }\n\n  _checkHasSubscription() {\n    if (\n      this._subscriptionChecker &&\n      this.props.isActive &&\n      !this.state.subscriptionChecked\n    ) {\n      this._subscriptionChecker.checkHasSubscription();\n      this.setState({\n        subscriptionChecked: true,\n      });\n    }\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n        <Debugger {...this.props} ref={editor => (this.editor = editor)} />\n        <SubscriptionChecker\n          ref={subscriptionChecker =>\n            (this._subscriptionChecker = subscriptionChecker)\n          }\n          onChangeSubscription={() => {\n            if (this.props.onChangeSubscription)\n              this.props.onChangeSubscription();\n          }}\n          id=\"Debugger\"\n          title={<Trans>Debugger</Trans>}\n          mode=\"try\"\n        />\n      </React.Fragment>\n    );\n  }\n}\n","const themeData = {\n  base: 'vs-dark',\n  inherit: true,\n  rules: [\n    {\n      foreground: '969896',\n      token: 'comment',\n    },\n    {\n      foreground: 'ced1cf',\n      token: 'keyword.operator.class',\n    },\n    {\n      foreground: 'ced1cf',\n      token: 'constant.other',\n    },\n    {\n      foreground: 'ced1cf',\n      token: 'source.php.embedded.line',\n    },\n    {\n      foreground: 'cc6666',\n      token: 'variable',\n    },\n    {\n      foreground: 'cc6666',\n      token: 'support.other.variable',\n    },\n    {\n      foreground: 'cc6666',\n      token: 'string.other.link',\n    },\n    {\n      foreground: 'cc6666',\n      token: 'string.regexp',\n    },\n    {\n      foreground: 'cc6666',\n      token: 'entity.name.tag',\n    },\n    {\n      foreground: 'cc6666',\n      token: 'entity.other.attribute-name',\n    },\n    {\n      foreground: 'cc6666',\n      token: 'meta.tag',\n    },\n    {\n      foreground: 'cc6666',\n      token: 'declaration.tag',\n    },\n    {\n      foreground: 'de935f',\n      token: 'constant.numeric',\n    },\n    {\n      foreground: 'de935f',\n      token: 'constant.language',\n    },\n    {\n      foreground: 'de935f',\n      token: 'support.constant',\n    },\n    {\n      foreground: 'de935f',\n      token: 'constant.character',\n    },\n    {\n      foreground: 'de935f',\n      token: 'variable.parameter',\n    },\n    {\n      foreground: 'de935f',\n      token: 'punctuation.section.embedded',\n    },\n    {\n      foreground: 'de935f',\n      token: 'keyword.other.unit',\n    },\n    {\n      foreground: 'f0c674',\n      token: 'entity.name.class',\n    },\n    {\n      foreground: 'f0c674',\n      token: 'entity.name.type.class',\n    },\n    {\n      foreground: 'f0c674',\n      token: 'support.type',\n    },\n    {\n      foreground: 'f0c674',\n      token: 'support.class',\n    },\n    {\n      foreground: 'b5bd68',\n      token: 'string',\n    },\n    {\n      foreground: 'b5bd68',\n      token: 'constant.other.symbol',\n    },\n    {\n      foreground: 'b5bd68',\n      token: 'entity.other.inherited-class',\n    },\n    {\n      foreground: 'b5bd68',\n      token: 'markup.heading',\n    },\n    {\n      foreground: '8abeb7',\n      token: 'keyword.operator',\n    },\n    {\n      foreground: '8abeb7',\n      token: 'constant.other.color',\n    },\n    {\n      foreground: '81a2be',\n      token: 'entity.name.function',\n    },\n    {\n      foreground: '81a2be',\n      token: 'meta.function-call',\n    },\n    {\n      foreground: '81a2be',\n      token: 'support.function',\n    },\n    {\n      foreground: '81a2be',\n      token: 'keyword.other.special-method',\n    },\n    {\n      foreground: '81a2be',\n      token: 'meta.block-level',\n    },\n    {\n      foreground: 'b294bb',\n      token: 'keyword',\n    },\n    {\n      foreground: 'b294bb',\n      token: 'storage',\n    },\n    {\n      foreground: 'b294bb',\n      token: 'storage.type',\n    },\n    {\n      foreground: 'b294bb',\n      token: 'entity.name.tag.css',\n    },\n    {\n      foreground: 'ced2cf',\n      background: 'df5f5f',\n      token: 'invalid',\n    },\n    {\n      foreground: 'ced2cf',\n      background: '82a3bf',\n      token: 'meta.separator',\n    },\n    {\n      foreground: 'ced2cf',\n      background: 'b798bf',\n      token: 'invalid.deprecated',\n    },\n  ],\n  colors: {\n    'editor.foreground': '#C5C8C6',\n    'editor.background': '#1D1F21',\n    'editor.selectionBackground': '#373B41',\n    'editor.lineHighlightBackground': '#282A2E',\n    'editorCursor.foreground': '#AEAFAD',\n    'editorWhitespace.foreground': '#4B4E55',\n  },\n};\n\nexport default {\n  name: 'Tomorrow-Night',\n  themeName: 'tomorrow-night',\n  themeData,\n};\n","const themeData = {\n  base: 'vs-dark',\n  inherit: true,\n  rules: [\n    {\n      foreground: '75715e',\n      token: 'comment',\n    },\n    {\n      foreground: 'e6db74',\n      token: 'string',\n    },\n    {\n      foreground: 'ae81ff',\n      token: 'constant.numeric',\n    },\n    {\n      foreground: 'ae81ff',\n      token: 'constant.language',\n    },\n    {\n      foreground: 'ae81ff',\n      token: 'constant.character',\n    },\n    {\n      foreground: 'ae81ff',\n      token: 'constant.other',\n    },\n    {\n      foreground: 'f92672',\n      token: 'keyword',\n    },\n    {\n      foreground: 'f92672',\n      token: 'storage',\n    },\n    {\n      foreground: '66d9ef',\n      fontStyle: 'italic',\n      token: 'storage.type',\n    },\n    {\n      foreground: 'a6e22e',\n      fontStyle: 'underline',\n      token: 'entity.name.class',\n    },\n    {\n      foreground: 'a6e22e',\n      fontStyle: 'italic underline',\n      token: 'entity.other.inherited-class',\n    },\n    {\n      foreground: 'a6e22e',\n      token: 'entity.name.function',\n    },\n    {\n      foreground: 'fd971f',\n      fontStyle: 'italic',\n      token: 'variable.parameter',\n    },\n    {\n      foreground: 'f92672',\n      token: 'entity.name.tag',\n    },\n    {\n      foreground: 'a6e22e',\n      token: 'entity.other.attribute-name',\n    },\n    {\n      foreground: '66d9ef',\n      token: 'support.function',\n    },\n    {\n      foreground: '66d9ef',\n      token: 'support.constant',\n    },\n    {\n      foreground: '66d9ef',\n      fontStyle: 'italic',\n      token: 'support.type',\n    },\n    {\n      foreground: '66d9ef',\n      fontStyle: 'italic',\n      token: 'support.class',\n    },\n    {\n      foreground: 'f8f8f0',\n      background: 'f92672',\n      token: 'invalid',\n    },\n    {\n      foreground: 'f8f8f0',\n      background: 'ae81ff',\n      token: 'invalid.deprecated',\n    },\n    {\n      foreground: 'cfcfc2',\n      token: 'meta.structure.dictionary.json string.quoted.double.json',\n    },\n    {\n      foreground: '75715e',\n      token: 'meta.diff',\n    },\n    {\n      foreground: '75715e',\n      token: 'meta.diff.header',\n    },\n    {\n      foreground: 'f92672',\n      token: 'markup.deleted',\n    },\n    {\n      foreground: 'a6e22e',\n      token: 'markup.inserted',\n    },\n    {\n      foreground: 'e6db74',\n      token: 'markup.changed',\n    },\n    {\n      foreground: 'ae81ff',\n      token: 'constant.numeric.line-number.find-in-files - match',\n    },\n    {\n      foreground: 'e6db74',\n      token: 'entity.name.filename.find-in-files',\n    },\n  ],\n  colors: {\n    'editor.foreground': '#F8F8F2',\n    'editor.background': '#272822',\n    'editor.selectionBackground': '#49483E',\n    'editor.lineHighlightBackground': '#3E3D32',\n    'editorCursor.foreground': '#F8F8F0',\n    'editorWhitespace.foreground': '#3B3A32',\n    'editorIndentGuide.activeBackground': '#9D550F',\n    'editor.selectionHighlightBorder': '#222218',\n  },\n};\n\nexport default {\n  name: 'Monokai',\n  themeName: 'monokai',\n  themeData,\n};\n","const themeData = {\n  base: 'vs',\n  inherit: true,\n  rules: [\n    {\n      foreground: '8e908c',\n      token: 'comment',\n    },\n    {\n      foreground: '666969',\n      token: 'keyword.operator.class',\n    },\n    {\n      foreground: '666969',\n      token: 'constant.other',\n    },\n    {\n      foreground: '666969',\n      token: 'source.php.embedded.line',\n    },\n    {\n      foreground: 'c82829',\n      token: 'variable',\n    },\n    {\n      foreground: 'c82829',\n      token: 'support.other.variable',\n    },\n    {\n      foreground: 'c82829',\n      token: 'string.other.link',\n    },\n    {\n      foreground: 'c82829',\n      token: 'string.regexp',\n    },\n    {\n      foreground: 'c82829',\n      token: 'entity.name.tag',\n    },\n    {\n      foreground: 'c82829',\n      token: 'entity.other.attribute-name',\n    },\n    {\n      foreground: 'c82829',\n      token: 'meta.tag',\n    },\n    {\n      foreground: 'c82829',\n      token: 'declaration.tag',\n    },\n    {\n      foreground: 'f5871f',\n      token: 'constant.numeric',\n    },\n    {\n      foreground: 'f5871f',\n      token: 'constant.language',\n    },\n    {\n      foreground: 'f5871f',\n      token: 'support.constant',\n    },\n    {\n      foreground: 'f5871f',\n      token: 'constant.character',\n    },\n    {\n      foreground: 'f5871f',\n      token: 'variable.parameter',\n    },\n    {\n      foreground: 'f5871f',\n      token: 'punctuation.section.embedded',\n    },\n    {\n      foreground: 'f5871f',\n      token: 'keyword.other.unit',\n    },\n    {\n      foreground: 'c99e00',\n      token: 'entity.name.class',\n    },\n    {\n      foreground: 'c99e00',\n      token: 'entity.name.type.class',\n    },\n    {\n      foreground: 'c99e00',\n      token: 'support.type',\n    },\n    {\n      foreground: 'c99e00',\n      token: 'support.class',\n    },\n    {\n      foreground: '718c00',\n      token: 'string',\n    },\n    {\n      foreground: '718c00',\n      token: 'constant.other.symbol',\n    },\n    {\n      foreground: '718c00',\n      token: 'entity.other.inherited-class',\n    },\n    {\n      foreground: '718c00',\n      token: 'markup.heading',\n    },\n    {\n      foreground: '3e999f',\n      token: 'keyword.operator',\n    },\n    {\n      foreground: '3e999f',\n      token: 'constant.other.color',\n    },\n    {\n      foreground: '4271ae',\n      token: 'entity.name.function',\n    },\n    {\n      foreground: '4271ae',\n      token: 'meta.function-call',\n    },\n    {\n      foreground: '4271ae',\n      token: 'support.function',\n    },\n    {\n      foreground: '4271ae',\n      token: 'keyword.other.special-method',\n    },\n    {\n      foreground: '4271ae',\n      token: 'meta.block-level',\n    },\n    {\n      foreground: '8959a8',\n      token: 'keyword',\n    },\n    {\n      foreground: '8959a8',\n      token: 'storage',\n    },\n    {\n      foreground: '8959a8',\n      token: 'storage.type',\n    },\n    {\n      foreground: 'ffffff',\n      background: 'c82829',\n      token: 'invalid',\n    },\n    {\n      foreground: 'ffffff',\n      background: '4271ae',\n      token: 'meta.separator',\n    },\n    {\n      foreground: 'ffffff',\n      background: '8959a8',\n      token: 'invalid.deprecated',\n    },\n  ],\n  colors: {\n    'editor.foreground': '#4D4D4C',\n    'editor.background': '#FFFFFF',\n    'editor.selectionBackground': '#D6D6D6',\n    'editor.lineHighlightBackground': '#EFEFEF',\n    'editorCursor.foreground': '#AEAFAD',\n    'editorWhitespace.foreground': '#D1D1D1',\n  },\n};\n\nexport default {\n  name: 'Tomorrow',\n  themeName: 'tomorrow',\n  themeData,\n};\n","const themeData = {\n  base: 'vs-dark',\n  inherit: true,\n  rules: [\n    {\n      foreground: '657b83',\n      fontStyle: 'italic',\n      token: 'comment',\n    },\n    {\n      foreground: '2aa198',\n      token: 'string',\n    },\n    {\n      foreground: 'd30102',\n      token: 'string.regexp',\n    },\n    {\n      foreground: 'd33682',\n      token: 'constant.numeric',\n    },\n    {\n      foreground: '268bd2',\n      token: 'variable.language',\n    },\n    {\n      foreground: '268bd2',\n      token: 'variable.other',\n    },\n    {\n      foreground: '859900',\n      token: 'keyword',\n    },\n    {\n      foreground: '93a1a1',\n      fontStyle: 'bold',\n      token: 'storage',\n    },\n    {\n      foreground: 'cb4b16',\n      token: 'entity.name.class',\n    },\n    {\n      foreground: 'cb4b16',\n      token: 'entity.name.type.class',\n    },\n    {\n      foreground: '268bd2',\n      token: 'entity.name.function',\n    },\n    {\n      foreground: '859900',\n      token: 'punctuation.definition.variable',\n    },\n    {\n      foreground: 'd30102',\n      token: 'punctuation.section.embedded.begin',\n    },\n    {\n      foreground: 'd30102',\n      token: 'punctuation.section.embedded.end',\n    },\n    {\n      foreground: 'b58900',\n      token: 'constant.language',\n    },\n    {\n      foreground: 'b58900',\n      token: 'meta.preprocessor',\n    },\n    {\n      foreground: 'cb4b16',\n      token: 'support.function.construct',\n    },\n    {\n      foreground: 'cb4b16',\n      token: 'keyword.other.new',\n    },\n    {\n      foreground: 'cb4b16',\n      token: 'constant.character',\n    },\n    {\n      foreground: 'cb4b16',\n      token: 'constant.other',\n    },\n    {\n      foreground: '6c71c4',\n      token: 'entity.other.inherited-class',\n    },\n    {\n      foreground: '268bd2',\n      fontStyle: 'bold',\n      token: 'entity.name.tag',\n    },\n    {\n      foreground: '657b83',\n      token: 'punctuation.definition.tag',\n    },\n    {\n      foreground: '93a1a1',\n      token: 'entity.other.attribute-name',\n    },\n    {\n      foreground: '268bd2',\n      token: 'support.function',\n    },\n    {\n      foreground: 'd30102',\n      token: 'punctuation.separator.continuation',\n    },\n    {\n      foreground: '859900',\n      token: 'support.type',\n    },\n    {\n      foreground: '859900',\n      token: 'support.class',\n    },\n    {\n      foreground: 'cb4b16',\n      token: 'support.type.exception',\n    },\n  ],\n  colors: {\n    'editor.foreground': '#93A1A1',\n    'editor.background': '#002B36',\n    'editor.selectionBackground': '#073642',\n    'editor.lineHighlightBackground': '#073642',\n    'editorCursor.foreground': '#D30102',\n    'editorWhitespace.foreground': '#93A1A1',\n  },\n};\n\nexport default {\n  name: 'Solarized-Dark',\n  themeName: 'solarized-dark',\n  themeData,\n};\n","const themeData = {\n  base: 'vs',\n  inherit: true,\n  rules: [\n    {\n      foreground: '93a1a1',\n      token: 'comment',\n    },\n    {\n      foreground: '2aa198',\n      token: 'string',\n    },\n    {\n      foreground: 'd30102',\n      token: 'string.regexp',\n    },\n    {\n      foreground: 'd33682',\n      token: 'constant.numeric',\n    },\n    {\n      foreground: '268bd2',\n      token: 'variable.language',\n    },\n    {\n      foreground: '268bd2',\n      token: 'variable.other',\n    },\n    {\n      foreground: '859900',\n      token: 'keyword',\n    },\n    {\n      foreground: '073642',\n      fontStyle: 'bold',\n      token: 'storage',\n    },\n    {\n      foreground: '268bd2',\n      token: 'entity.name.class',\n    },\n    {\n      foreground: '268bd2',\n      token: 'entity.name.type.class',\n    },\n    {\n      foreground: '268bd2',\n      token: 'entity.name.function',\n    },\n    {\n      foreground: '859900',\n      token: 'punctuation.definition.variable',\n    },\n    {\n      foreground: 'd30102',\n      token: 'punctuation.section.embedded.begin',\n    },\n    {\n      foreground: 'd30102',\n      token: 'punctuation.section.embedded.end',\n    },\n    {\n      foreground: 'b58900',\n      token: 'constant.language',\n    },\n    {\n      foreground: 'b58900',\n      token: 'meta.preprocessor',\n    },\n    {\n      foreground: 'd30102',\n      token: 'support.function.construct',\n    },\n    {\n      foreground: 'd30102',\n      token: 'keyword.other.new',\n    },\n    {\n      foreground: 'cb4b16',\n      token: 'constant.character',\n    },\n    {\n      foreground: 'cb4b16',\n      token: 'constant.other',\n    },\n    {\n      foreground: '268bd2',\n      fontStyle: 'bold',\n      token: 'entity.name.tag',\n    },\n    {\n      foreground: '93a1a1',\n      token: 'punctuation.definition.tag.begin',\n    },\n    {\n      foreground: '93a1a1',\n      token: 'punctuation.definition.tag.end',\n    },\n    {\n      foreground: '93a1a1',\n      token: 'entity.other.attribute-name',\n    },\n    {\n      foreground: '268bd2',\n      token: 'support.function',\n    },\n    {\n      foreground: 'd30102',\n      token: 'punctuation.separator.continuation',\n    },\n    {\n      foreground: '859900',\n      token: 'support.type',\n    },\n    {\n      foreground: '859900',\n      token: 'support.class',\n    },\n    {\n      foreground: 'cb4b16',\n      token: 'support.type.exception',\n    },\n  ],\n  colors: {\n    'editor.foreground': '#586E75',\n    'editor.background': '#FDF6E3',\n    'editor.selectionBackground': '#073642',\n    'editor.lineHighlightBackground': '#EEE8D5',\n    'editorCursor.foreground': '#000000',\n    'editorWhitespace.foreground': '#93A1A1',\n  },\n};\n\nexport default {\n  name: 'Solarized-Light',\n  themeName: 'solarized-light',\n  themeData,\n};\n","const themeData = {\n  base: 'vs-dark',\n  inherit: true,\n  rules: [\n    {\n      foreground: 'ffffff',\n      background: '0f0f0f',\n      token: 'text',\n    },\n    {\n      background: '000000',\n      token: 'source.ruby.rails.embedded.html',\n    },\n    {\n      foreground: 'ffffff',\n      background: '101010',\n      token: 'text.html.ruby',\n    },\n    {\n      foreground: 'ccff33',\n      background: '000000',\n      token: 'invalid',\n    },\n    {\n      foreground: 'ccff33',\n      background: '000000',\n      token: 'invalid.deprecated',\n    },\n    {\n      foreground: '99cc99',\n      token: 'constant.numeric',\n    },\n    {\n      foreground: 'ffffff',\n      background: '000000',\n      token: 'source',\n    },\n    {\n      foreground: '9933cc',\n      token: 'comment',\n    },\n    {\n      foreground: '339999',\n      token: 'constant',\n    },\n    {\n      foreground: 'ff6600',\n      token: 'keyword',\n    },\n    {\n      foreground: 'edf8f9',\n      token: 'keyword.preprocessor',\n    },\n    {\n      foreground: 'ffffff',\n      token: 'keyword.preprocessor directive',\n    },\n    {\n      foreground: 'ffcc00',\n      token: 'entity.name.function',\n    },\n    {\n      foreground: 'ffcc00',\n      token: 'storage.type.function.js',\n    },\n    {\n      fontStyle: 'italic',\n      token: 'variable.parameter',\n    },\n    {\n      foreground: '772cb7',\n      background: '070707',\n      token: 'source comment.block',\n    },\n    {\n      foreground: 'ffffff',\n      token: 'variable.other',\n    },\n    {\n      foreground: 'ffcc00',\n      token: 'support.function',\n    },\n    {\n      foreground: '66ff00',\n      token: 'string',\n    },\n    {\n      foreground: 'aaaaaa',\n      token: 'string constant.character.escape',\n    },\n    {\n      foreground: '000000',\n      background: 'cccc33',\n      token: 'string.interpolated',\n    },\n    {\n      foreground: '44b4cc',\n      token: 'string.regexp',\n    },\n    {\n      foreground: 'cccc33',\n      token: 'string.literal',\n    },\n    {\n      foreground: '555555',\n      token: 'string.interpolated constant.character.escape',\n    },\n    {\n      fontStyle: 'underline',\n      token: 'entity.name.class',\n    },\n    {\n      fontStyle: 'underline',\n      token: 'support.class.js',\n    },\n    {\n      fontStyle: 'italic underline',\n      token: 'entity.other.inherited-class',\n    },\n    {\n      foreground: 'ff6600',\n      token: 'meta.tag.inline.any.html',\n    },\n    {\n      foreground: 'ff6600',\n      token: 'meta.tag.block.any.html',\n    },\n    {\n      foreground: '99cc99',\n      fontStyle: 'italic',\n      token: 'entity.other.attribute-name',\n    },\n    {\n      foreground: 'dde93d',\n      token: 'keyword.other',\n    },\n    {\n      foreground: 'ff6600',\n      token: 'meta.selector.css',\n    },\n    {\n      foreground: 'ff6600',\n      token: 'entity.other.attribute-name.pseudo-class.css',\n    },\n    {\n      foreground: 'ff6600',\n      token: 'entity.name.tag.wildcard.css',\n    },\n    {\n      foreground: 'ff6600',\n      token: 'entity.other.attribute-name.id.css',\n    },\n    {\n      foreground: 'ff6600',\n      token: 'entity.other.attribute-name.class.css',\n    },\n    {\n      foreground: '999966',\n      token: 'support.type.property-name.css',\n    },\n    {\n      foreground: 'ffffff',\n      token: 'keyword.other.unit.css',\n    },\n    {\n      foreground: 'ffffff',\n      token: 'constant.other.rgb-value.css',\n    },\n    {\n      foreground: 'ffffff',\n      token: 'constant.numeric.css',\n    },\n    {\n      foreground: 'ffffff',\n      token: 'support.function.event-handler.js',\n    },\n    {\n      foreground: 'ffffff',\n      token: 'keyword.operator.js',\n    },\n    {\n      foreground: 'cccc66',\n      token: 'keyword.control.js',\n    },\n    {\n      foreground: 'ffffff',\n      token: 'support.class.prototype.js',\n    },\n    {\n      foreground: 'ff6600',\n      token: 'object.property.function.prototype.js',\n    },\n  ],\n  colors: {\n    'editor.foreground': '#FFFFFF',\n    'editor.background': '#0F0F0F',\n    'editor.selectionBackground': '#6699CC',\n    'editor.lineHighlightBackground': '#333333',\n    'editorCursor.foreground': '#FFFFFF',\n    'editorWhitespace.foreground': '#404040',\n  },\n};\n\nexport default {\n  name: 'Vibrant Ink',\n  themeName: 'vibrant-ink',\n  themeData,\n};\n","const themeData = {\n  base: 'vs',\n  inherit: true,\n  rules: [\n    {\n      foreground: '999988',\n      fontStyle: 'italic',\n      token: 'comment',\n    },\n    {\n      foreground: '999999',\n      fontStyle: 'bold',\n      token: 'comment.block.preprocessor',\n    },\n    {\n      foreground: '999999',\n      fontStyle: 'bold italic',\n      token: 'comment.documentation',\n    },\n    {\n      foreground: '999999',\n      fontStyle: 'bold italic',\n      token: 'comment.block.documentation',\n    },\n    {\n      foreground: 'a61717',\n      background: 'e3d2d2',\n      token: 'invalid.illegal',\n    },\n    {\n      fontStyle: 'bold',\n      token: 'keyword',\n    },\n    {\n      fontStyle: 'bold',\n      token: 'storage',\n    },\n    {\n      fontStyle: 'bold',\n      token: 'keyword.operator',\n    },\n    {\n      fontStyle: 'bold',\n      token: 'constant.language',\n    },\n    {\n      fontStyle: 'bold',\n      token: 'support.constant',\n    },\n    {\n      foreground: '445588',\n      fontStyle: 'bold',\n      token: 'storage.type',\n    },\n    {\n      foreground: '445588',\n      fontStyle: 'bold',\n      token: 'support.type',\n    },\n    {\n      foreground: '008080',\n      token: 'entity.other.attribute-name',\n    },\n    {\n      foreground: '0086b3',\n      token: 'variable.other',\n    },\n    {\n      foreground: '999999',\n      token: 'variable.language',\n    },\n    {\n      foreground: '445588',\n      fontStyle: 'bold',\n      token: 'entity.name.type',\n    },\n    {\n      foreground: '445588',\n      fontStyle: 'bold',\n      token: 'entity.other.inherited-class',\n    },\n    {\n      foreground: '445588',\n      fontStyle: 'bold',\n      token: 'support.class',\n    },\n    {\n      foreground: '008080',\n      token: 'variable.other.constant',\n    },\n    {\n      foreground: '800080',\n      token: 'constant.character.entity',\n    },\n    {\n      foreground: '990000',\n      token: 'entity.name.exception',\n    },\n    {\n      foreground: '990000',\n      token: 'entity.name.function',\n    },\n    {\n      foreground: '990000',\n      token: 'support.function',\n    },\n    {\n      foreground: '990000',\n      token: 'keyword.other.name-of-parameter',\n    },\n    {\n      foreground: '555555',\n      token: 'entity.name.section',\n    },\n    {\n      foreground: '000080',\n      token: 'entity.name.tag',\n    },\n    {\n      foreground: '008080',\n      token: 'variable.parameter',\n    },\n    {\n      foreground: '008080',\n      token: 'support.variable',\n    },\n    {\n      foreground: '009999',\n      token: 'constant.numeric',\n    },\n    {\n      foreground: '009999',\n      token: 'constant.other',\n    },\n    {\n      foreground: 'dd1144',\n      token: 'string - string source',\n    },\n    {\n      foreground: 'dd1144',\n      token: 'constant.character',\n    },\n    {\n      foreground: '009926',\n      token: 'string.regexp',\n    },\n    {\n      foreground: '990073',\n      token: 'constant.other.symbol',\n    },\n    {\n      fontStyle: 'bold',\n      token: 'punctuation',\n    },\n    {\n      foreground: '000000',\n      background: 'ffdddd',\n      token: 'markup.deleted',\n    },\n    {\n      fontStyle: 'italic',\n      token: 'markup.italic',\n    },\n    {\n      foreground: 'aa0000',\n      token: 'markup.error',\n    },\n    {\n      foreground: '999999',\n      token: 'markup.heading.1',\n    },\n    {\n      foreground: '000000',\n      background: 'ddffdd',\n      token: 'markup.inserted',\n    },\n    {\n      foreground: '888888',\n      token: 'markup.output',\n    },\n    {\n      foreground: '888888',\n      token: 'markup.raw',\n    },\n    {\n      foreground: '555555',\n      token: 'markup.prompt',\n    },\n    {\n      fontStyle: 'bold',\n      token: 'markup.bold',\n    },\n    {\n      foreground: 'aaaaaa',\n      token: 'markup.heading',\n    },\n    {\n      foreground: 'aa0000',\n      token: 'markup.traceback',\n    },\n    {\n      fontStyle: 'underline',\n      token: 'markup.underline',\n    },\n    {\n      foreground: '999999',\n      background: 'eaf2f5',\n      token: 'meta.diff.range',\n    },\n    {\n      foreground: '999999',\n      background: 'eaf2f5',\n      token: 'meta.diff.index',\n    },\n    {\n      foreground: '999999',\n      background: 'eaf2f5',\n      token: 'meta.separator',\n    },\n    {\n      foreground: '999999',\n      background: 'ffdddd',\n      token: 'meta.diff.header.from-file',\n    },\n    {\n      foreground: '999999',\n      background: 'ddffdd',\n      token: 'meta.diff.header.to-file',\n    },\n    {\n      foreground: '4183c4',\n      token: 'meta.link',\n    },\n  ],\n  colors: {\n    'editor.foreground': '#000000',\n    'editor.background': '#F8F8FF',\n    'editor.selectionBackground': '#B4D5FE',\n    'editor.lineHighlightBackground': '#FFFEEB',\n    'editorCursor.foreground': '#666666',\n    'editorWhitespace.foreground': '#BBBBBB',\n  },\n};\n\nexport default {\n  name: 'GitHub',\n  themeName: 'github',\n  themeData,\n};\n","// @flow\nimport TomorrowNight from './TomorrowNight';\nimport Monokai from './Monokai';\nimport Tomorrow from './Tomorrow';\nimport SolarizedDark from './SolarizedDark';\nimport SolarizedLight from './SolarizedLight';\nimport VibrantInk from './VibrantInk';\nimport GitHub from './GitHub';\n\ntype CodeEditorTheme = {|\n  name: string,\n  themeName: string,\n  themeData?: any,\n|};\n\n// Want to add a new theme? Grab a theme made for Visual Studio Code (Monaco Editor)\n// (for example on https://bitwiser.in/monaco-themes/). Copy an existing file (like Monokai.js),\n// replace themeData, update the name, and finally add it to this list\n// (+import it at the top of the file):\nconst themes: Array<CodeEditorTheme> = [\n  // Built-in Monaco editor themes\n  {\n    name: 'Visual Studio',\n    themeName: 'vs',\n  },\n  {\n    name: 'Visual Studio Dark',\n    themeName: 'vs-dark',\n  },\n  // Third parties themes\n  GitHub,\n  Monokai,\n  SolarizedDark,\n  SolarizedLight,\n  Tomorrow,\n  TomorrowNight,\n  VibrantInk,\n];\n\nexport const getAllThemes = () => themes;\n","import { Component } from 'react';\nimport HTML5Backend from 'react-dnd-html5-backend';\nimport { DragDropContext } from 'react-dnd';\n\nclass DragDropContextProvider extends Component {\n  render() {\n    return this.props.children;\n  }\n}\n\nexport default DragDropContext(HTML5Backend)(DragDropContextProvider);\n","// @flow\nimport * as React from 'react';\nimport CircularProgress from 'material-ui/CircularProgress';\n\nconst styles = {\n  progress: { marginLeft: 8, verticalAlign: 'middle' },\n};\n\nexport default ({\n  children,\n  isLoading,\n}: {\n  children: React.Node,\n  isLoading: ?boolean,\n}) => (\n  <span>\n    {children}\n    {isLoading && <CircularProgress size={20} style={styles.progress} />}\n  </span>\n);\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport React, { Component } from 'react';\nimport FlatButton from 'material-ui/FlatButton';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport Dialog from '../UI/Dialog';\nimport { Column, Line, Spacer } from '../UI/Grid';\nimport TextField from 'material-ui/TextField/TextField';\nimport {\n  type LoginForm,\n  type LoginError,\n} from '../Utils/GDevelopServices/Authentification';\nimport RightLoader from '../UI/RightLoader';\nimport LeftLoader from '../UI/LeftLoader';\n\ntype Props = {|\n  open: boolean,\n  onClose: Function,\n  onLogin: (form: LoginForm) => void,\n  onCreateAccount: (form: LoginForm) => void,\n  onForgotPassword: (form: LoginForm) => void,\n  loginInProgress: boolean,\n  createAccountInProgress: boolean,\n  error: ?LoginError,\n  resetPasswordDialogOpen: boolean,\n  onCloseResetPasswordDialog: Function,\n  forgotPasswordInProgress: boolean,\n|};\n\ntype State = {|\n  form: LoginForm,\n|};\n\nconst getEmailErrorText = (error: ?LoginError) => {\n  if (!error) return undefined;\n\n  if (error.code === 'auth/invalid-email') return 'This email is invalid';\n  if (error.code === 'auth/user-disabled') return 'The user was disabled';\n  if (error.code === 'auth/user-not-found')\n    return 'This user was not found: have you created your account?';\n  if (error.code === 'auth/email-already-in-use')\n    return 'This email was already used for another account';\n  if (error.code === 'auth/operation-not-allowed')\n    return 'Service seems to be unavailable, please try again later';\n  return undefined;\n};\n\nconst getPasswordErrorText = (error: ?LoginError) => {\n  if (!error) return undefined;\n\n  if (error.code === 'auth/wrong-password') return 'The password is invalid';\n  if (error.code === 'auth/weak-password')\n    return 'This password is too weak: please use more letters and digits';\n  return undefined;\n};\n\nexport default class LoginDialog extends Component<Props, State> {\n  state = {\n    form: {\n      email: '',\n      password: '',\n    },\n  };\n\n  _onLogin = () => {\n    const { form } = this.state;\n    this.props.onLogin(form);\n  };\n\n  _onCreateAccount = () => {\n    const { form } = this.state;\n    this.props.onCreateAccount(form);\n  };\n\n  _onForgotPassword = () => {\n    const { form } = this.state;\n    this.props.onForgotPassword(form);\n  };\n\n  render() {\n    const {\n      open,\n      onClose,\n      createAccountInProgress,\n      loginInProgress,\n      error,\n      resetPasswordDialogOpen,\n      onCloseResetPasswordDialog,\n      forgotPasswordInProgress,\n    } = this.props;\n    const actions = [\n      <FlatButton\n        label={<Trans>Close</Trans>}\n        key=\"close\"\n        primary={false}\n        onClick={onClose}\n      />,\n    ];\n\n    return (\n      <Dialog\n        title={<Trans>Login or create a GDevelop account</Trans>}\n        actions={actions}\n        secondaryActions={[\n          <RightLoader\n            isLoading={forgotPasswordInProgress}\n            key=\"forgot-password\"\n          >\n            <FlatButton\n              label={<Trans>I forgot my password</Trans>}\n              primary={false}\n              disabled={\n                loginInProgress ||\n                createAccountInProgress ||\n                forgotPasswordInProgress\n              }\n              onClick={this._onForgotPassword}\n            />\n          </RightLoader>,\n        ]}\n        onRequestClose={onClose}\n        open={open}\n        autoScrollBodyContent\n      >\n        <Column noMargin>\n          <TextField\n            value={this.state.form.email}\n            floatingLabelText={<Trans>Email</Trans>}\n            errorText={getEmailErrorText(error)}\n            fullWidth\n            onChange={(e, value) => {\n              this.setState({\n                form: {\n                  ...this.state.form,\n                  email: value,\n                },\n              });\n            }}\n          />\n          <TextField\n            value={this.state.form.password}\n            floatingLabelText={<Trans>Password</Trans>}\n            errorText={getPasswordErrorText(error)}\n            type=\"password\"\n            fullWidth\n            onChange={(e, value) => {\n              this.setState({\n                form: {\n                  ...this.state.form,\n                  password: value,\n                },\n              });\n            }}\n          />\n          <Spacer />\n          <Line expand justifyContent=\"space-between\">\n            <RightLoader isLoading={createAccountInProgress}>\n              <RaisedButton\n                label={<Trans>Create my account</Trans>}\n                disabled={\n                  loginInProgress ||\n                  createAccountInProgress ||\n                  forgotPasswordInProgress\n                }\n                onClick={this._onCreateAccount}\n              />\n            </RightLoader>\n\n            <LeftLoader isLoading={loginInProgress}>\n              <FlatButton\n                label={<Trans>Login</Trans>}\n                onClick={this._onLogin}\n                disabled={\n                  loginInProgress ||\n                  createAccountInProgress ||\n                  forgotPasswordInProgress\n                }\n              />\n            </LeftLoader>\n          </Line>\n        </Column>\n        <Dialog\n          open={resetPasswordDialogOpen}\n          title={<Trans>Reset your password</Trans>}\n          actions={[\n            <FlatButton\n              label={<Trans>Close</Trans>}\n              key=\"close\"\n              onClick={onCloseResetPasswordDialog}\n            />,\n          ]}\n        >\n          <Column noMargin>\n            <p>\n              <Trans>\n                You should have received an email containing instructions to\n                reset and set a new password. Once it's done, you can use your\n                new password in GDevelop.\n              </Trans>\n            </p>\n          </Column>\n        </Dialog>\n      </Dialog>\n    );\n  }\n}\n","// @flow\n\nimport * as React from 'react';\nimport {\n  getUserUsages,\n  getUserSubscription,\n  getUserLimits,\n} from '../Utils/GDevelopServices/Usage';\nimport Authentification, {\n  type Profile,\n  type LoginForm,\n  type LoginError,\n} from '../Utils/GDevelopServices/Authentification';\nimport LoginDialog from './LoginDialog';\nimport { watchPromiseInState } from '../Utils/WatchPromiseInState';\nimport { showWarningBox } from '../UI/Messages/MessageBox';\nimport { sendSignupDone } from '../Utils/Analytics/EventSender';\nimport UserProfileContext, {\n  initialUserProfile,\n  type UserProfile,\n} from './UserProfileContext';\n\ntype Props = {\n  authentification: Authentification,\n  children: React.Node,\n};\n\ntype State = {|\n  userProfile: UserProfile,\n  loginDialogOpen: boolean,\n  loginInProgress: boolean,\n  createAccountInProgress: boolean,\n  loginError: ?LoginError,\n  resetPasswordDialogOpen: boolean,\n  forgotPasswordInProgress: boolean,\n|};\n\nexport default class UserProfileProvider extends React.Component<Props, State> {\n  state = {\n    userProfile: initialUserProfile,\n    loginDialogOpen: false,\n    loginInProgress: false,\n    createAccountInProgress: false,\n    loginError: null,\n    resetPasswordDialogOpen: false,\n    forgotPasswordInProgress: false,\n  };\n\n  componentDidMount() {\n    this._resetUserProfile();\n    this.props.authentification.onUserChange(this._fetchUserProfile);\n  }\n\n  _resetUserProfile() {\n    this.setState({\n      userProfile: {\n        ...initialUserProfile,\n        onLogout: this._doLogout,\n        onLogin: () => this.openLogin(true),\n        onRefreshUserProfile: this._fetchUserProfile,\n        getAuthorizationHeader: () =>\n          this.props.authentification.getAuthorizationHeader(),\n      },\n    });\n  }\n\n  _fetchUserProfile = () => {\n    const { authentification } = this.props;\n\n    authentification.getUserProfile((err, profile: ?Profile) => {\n      if (err && err.unauthenticated) {\n        return this.setState({\n          userProfile: {\n            ...this.state.userProfile,\n            authenticated: false,\n            profile: null,\n            usages: null,\n            limits: null,\n            subscription: null,\n          },\n        });\n      } else if (err || !profile) {\n        console.log('Unable to fetch user profile', err);\n        return;\n      }\n\n      this.setState(\n        {\n          userProfile: {\n            ...this.state.userProfile,\n            authenticated: true,\n            profile,\n          },\n        },\n        () => {\n          if (!profile) return;\n\n          getUserUsages(\n            authentification.getAuthorizationHeader,\n            profile.uid\n          ).then(usages =>\n            this.setState({\n              userProfile: {\n                ...this.state.userProfile,\n                usages,\n              },\n            })\n          );\n          getUserSubscription(\n            authentification.getAuthorizationHeader,\n            profile.uid\n          ).then(subscription =>\n            this.setState({\n              userProfile: {\n                ...this.state.userProfile,\n                subscription,\n              },\n            })\n          );\n          getUserLimits(\n            authentification.getAuthorizationHeader,\n            profile.uid\n          ).then(limits =>\n            this.setState({\n              userProfile: {\n                ...this.state.userProfile,\n                limits,\n              },\n            })\n          );\n        }\n      );\n    });\n  };\n\n  _doLogout = () => {\n    if (this.props.authentification) this.props.authentification.logout();\n    this._resetUserProfile();\n  };\n\n  _doLogin = (form: LoginForm) => {\n    const { authentification } = this.props;\n    if (!authentification) return;\n\n    watchPromiseInState(this, 'loginInProgress', () =>\n      authentification.login(form).then(\n        () => {\n          this._fetchUserProfile();\n          this.openLogin(false);\n        },\n        (loginError: LoginError) => {\n          this.setState({\n            loginError,\n          });\n        }\n      )\n    );\n  };\n\n  _doCreateAccount = (form: LoginForm) => {\n    const { authentification } = this.props;\n    if (!authentification) return;\n\n    watchPromiseInState(this, 'createAccountInProgress', () =>\n      authentification.createAccount(form).then(\n        () => {\n          this._fetchUserProfile();\n          this.openLogin(false);\n          sendSignupDone(form.email);\n        },\n        (loginError: LoginError) => {\n          this.setState({\n            loginError,\n          });\n        }\n      )\n    );\n  };\n\n  _doForgotPassword = (form: LoginForm) => {\n    const { authentification } = this.props;\n    if (!authentification) return;\n\n    watchPromiseInState(this, 'forgotPasswordInProgress', () =>\n      authentification.forgotPassword(form).then(\n        () => {\n          this.openResetPassword(true);\n        },\n        (loginError: LoginError) => {\n          this.setState({\n            loginError,\n          });\n          showWarningBox(\n            \"Unable to send you an email to reset your password. Please double-check that the email address that you've entered is valid.\"\n          );\n        }\n      )\n    );\n  };\n\n  openResetPassword = (open: boolean = true) => {\n    this.setState({\n      resetPasswordDialogOpen: open,\n    });\n  };\n\n  openLogin = (open: boolean = true) => {\n    this.setState({\n      loginDialogOpen: open,\n    });\n  };\n\n  render() {\n    return (\n      <React.Fragment>\n        <UserProfileContext.Provider value={this.state.userProfile}>\n          {this.props.children}\n        </UserProfileContext.Provider>\n        {this.state.loginDialogOpen && (\n          <LoginDialog\n            open={this.state.loginDialogOpen}\n            onClose={() => this.openLogin(false)}\n            onLogin={this._doLogin}\n            onCreateAccount={this._doCreateAccount}\n            loginInProgress={this.state.loginInProgress}\n            createAccountInProgress={this.state.createAccountInProgress}\n            error={this.state.loginError}\n            onForgotPassword={this._doForgotPassword}\n            resetPasswordDialogOpen={this.state.resetPasswordDialogOpen}\n            onCloseResetPasswordDialog={() => this.openResetPassword(false)}\n            forgotPasswordInProgress={this.state.forgotPasswordInProgress}\n          />\n        )}\n      </React.Fragment>\n    );\n  }\n}\n","// @flow\n\nimport * as React from 'react';\nimport PreferencesContext, {\n  initialPreferences,\n  type Preferences,\n  type PreferencesValues,\n  type AlertMessageIdentifier,\n} from './PreferencesContext';\nimport optionalRequire from '../../Utils/OptionalRequire';\nimport { getIDEVersion } from '../../Version';\nconst electron = optionalRequire('electron');\nconst ipcRenderer = electron ? electron.ipcRenderer : null;\n\ntype Props = {|\n  children: React.Node,\n  disableCheckForUpdates: boolean,\n|};\n\ntype State = Preferences;\n\nconst LocalStorageItem = 'gd-preferences';\n\nexport default class PreferencesProvider extends React.Component<Props, State> {\n  state = {\n    values: this._loadValuesFromLocalStorage() || initialPreferences.values,\n    setLanguage: this._setLanguage.bind(this),\n    setThemeName: this._setThemeName.bind(this),\n    setCodeEditorThemeName: this._setCodeEditorThemeName.bind(this),\n    setAutoDownloadUpdates: this._setAutoDownloadUpdates.bind(this),\n    checkUpdates: this._checkUpdates.bind(this),\n    setAutoDisplayChangelog: this._setAutoDisplayChangelog.bind(this),\n    showAlertMessage: this._showAlertMessage.bind(this),\n    verifyIfIsNewVersion: this._verifyIfIsNewVersion.bind(this),\n    setEventsSheetShowObjectThumbnails: this._setEventsSheetShowObjectThumbnails.bind(\n      this\n    ),\n    setAutosaveOnPreview: this._setAutosaveOnPreview.bind(this),\n  };\n\n  componentDidMount() {\n    setTimeout(() => this._checkUpdates(), 10000);\n  }\n\n  _setLanguage(language: string) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          language,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _setEventsSheetShowObjectThumbnails(\n    eventsSheetShowObjectThumbnails: boolean\n  ) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          eventsSheetShowObjectThumbnails,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _setAutosaveOnPreview(autosaveOnPreview: boolean) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          autosaveOnPreview,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _setThemeName(themeName: string) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          themeName,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _setCodeEditorThemeName(codeEditorThemeName: string) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          codeEditorThemeName,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _setAutoDownloadUpdates(autoDownloadUpdates: boolean) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          autoDownloadUpdates,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _setAutoDisplayChangelog(autoDisplayChangelog: boolean) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          autoDisplayChangelog,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _checkUpdates(forceDownload?: boolean) {\n    // Checking for updates is only done on Electron.\n    // Note: This could be abstracted away later if other updates mechanisms\n    // should be supported.\n    const { disableCheckForUpdates } = this.props;\n    if (!ipcRenderer || disableCheckForUpdates) return;\n\n    if (!!forceDownload || this.state.values.autoDownloadUpdates) {\n      ipcRenderer.send('updates-check-and-download');\n    } else {\n      ipcRenderer.send('updates-check');\n    }\n  }\n\n  _verifyIfIsNewVersion() {\n    const currentVersion = getIDEVersion();\n    const { lastLaunchedVersion } = this.state.values;\n    if (lastLaunchedVersion === currentVersion) {\n      // This is not a new version\n      return false;\n    }\n\n    // This is a new version: store the version number\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          lastLaunchedVersion: currentVersion,\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n\n    if (lastLaunchedVersion === undefined) {\n      // This is the first time GDevelop is launched, don't\n      // warn about this version being new.\n      return false;\n    }\n\n    return true;\n  }\n\n  _showAlertMessage(identifier: AlertMessageIdentifier, show: boolean) {\n    this.setState(\n      state => ({\n        values: {\n          ...state.values,\n          hiddenAlertMessages: {\n            ...state.values.hiddenAlertMessages,\n            [identifier]: !show,\n          },\n        },\n      }),\n      () => this._persistValuesToLocalStorage(this.state)\n    );\n  }\n\n  _loadValuesFromLocalStorage(): ?PreferencesValues {\n    try {\n      const persistedState = localStorage.getItem(LocalStorageItem);\n      if (!persistedState) return null;\n\n      const values = JSON.parse(persistedState);\n\n      // \"Migrate\" non existing properties to their default values\n      // (useful when upgrading the preferences to a new version where\n      // a new preference was added).\n      for (const key in initialPreferences.values) {\n        if (\n          initialPreferences.values.hasOwnProperty(key) &&\n          typeof values[key] === 'undefined'\n        ) {\n          values[key] = initialPreferences.values[key];\n        }\n      }\n\n      return values;\n    } catch (e) {\n      return null;\n    }\n  }\n\n  _persistValuesToLocalStorage(preferences: Preferences) {\n    try {\n      localStorage.setItem(\n        LocalStorageItem,\n        JSON.stringify(preferences.values)\n      );\n    } catch (e) {\n      console.warn('Unable to persist preferences', e);\n    }\n\n    return preferences;\n  }\n\n  render() {\n    return (\n      <PreferencesContext.Provider value={this.state}>\n        {this.props.children}\n      </PreferencesContext.Provider>\n    );\n  }\n}\n","// @flow\n\nimport * as React from 'react';\nimport EventsFunctionsExtensionsContext, {\n  type EventsFunctionsExtensionsState,\n} from './EventsFunctionsExtensionsContext';\nimport {\n  loadProjectEventsFunctionsExtensions,\n  type EventsFunctionCodeWriter,\n  unloadProjectEventsFunctionsExtensions,\n} from '.';\nimport {\n  type EventsFunctionsExtensionWriter,\n  type EventsFunctionsExtensionOpener,\n} from './Storage';\nimport { showErrorBox } from '../UI/Messages/MessageBox';\nimport { t } from '@lingui/macro';\nimport { type I18n as I18nType } from '@lingui/core';\n\ntype Props = {|\n  children: React.Node,\n  i18n: I18nType,\n  eventsFunctionCodeWriter: ?EventsFunctionCodeWriter,\n  eventsFunctionsExtensionWriter: ?EventsFunctionsExtensionWriter,\n  eventsFunctionsExtensionOpener: ?EventsFunctionsExtensionOpener,\n|};\n\ntype State = EventsFunctionsExtensionsState;\n\n/**\n * Allow children components to request the loading (or unloading) of\n * the events functions extensions of the project.\n * Useful when dealing with events functions extensions (new extension created,\n * removed, pasted, installed, etc...).\n */\nexport default class EventsFunctionsExtensionsProvider extends React.Component<\n  Props,\n  State\n> {\n  state = {\n    eventsFunctionsExtensionsError: null,\n    loadProjectEventsFunctionsExtensions: this._loadProjectEventsFunctionsExtensions.bind(\n      this\n    ),\n    unloadProjectEventsFunctionsExtensions: this._unloadProjectEventsFunctionsExtensions.bind(\n      this\n    ),\n    reloadProjectEventsFunctionsExtensions: this._reloadProjectEventsFunctionsExtensions.bind(\n      this\n    ),\n    getEventsFunctionsExtensionWriter: () =>\n      this.props.eventsFunctionsExtensionWriter,\n    getEventsFunctionsExtensionOpener: () =>\n      this.props.eventsFunctionsExtensionOpener,\n  };\n\n  _loadProjectEventsFunctionsExtensions(project: ?gdProject): Promise<void> {\n    const { i18n, eventsFunctionCodeWriter } = this.props;\n    if (!project || !eventsFunctionCodeWriter) return Promise.resolve();\n\n    return loadProjectEventsFunctionsExtensions(\n      project,\n      eventsFunctionCodeWriter,\n      i18n\n    )\n      .then(() =>\n        this.setState({\n          eventsFunctionsExtensionsError: null,\n        })\n      )\n      .catch((eventsFunctionsExtensionsError: Error) => {\n        this.setState({\n          eventsFunctionsExtensionsError,\n        });\n        showErrorBox(\n          i18n._(\n            t`An error has occured during functions generation. If GDevelop is installed, verify that nothing is preventing GDevelop from writing on disk. If you're running GDevelop online, verify your internet connection and refresh functions from the Project Manager.`\n          ),\n          eventsFunctionsExtensionsError\n        );\n      });\n  }\n\n  _unloadProjectEventsFunctionsExtensions(project: gdProject) {\n    unloadProjectEventsFunctionsExtensions(project);\n  }\n\n  _reloadProjectEventsFunctionsExtensions(project: ?gdProject): Promise<void> {\n    if (project) {\n      this._unloadProjectEventsFunctionsExtensions(project);\n    }\n    return this._loadProjectEventsFunctionsExtensions(project);\n  }\n\n  render() {\n    return (\n      <EventsFunctionsExtensionsContext.Provider value={this.state}>\n        {this.props.children}\n      </EventsFunctionsExtensionsContext.Provider>\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport DragDropContextProvider from '../Utils/DragDropHelpers/DragDropContextProvider';\nimport MuiThemeProvider from 'material-ui/styles/MuiThemeProvider';\nimport { getTheme } from '../UI/Theme';\nimport UserProfileProvider from '../Profile/UserProfileProvider';\nimport Authentification from '../Utils/GDevelopServices/Authentification';\nimport PreferencesProvider from './Preferences/PreferencesProvider';\nimport PreferencesContext from './Preferences/PreferencesContext';\nimport GDI18nProvider from '../Utils/i18n/GDI18nProvider';\nimport { I18n } from '@lingui/react';\nimport { type I18n as I18nType } from '@lingui/core';\nimport EventsFunctionsExtensionsProvider from '../EventsFunctionsExtensionsLoader/EventsFunctionsExtensionsProvider';\nimport EventsFunctionsExtensionsContext, {\n  type EventsFunctionsExtensionsState,\n} from '../EventsFunctionsExtensionsLoader/EventsFunctionsExtensionsContext';\nimport { type EventsFunctionCodeWriter } from '../EventsFunctionsExtensionsLoader';\nimport {\n  type EventsFunctionsExtensionWriter,\n  type EventsFunctionsExtensionOpener,\n} from '../EventsFunctionsExtensionsLoader/Storage';\n\ntype Props = {|\n  authentification: Authentification,\n  disableCheckForUpdates: boolean,\n  eventsFunctionCodeWriter: ?EventsFunctionCodeWriter,\n  eventsFunctionsExtensionWriter: ?EventsFunctionsExtensionWriter,\n  eventsFunctionsExtensionOpener: ?EventsFunctionsExtensionOpener,\n  children: ({\n    i18n: I18nType,\n    eventsFunctionsExtensionsState: EventsFunctionsExtensionsState,\n  }) => React.Node,\n|};\n\n/**\n * Wrap the children with Drag and Drop, Material UI theme and i18n React providers,\n * so that these modules can be used in the children.\n */\nexport default class Providers extends React.Component<Props, {||}> {\n  render() {\n    const {\n      disableCheckForUpdates,\n      authentification,\n      children,\n      eventsFunctionCodeWriter,\n      eventsFunctionsExtensionWriter,\n      eventsFunctionsExtensionOpener,\n    } = this.props;\n    return (\n      <DragDropContextProvider>\n        <PreferencesProvider disableCheckForUpdates={disableCheckForUpdates}>\n          <PreferencesContext.Consumer>\n            {({ values }) => (\n              <GDI18nProvider language={values.language}>\n                <MuiThemeProvider muiTheme={getTheme(values.themeName)}>\n                  <UserProfileProvider authentification={authentification}>\n                    <I18n update>\n                      {({ i18n }) => (\n                        <EventsFunctionsExtensionsProvider\n                          i18n={i18n}\n                          eventsFunctionCodeWriter={eventsFunctionCodeWriter}\n                          eventsFunctionsExtensionWriter={\n                            eventsFunctionsExtensionWriter\n                          }\n                          eventsFunctionsExtensionOpener={\n                            eventsFunctionsExtensionOpener\n                          }\n                        >\n                          <EventsFunctionsExtensionsContext.Consumer>\n                            {eventsFunctionsExtensionsState =>\n                              children({ i18n, eventsFunctionsExtensionsState })\n                            }\n                          </EventsFunctionsExtensionsContext.Consumer>\n                        </EventsFunctionsExtensionsProvider>\n                      )}\n                    </I18n>\n                  </UserProfileProvider>\n                </MuiThemeProvider>\n              </GDI18nProvider>\n            )}\n          </PreferencesContext.Consumer>\n        </PreferencesProvider>\n      </DragDropContextProvider>\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport ResourcesLoader from '../../ResourcesLoader';\nimport Audiotrack from 'material-ui/svg-icons/image/audiotrack';\n\nconst styles = {\n  previewContainer: {\n    display: 'flex',\n    width: '100%',\n    alignItems: 'center',\n    justifyContent: 'center',\n    height: 200,\n    border: '#AAAAAA 1px solid',\n    background: 'url(\"res/transparentback.png\") repeat',\n  },\n  icon: { width: 60, height: 60 },\n};\n\ntype Props = {|\n  project: gdProject,\n  resourceName: string,\n  resourcesLoader: typeof ResourcesLoader,\n  children?: any,\n  style?: Object,\n  resourcePath?: string,\n|};\n\n/**\n * Display the preview for a resource of a project with kind \"audio\".\n */\nexport default class AudioPreview extends React.Component<Props, void> {\n  render() {\n    return (\n      <div style={styles.previewContainer}>\n        <Audiotrack style={styles.icon} />\n      </div>\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport ResourcesLoader from '../../ResourcesLoader';\nimport { type ResourceKind } from '../ResourceSource.flow';\nimport ImagePreview from './ImagePreview';\nimport AudioPreview from './AudioPreview';\n\ntype Props = {|\n  project: gdProject,\n  resourceName: string,\n  resourcePath?: string,\n  resourcesLoader: typeof ResourcesLoader,\n  children?: any,\n  style?: Object,\n  onSize?: (number, number) => void,\n|};\n\ntype State = {|\n  resourceKind: ?ResourceKind,\n|};\n\n/**\n * Display the right preview for any given resource of a project\n */\nexport default class ResourcePreview extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n\n    this.state = this._loadFrom(props);\n  }\n\n  componentWillReceiveProps(newProps: Props) {\n    if (\n      newProps.resourceName !== this.props.resourceName ||\n      newProps.project !== this.props.project ||\n      newProps.resourcePath !== this.props.resourcePath\n    ) {\n      this.setState(this._loadFrom(newProps));\n    }\n  }\n\n  _loadFrom(props: Props): State {\n    const { project, resourceName } = props;\n    const resourcesManager = project.getResourcesManager();\n    const resourceKind = resourcesManager.hasResource(resourceName)\n      ? resourcesManager.getResource(resourceName).getKind()\n      : null;\n\n    return {\n      resourceKind,\n    };\n  }\n\n  render() {\n    const { resourceKind } = this.state;\n\n    switch (resourceKind) {\n      case 'image':\n        return (\n          <ImagePreview\n            project={this.props.project}\n            resourceName={this.props.resourceName}\n            resourcesLoader={this.props.resourcesLoader}\n            children={this.props.children}\n            style={this.props.style}\n            onSize={this.props.onSize}\n            resourcePath={this.props.resourcePath}\n          />\n        );\n      case 'audio':\n        return (\n          <AudioPreview\n            project={this.props.project}\n            resourceName={this.props.resourceName}\n            resourcesLoader={this.props.resourcesLoader}\n            children={this.props.children}\n            style={this.props.style}\n            resourcePath={this.props.resourcePath}\n          />\n        );\n      default:\n        return null;\n    }\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport Background from '../../UI/Background';\nimport EmptyMessage from '../../UI/EmptyMessage';\nimport PropertiesEditor from '../../PropertiesEditor';\nimport ResourcePreview from '../../ResourcesList/ResourcePreview';\nimport ResourcesLoader from '../../ResourcesLoader';\nimport propertiesMapToSchema from '../../PropertiesEditor/PropertiesMapToSchema';\nimport { type Schema } from '../../PropertiesEditor';\n\nimport {\n  type ResourceSource,\n  type ChooseResourceFunction,\n} from '../../ResourcesList/ResourceSource.flow';\n\nconst styles = {\n  imagePreview: { flex: 1 },\n  propertiesContainer: {\n    padding: 10,\n    overflowY: 'scroll',\n    overflowX: 'hidden',\n    flex: 2,\n  },\n};\n\ntype Props = {|\n  project: gdProject,\n  resourcesLoader: typeof ResourcesLoader,\n  resources: Array<gdResource>,\n  onResourcePathUpdated: () => void,\n  resourceSources: Array<ResourceSource>,\n  onChooseResource: ChooseResourceFunction,\n|};\n\nexport default class ResourcePropertiesEditor extends React.Component<\n  Props,\n  {}\n> {\n  schema: Schema = [\n    {\n      name: 'Resource name',\n      valueType: 'string',\n      disabled: true,\n      getValue: (resource: gdResource) => resource.getName(),\n      setValue: (resource: gdResource, newValue: string) =>\n        resource.setName(newValue),\n    },\n    {\n      name: 'File',\n      valueType: 'string',\n      getValue: (resource: gdResource) => resource.getFile(),\n      setValue: (resource: gdResource, newValue: string) =>\n        resource.setFile(newValue),\n      onEditButtonClick: () => this._chooseResourcePath(),\n    },\n  ];\n\n  _renderEmpty() {\n    return (\n      <EmptyMessage>\n        <Trans>\n          Resources are automatically added to your project whenever you add an\n          image, a font or a video to an object or when you choose an audio file\n          in events. Choose a resource to display its properties.\n        </Trans>\n      </EmptyMessage>\n    );\n  }\n\n  _chooseResourcePath = () => {\n    const {\n      resources,\n      onResourcePathUpdated,\n      onChooseResource,\n      resourceSources,\n    } = this.props;\n    const resource = resources[0];\n    const sources = resourceSources.filter(\n      source => source.kind === resource.getKind()\n    );\n    if (!sources.length) return;\n    onChooseResource(sources[0].name).then(resources => {\n      if (!resources.length) return; // No path was chosen by the user.\n      resource.setFile(resources[0].getFile());\n\n      // Important, we are responsible for deleting the resources that were given to us.\n      // Otherwise we have a memory leak.\n      resources.forEach(resource => resource.delete());\n\n      onResourcePathUpdated();\n      this.forceUpdate();\n    });\n  };\n\n  _renderResourcesProperties() {\n    const { resources, project } = this.props;\n    //TODO: Multiple resources support\n    const properties = resources[0].getProperties(project);\n    const resourceSchema = propertiesMapToSchema(\n      properties,\n      resource => resource.getProperties(project),\n      (resource, name, value) => resource.updateProperty(name, value, project)\n    );\n\n    return (\n      <div\n        style={styles.propertiesContainer}\n        key={resources.map(resource => '' + resource.ptr).join(';')}\n      >\n        <PropertiesEditor\n          schema={this.schema.concat(resourceSchema)}\n          instances={resources}\n        />\n      </div>\n    );\n  }\n\n  _renderPreview() {\n    const { resources, project, resourcesLoader } = this.props;\n    if (!resources || !resources.length) return;\n\n    return (\n      <ResourcePreview\n        style={styles.imagePreview}\n        resourceName={resources[0].getName()}\n        resourcePath={resources[0].getFile()}\n        resourcesLoader={resourcesLoader}\n        project={project}\n      />\n    );\n  }\n\n  render() {\n    const { resources } = this.props;\n\n    return (\n      <Background>\n        {this._renderPreview()}\n        {!resources || !resources.length\n          ? this._renderEmpty()\n          : this._renderResourcesProperties()}\n      </Background>\n    );\n  }\n}\n","// @flow\nimport React, { PureComponent } from 'react';\nimport { ToolbarGroup } from 'material-ui/Toolbar';\nimport ToolbarIcon from '../UI/ToolbarIcon';\nimport ToolbarSeparator from '../UI/ToolbarSeparator';\n\ntype Props = {|\n  onOpenProjectFolder: () => void,\n  onDeleteSelection: () => void,\n  canDelete: boolean,\n  onOpenProperties: () => void,\n|};\n\ntype State = {||};\n\nexport class Toolbar extends PureComponent<Props, State> {\n  render() {\n    const t = str => str; //TODO\n    const { canDelete } = this.props;\n\n    return (\n      <ToolbarGroup lastChild>\n        <ToolbarIcon\n          onClick={this.props.onOpenProjectFolder}\n          src=\"res/ribbon_default/open32.png\"\n          tooltip={t('Open the project folder')}\n        />\n        <ToolbarSeparator />\n        <ToolbarIcon\n          onClick={this.props.onOpenProperties}\n          src=\"res/ribbon_default/editprop32.png\"\n          tooltip={t('Open the properties panel')}\n        />\n        <ToolbarSeparator />\n        <ToolbarIcon\n          onClick={this.props.onDeleteSelection}\n          src=\"res/ribbon_default/deleteselected32.png\"\n          disabled={!canDelete}\n          tooltip={t('Delete the selected resource')}\n        />\n      </ToolbarGroup>\n    );\n  }\n}\n\nexport default Toolbar;\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport ResourcesList from '../ResourcesList';\nimport ResourcePropertiesEditor from './ResourcePropertiesEditor';\nimport Toolbar from './Toolbar';\nimport EditorMosaic, { MosaicWindow } from '../UI/EditorMosaic';\nimport InfoBar from '../UI/Messages/InfoBar';\nimport ResourcesLoader from '../ResourcesLoader';\nimport optionalRequire from '../Utils/OptionalRequire';\n\nimport {\n  type ResourceSource,\n  type ChooseResourceFunction,\n} from '../ResourcesList/ResourceSource.flow';\n\nconst electron = optionalRequire('electron');\nconst shell = electron ? electron.shell : null;\nconst path = optionalRequire('path');\nconst styles = {\n  container: {\n    display: 'flex',\n    flex: 1,\n    position: 'relative',\n    overflow: 'hidden',\n  },\n};\n\ntype State = {\n  showPropertiesInfoBar: boolean,\n  selectedResource: ?gdResource,\n};\n\ntype Props = {\n  setToolbar: React.Node => void,\n  project: gdProject,\n  onDeleteResource: (resource: gdResource, cb: (boolean) => void) => void,\n  onRenameResource: (\n    resource: gdResource,\n    newName: string,\n    cb: (boolean) => void\n  ) => void,\n  resourceSources: Array<ResourceSource>,\n  onChooseResource: ChooseResourceFunction,\n};\n\nexport default class ResourcesEditor extends React.Component<Props, State> {\n  static defaultProps = {\n    setToolbar: () => {},\n  };\n\n  editorMosaic: ?EditorMosaic = null;\n  _propertiesEditor: ?ResourcePropertiesEditor = null;\n  _resourcesList: ?ResourcesList = null;\n  resourcesLoader = ResourcesLoader;\n  state = {\n    showPropertiesInfoBar: false,\n    selectedResource: null,\n  };\n\n  updateToolbar() {\n    this.props.setToolbar(\n      <Toolbar\n        onOpenProjectFolder={this.openProjectFolder}\n        onOpenProperties={this.openProperties}\n        canDelete={!!this.state.selectedResource}\n        onDeleteSelection={() =>\n          this.deleteResource(this.state.selectedResource)\n        }\n      />\n    );\n  }\n\n  deleteResource = (resource: ?gdResource) => {\n    const { project, onDeleteResource } = this.props;\n    if (!resource) return;\n\n    //eslint-disable-next-line\n    const answer = confirm(\n      \"Are you sure you want to remove this resource? This can't be undone.\"\n    );\n    if (!answer) return;\n\n    onDeleteResource(resource, doRemove => {\n      if (!doRemove || !resource) return;\n\n      project.getResourcesManager().removeResource(resource.getName());\n      this.setState(\n        {\n          selectedResource: null,\n        },\n        () => {\n          if (this._resourcesList) this._resourcesList.forceUpdateList();\n          this.updateToolbar();\n        }\n      );\n    });\n  };\n\n  openProjectFolder = () => {\n    const project = this.props.project;\n    if (shell) shell.openItem(path.dirname(project.getProjectFile()));\n  };\n\n  openProperties = () => {\n    if (!this.editorMosaic) return;\n    if (!this.editorMosaic.openEditor('properties')) {\n      this.setState({\n        showPropertiesInfoBar: true,\n      });\n    }\n  };\n\n  _onResourceSelected = (selectedResource: ?gdResource) => {\n    this.setState(\n      {\n        selectedResource,\n      },\n      () => {\n        if (this._propertiesEditor) this._propertiesEditor.forceUpdate();\n        this.updateToolbar();\n      }\n    );\n  };\n\n  render() {\n    const {\n      project,\n      onRenameResource,\n      onChooseResource,\n      resourceSources,\n    } = this.props;\n    const { selectedResource } = this.state;\n\n    const editors = {\n      properties: (\n        <MosaicWindow\n          title={<Trans>Properties</Trans>}\n          // Pass resources to force MosaicWindow update when selectedResource is changed\n          resources={selectedResource ? [selectedResource] : []}\n        >\n          <ResourcePropertiesEditor\n            key={selectedResource ? selectedResource.ptr : undefined}\n            resources={selectedResource ? [selectedResource] : []}\n            project={project}\n            resourcesLoader={this.resourcesLoader}\n            ref={propertiesEditor =>\n              (this._propertiesEditor = propertiesEditor)\n            }\n            onResourcePathUpdated={() => {\n              if (this._resourcesList) {\n                this._resourcesList.checkMissingPaths();\n              }\n            }}\n            onChooseResource={onChooseResource}\n            resourceSources={resourceSources}\n          />\n        </MosaicWindow>\n      ),\n      'resources-list': (\n        <ResourcesList\n          project={project}\n          onDeleteResource={this.deleteResource}\n          onRenameResource={onRenameResource}\n          onSelectResource={this._onResourceSelected}\n          selectedResource={selectedResource}\n          ref={resourcesList => (this._resourcesList = resourcesList)}\n        />\n      ),\n    };\n\n    return (\n      <div style={styles.container}>\n        <EditorMosaic\n          editors={editors}\n          ref={editorMosaic => (this.editorMosaic = editorMosaic)}\n          initialNodes={{\n            direction: 'row',\n            first: 'properties',\n            second: 'resources-list',\n            splitPercentage: 75,\n          }}\n        />\n        <InfoBar\n          message={<Trans>Properties panel is already opened</Trans>}\n          show={!!this.state.showPropertiesInfoBar}\n        />\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport BaseEditor from './BaseEditor';\nimport ResourcesFullEditor from '../../ResourcesEditor';\n\nexport default class ResourcesEditor extends BaseEditor {\n  updateToolbar() {\n    if (this.editor) this.editor.updateToolbar();\n  }\n\n  render() {\n    const { project } = this.props;\n\n    return (\n      <ResourcesFullEditor\n        {...this.props}\n        ref={editor => (this.editor = editor)}\n        project={project}\n      />\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport Paper from 'material-ui/Paper';\nimport { type Build } from '../../Utils/GDevelopServices/Build';\nimport { Column, Line } from '../../UI/Grid';\nimport EmptyMessage from '../../UI/EmptyMessage';\nimport PlaceholderLoader from '../../UI/PlaceholderLoader';\nimport BuildProgress from './BuildProgress';\nimport format from 'date-fns/format';\nimport difference_in_calendar_days from 'date-fns/difference_in_calendar_days';\n\ntype Props = {|\n  builds: ?Array<Build>,\n  onDownload: (build: Build, key: string) => void,\n|};\n\nconst styles = {\n  buildContainer: {\n    padding: 10,\n  },\n};\n\nexport default ({ builds, onDownload }: Props) => {\n  return (\n    <Column noMargin expand>\n      <Line>\n        <Column>\n          <EmptyMessage>\n            <Trans>\n              This is the list of builds that you've done. Note that you can\n              download games generated during to 7 days, after which they are\n              removed.\n            </Trans>\n          </EmptyMessage>\n        </Column>\n      </Line>\n      <Line>\n        {!builds ? (\n          <PlaceholderLoader />\n        ) : builds.length === 0 ? (\n          <EmptyMessage>\n            <Trans>\n              You don't have any builds on the online services for now\n            </Trans>\n          </EmptyMessage>\n        ) : (\n          <Column noMargin expand>\n            {builds.map((build: Build) => {\n              const isOld =\n                build &&\n                difference_in_calendar_days(Date.now(), build.updatedAt) > 6;\n\n              return (\n                <Paper style={styles.buildContainer} key={build.id}>\n                  <p>\n                    {build.type} - Last updated on{' '}\n                    {format(build.updatedAt, 'YYYY-MM-DD HH:mm:ss')}\n                  </p>\n                  {!isOld && (\n                    <BuildProgress\n                      build={build}\n                      onDownload={key => onDownload(build, key)}\n                    />\n                  )}\n                  {isOld && (\n                    <EmptyMessage>\n                      <Trans>\n                        This build is old and the generated games can't be\n                        downloaded anymore.\n                      </Trans>\n                    </EmptyMessage>\n                  )}\n                </Paper>\n              );\n            })}\n          </Column>\n        )}\n      </Line>\n    </Column>\n  );\n};\n","// @flow\nimport React, { Component } from 'react';\nimport UserProfileContext, {\n  type UserProfile,\n} from '../../Profile/UserProfileContext';\nimport BuildsList from './BuildsList';\nimport {\n  getBuilds,\n  type Build,\n  getUrl,\n} from '../../Utils/GDevelopServices/Build';\nimport Window from '../../Utils/Window';\nimport BuildsWatcher from './BuildsWatcher';\n\ntype ContainerProps = {|\n  onBuildsUpdated: ?() => void,\n|};\ntype Props = {|\n  onBuildsUpdated: ?() => void,\n  userProfile: UserProfile,\n|};\ntype State = {|\n  builds: ?Array<Build>,\n|};\n\nexport class Builds extends Component<Props, State> {\n  state = {\n    builds: null,\n  };\n  buildsWatcher = new BuildsWatcher();\n\n  componentDidMount() {\n    this._refreshBuilds();\n  }\n\n  componentWillUnmount() {\n    this.buildsWatcher.stop();\n  }\n\n  _startBuildsWatcher = () => {\n    if (!this.state.builds) return;\n\n    this.buildsWatcher.start({\n      userProfile: this.props.userProfile,\n      builds: this.state.builds,\n      onBuildUpdated: (newBuild: Build) => {\n        if (!this.state.builds) return;\n\n        this.setState({\n          builds: this.state.builds.map((oldBuild: Build) => {\n            if (newBuild.id === oldBuild.id) return newBuild;\n\n            return oldBuild;\n          }),\n        });\n      },\n    });\n  };\n\n  _refreshBuilds = () => {\n    const { getAuthorizationHeader, profile } = this.props.userProfile;\n    if (!profile) return;\n\n    getBuilds(getAuthorizationHeader, profile.uid).then(\n      builds => {\n        this.setState(\n          {\n            builds,\n          },\n          () => {\n            this._startBuildsWatcher();\n            if (this.props.onBuildsUpdated) this.props.onBuildsUpdated();\n          }\n        );\n      },\n      () => {\n        //TODO: Handle error\n      }\n    );\n  };\n\n  _download = (build: Build, key: string) => {\n    if (!build || !build[key]) return;\n\n    Window.openExternalURL(getUrl(build[key]));\n  };\n\n  render() {\n    return (\n      <BuildsList builds={this.state.builds} onDownload={this._download} />\n    );\n  }\n}\n\nconst BuildsContainer = (props: ContainerProps) => (\n  <UserProfileContext.Consumer>\n    {(userProfile: UserProfile) => (\n      <Builds\n        userProfile={userProfile}\n        onBuildsUpdated={props.onBuildsUpdated}\n      />\n    )}\n  </UserProfileContext.Consumer>\n);\n\nexport default BuildsContainer;\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport React, { Component } from 'react';\nimport Dialog from '../../UI/Dialog';\nimport HelpButton from '../../UI/HelpButton';\nimport FlatButton from 'material-ui/FlatButton';\nimport Builds from '.';\n\ntype Props = {|\n  open: boolean,\n  onClose: () => void,\n|};\ntype State = {||};\n\nexport default class BuildsDialog extends Component<Props, State> {\n  _onBuildsUpdated = () => {\n    // Force the Dialog repositioning\n    this.forceUpdate();\n  };\n\n  render() {\n    const { open, onClose } = this.props;\n    if (!open) return null;\n\n    return (\n      <Dialog\n        title={<Trans>All your builds</Trans>}\n        onRequestClose={onClose}\n        actions={[\n          <FlatButton\n            label={<Trans>Close</Trans>}\n            key=\"close\"\n            primary={false}\n            onClick={onClose}\n          />,\n        ]}\n        secondaryActions={[\n          <HelpButton key=\"help\" helpPagePath={'/publishing'} />,\n        ]}\n        open={open}\n        noMargin\n        autoScrollBodyContent\n      >\n        <Builds onBuildsUpdated={this._onBuildsUpdated} />\n      </Dialog>\n    );\n  }\n}\n","import { Trans } from '@lingui/macro';\nimport React, { Component } from 'react';\nimport Dialog from '../UI/Dialog';\nimport HelpButton from '../UI/HelpButton';\nimport FlatButton from 'material-ui/FlatButton';\nimport Subheader from 'material-ui/Subheader';\nimport { List, ListItem } from 'material-ui/List';\nimport Visibility from 'material-ui/svg-icons/action/visibility';\nimport VisibilityOff from 'material-ui/svg-icons/action/visibility-off';\nimport BuildsDialog from './Builds/BuildsDialog';\nimport { Line } from '../UI/Grid';\n\nconst styles = {\n  icon: { width: 40, height: 40 },\n  disabledItem: { opacity: 0.6 },\n  content: { padding: 24 },\n};\n\nexport default class ExportDialog extends Component {\n  state = {\n    chosenExporterKey: '',\n    showExperimental: false,\n    buildsDialogOpen: false,\n  };\n\n  chooseExporter = key => {\n    this.setState({\n      chosenExporterKey: key,\n    });\n  };\n\n  _showExperimental = (show = true) => {\n    this.setState({\n      showExperimental: show,\n    });\n  };\n\n  _openBuildsDialog = (open = true) => {\n    this.setState({\n      buildsDialogOpen: open,\n    });\n  };\n\n  _renderExporterListItem = (exporter, index) => {\n    return (\n      <ListItem\n        key={exporter.key}\n        disabled={exporter.disabled}\n        style={exporter.disabled ? styles.disabledItem : undefined}\n        leftAvatar={exporter.renderIcon({ style: styles.icon })}\n        primaryText={exporter.name}\n        secondaryText={<p>{exporter.description}</p>}\n        secondaryTextLines={2}\n        onClick={() => this.chooseExporter(exporter.key)}\n      />\n    );\n  };\n\n  render() {\n    const {\n      project,\n      open,\n      onClose,\n      authentification, //Still exist?\n      onChangeSubscription,\n      exporters,\n    } = this.props;\n    const { showExperimental, chosenExporterKey } = this.state;\n    if (!open || !project) return null;\n\n    const exporter = exporters.find(\n      exporter => exporter.key === chosenExporterKey\n    );\n\n    return (\n      <Dialog\n        title={<Trans>Export project to a standalone game</Trans>}\n        onRequestClose={onClose}\n        actions={[\n          chosenExporterKey && (\n            <FlatButton\n              label={<Trans>Back</Trans>}\n              key=\"back\"\n              primary={false}\n              onClick={() => this.chooseExporter('')}\n            />\n          ),\n          <FlatButton\n            label={<Trans>Close</Trans>}\n            key=\"close\"\n            primary={false}\n            onClick={onClose}\n          />,\n        ]}\n        secondaryActions={[\n          <HelpButton\n            key=\"help\"\n            helpPagePath={(exporter && exporter.helpPage) || '/publishing'}\n          />,\n          <FlatButton\n            key=\"builds\"\n            label={<Trans>See all my builds</Trans>}\n            onClick={() => this._openBuildsDialog(true)}\n          />,\n        ]}\n        open={open}\n        noMargin\n        autoScrollBodyContent\n      >\n        {!exporter && (\n          <React.Fragment>\n            <List>\n              {exporters\n                .filter(\n                  exporter => !exporter.advanced && !exporter.experimental\n                )\n                .map((exporter, index) =>\n                  this._renderExporterListItem(exporter, index)\n                )}\n\n              <Subheader>Advanced</Subheader>\n              {exporters\n                .filter(exporter => exporter.advanced)\n                .map((exporter, index) =>\n                  this._renderExporterListItem(exporter, index)\n                )}\n\n              {showExperimental && <Subheader>Experimental</Subheader>}\n              {showExperimental &&\n                exporters\n                  .filter(exporter => exporter.experimental)\n                  .map((exporter, index) =>\n                    this._renderExporterListItem(exporter, index)\n                  )}\n            </List>\n            <Line justifyContent=\"center\" alignItems=\"center\">\n              {!showExperimental ? (\n                <FlatButton\n                  key=\"toggle-experimental\"\n                  icon={<Visibility />}\n                  primary={false}\n                  onClick={() => this._showExperimental(true)}\n                  label={<Trans>Show experimental exports</Trans>}\n                />\n              ) : (\n                <FlatButton\n                  key=\"toggle-experimental\"\n                  icon={<VisibilityOff />}\n                  primary={false}\n                  onClick={() => this._showExperimental(false)}\n                  label={<Trans>Hide experimental exports</Trans>}\n                />\n              )}\n            </Line>\n          </React.Fragment>\n        )}\n        {exporter && (\n          <div style={styles.content}>\n            <exporter.ExportComponent\n              project={project}\n              authentification={authentification} //Still exist?\n              onChangeSubscription={onChangeSubscription}\n              onOpenBuildsDialog={this._openBuildsDialog}\n            />\n          </div>\n        )}\n        <BuildsDialog\n          open={this.state.buildsDialogOpen}\n          onClose={() => this._openBuildsDialog(false)}\n        />\n      </Dialog>\n    );\n  }\n}\n","// @flow\nimport axios from 'axios';\nimport { GDevelopExtensionApi } from './ApiConfigs';\n\nexport type ExtensionShortHeader = {|\n  shortDescription: string,\n  extensionNamespace: string,\n  fullName: string,\n  name: string,\n  version: string,\n  url: string,\n  headerUrl: string,\n  tags: string,\n  eventsBasedBehaviorsCount: number,\n  eventsFunctionsCount: number,\n|};\nexport type ExtensionHeader = {|\n  ...ExtensionShortHeader,\n  description: string,\n|};\n\nexport type SerializedExtension = {\n  ...ExtensionHeader,\n};\n\nexport type ExtensionsRegistry = {\n  version: string,\n  allTags: Array<string>,\n  extensionShortHeaders: Array<ExtensionShortHeader>,\n};\n\n// Handle urls to extension header or file. If the URL is not absolute and HTTPS,\n// it is assumed to be relative to the registry base url.\nconst resolveExtensionUrl = (url: string): string => {\n  const trimmedUrl = url.trim();\n  if (trimmedUrl.indexOf('https://') === 0) {\n    return trimmedUrl;\n  }\n\n  return `${GDevelopExtensionApi.baseUrl}/${trimmedUrl}`;\n};\n\nexport const getExtensionsRegistry = (): Promise<ExtensionsRegistry> => {\n  return axios\n    .get(`${GDevelopExtensionApi.baseUrl}/extensions-registry.json`)\n    .then(response => response.data);\n};\n\nexport const getExtensionHeader = (\n  extensionShortHeader: ExtensionShortHeader\n): Promise<ExtensionHeader> => {\n  return axios\n    .get(resolveExtensionUrl(extensionShortHeader.headerUrl))\n    .then(response => response.data);\n};\n\nexport const getExtension = (\n  extensionHeader: ExtensionShortHeader | ExtensionHeader\n): Promise<SerializedExtension> => {\n  return axios\n    .get(resolveExtensionUrl(extensionHeader.url))\n    .then(response => response.data);\n};\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport * as React from 'react';\nimport { Column, Line } from './Grid';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport EmptyMessage from './EmptyMessage';\n\ntype Props = {|\n  children: React.Node,\n  onRetry?: () => void,\n|};\n\nexport default ({ onRetry, children }: Props) => (\n  <Column expand alignItems=\"center\">\n    <EmptyMessage>{children}</EmptyMessage>\n    <Line>\n      {onRetry && (\n        <RaisedButton\n          primary\n          label={<Trans>Retry</Trans>}\n          onClick={() => onRetry()}\n        />\n      )}\n    </Line>\n  </Column>\n);\n","// @flow\nimport { Trans } from '@lingui/macro';\nimport React, { Component } from 'react';\nimport Dialog from '../UI/Dialog';\nimport FlatButton from 'material-ui/FlatButton';\nimport {\n  type ExtensionShortHeader,\n  type ExtensionHeader,\n  getExtensionHeader,\n} from '../Utils/GDevelopServices/Extension';\nimport LeftLoader from '../UI/LeftLoader';\nimport PlaceholderLoader from '../UI/PlaceholderLoader';\nimport PlaceholderError from '../UI/PlaceholderError';\nimport ThemeConsumer from '../UI/Theme/ThemeConsumer';\nimport ReactMarkdown from 'react-markdown';\n\ntype Props = {|\n  extensionShortHeader: ExtensionShortHeader,\n  isInstalling: boolean,\n  onClose: () => void,\n  onInstall: (type: string, defaultName: string) => void,\n  alreadyInstalled: boolean,\n|};\ntype State = {|\n  extensionHeader: ?ExtensionHeader,\n  error: ?Error,\n|};\n\nexport default class ExtensionInstallDialog extends Component<Props, State> {\n  state = {\n    extensionHeader: null,\n    error: null,\n  };\n\n  componentDidMount() {\n    this._loadExtensionheader();\n  }\n\n  _loadExtensionheader = () => {\n    this.setState({\n      error: null,\n    });\n    getExtensionHeader(this.props.extensionShortHeader).then(\n      extensionHeader => {\n        this.setState({\n          extensionHeader,\n        });\n      },\n      error => {\n        this.setState({\n          error,\n        });\n      }\n    );\n  };\n\n  render() {\n    const {\n      isInstalling,\n      extensionShortHeader,\n      onClose,\n      onInstall,\n      alreadyInstalled,\n    } = this.props;\n    const { extensionHeader, error } = this.state;\n\n    return (\n      <ThemeConsumer>\n        {muiTheme => (\n          <Dialog\n            title={\n              extensionHeader\n                ? extensionHeader.fullName\n                : extensionShortHeader.fullName\n            }\n            actions={[\n              <FlatButton\n                key=\"close\"\n                label={<Trans>Back</Trans>}\n                primary={false}\n                onClick={onClose}\n                disabled={isInstalling}\n              />,\n              <LeftLoader isLoading={isInstalling}>\n                <FlatButton\n                  key=\"install\"\n                  label={\n                    alreadyInstalled ? (\n                      <Trans>Re-install/update</Trans>\n                    ) : (\n                      <Trans>Install in project</Trans>\n                    )\n                  }\n                  primary\n                  onClick={onInstall}\n                  disabled={isInstalling}\n                />\n              </LeftLoader>,\n            ]}\n            open\n            autoScrollBodyContent\n            onRequestClose={onClose}\n          >\n            {!extensionHeader ? (\n              extensionShortHeader.shortDescription\n            ) : (\n              <ReactMarkdown\n                escapeHtml\n                source={extensionHeader.description}\n                className={muiTheme.markdownRootClassName}\n              />\n            )}\n            {!extensionHeader && !error && <PlaceholderLoader />}\n            {!extensionHeader && error && (\n              <PlaceholderError onRetry={this._loadExtensionheader}>\n                <Trans>\n                  Can't load the extension registry. Verify your internet\n                  connection or try again later.\n                </Trans>\n              </PlaceholderError>\n            )}\n          </Dialog>\n        )}\n      </ThemeConsumer>\n    );\n  }\n}\n","// @flow\nimport { t } from '@lingui/macro';\nimport { Trans } from '@lingui/macro';\nimport { I18n } from '@lingui/react';\nimport { type I18n as I18nType } from '@lingui/core';\n\nimport React, { Component } from 'react';\nimport SearchBar from 'material-ui-search-bar';\nimport {\n  getExtensionsRegistry,\n  type ExtensionsRegistry,\n  type ExtensionShortHeader,\n  type SerializedExtension,\n  getExtension,\n} from '../Utils/GDevelopServices/Extension';\nimport { List, ListItem } from 'material-ui/List';\nimport PlaceholderLoader from '../UI/PlaceholderLoader';\nimport ExtensionInstallDialog from './ExtensionInstallDialog';\nimport { unserializeFromJSObject } from '../Utils/Serializer';\nimport { showErrorBox } from '../UI/Messages/MessageBox';\nimport EventsFunctionsExtensionsContext, {\n  type EventsFunctionsExtensionsState,\n} from '../EventsFunctionsExtensionsLoader/EventsFunctionsExtensionsContext';\nimport PlaceholderError from '../UI/PlaceholderError';\nimport EmptyMessage from '../UI/EmptyMessage';\nimport SearchbarWithChips from '../UI/SearchbarWithChips';\n\n/**\n * Add a serialized (JS object) events function extension to the project,\n * triggering reload of extensions.\n */\nexport const addSerializedExtensionToProject = (\n  eventsFunctionsExtensionsState: EventsFunctionsExtensionsState,\n  project: gdProject,\n  serializedExtension: SerializedExtension\n): Promise<void> => {\n  const { name } = serializedExtension;\n  if (!name)\n    return Promise.reject(new Error('Malformed extension (missing name).'));\n\n  const newEventsFunctionsExtension = project.hasEventsFunctionsExtensionNamed(\n    name\n  )\n    ? project.getEventsFunctionsExtension(name)\n    : project.insertNewEventsFunctionsExtension(name, 0);\n\n  unserializeFromJSObject(\n    newEventsFunctionsExtension,\n    serializedExtension,\n    'unserializeFrom',\n    project\n  );\n\n  return eventsFunctionsExtensionsState.loadProjectEventsFunctionsExtensions(\n    project\n  );\n};\n\ntype Props = {|\n  project: gdProject,\n  showOnlyWithBehaviors: boolean,\n  onNewExtensionInstalled: () => void,\n  onRegistryLoaded?: () => void,\n|};\n\ntype State = {|\n  isInstalling: boolean,\n  selectedExtensionShortHeader: ?ExtensionShortHeader,\n  searchText: string,\n  chosenTag: string,\n  extensionsRegistry: ?ExtensionsRegistry,\n  error: ?Error,\n|};\n\ntype FilteringOptions = {|\n  searchText: string,\n  chosenTag: string,\n  showOnlyWithBehaviors: boolean,\n|};\n\nconst filterExtensionShortHeaders = (\n  extensionShortHeaders: Array<ExtensionShortHeader>,\n  { searchText, chosenTag, showOnlyWithBehaviors }: FilteringOptions\n): Array<ExtensionShortHeader> => {\n  const behaviorsFilteredHeaders = extensionShortHeaders.filter(\n    ({ eventsBasedBehaviorsCount }) =>\n      !showOnlyWithBehaviors || eventsBasedBehaviorsCount > 0\n  );\n\n  if (!searchText && !chosenTag) return behaviorsFilteredHeaders;\n  return behaviorsFilteredHeaders\n    .filter(({ tags }) => !chosenTag || tags.indexOf(chosenTag) !== -1)\n    .filter(\n      ({ name, shortDescription }) =>\n        !searchText ||\n        (name.indexOf(searchText) !== -1 ||\n          shortDescription.indexOf(searchText) !== -1)\n    );\n};\n\nconst MAX_DISPLAYED_RESULTS = 20;\n\n/**\n * Display a list of extensions that the user can search in.\n * Can be used as is, or in a dialog (see ExtensionsSearchDialog).\n */\nexport default class ExtensionsSearch extends Component<Props, State> {\n  state = {\n    isInstalling: false,\n    extensionsRegistry: null,\n    selectedExtensionShortHeader: null,\n    searchText: '',\n    error: null,\n    chosenTag: '',\n  };\n  _searchBar = React.createRef<SearchBar>();\n\n  componentDidMount() {\n    this._loadExtensionsRegistry();\n  }\n\n  _loadExtensionsRegistry = () => {\n    this.setState({\n      error: null,\n    });\n    getExtensionsRegistry().then(\n      extensionsRegistry => {\n        this.setState(\n          {\n            extensionsRegistry,\n          },\n          () => {\n            if (this.props.onRegistryLoaded) {\n              this.props.onRegistryLoaded();\n            }\n          }\n        );\n      },\n      error => {\n        this.setState({\n          error,\n        });\n      }\n    );\n  };\n\n  _install = (\n    i18n: I18nType,\n    eventsFunctionsExtensionsState: EventsFunctionsExtensionsState,\n    extensionShortHeader: ExtensionShortHeader\n  ) => {\n    const { project } = this.props;\n\n    this.setState({\n      isInstalling: true,\n    });\n    getExtension(extensionShortHeader)\n      .then(\n        serializedExtension => {\n          return addSerializedExtensionToProject(\n            eventsFunctionsExtensionsState,\n            project,\n            serializedExtension\n          ).then(() => {\n            this.setState(\n              {\n                selectedExtensionShortHeader: null,\n              },\n              () => this.props.onNewExtensionInstalled()\n            );\n          });\n        },\n        err => {\n          showErrorBox(\n            i18n._(\n              t`Unable to download and install the extension. Verify that your internet connection is working or try again later.`\n            ),\n            err\n          );\n        }\n      )\n      .then(() => {\n        this.setState({\n          isInstalling: false,\n        });\n      });\n  };\n\n  render() {\n    const { project, showOnlyWithBehaviors } = this.props;\n    const {\n      selectedExtensionShortHeader,\n      extensionsRegistry,\n      searchText,\n      isInstalling,\n      error,\n      chosenTag,\n    } = this.state;\n\n    const extensionShortHeaders = extensionsRegistry\n      ? filterExtensionShortHeaders(extensionsRegistry.extensionShortHeaders, {\n          searchText,\n          chosenTag,\n          showOnlyWithBehaviors,\n        })\n      : [];\n\n    return (\n      <I18n>\n        {({ i18n }) => (\n          <EventsFunctionsExtensionsContext.Consumer>\n            {eventsFunctionsExtensionsState => (\n              <React.Fragment>\n                <SearchbarWithChips\n                  value={searchText}\n                  onRequestSearch={() => {\n                    if (extensionShortHeaders.length) {\n                      this.setState({\n                        selectedExtensionShortHeader: extensionShortHeaders[0],\n                      });\n                    }\n                  }}\n                  onChange={searchText =>\n                    this.setState({\n                      searchText,\n                    })\n                  }\n                  chips={\n                    !!extensionsRegistry\n                      ? extensionsRegistry.allTags.map(tag => ({\n                          text: tag,\n                          value: tag,\n                        }))\n                      : null\n                  }\n                  chosenChip={chosenTag}\n                  onChooseChip={chosenTag =>\n                    this.setState({\n                      chosenTag,\n                    })\n                  }\n                  ref={this._searchBar}\n                />\n                <List>\n                  {!extensionsRegistry && !error && <PlaceholderLoader />}\n                  {!!extensionsRegistry &&\n                    extensionShortHeaders\n                      .slice(0, MAX_DISPLAYED_RESULTS)\n                      .map(extensionShortHeader => {\n                        const alreadyInstalled = project.hasEventsFunctionsExtensionNamed(\n                          extensionShortHeader.name\n                        );\n\n                        return (\n                          <ListItem\n                            key={extensionShortHeader.name}\n                            primaryText={\n                              <span>\n                                {extensionShortHeader.fullName}{' '}\n                                {alreadyInstalled && (\n                                  <Trans> (already installed)</Trans>\n                                )}\n                              </span>\n                            }\n                            secondaryText={\n                              <p>{extensionShortHeader.shortDescription}</p>\n                            }\n                            secondaryTextLines={2}\n                            onClick={() =>\n                              this.setState({\n                                selectedExtensionShortHeader: extensionShortHeader,\n                              })\n                            }\n                          />\n                        );\n                      })}\n                  {!!extensionsRegistry &&\n                    extensionShortHeaders.length > MAX_DISPLAYED_RESULTS && (\n                      <EmptyMessage>\n                        <Trans>\n                          There are other results not displayed. Enter more\n                          precise search criteria to find other extensions.\n                        </Trans>\n                      </EmptyMessage>\n                    )}\n                  {!extensionsRegistry && error && (\n                    <PlaceholderError onRetry={this._loadExtensionsRegistry}>\n                      <Trans>\n                        Can't load the extension registry. Verify your internet\n                        connection or try again later.\n                      </Trans>\n                    </PlaceholderError>\n                  )}\n                </List>\n                {!!selectedExtensionShortHeader && (\n                  <ExtensionInstallDialog\n                    isInstalling={isInstalling}\n                    extensionShortHeader={selectedExtensionShortHeader}\n                    alreadyInstalled={project.hasEventsFunctionsExtensionNamed(\n                      selectedExtensionShortHeader.name\n                    )}\n                    onInstall={() =>\n                      this._install(\n                        i18n,\n                        eventsFunctionsExtensionsState,\n                        selectedExtensionShortHeader\n                      )\n                    }\n                    onClose={() =>\n                      this.setState({\n                        selectedExtensionShortHeader: null,\n                      })\n                    }\n                  />\n                )}\n              </React.Fragment>\n            )}\n          </EventsFunctionsExtensionsContext.Consumer>\n        )}\n      </I18n>\n    );\n  }\n}\n","// @flow\nimport { type Theme } from '../DefaultTheme';\nimport getMuiTheme from 'material-ui/styles/getMuiTheme';\nimport './Mosaic.css';\nimport './EventsSheet.css';\nimport 'react-virtualized/styles.css'; // Styles for react-virtualized Table\nimport './Table.css';\nimport './Markdown.css';\n\nconst almostWhite = '#EEE';\nconst lightWhite = '#DDD';\nconst notSoWhite = '#CCC';\nconst gdevelopDarkBlue = '#3c4698';\nconst blue = '#2C5FD2';\n\nconst systemSelectionColor = '#4c92ff'; //OS X selection\n\nconst backgroundColor = '#252525';\nconst canvasColor = '#303030';\n\nconst theme: Theme = {\n  fontFamily: '-apple-system, BlinkMacSystemFont, sans-serif', //OS X font\n  palette: {\n    primary1Color: blue,\n    primary2Color: blue,\n    accent1Color: almostWhite,\n    canvasColor,\n    textColor: lightWhite,\n    secondaryTextColor: notSoWhite,\n    alternateTextColor: '#444',\n    borderColor: '#444444',\n    disabledColor: '#888888',\n    pickerHeaderColor: '#444444',\n    clockCircleColor: '#444444',\n  },\n  avatar: {\n    backgroundColor: 'transparent',\n  },\n  tabs: {\n    backgroundColor: gdevelopDarkBlue,\n    textColor: lightWhite,\n    selectedTextColor: almostWhite,\n  },\n  toolbar: {\n    backgroundColor: backgroundColor,\n    separatorColor: '#303030',\n    menuHoverColor: systemSelectionColor,\n    hoverColor: systemSelectionColor,\n  },\n  menuItem: {\n    dataHeight: 24,\n    height: 32,\n    hoverColor: systemSelectionColor,\n    selectedTextColor: systemSelectionColor,\n    padding: 8,\n  },\n  appBar: {\n    color: gdevelopDarkBlue,\n    textColor: almostWhite,\n  },\n  button: {\n    height: 32,\n    iconButtonSize: 24,\n  },\n  snackbar: {\n    actionColor: blue,\n  },\n  stepper: {\n    textColor: lightWhite,\n  },\n  raisedButton: {\n    primaryTextColor: notSoWhite,\n  },\n\n  // GDevelop specific variables:\n  closableTabs: {\n    backgroundColor: backgroundColor,\n    textColor: '#878787',\n    selectedBackgroundColor: gdevelopDarkBlue,\n    selectedTextColor: almostWhite,\n    width: 200,\n    height: 32,\n    closeButtonWidth: 24,\n  },\n  imageThumbnail: {\n    selectedBorderColor: systemSelectionColor,\n  },\n  list: {\n    itemsBackgroundColor: '#494949',\n  },\n  listItem: {\n    groupBackgroundColor: backgroundColor,\n    groupTextColor: '#AAA',\n    deprecatedGroupTextColor: '#888',\n    separatorColor: '#303030',\n    selectedBackgroundColor: systemSelectionColor,\n    selectedTextColor: almostWhite,\n    errorTextColor: '#ff2e16',\n    warningTextColor: '#ffb032',\n    selectedErrorBackgroundColor: '#ff2e16',\n    selectedWarningBackgroundColor: '#ffb032',\n  },\n  emptyMessage: {\n    shadowColor: '#000',\n  },\n  logo: {\n    src: 'res/GD-logo.png',\n  },\n  mosaicRootClassName: 'mosaic-gd-dark-theme', // See Mosaic.css\n  eventsSheetRootClassName: 'gd-events-sheet-dark-theme', // See EventsSheet.css\n  tableRootClassName: 'gd-table-dark-theme', // See Table.css\n  markdownRootClassName: 'gd-markdown-dark-theme', // See Markdown.css\n  gdevelopIconsCSSFilter: '',\n};\n\nexport default getMuiTheme(theme);\n","// @flow\nimport getMuiTheme from 'material-ui/styles/getMuiTheme';\nimport './Mosaic.css';\nimport './EventsSheet.css';\nimport 'react-virtualized/styles.css'; // Styles for react-virtualized Table\nimport './Table.css';\nimport './Markdown.css';\n\nconst gdevelopPurple = '#9100ce';\nconst gdevelopLightBlue = '#4ab0e4';\nconst gdevelopDarkBlue = '#3c4698';\n\nconst systemSelectionColor = '#4c92ff'; //OS X selection\n\nconst backgroundColor = '#f7f7f7';\nconst canvasColor = '#f0f0f0';\n\nconst theme = {\n  fontFamily: '-apple-system, BlinkMacSystemFont, sans-serif', //OS X font\n  palette: {\n    primary1Color: gdevelopLightBlue,\n    primary2Color: gdevelopDarkBlue,\n    accent1Color: gdevelopPurple,\n    canvasColor,\n  },\n  avatar: {\n    backgroundColor: 'transparent',\n  },\n  tabs: {\n    backgroundColor: gdevelopLightBlue,\n  },\n  toolbar: {\n    backgroundColor: backgroundColor,\n    separatorColor: '#cecece',\n    menuHoverColor: systemSelectionColor,\n    hoverColor: systemSelectionColor,\n  },\n  menuItem: {\n    dataHeight: 24,\n    height: 32,\n    hoverColor: systemSelectionColor,\n    selectedTextColor: systemSelectionColor,\n    padding: 8,\n  },\n  appBar: {\n    color: gdevelopPurple,\n  },\n  button: {\n    height: 32,\n    iconButtonSize: 24,\n  },\n  snackbar: {\n    actionColor: gdevelopLightBlue,\n  },\n  stepper: {},\n  raisedButton: {\n    primaryTextColor: '#ffffff',\n  },\n\n  // GDevelop specific variables:\n  closableTabs: {\n    backgroundColor: backgroundColor,\n    textColor: '#878787',\n    selectedBackgroundColor: gdevelopLightBlue,\n    selectedTextColor: '#ffffff',\n    width: 200,\n    height: 32,\n    closeButtonWidth: 24,\n  },\n  imageThumbnail: {\n    selectedBorderColor: systemSelectionColor,\n  },\n  list: {\n    itemsBackgroundColor: '#FFFFFF',\n  },\n  listItem: {\n    groupBackgroundColor: backgroundColor,\n    groupTextColor: 'rgba(0,0,0,0.54)',\n    deprecatedGroupTextColor: 'rgba(0,0,0,0.30)',\n    separatorColor: '#e0e0e0',\n    selectedBackgroundColor: systemSelectionColor,\n    selectedTextColor: '#ffffff',\n    errorTextColor: '#ff2e16',\n    warningTextColor: '#ffb032',\n    selectedErrorBackgroundColor: '#ff2e16',\n    selectedWarningBackgroundColor: '#ffb032',\n  },\n  emptyMessage: {\n    shadowColor: '#FFFFFF',\n  },\n  logo: {\n    src: 'res/GD-logo-big.png',\n  },\n  mosaicRootClassName: 'mosaic-gd-default-theme', // See Mosaic.css\n  eventsSheetRootClassName: 'gd-events-sheet-default-theme', // See EventsSheet.css\n  tableRootClassName: 'gd-table-default-theme', // See Table.css\n  markdownRootClassName: 'gd-markdown-default-theme', // See Markdown.css\n  gdevelopIconsCSSFilter: '',\n};\n\nexport type Theme = $Exact<typeof theme>;\nexport default getMuiTheme(theme);\n","import DarkTheme from './DarkTheme';\nimport DefaultTheme from './DefaultTheme';\n\n// To add a new theme:\n// * copy the folder of an existing one (DefaultTheme for example),\n// * import it at the top of the file\n// * add it below:\nexport const themes = {\n  'GDevelop default': DefaultTheme,\n  Dark: DarkTheme,\n};\n\nexport const getTheme = themeName =>\n  themes[themeName] || themes['GDevelop default'];\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport {\n  type Release,\n  findRelease,\n} from '../../Utils/GDevelopServices/Release';\nimport EmptyMessage from '../../UI/EmptyMessage';\nimport PlaceholderLoader from '../../UI/PlaceholderLoader';\nimport ReactMarkdown from 'react-markdown';\nimport { Column, Line } from '../../UI/Grid';\nimport { FlatButton, RaisedButton } from 'material-ui';\nimport Window from '../../Utils/Window';\nimport { hasBreakingChange } from '../../Utils/GDevelopServices/Release';\nimport AlertMessage from '../../UI/AlertMessage';\nimport ThemeConsumer from '../../UI/Theme/ThemeConsumer';\n\ntype Props = {|\n  releases: ?Array<Release>,\n  error: ?Error,\n  currentReleaseName: string,\n|};\n\n/**\n * Display information about latest releases.\n */\nconst ChangelogRenderer = ({ releases, error, currentReleaseName }: Props) => {\n  const openReleaseNote = () =>\n    Window.openExternalURL('https://github.com/4ian/GDevelop/releases');\n\n  if (error) {\n    return (\n      <Column>\n        <Line>\n          <AlertMessage kind=\"warning\">\n            Please double check online the changes to make sure that you are\n            aware of anything new in this version that would require you to\n            adapt your project.\n          </AlertMessage>\n        </Line>\n        <Line>\n          <EmptyMessage>\n            <Trans>\n              Unable to load the information about the latest GDevelop releases.\n              Verify your internet connection or retry later.\n            </Trans>\n          </EmptyMessage>\n        </Line>\n        <Line justifyContent=\"center\">\n          <RaisedButton\n            label={<Trans>See the releases notes online</Trans>}\n            onClick={openReleaseNote}\n          />\n        </Line>\n      </Column>\n    );\n  }\n\n  if (!releases) {\n    return <PlaceholderLoader />;\n  }\n\n  const currentRelease = findRelease(releases, currentReleaseName);\n  const currentVersionHasBreakingChange =\n    !!currentRelease && hasBreakingChange(currentRelease);\n\n  return (\n    <ThemeConsumer>\n      {muiTheme => (\n        <Column>\n          {currentVersionHasBreakingChange && (\n            <AlertMessage kind=\"warning\">\n              This version of GDevelop has a breaking change. Please make sure\n              to read the changes below to understand if any change or\n              adaptation must be made to your project.\n            </AlertMessage>\n          )}\n          {releases.map(release =>\n            release.name ? (\n              <ReactMarkdown\n                key={release.name}\n                escapeHtml\n                source={\n                  '# Version ' +\n                  release.name +\n                  '\\n---\\n' +\n                  (release.description ||\n                    'Changes and new features description will be available soon.')\n                }\n                className={muiTheme.markdownRootClassName}\n              />\n            ) : null\n          )}\n          <Line justifyContent=\"center\">\n            <FlatButton\n              label={<Trans>See all the releases notes</Trans>}\n              onClick={openReleaseNote}\n            />\n          </Line>\n        </Column>\n      )}\n    </ThemeConsumer>\n  );\n};\n\nexport default ChangelogRenderer;\n","// @flow\nimport axios from 'axios';\nimport { GDevelopReleaseApi } from './ApiConfigs';\n\nexport type Release = {\n  name: ?string,\n  publishedAt: ?string,\n  description: ?string,\n};\n\nexport const getReleases = (): Promise<Array<Release>> => {\n  return axios\n    .get(`${GDevelopReleaseApi.baseUrl}/release`, {\n      params: {\n        last: 4,\n      },\n    })\n    .then(response => response.data);\n};\n\nexport const hasBreakingChange = (release: Release): boolean => {\n  return (\n    (release.description || '').toLowerCase().indexOf('breaking change') !== -1\n  );\n};\n\nexport const findRelease = (\n  releases: Array<Release>,\n  name: string\n): ?Release => {\n  return releases.find(release => release.name === name);\n};\n","// @flow\nimport * as React from 'react';\nimport {\n  getReleases,\n  type Release,\n} from '../../Utils/GDevelopServices/Release';\nimport ChangelogRenderer from './ChangelogRenderer';\nimport { getIDEVersion } from '../../Version';\n\ntype State = {|\n  releases: ?Array<Release>,\n  error: ?Error,\n|};\n\ntype Props = {|\n  onUpdated?: () => void,\n|};\n\n/**\n * Load information about latest releases and display them.\n */\nexport default class Changelog extends React.Component<Props, State> {\n  state = {\n    releases: null,\n    error: null,\n  };\n\n  _onUpdated = () => {\n    if (this.props.onUpdated) this.props.onUpdated();\n  };\n\n  componentDidMount() {\n    getReleases()\n      .then(releases =>\n        this.setState(\n          {\n            releases,\n            error: null,\n          },\n          this._onUpdated\n        )\n      )\n      .catch((error: ?Error) =>\n        this.setState(\n          {\n            error,\n          },\n          this._onUpdated\n        )\n      );\n  }\n\n  render() {\n    const { releases, error } = this.state;\n    return (\n      <ChangelogRenderer\n        releases={releases}\n        error={error}\n        currentReleaseName={getIDEVersion()}\n      />\n    );\n  }\n}\n","import React from 'react';\nimport { ListItem } from 'material-ui/List';\nimport IconMenu from '../UI/Menu/IconMenu';\nimport IconButton from 'material-ui/IconButton';\nimport TextField from 'material-ui/TextField';\nimport MoreVertIcon from 'material-ui/svg-icons/navigation/more-vert';\nimport ThemeConsumer from '../UI/Theme/ThemeConsumer';\n\ntype Props = {|\n  group: gdObjectGroup,\n  style: Object,\n  onEdit: ?(gdObjectGroup) => void,\n  onEditName: () => void,\n  onDelete: () => void,\n  onRename: string => void,\n  editingName: boolean,\n  isGlobalGroup: boolean,\n|};\n\nconst styles = {\n  groupName: {\n    overflow: 'hidden',\n    whiteSpace: 'nowrap',\n    textOverflow: 'ellipsis',\n  },\n  textField: {\n    top: -16,\n  },\n};\n\nexport default class ThemableGroupRow extends React.Component<Props, {||}> {\n  _renderGroupMenu(group) {\n    return (\n      <IconMenu\n        ref={iconMenu => (this._iconMenu = iconMenu)}\n        iconButtonElement={\n          <IconButton>\n            <MoreVertIcon />\n          </IconButton>\n        }\n        buildMenuTemplate={() => [\n          {\n            label: 'Edit group',\n            click: () => this.props.onEdit(group),\n          },\n          {\n            label: 'Rename',\n            enabled: !!this.props.onEdit,\n            click: () => this.props.onEditName(),\n          },\n          {\n            label: 'Delete',\n            enabled: !!this.props.onEdit,\n            click: () => this.props.onDelete(),\n          },\n        ]}\n      />\n    );\n  }\n\n  componentDidUpdate(prevProps) {\n    if (!prevProps.editingName && this.props.editingName) {\n      setTimeout(() => {\n        if (this.textField) this.textField.focus();\n      }, 100);\n    }\n  }\n\n  _onContextMenu = event => {\n    if (this._iconMenu) this._iconMenu.open(event);\n  };\n\n  render() {\n    const { group, style, isGlobalGroup } = this.props;\n\n    const groupName = group.getName();\n    const label = this.props.editingName ? (\n      <TextField\n        id=\"rename-object-field\"\n        ref={textField => (this.textField = textField)}\n        defaultValue={groupName}\n        onBlur={e => this.props.onRename(e.target.value)}\n        onKeyPress={event => {\n          if (event.charCode === 13) {\n            // enter key pressed\n            this.textField.blur();\n          }\n        }}\n        fullWidth\n        style={styles.textField}\n      />\n    ) : (\n      <div\n        style={{\n          ...styles.groupName,\n          fontStyle: isGlobalGroup ? 'italic' : undefined,\n        }}\n      >\n        {groupName}\n      </div>\n    );\n\n    return (\n      <ThemeConsumer>\n        {muiTheme => (\n          <ListItem\n            style={{\n              borderBottom: `1px solid ${muiTheme.listItem.separatorColor}`,\n              ...style,\n            }}\n            onContextMenu={this._onContextMenu}\n            primaryText={label}\n            rightIconButton={this._renderGroupMenu(group)}\n            onClick={() => {\n              this.props.onEdit(group);\n            }}\n          />\n        )}\n      </ThemeConsumer>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport React, { Component } from 'react';\nimport { AutoSizer, List } from 'react-virtualized';\nimport Background from '../UI/Background';\nimport SearchBar from 'material-ui-search-bar';\nimport GroupRow from './GroupRow';\nimport { ListItem } from 'material-ui/List';\nimport newNameGenerator from '../Utils/NewNameGenerator';\nimport { showWarningBox } from '../UI/Messages/MessageBox';\nimport { makeAddItem } from '../UI/ListCommonItem';\nimport { SortableContainer, SortableElement } from 'react-sortable-hoc';\nimport {\n  filterGroupsList,\n  enumerateGroups,\n} from '../ObjectsList/EnumerateObjects';\nimport type {\n  GroupWithContextList,\n  GroupWithContext,\n} from '../ObjectsList/EnumerateObjects';\n\nconst listItemHeight = 48;\nconst styles = {\n  listContainer: {\n    flex: 1,\n  },\n};\n\nconst AddGroupRow = makeAddItem(ListItem);\n\nconst SortableGroupRow = SortableElement(props => {\n  const { style, ...otherProps } = props;\n  return (\n    <div style={style}>\n      <GroupRow {...otherProps} />\n    </div>\n  );\n});\n\nconst SortableAddGroupRow = SortableElement(props => {\n  return <AddGroupRow {...props} />;\n});\n\nclass GroupsList extends Component<*, *> {\n  list: ?List;\n\n  forceUpdateGrid() {\n    if (this.list) this.list.forceUpdateGrid();\n  }\n\n  render() {\n    const { height, width, fullList } = this.props;\n\n    return (\n      <List\n        ref={list => (this.list = list)}\n        height={height}\n        rowCount={fullList.length}\n        rowHeight={listItemHeight}\n        rowRenderer={({ index, key, style }) => {\n          const groupWithContext = fullList[index];\n          if (groupWithContext.key === 'add-groups-row') {\n            return (\n              <SortableAddGroupRow\n                index={fullList.length}\n                key={key}\n                style={style}\n                disabled\n                onClick={this.props.onAddGroup}\n                primaryText={<Trans>Click to add a group</Trans>}\n              />\n            );\n          }\n\n          const nameBeingEdited =\n            this.props.renamedGroupWithScope &&\n            this.props.renamedGroupWithScope.group === groupWithContext.group &&\n            this.props.renamedGroupWithScope.global === groupWithContext.global;\n\n          return (\n            <SortableGroupRow\n              index={index}\n              key={groupWithContext.group.ptr}\n              group={groupWithContext.group}\n              style={style}\n              onEdit={\n                this.props.onEditGroup\n                  ? () => this.props.onEditGroup(groupWithContext.group)\n                  : undefined\n              }\n              onEditName={() => this.props.onEditName(groupWithContext)}\n              onDelete={() => this.props.onDelete(groupWithContext)}\n              onRename={newName =>\n                this.props.onRename(groupWithContext, newName)\n              }\n              editingName={nameBeingEdited}\n              isGlobalGroup={groupWithContext.global}\n            />\n          );\n        }}\n        width={width}\n      />\n    );\n  }\n}\n\nconst SortableGroupsList = SortableContainer(GroupsList, { withRef: true });\n\ntype State = {|\n  renamedGroupWithScope: ?GroupWithContext,\n  searchText: string,\n|};\n\ntype Props = {|\n  globalObjectGroups: gdObjectGroupsContainer,\n  objectGroups: gdObjectGroupsContainer,\n  onDeleteGroup: (groupWithContext: GroupWithContext, cb: Function) => void,\n  onEditGroup: gdObjectGroup => void,\n  onRenameGroup: (\n    groupWithContext: GroupWithContext,\n    newName: string,\n    cb: Function\n  ) => void,\n  onGroupAdded?: () => void,\n  onGroupRemoved?: () => void,\n  onGroupRenamed?: () => void,\n|};\n\nexport default class GroupsListContainer extends React.Component<Props, State> {\n  static defaultProps = {\n    onDeleteGroup: (groupWithContext: GroupWithContext, cb: Function) =>\n      cb(true),\n    onRenameGroup: (\n      groupWithContext: GroupWithContext,\n      newName: string,\n      cb: Function\n    ) => cb(true),\n  };\n\n  sortableList: any;\n  objectGroupsList: GroupWithContextList = [];\n  globalObjectGroupsList: GroupWithContextList = [];\n  state: State = {\n    renamedGroupWithScope: null,\n    searchText: '',\n  };\n\n  shouldComponentUpdate(nextProps: Props, nextState: State) {\n    // The component is costly to render, so avoid any re-rendering as much\n    // as possible.\n    // We make the assumption that no changes to groups list is made outside\n    // from the component.\n    // If a change is made, the component won't notice it: you have to manually\n    // call forceUpdate.\n\n    if (\n      this.state.renamedGroupWithScope !== nextState.renamedGroupWithScope ||\n      this.state.searchText !== nextState.searchText\n    )\n      return true;\n\n    if (\n      this.props.globalObjectGroups !== nextProps.globalObjectGroups ||\n      this.props.objectGroups !== nextProps.objectGroups\n    ) {\n      return true;\n    }\n\n    return false;\n  }\n\n  addGroup = () => {\n    const { globalObjectGroups, objectGroups } = this.props;\n\n    const name = newNameGenerator(\n      'Group',\n      name => objectGroups.has(name) || globalObjectGroups.has(name)\n    );\n\n    objectGroups.insertNew(name, objectGroups.count());\n    this.forceUpdate();\n\n    if (this.props.onGroupAdded) {\n      this.props.onGroupAdded();\n    }\n  };\n\n  _onDelete = (groupWithContext: GroupWithContext) => {\n    const { group, global } = groupWithContext;\n    const { globalObjectGroups, objectGroups } = this.props;\n\n    //eslint-disable-next-line\n    const answer = confirm(\n      \"Are you sure you want to remove this group? This can't be undone.\"\n    );\n    if (!answer) return;\n\n    this.props.onDeleteGroup(groupWithContext, doRemove => {\n      if (!doRemove) return;\n\n      if (global) {\n        globalObjectGroups.remove(group.getName());\n      } else {\n        objectGroups.remove(group.getName());\n      }\n\n      this.forceUpdate();\n      if (this.props.onGroupRemoved) {\n        this.props.onGroupRemoved();\n      }\n    });\n  };\n\n  _onEditName = (groupWithContext: GroupWithContext) => {\n    this.setState(\n      {\n        renamedGroupWithScope: groupWithContext,\n      },\n      () => this.sortableList.getWrappedInstance().forceUpdateGrid()\n    );\n  };\n\n  _onRename = (groupWithContext: GroupWithContext, newName: string) => {\n    const { group } = groupWithContext;\n    const { globalObjectGroups, objectGroups } = this.props;\n\n    this.setState({\n      renamedGroupWithScope: null,\n    });\n\n    if (group.getName() === newName) return;\n\n    if (objectGroups.has(newName) || globalObjectGroups.has(newName)) {\n      showWarningBox('Another object with this name already exists');\n      return;\n    }\n\n    this.props.onRenameGroup(groupWithContext, newName, doRename => {\n      if (!doRename) return;\n\n      group.setName(newName);\n\n      this.forceUpdate();\n      if (this.props.onGroupRenamed) {\n        this.props.onGroupRenamed();\n      }\n    });\n  };\n\n  _onMove = (oldIndex: number, newIndex: number) => {\n    const { globalObjectGroups, objectGroups } = this.props;\n\n    const isInGroupsList = oldIndex < this.objectGroupsList.length;\n    if (isInGroupsList) {\n      objectGroups.move(\n        oldIndex,\n        Math.min(newIndex, this.objectGroupsList.length - 1)\n      );\n    } else {\n      const globalObjectGroupsOldIndex =\n        oldIndex - this.objectGroupsList.length;\n      const globalObjectGroupsNewIndex =\n        newIndex - this.objectGroupsList.length;\n\n      globalObjectGroups.move(\n        globalObjectGroupsOldIndex,\n        Math.min(\n          globalObjectGroupsNewIndex,\n          this.globalObjectGroupsList.length - 1\n        )\n      );\n    }\n\n    this.forceUpdate();\n    this.sortableList.getWrappedInstance().forceUpdateGrid();\n  };\n\n  render() {\n    const { globalObjectGroups, objectGroups } = this.props;\n    const { searchText } = this.state;\n\n    const objectGroupsList: GroupWithContextList = enumerateGroups(\n      objectGroups\n    ).map(group => ({ group, global: false }));\n    const globalObjectGroupsList: GroupWithContextList = enumerateGroups(\n      globalObjectGroups\n    ).map(group => ({ group, global: true }));\n    this.objectGroupsList = filterGroupsList(objectGroupsList, searchText);\n    this.globalObjectGroupsList = filterGroupsList(\n      globalObjectGroupsList,\n      searchText\n    );\n    const allGroupsList = filterGroupsList(\n      [...objectGroupsList, ...globalObjectGroupsList],\n      searchText\n    );\n    const fullList = allGroupsList.concat({\n      key: 'add-groups-row',\n      object: null,\n    });\n\n    // Force List component to be mounted again if globalObjectGroups or objectGroups\n    // has been changed. Avoid accessing to invalid objects that could\n    // crash the app.\n    const listKey = objectGroups.ptr + ';' + globalObjectGroups.ptr;\n\n    return (\n      <Background>\n        <div style={styles.listContainer}>\n          <AutoSizer>\n            {({ height, width }) => (\n              <SortableGroupsList\n                key={listKey}\n                ref={sortableList => (this.sortableList = sortableList)}\n                fullList={fullList}\n                width={width}\n                height={height}\n                renamedGroupWithScope={this.state.renamedGroupWithScope}\n                onEditGroup={this.props.onEditGroup}\n                onAddGroup={this.addGroup}\n                onEditName={this._onEditName}\n                onDelete={this._onDelete}\n                onRename={this._onRename}\n                onSortEnd={({ oldIndex, newIndex }) =>\n                  this._onMove(oldIndex, newIndex)\n                }\n                helperClass=\"sortable-helper\"\n                distance={20}\n              />\n            )}\n          </AutoSizer>\n        </div>\n        <SearchBar\n          value={searchText}\n          onRequestSearch={() => {}}\n          onChange={text =>\n            this.setState({\n              searchText: text,\n            })\n          }\n        />\n      </Background>\n    );\n  }\n}\n","import { Trans } from '@lingui/macro';\nimport React, { PureComponent } from 'react';\nimport { Column, Line } from '../UI/Grid';\nimport { sendTutorialOpened } from '../Utils/Analytics/EventSender';\nimport Window from '../Utils/Window';\nimport { getHelpLink } from '../Utils/HelpLink';\nimport { List, ListItem } from 'material-ui/List';\nimport { Subheader } from 'material-ui';\n\nexport default class Tutorials extends PureComponent {\n  render() {\n    return (\n      <Column noMargin>\n        <Line>\n          <Column>\n            <p>\n              <Trans>\n                Tutorials are available on GDevelop wiki. Choose a tutorial to\n                read:\n              </Trans>\n            </p>\n          </Column>\n        </Line>\n        <Line>\n          <Column expand noMargin>\n            <List>\n              <ListItem\n                primaryText={<Trans>Platformer Tutorial</Trans>}\n                secondaryText={\n                  <p>\n                    <Trans>Make a platform game from scratch.</Trans>\n                  </p>\n                }\n                onClick={() => {\n                  sendTutorialOpened('Platformer');\n                  Window.openExternalURL(\n                    getHelpLink('/tutorials/platform-game/start')\n                  );\n                }}\n              />\n              <ListItem\n                primaryText={<Trans>Tank Shooter Tutorial</Trans>}\n                secondaryText={\n                  <p>\n                    <Trans>Make a simple tank shooter game from scratch.</Trans>\n                  </p>\n                }\n                onClick={() => {\n                  sendTutorialOpened('Tank Shooter');\n                  Window.openExternalURL(\n                    getHelpLink('/tutorials/tank-shooter')\n                  );\n                }}\n              />\n              <Subheader>\n                <Trans>Community Tutorials</Trans>\n              </Subheader>\n              <ListItem\n                primaryText={<Trans>Endless Runner Tutorial</Trans>}\n                secondaryText={\n                  <p>\n                    <Trans>\n                      Make a simple game where the player must jump on platforms\n                      for as long as possible.\n                    </Trans>\n                  </p>\n                }\n                secondaryTextLines={2}\n                onClick={() => {\n                  sendTutorialOpened('Endless Runner');\n                  Window.openExternalURL(\n                    getHelpLink('/tutorials/endless-runner')\n                  );\n                }}\n              />\n              <ListItem\n                primaryText={<Trans>Endless Car Game Tutorial</Trans>}\n                secondaryText={\n                  <p>\n                    <Trans>\n                      Create a simple game where you must dodge the cars on the\n                      road.\n                    </Trans>\n                  </p>\n                }\n                secondaryTextLines={2}\n                onClick={() => {\n                  sendTutorialOpened('Endless Car Game');\n                  Window.openExternalURL(getHelpLink('/tutorials/roadrider'));\n                }}\n              />\n            </List>\n          </Column>\n        </Line>\n      </Column>\n    );\n  }\n}\n","// @flow\nimport { Trans } from '@lingui/macro';\n\nimport * as React from 'react';\nimport Dialog from '../UI/Dialog';\nimport FlatButton from 'material-ui/FlatButton';\nimport { Tabs, Tab } from 'material-ui/Tabs';\nimport Tutorials from './Tutorials';\n\ntype State = {|\n  currentTab: 'starters' | 'examples' | 'tutorials',\n|};\n\ntype Props = {|\n  startersComponent: any,\n  examplesComponent: any,\n  open?: boolean,\n  onClose?: () => void,\n  onOpen?: (path: string) => void,\n  onCreate?: (project: gdProject) => void,\n|};\n\nexport default class CreateProjectDialog extends React.Component<Props, State> {\n  state = {\n    currentTab: 'starters',\n  };\n\n  _onChangeTab = (newTab: 'starters' | 'examples' | 'tutorials') => {\n    this.setState({\n      currentTab: newTab,\n    });\n  };\n\n  _showExamples = () => this._onChangeTab('examples');\n\n  _onExamplesLoaded = () => {\n    // Force an update to ensure dialog is properly positioned.\n    this.forceUpdate();\n  };\n\n  render() {\n    const { open, onClose, onOpen, onCreate } = this.props;\n    if (!open) return null;\n\n    const ExamplesComponent = this.props.examplesComponent;\n    const StartersComponent = this.props.startersComponent;\n\n    return (\n      <Dialog\n        title={<Trans>Create a new game</Trans>}\n        actions={[\n          <FlatButton\n            label={<Trans>Close</Trans>}\n            primary={false}\n            onClick={onClose}\n          />,\n        ]}\n        onRequestClose={onClose}\n        open={open}\n        noMargin\n        autoScrollBodyContent\n      >\n        <Tabs value={this.state.currentTab} onChange={this._onChangeTab}>\n          <Tab label={<Trans>Starters</Trans>} value=\"starters\">\n            <StartersComponent\n              onOpen={onOpen}\n              onCreate={onCreate}\n              onShowExamples={this._showExamples}\n            />\n          </Tab>\n          <Tab label={<Trans>Examples</Trans>} value=\"examples\">\n            <ExamplesComponent\n              onOpen={onOpen}\n              onCreate={onCreate}\n              onExamplesLoaded={this._onExamplesLoaded}\n            />\n          </Tab>\n          <Tab label={<Trans>Tutorials</Trans>} value=\"tutorials\">\n            <Tutorials />\n          </Tab>\n        </Tabs>\n      </Dialog>\n    );\n  }\n}\n"],"sourceRoot":""}